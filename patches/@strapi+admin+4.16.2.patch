diff --git a/node_modules/@strapi/admin/dist/_chunks/AuthenticatedApp-342bf22f.js b/node_modules/@strapi/admin/dist/_chunks/AuthenticatedApp-342bf22f.js
index 701efea..fb372c5 100644
--- a/node_modules/@strapi/admin/dist/_chunks/AuthenticatedApp-342bf22f.js
+++ b/node_modules/@strapi/admin/dist/_chunks/AuthenticatedApp-342bf22f.js
@@ -48,7 +48,7 @@ const styled__default = /* @__PURE__ */ _interopDefault(styled);
 const cloneDeep__default = /* @__PURE__ */ _interopDefault(cloneDeep);
 const name = "@strapi/admin";
 const version = "4.16.2";
-const description = "Strapi Admin";
+const description = "MotorsEra OnBoarding";
 const repository = {
   type: "git",
   url: "git://github.com/strapi/strapi.git"
@@ -740,7 +740,7 @@ const LeftMenu = ({ generalSectionLinks, pluginsSectionLinks }) => {
   };
   const menuTitle = formatMessage({
     id: "app.components.LeftMenu.navbrand.title",
-    defaultMessage: "Strapi Dashboard"
+    defaultMessage: "MotorsEra Dashboard"
   });
   return /* @__PURE__ */ jsxRuntime.jsxs(v2.MainNav, { condensed, children: [
     /* @__PURE__ */ jsxRuntime.jsx(
diff --git a/node_modules/@strapi/admin/dist/_chunks/AuthenticatedApp-342bf22f.js.map b/node_modules/@strapi/admin/dist/_chunks/AuthenticatedApp-342bf22f.js.map
index b99363a..1114f5a 100644
--- a/node_modules/@strapi/admin/dist/_chunks/AuthenticatedApp-342bf22f.js.map
+++ b/node_modules/@strapi/admin/dist/_chunks/AuthenticatedApp-342bf22f.js.map
@@ -1 +1 @@
-{"version":3,"file":"AuthenticatedApp-342bf22f.js","sources":["../../admin/src/utils/getFullName.ts","../../admin/src/utils/hashAdminUserEmail.ts","../../admin/src/components/GuidedTour/constants.ts","../../admin/src/components/GuidedTour/Ornaments.tsx","../../admin/src/components/GuidedTour/Modal.tsx","../../admin/src/components/LeftMenu.tsx","../../admin/src/assets/images/onboarding-preview.png","../../admin/src/components/Onboarding.tsx","../../admin/src/selectors.ts","../../admin/src/hooks/useMenu.ts","../../admin/src/layouts/AppLayout.tsx","../../admin/src/pages/Admin.tsx","../../admin/src/components/PluginsInitializer.tsx","../../admin/src/components/AuthenticatedApp.tsx"],"sourcesContent":["export function getFullName(firstname: string, lastname: string | null = '') {\n  return [firstname, lastname].filter((str) => str).join(' ');\n}\n","import { UserInfo } from '@strapi/helper-plugin';\n\nexport const utils = {\n  bufferToHex(buffer: ArrayBuffer) {\n    return [...new Uint8Array(buffer)].map((b) => b.toString(16).padStart(2, '0')).join('');\n  },\n  async digestMessage(message: string) {\n    const msgUint8 = new TextEncoder().encode(message);\n    const hashBuffer = await crypto.subtle.digest('SHA-256', msgUint8);\n\n    return this.bufferToHex(hashBuffer);\n  },\n};\n\nexport async function hashAdminUserEmail(payload?: UserInfo) {\n  if (!payload) {\n    return null;\n  }\n\n  try {\n    return await utils.digestMessage(payload.email);\n  } catch (error) {\n    return null;\n  }\n}\n","const LAYOUT_DATA = {\n  contentTypeBuilder: {\n    home: {\n      title: {\n        id: 'app.components.GuidedTour.home.CTB.title',\n        defaultMessage: 'üß† Build the content structure',\n      },\n      cta: {\n        title: {\n          id: 'app.components.GuidedTour.home.CTB.cta.title',\n          defaultMessage: 'Go to the Content type Builder',\n        },\n        type: 'REDIRECT',\n        target: '/plugins/content-type-builder',\n      },\n      trackingEvent: 'didClickGuidedTourHomepageContentTypeBuilder',\n    },\n    create: {\n      title: {\n        id: 'app.components.GuidedTour.CTB.create.title',\n        defaultMessage: 'üß† Create a first Collection type',\n      },\n      content: {\n        id: 'app.components.GuidedTour.CTB.create.content',\n        defaultMessage:\n          '<p>Collection types help you manage several entries, Single types are suitable to manage only one entry.</p> <p>Ex: For a Blog website, Articles would be a Collection type whereas a Homepage would be a Single type.</p>',\n      },\n      cta: {\n        title: {\n          id: 'app.components.GuidedTour.CTB.create.cta.title',\n          defaultMessage: 'Build a Collection type',\n        },\n        type: 'CLOSE',\n      },\n      trackingEvent: 'didClickGuidedTourStep1CollectionType',\n    },\n    success: {\n      title: {\n        id: 'app.components.GuidedTour.CTB.success.title',\n        defaultMessage: 'Step 1: Completed ‚úÖ',\n      },\n      content: {\n        id: 'app.components.GuidedTour.CTB.success.content',\n        defaultMessage: '<p>Good going!</p><b>‚ö°Ô∏è What would you like to share with the world?</b>',\n      },\n      cta: {\n        title: {\n          id: 'app.components.GuidedTour.create-content',\n          defaultMessage: 'Create content',\n        },\n        type: 'REDIRECT',\n        target: '/content-manager',\n      },\n      trackingEvent: 'didCreateGuidedTourCollectionType',\n    },\n  },\n  contentManager: {\n    home: {\n      title: {\n        id: 'app.components.GuidedTour.home.CM.title',\n        defaultMessage: '‚ö°Ô∏è What would you like to share with the world?',\n      },\n      cta: {\n        title: {\n          id: 'app.components.GuidedTour.create-content',\n          defaultMessage: 'Create content',\n        },\n        type: 'REDIRECT',\n        target: '/content-manager',\n      },\n      trackingEvent: 'didClickGuidedTourHomepageContentManager',\n    },\n    create: {\n      title: {\n        id: 'app.components.GuidedTour.CM.create.title',\n        defaultMessage: '‚ö°Ô∏è Create content',\n      },\n      content: {\n        id: 'app.components.GuidedTour.CM.create.content',\n        defaultMessage:\n          \"<p>Create and manage all the content here in the Content Manager.</p><p>Ex: Taking the Blog website example further, one can write an Article, save and publish it as they like.</p><p>üí° Quick tip - Don't forget to hit publish on the content you create.</p>\",\n      },\n      cta: {\n        title: {\n          id: 'app.components.GuidedTour.create-content',\n          defaultMessage: 'Create content',\n        },\n        type: 'CLOSE',\n      },\n      trackingEvent: 'didClickGuidedTourStep2ContentManager',\n    },\n    success: {\n      title: {\n        id: 'app.components.GuidedTour.CM.success.title',\n        defaultMessage: 'Step 2: Completed ‚úÖ',\n      },\n      content: {\n        id: 'app.components.GuidedTour.CM.success.content',\n        defaultMessage: '<p>Awesome, one last step to go!</p><b>üöÄ  See content in action</b>',\n      },\n      cta: {\n        title: {\n          id: 'app.components.GuidedTour.CM.success.cta.title',\n          defaultMessage: 'Test the API',\n        },\n        type: 'REDIRECT',\n        target: '/settings/api-tokens',\n      },\n      trackingEvent: 'didCreateGuidedTourEntry',\n    },\n  },\n  apiTokens: {\n    home: {\n      title: {\n        id: 'app.components.GuidedTour.apiTokens.create.title',\n        defaultMessage: 'üöÄ See content in action',\n      },\n      cta: {\n        title: {\n          id: 'app.components.GuidedTour.home.apiTokens.cta.title',\n          defaultMessage: 'Test the API',\n        },\n        type: 'REDIRECT',\n        target: '/settings/api-tokens',\n      },\n      trackingEvent: 'didClickGuidedTourHomepageApiTokens',\n    },\n    create: {\n      title: {\n        id: 'app.components.GuidedTour.apiTokens.create.title',\n        defaultMessage: 'üöÄ See content in action',\n      },\n      content: {\n        id: 'app.components.GuidedTour.apiTokens.create.content',\n        defaultMessage:\n          '<p>Generate an authentication token here and retrieve the content you just created.</p>',\n      },\n      cta: {\n        title: {\n          id: 'app.components.GuidedTour.apiTokens.create.cta.title',\n          defaultMessage: 'Generate an API Token',\n        },\n        type: 'CLOSE',\n      },\n      trackingEvent: 'didClickGuidedTourStep3ApiTokens',\n    },\n    success: {\n      title: {\n        id: 'app.components.GuidedTour.apiTokens.success.title',\n        defaultMessage: 'Step 3: Completed ‚úÖ',\n      },\n      content: {\n        id: 'app.components.GuidedTour.apiTokens.success.content',\n        defaultMessage:\n          \"<p>See content in action by making an HTTP request:</p><ul><li><p>To this URL: <light>https://'<'YOUR_DOMAIN'>'/api/'<'YOUR_CT'>'</light></p></li><li><p>With the header: <light>Authorization: bearer '<'YOUR_API_TOKEN'>'</light></p></li></ul><p>For more ways to interact with content, see the <documentationLink>documentation</documentationLink>.</p>\",\n      },\n      trackingEvent: 'didGenerateGuidedTourApiTokens',\n    },\n  },\n} as const;\n\nconst STATES = {\n  IS_DONE: 'IS_DONE',\n  IS_ACTIVE: 'IS_ACTIVE',\n  IS_NOT_DONE: 'IS_NOT_DONE',\n} as const;\n\ntype LayoutData = typeof LAYOUT_DATA;\ntype States = keyof typeof STATES;\n\nexport { LAYOUT_DATA, STATES };\nexport type { LayoutData, States };\n","import { Box, BoxProps, Flex, FlexProps, Typography } from '@strapi/design-system';\nimport { pxToRem } from '@strapi/helper-plugin';\nimport { Check } from '@strapi/icons';\n\nimport { STATES, States } from './constants';\n\n/* -------------------------------------------------------------------------------------------------\n * Number\n * -----------------------------------------------------------------------------------------------*/\n\ninterface NumberProps extends FlexProps {\n  children: number;\n  state: States;\n}\n\nconst Number = ({ children, state, ...props }: NumberProps) => {\n  return state === STATES.IS_DONE || state === STATES.IS_ACTIVE ? (\n    <Flex\n      background=\"primary600\"\n      padding={2}\n      borderRadius=\"50%\"\n      width={pxToRem(30)}\n      height={pxToRem(30)}\n      justifyContent=\"center\"\n      {...props}\n    >\n      {state === STATES.IS_DONE ? (\n        <Check aria-hidden width={pxToRem(16)} color=\"neutral0\" />\n      ) : (\n        <Typography fontWeight=\"semiBold\" textColor=\"neutral0\">\n          {children}\n        </Typography>\n      )}\n    </Flex>\n  ) : (\n    <Flex\n      borderColor=\"neutral500\"\n      borderWidth=\"1px\"\n      borderStyle=\"solid\"\n      padding={2}\n      borderRadius=\"50%\"\n      width={pxToRem(30)}\n      height={pxToRem(30)}\n      justifyContent=\"center\"\n      {...props}\n    >\n      <Typography fontWeight=\"semiBold\" textColor=\"neutral600\">\n        {children}\n      </Typography>\n    </Flex>\n  );\n};\n\n/* -------------------------------------------------------------------------------------------------\n * VerticalDivider\n * -----------------------------------------------------------------------------------------------*/\n\ninterface VerticalDividerProps extends BoxProps {\n  state: States;\n}\n\nconst VerticalDivider = ({ state, ...props }: VerticalDividerProps) => (\n  <Box\n    width={pxToRem(2)}\n    height=\"100%\"\n    background={state === STATES.IS_NOT_DONE ? 'neutral300' : 'primary500'}\n    hasRadius\n    minHeight={state === STATES.IS_ACTIVE ? pxToRem(85) : pxToRem(65)}\n    {...props}\n  />\n);\n\nexport { Number, VerticalDivider };\nexport type { NumberProps, VerticalDividerProps };\n","import * as React from 'react';\n\nimport {\n  Box,\n  Button,\n  Flex,\n  FocusTrap,\n  IconButton,\n  Portal,\n  Typography,\n} from '@strapi/design-system';\nimport { LinkButton } from '@strapi/design-system/v2';\nimport { GuidedTourContextValue, pxToRem, useGuidedTour, useTracking } from '@strapi/helper-plugin';\nimport { ArrowRight, Cross } from '@strapi/icons';\nimport get from 'lodash/get';\nimport { MessageDescriptor, useIntl } from 'react-intl';\nimport { NavLink } from 'react-router-dom';\nimport styled from 'styled-components';\n\nimport { LAYOUT_DATA, STATES } from './constants';\nimport { Number, VerticalDivider } from './Ornaments';\n\n/* -------------------------------------------------------------------------------------------------\n * GuidedTourModal\n * -----------------------------------------------------------------------------------------------*/\n\nconst GuidedTourModal = () => {\n  const {\n    currentStep,\n    guidedTourState,\n    setCurrentStep,\n    setStepState,\n    isGuidedTourVisible,\n    setSkipped,\n  } = useGuidedTour();\n  const { formatMessage } = useIntl();\n  const { trackUsage } = useTracking();\n\n  if (!currentStep || !isGuidedTourVisible) {\n    return null;\n  }\n\n  const stepData = get(LAYOUT_DATA, currentStep);\n  const sectionKeys = Object.keys(guidedTourState);\n  const [sectionName, stepName] = currentStep.split('.') as [\n    keyof GuidedTourContextValue['guidedTourState'],\n    string\n  ];\n  const sectionIndex = sectionKeys.indexOf(sectionName);\n  const stepIndex = Object.keys(guidedTourState[sectionName]).indexOf(stepName);\n  const hasSectionAfter = sectionIndex < sectionKeys.length - 1;\n  const hasStepAfter = stepIndex < Object.keys(guidedTourState[sectionName]).length - 1;\n\n  const handleCtaClick = () => {\n    setStepState(currentStep, true);\n    trackUsage(stepData.trackingEvent);\n\n    setCurrentStep(null);\n  };\n\n  const handleSkip = () => {\n    setSkipped(true);\n    setCurrentStep(null);\n    trackUsage('didSkipGuidedtour');\n  };\n\n  return (\n    <Portal>\n      <ModalWrapper onClick={handleCtaClick} padding={8} justifyContent=\"center\">\n        <FocusTrap onEscape={handleCtaClick}>\n          <Flex\n            direction=\"column\"\n            alignItems=\"stretch\"\n            background=\"neutral0\"\n            width={pxToRem(660)}\n            shadow=\"popupShadow\"\n            hasRadius\n            padding={4}\n            gap={8}\n            role=\"dialog\"\n            aria-modal\n            onClick={(e) => e.stopPropagation()}\n          >\n            <Flex justifyContent=\"flex-end\">\n              <IconButton\n                onClick={handleCtaClick}\n                aria-label={formatMessage({\n                  id: 'app.utils.close-label',\n                  defaultMessage: 'Close',\n                })}\n              >\n                <Cross />\n              </IconButton>\n            </Flex>\n            <Box\n              paddingLeft={7}\n              paddingRight={7}\n              paddingBottom={!hasStepAfter && !hasSectionAfter ? 8 : 0}\n            >\n              <GuidedTourStepper\n                title={stepData.title}\n                cta={'cta' in stepData ? stepData.cta : undefined}\n                onCtaClick={handleCtaClick}\n                sectionIndex={sectionIndex}\n                stepIndex={stepIndex}\n                hasSectionAfter={hasSectionAfter}\n              >\n                <GuidedTourContent {...stepData.content} />\n              </GuidedTourStepper>\n            </Box>\n            {!(!hasStepAfter && !hasSectionAfter) && (\n              <Flex justifyContent=\"flex-end\">\n                <Button variant=\"tertiary\" onClick={handleSkip}>\n                  {formatMessage({\n                    id: 'app.components.GuidedTour.skip',\n                    defaultMessage: 'Skip the tour',\n                  })}\n                </Button>\n              </Flex>\n            )}\n          </Flex>\n        </FocusTrap>\n      </ModalWrapper>\n    </Portal>\n  );\n};\n\nconst ModalWrapper = styled(Flex)`\n  position: fixed;\n  z-index: 4;\n  inset: 0;\n  /* this is theme.colors.neutral800 with opacity */\n  background: ${({ theme }) => `${theme.colors.neutral800}1F`};\n`;\n\n/* -------------------------------------------------------------------------------------------------\n * GuidedTourStepper\n * -----------------------------------------------------------------------------------------------*/\n\ninterface GuidedTourStepperProps {\n  title: MessageDescriptor;\n  children: React.ReactNode;\n  cta?: {\n    title: MessageDescriptor;\n    target?: string;\n  };\n  onCtaClick: () => void;\n  sectionIndex: number;\n  stepIndex: number;\n  hasSectionAfter: boolean;\n}\n\nconst GuidedTourStepper = ({\n  title,\n  children,\n  cta,\n  onCtaClick,\n  sectionIndex,\n  stepIndex,\n  hasSectionAfter,\n}: GuidedTourStepperProps) => {\n  const { formatMessage } = useIntl();\n\n  const hasSectionBefore = sectionIndex > 0;\n  const hasStepsBefore = stepIndex > 0;\n  const nextSectionIndex = sectionIndex + 1;\n\n  return (\n    <>\n      <Flex alignItems=\"stretch\">\n        <Flex marginRight={8} justifyContent=\"center\" minWidth={pxToRem(30)}>\n          {hasSectionBefore && <VerticalDivider state={STATES.IS_DONE} minHeight={pxToRem(24)} />}\n        </Flex>\n        <Typography variant=\"sigma\" textColor=\"primary600\">\n          {formatMessage({\n            id: 'app.components.GuidedTour.title',\n            defaultMessage: '3 steps to get started',\n          })}\n        </Typography>\n      </Flex>\n      <Flex>\n        <Flex marginRight={8} minWidth={pxToRem(30)}>\n          <Number\n            state={hasStepsBefore ? STATES.IS_DONE : STATES.IS_ACTIVE}\n            paddingTop={3}\n            paddingBottom={3}\n          >\n            {sectionIndex + 1}\n          </Number>\n        </Flex>\n        <Typography variant=\"alpha\" fontWeight=\"bold\" textColor=\"neutral800\" as=\"h3\" id=\"title\">\n          {formatMessage(title)}\n        </Typography>\n      </Flex>\n      <Flex alignItems=\"stretch\">\n        <Flex marginRight={8} direction=\"column\" justifyContent=\"center\" minWidth={pxToRem(30)}>\n          {hasSectionAfter && (\n            <>\n              <VerticalDivider state={STATES.IS_DONE} />\n              {hasStepsBefore && (\n                <Number state={STATES.IS_ACTIVE} paddingTop={3}>\n                  {nextSectionIndex + 1}\n                </Number>\n              )}\n            </>\n          )}\n        </Flex>\n        <Box>\n          {children}\n          {cta &&\n            (cta.target ? (\n              <LinkButton\n                as={NavLink}\n                endIcon={<ArrowRight />}\n                onClick={onCtaClick}\n                // @ts-expect-error - types are not inferred correctly through the as prop.\n                to={cta.target}\n              >\n                {formatMessage(cta.title)}\n              </LinkButton>\n            ) : (\n              <Button endIcon={<ArrowRight />} onClick={onCtaClick}>\n                {formatMessage(cta.title)}\n              </Button>\n            ))}\n        </Box>\n      </Flex>\n      {hasStepsBefore && hasSectionAfter && (\n        <Box paddingTop={3}>\n          <Flex marginRight={8} justifyContent=\"center\" width={pxToRem(30)}>\n            <VerticalDivider state={STATES.IS_DONE} minHeight={pxToRem(24)} />\n          </Flex>\n        </Box>\n      )}\n    </>\n  );\n};\n\n/* -------------------------------------------------------------------------------------------------\n * GuidedTourContent\n * -----------------------------------------------------------------------------------------------*/\n\ninterface GuidedTourContentProps\n  extends Required<Pick<MessageDescriptor, 'defaultMessage' | 'id'>> {}\n\nconst GuidedTourContent = ({ id, defaultMessage }: GuidedTourContentProps) => {\n  const { formatMessage } = useIntl();\n\n  return (\n    <Flex direction=\"column\" alignItems=\"stretch\" gap={4} paddingBottom={6}>\n      {formatMessage(\n        { id, defaultMessage },\n        {\n          documentationLink: DocumentationLink,\n          b: Bold,\n          p: Paragraph,\n          light: Light,\n          ul: List,\n          li: ListItem,\n        }\n      )}\n    </Flex>\n  );\n};\n\nconst DocumentationLink = (children: React.ReactNode) => (\n  <Typography\n    as=\"a\"\n    textColor=\"primary600\"\n    target=\"_blank\"\n    rel=\"noopener noreferrer\"\n    href=\"https://docs.strapi.io/developer-docs/latest/developer-resources/database-apis-reference/rest-api.html#api-parameters\"\n  >\n    {children}\n  </Typography>\n);\n\nconst Bold = (children: React.ReactNode) => (\n  <Typography fontWeight=\"semiBold\">{children}</Typography>\n);\n\nconst Paragraph = (children: React.ReactNode) => <Typography>{children}</Typography>;\n\nconst Light = (children: React.ReactNode) => (\n  <Typography textColor=\"neutral600\">{children}</Typography>\n);\n\nconst List = (children: React.ReactNode) => (\n  <Box paddingLeft={6}>\n    <ul>{children}</ul>\n  </Box>\n);\n\nconst LiStyled = styled.li`\n  list-style: disc;\n  &::marker {\n    color: ${({ theme }) => theme.colors.neutral800};\n  }\n`;\n\nconst ListItem = (children: React.ReactNode) => <LiStyled>{children}</LiStyled>;\n\nexport { GuidedTourModal };\n","import * as React from 'react';\n\nimport { Box, Divider, Flex, FocusTrap, Typography } from '@strapi/design-system';\nimport {\n  MainNav,\n  NavBrand,\n  NavCondense,\n  NavFooter,\n  NavLink,\n  NavSection,\n  NavSections,\n  NavUser,\n} from '@strapi/design-system/v2';\nimport {\n  auth,\n  getFetchClient,\n  useAppInfo,\n  usePersistentState,\n  useTracking,\n} from '@strapi/helper-plugin';\nimport { Exit, Write } from '@strapi/icons';\nimport { useIntl } from 'react-intl';\nimport { NavLink as RouterNavLink, useHistory, useLocation } from 'react-router-dom';\nimport styled from 'styled-components';\n\nimport { useConfiguration } from '../contexts/configuration';\nimport { Menu } from '../hooks/useMenu';\n\nconst LinkUserWrapper = styled(Box)`\n  width: ${150 / 16}rem;\n  position: absolute;\n  bottom: ${({ theme }) => theme.spaces[9]};\n  left: ${({ theme }) => theme.spaces[5]};\n`;\n\nconst LinkUser = styled(RouterNavLink)<{ logout?: boolean }>`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  text-decoration: none;\n  padding: ${({ theme }) => `${theme.spaces[2]} ${theme.spaces[4]}`};\n  border-radius: ${({ theme }) => theme.spaces[1]};\n\n  &:hover {\n    background: ${({ theme, logout }) =>\n      logout ? theme.colors.danger100 : theme.colors.primary100};\n    text-decoration: none;\n  }\n\n  svg {\n    path {\n      fill: ${({ theme }) => theme.colors.danger600};\n    }\n  }\n`;\n\ninterface LeftMenuProps extends Pick<Menu, 'generalSectionLinks' | 'pluginsSectionLinks'> {}\n\nconst LeftMenu = ({ generalSectionLinks, pluginsSectionLinks }: LeftMenuProps) => {\n  const navUserRef = React.useRef<HTMLDivElement>(null!);\n  const [userLinksVisible, setUserLinksVisible] = React.useState(false);\n  const {\n    logos: { menu },\n  } = useConfiguration();\n  const [condensed, setCondensed] = usePersistentState('navbar-condensed', false);\n  const { userDisplayName } = useAppInfo();\n  const { formatMessage } = useIntl();\n  const { trackUsage } = useTracking();\n  const { pathname } = useLocation();\n  const history = useHistory();\n  const { post } = getFetchClient();\n\n  const initials = userDisplayName\n    .split(' ')\n    .map((name) => name.substring(0, 1))\n    .join('')\n    .substring(0, 2);\n\n  const handleToggleUserLinks = () => setUserLinksVisible((prev) => !prev);\n\n  const handleLogout = async () => {\n    await post('/admin/logout');\n    auth.clearAppStorage();\n    handleToggleUserLinks();\n    history.push('/auth/login');\n  };\n\n  const handleBlur: React.FocusEventHandler = (e) => {\n    if (\n      !e.currentTarget.contains(e.relatedTarget) &&\n      /**\n       * TODO: can we replace this by just using the navUserRef?\n       */\n      e.relatedTarget?.parentElement?.id !== 'main-nav-user-button'\n    ) {\n      setUserLinksVisible(false);\n    }\n  };\n\n  const handleClickOnLink = (destination: string) => {\n    trackUsage('willNavigate', { from: pathname, to: destination });\n  };\n\n  const menuTitle = formatMessage({\n    id: 'app.components.LeftMenu.navbrand.title',\n    defaultMessage: 'Strapi Dashboard',\n  });\n\n  return (\n    <MainNav condensed={condensed}>\n      <NavBrand\n        as={RouterNavLink}\n        workplace={formatMessage({\n          id: 'app.components.LeftMenu.navbrand.workplace',\n          defaultMessage: 'Workplace',\n        })}\n        title={menuTitle}\n        icon={\n          <img\n            src={menu.custom || menu.default}\n            alt={formatMessage({\n              id: 'app.components.LeftMenu.logo.alt',\n              defaultMessage: 'Application logo',\n            })}\n          />\n        }\n      />\n\n      <Divider />\n\n      <NavSections>\n        <NavLink\n          as={RouterNavLink}\n          // @ts-expect-error the props from the passed as prop are not inferred // joined together\n          to=\"/content-manager\"\n          icon={<Write />}\n          onClick={() => handleClickOnLink('/content-manager')}\n        >\n          {formatMessage({ id: 'global.content-manager', defaultMessage: 'Content manager' })}\n        </NavLink>\n\n        {pluginsSectionLinks.length > 0 ? (\n          <NavSection\n            label={formatMessage({\n              id: 'app.components.LeftMenu.plugins',\n              defaultMessage: 'Plugins',\n            })}\n          >\n            {pluginsSectionLinks.map((link) => {\n              const Icon = link.icon;\n\n              return (\n                <NavLink\n                  as={RouterNavLink}\n                  // @ts-expect-error the props from the passed as prop are not inferred // joined together\n                  to={link.to}\n                  key={link.to}\n                  icon={<Icon />}\n                  onClick={() => handleClickOnLink(link.to)}\n                >\n                  {formatMessage(link.intlLabel)}\n                </NavLink>\n              );\n            })}\n          </NavSection>\n        ) : null}\n\n        {generalSectionLinks.length > 0 ? (\n          <NavSection\n            label={formatMessage({\n              id: 'app.components.LeftMenu.general',\n              defaultMessage: 'General',\n            })}\n          >\n            {generalSectionLinks.map((link) => {\n              const LinkIcon = link.icon;\n\n              return (\n                <NavLink\n                  as={RouterNavLink}\n                  badgeContent={\n                    link.notificationsCount && link.notificationsCount > 0\n                      ? link.notificationsCount.toString()\n                      : undefined\n                  }\n                  // @ts-expect-error the props from the passed as prop are not inferred // joined together\n                  to={link.to}\n                  key={link.to}\n                  icon={<LinkIcon />}\n                  onClick={() => handleClickOnLink(link.to)}\n                >\n                  {formatMessage(link.intlLabel)}\n                </NavLink>\n              );\n            })}\n          </NavSection>\n        ) : null}\n      </NavSections>\n\n      <NavFooter>\n        <NavUser\n          id=\"main-nav-user-button\"\n          ref={navUserRef}\n          onClick={handleToggleUserLinks}\n          initials={initials}\n        >\n          {userDisplayName}\n        </NavUser>\n        {userLinksVisible && (\n          <LinkUserWrapper\n            onBlur={handleBlur}\n            padding={1}\n            shadow=\"tableShadow\"\n            background=\"neutral0\"\n            hasRadius\n          >\n            <FocusTrap onEscape={handleToggleUserLinks}>\n              <Flex direction=\"column\" alignItems=\"stretch\" gap={0}>\n                <LinkUser tabIndex={0} onClick={handleToggleUserLinks} to=\"/me\">\n                  <Typography>\n                    {formatMessage({\n                      id: 'global.profile',\n                      defaultMessage: 'Profile',\n                    })}\n                  </Typography>\n                </LinkUser>\n                <LinkUser tabIndex={0} onClick={handleLogout} to=\"/auth/login\">\n                  <Typography textColor=\"danger600\">\n                    {formatMessage({\n                      id: 'app.components.LeftMenu.logout',\n                      defaultMessage: 'Logout',\n                    })}\n                  </Typography>\n                  <Exit />\n                </LinkUser>\n              </Flex>\n            </FocusTrap>\n          </LinkUserWrapper>\n        )}\n\n        <NavCondense onClick={() => setCondensed((s) => !s)}>\n          {condensed\n            ? formatMessage({\n                id: 'app.components.LeftMenu.expand',\n                defaultMessage: 'Expand the navbar',\n              })\n            : formatMessage({\n                id: 'app.components.LeftMenu.collapse',\n                defaultMessage: 'Collapse the navbar',\n              })}\n        </NavCondense>\n      </NavFooter>\n    </MainNav>\n  );\n};\n\nexport { LeftMenu };\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHAAAABQCAMAAAD2kgFPAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAJcEhZcwAAFiUAABYlAUlSJPAAAAL9UExURff3+fv7+/X19/Pz9/n5+fv7/f39//////39/UdwTPn5+/X1+fHx++/v8fn5/fHx8/Pz9eTk6e/v8/Hx9fHx/e3u7/X19e3t8evr7+fn6YuR96Gl+OLi59LS2dTU2uvr++nq7ff39+Tk697e4ufn6+vr7enq69ra3tDQ1uDg5/nv7+Dg5Nzc4Nzd4tTU2OTk5+fn7djY3tzc5M/Q1NjY3NLS1tbX3MzM0u/w9crK0unp7+np+/37+8rK0MjIzu/v78PEy9ra4djY4eLi6t7e5NbW2s7O1OLk5+/v/Ojp/dra5MPF9+3u89bX3mxz99DQ2fj4+OLi5PHx8dvb29ze+/f3/7C1+t7e5+vr69PX2OPk/Jydl/T09/f393R7+Gdw96ytuNTU3M7O2ODg6a6vumJq9+3u/dTW/PP19cXGzd7e4O3t7cnK+/f3+uLk683O+Z2h+dLU+9/h++no3/j39bq0pu/v7fv7+fHz9XF4911l93V8+bm5waGirffr7Kqrtq+z9qentF9o93mA+fj4+vr6++/v7/f3++vt+83N0/Pz8+vr8dbY+sjJ98zO1crM0vn5//Pz/ra6n/n59d/g4quvp9fa2OTn66Shm8C2prCuq+/r67Gxr9LLvbCwrcfEwK+vqZSahtPVw5WafKiknff5+ZqapvHw7fv4+YGH9dnb++Tn/Ly8xvfo6Oq5v////6WlsNrc3vPz+dLU2Ovr/eTn+drc4JWXo6Wp+cLE++nr74+T+enr4s7Q1m5098bArefk5Nze0ODc1Pf3/MC8tuDi0KWrh/n39+Tk4qmv+77Cqdjc3PX1/c7S0vv7/7ixo/Px7Z+jh62x+8rMtrS6pZebjY+Rn9bayKuvm+vp5+np6aWrjVJa9fX38bi895+fm1pk9620oevp6bS0r+fp6fv19VZg9fn19X6F+fnz89LS3MDAyPXi4uextvX1+vPW2OCVnYmJl9zc4Xh4iff3+mdy97y8xPf3977C96mpsbS29YeHlamv84qS87i89VXx8BYAAAD/dFJOU319fX19fX19fQB9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19bX19fX19fX19fX19Lwd9fX19fX19fX19fX19fX1lfX19fX19fX19fX19fX19fX19fX19fW1dED59fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX0PfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX1mfX19bX1eXn0/fX19fX0/fSWruQsAAAbiSURBVGje7VkFcBtHFD2SbnXO9UA56dRIiiRbFFlmiO3asWKIE0MYGrQbZmjDDA1T06RJ03DSJA2XMaWUmZmZmWm6ki3lTie59kTSlJ40p5nV//tud//b/28P0WiG/PgdkhBMHKzRaBDNyWXSRoqi4ki57CQk/MZsKna58pqa0N4gnoNcNgQZzBV8ml9aYMYaW4DQRKjvDC8MG7TkG0ff+gmobifD78gXYQZE0++8b08tXFg/4uf6H46VLh5Rf/P8TERtXG1ykkmtI7zmtZFLhtW9NWfOnCUjhy0Z+T2CJOFYJMOS+YtPzV884teDX8879sKIhfUHSxG1AzH0ajXhB3UjPxpaVzd37uyls5cunRv30Fx0vhxRDfXdLLbhZWU2W1mGGNtbEPuXdStz+2ycu/+kbmv4YLOWZ3merdEyNSweW0KMxXkW1+J4RwxeMeRfCIbhMsu7/LUd0QgkSYkW8TS5wznVlg93W8LnEiUooAIqFYBQkxBnSIxkMStJVLUPoah90cCqlSurWkSI6ijdGGv0v0Wv3iaIa1i9KLJ+QoR0Wk0l2YCo6jO5unpq9dTJkyesW7uu+oZp09q0iLDXvOQNG0r9uxbtNdU2hIcidV4YELTpt40C17WIsMk9oAyapxMbNxiCR4uRWAP2TNOZ3S/KCmdEyfggEORQ9Xh4kKPkM8O6AjbIS/BWfZLED+N5StmbisEZRttRTzVD2LZtUdW09gPbFx0tatuE0Y2E/YYeVYlI0E7ELYjET68vJJS9nZdRc1shq7dgzRIeKfrtj0W//LTojTDCOE2pMsjb3BiQhSo+gF3jOJNhKQwPUgqcBdqhER+Cc4efUOvL8nFKwhxn/tjKtNLTY12HO3z15ecnTiz4ODaEkUEBgoKqIRAdgR3u8NmC4wuOd3g/noSoWoILGgHU5w7/jGpxbQ28dJRl3/AoPfR6jKIUqcnKstkm2fpnZOlZGSFBqUgQtLt6/9vvSf0Y/19qENYbgIpHSQBvFk6ekgy2NZO9SIqk1Pag7Ttvvttb6pu3Ps9lTtvsqsiTtmLpnC83L8fpyjXlmpMVhDYS+IKbN6YkBNINaubunWiMphTh9d0L1tcqMj6IDwKdszgeYYR9u6old/bsi1SsRohhs3heVBK2mz1QLQTthOe3Xyj1q8xJ3uwZZ/A5jbI17GlPyUlNTk31jHN6DQoyhgLuQNVm7l7bWZkPb719FBnKCIcOTJ8h9bVi8GO16hCdLAxR1N9E6HSsDlOmDGjLNBOlcnR6KlY6RFitODzFlrCM799qyt1eZV1KEqhU+E+/5EiE8EML/8qgXVdIfbPHZhfkrrp2bL5J2sqmJptL8nOzi9fnFxekKgjLUOB/rub58obMCEGjVoGzI7x8986Z5zydsDcQkMXWQguPJG4No25tslXYt08Vs62N8TaYvUnKNVSh6tVBuxl798iE7/QYuRSO5jhB2koYGCHZ4PBwKV2MnF5BhlPqxsqC1uJshKChUDIk3qsOPPmy1LeXIIgMzToYWtqK6nS0vRNNC+P1gqgUPrwFfYuFP+DiWK5hCwhjFzSF/WuzOnd2uwt9fEcZ4dp+l52VxSWvPueQb4ugMc7lcY8GhA+iC5+CETqLhV8Ww5iwmmbKsD4glPHtg3bIhJ/mMpucuelpabK8jqVyqdkVOea0nOtzTR4FYQoKvM1MadcJfSUjvO+uB2MlfP+hgrtLAoUf5VAhzPCe++MepVD4gAmlw71bZMLvnZ5ucBhpe0+ZDokuUPgpnJETofDtkYSfEjhUKP8ks0G5eaOoVPjbpt8t9XUYOU+6gfZYZIUEytMOzmB39OzJGThaQZgBv1EPFeIr/AiHCnEMmmiHCgMnnJHI4oFNjGzySEBGVDZsD2g+ovChX3DzjpCeptT1AaEdf8CgHbKgcbnSXBUmoykvRyb8ZKMnrSIzz2Q2myKV+iHhY0laJeGRfhLhW/dcqWulxqOOkOFNp7v78IRm/BZkiztiF6WRDxX85zRFIKTDGfu3PCr1SxcEmGd1jMDKhD9+jE6kRZHWdrILSh3CTsVAXZqa5eWUhA8P7UqGuuu0bfpDso3fuJXjDILHIBc+LQgp6XaHMd1o4HpFyvgZzUzpE49Jn5563wv+qRk/ej6culFSCG96RBc74UcmnHJnH2A5K/xdj0t9S0oLirMrvSWrKmSlvvMmZ3GBuTI/u7IkX1nqW1BQ2wzh6FskNY11eyuFH2kC4DJRf581/B+tQHzfK4e9ZsIQBkFHbURgLQMfX9x4vAlh1sMhIYnAhxhYxVgSNE6C+E+F0KWJpZuIrEgs4WBkSI9E8vXQIJrlCWTssRwSajSDJyYoXFYM0Wj+BNjsk7mwYOwbAAAAAElFTkSuQmCC\"","import * as React from 'react';\n\nimport {\n  Box,\n  Button,\n  Divider,\n  Flex,\n  Icon,\n  PopoverPrimitives,\n  Portal,\n  Typography,\n  VisuallyHidden,\n} from '@strapi/design-system';\nimport { useAppInfo } from '@strapi/helper-plugin';\nimport { Cross, Message, Play, Question, Book, PaperPlane } from '@strapi/icons';\nimport { useIntl } from 'react-intl';\nimport styled from 'styled-components';\n\nimport onboardingPreview from '../assets/images/onboarding-preview.png';\n\nconst Onboarding = () => {\n  const triggerRef = React.useRef<HTMLButtonElement>(null!);\n  const [isOpen, setIsOpen] = React.useState(false);\n  const { formatMessage } = useIntl();\n  const { communityEdition } = useAppInfo();\n\n  const handlePopoverVisibility = () => {\n    setIsOpen((prev) => !prev);\n  };\n\n  const docLinks = [\n    ...DOCUMENTATION_LINKS,\n    {\n      label: { id: 'Settings.application.get-help', defaultMessage: 'Get help' },\n      icon: Message,\n      href: communityEdition\n        ? 'https://discord.strapi.io'\n        : 'https://support.strapi.io/support/home',\n    },\n  ];\n\n  return (\n    <Box as=\"aside\" position=\"fixed\" bottom={2} right={2}>\n      <HelperButton\n        aria-label={formatMessage(\n          isOpen\n            ? {\n                id: 'app.components.Onboarding.help.button-close',\n                defaultMessage: 'Close help menu',\n              }\n            : {\n                id: 'app.components.Onboarding.help.button',\n                defaultMessage: 'Open help menu',\n              }\n        )}\n        onClick={handlePopoverVisibility}\n        ref={triggerRef}\n      >\n        <Icon as={isOpen ? Cross : Question} color=\"buttonNeutral0\" />\n      </HelperButton>\n\n      {isOpen && (\n        <Portal>\n          <PopoverPrimitives.Content\n            padding={0}\n            onDismiss={handlePopoverVisibility}\n            source={triggerRef}\n            placement=\"top-end\"\n            spacing={12}\n          >\n            <Flex\n              justifyContent=\"space-between\"\n              paddingBottom={5}\n              paddingRight={6}\n              paddingLeft={6}\n              paddingTop={6}\n            >\n              <TypographyLineHeight fontWeight=\"bold\">\n                {formatMessage({\n                  id: 'app.components.Onboarding.title',\n                  defaultMessage: 'Get started videos',\n                })}\n              </TypographyLineHeight>\n              <TextLink\n                as=\"a\"\n                href={WATCH_MORE.href}\n                target=\"_blank\"\n                rel=\"noreferrer noopener\"\n                variant=\"pi\"\n                textColor=\"primary600\"\n              >\n                {formatMessage(WATCH_MORE.label)}\n              </TextLink>\n            </Flex>\n            <Divider />\n            {VIDEO_LINKS.map(({ href, duration, label }, index) => (\n              <VideoLinkWrapper\n                as=\"a\"\n                href={href}\n                target=\"_blank\"\n                rel=\"noreferrer noopener\"\n                key={href}\n                hasRadius\n                paddingTop={4}\n                paddingBottom={4}\n                paddingLeft={6}\n                paddingRight={11}\n              >\n                <Box paddingRight={5}>\n                  <Typography textColor=\"neutral200\" variant=\"alpha\">\n                    {index + 1}\n                  </Typography>\n                </Box>\n                <Box position=\"relative\">\n                  <Preview src={onboardingPreview} alt=\"\" />\n                  <IconWrapper\n                    position=\"absolute\"\n                    top=\"50%\"\n                    left=\"50%\"\n                    background=\"primary600\"\n                    borderRadius=\"50%\"\n                    justifyContent=\"center\"\n                    width={6}\n                    height={6}\n                  >\n                    <Icon as={Play} color=\"buttonNeutral0\" width={3} height={3} />\n                  </IconWrapper>\n                </Box>\n                <Flex direction=\"column\" alignItems=\"start\" paddingLeft={4}>\n                  <Typography fontWeight=\"bold\">{formatMessage(label)}</Typography>\n                  <VisuallyHidden>:</VisuallyHidden>\n                  <Typography textColor=\"neutral600\" variant=\"pi\">\n                    {duration}\n                  </Typography>\n                </Flex>\n              </VideoLinkWrapper>\n            ))}\n            <Flex\n              direction=\"column\"\n              alignItems=\"stretch\"\n              gap={2}\n              paddingLeft={5}\n              paddingTop={2}\n              paddingBottom={5}\n            >\n              {docLinks.map(({ label, href, icon }) => (\n                <Flex gap={3} key={href}>\n                  <Icon as={icon} color=\"primary600\" />\n                  <TextLink\n                    as=\"a\"\n                    href={href}\n                    target=\"_blank\"\n                    rel=\"noreferrer noopener\"\n                    variant=\"sigma\"\n                    textColor=\"primary700\"\n                  >\n                    {formatMessage(label)}\n                  </TextLink>\n                </Flex>\n              ))}\n            </Flex>\n          </PopoverPrimitives.Content>\n        </Portal>\n      )}\n    </Box>\n  );\n};\n\n// TODO: use new Button props derived from Box props with next DS release\nconst HelperButton = styled(Button)`\n  border-radius: 50%;\n  padding: ${({ theme }) => theme.spaces[3]};\n  /* Resetting 2rem height defined by Button component */\n  height: 100%;\n`;\n\nconst IconWrapper = styled(Flex)`\n  transform: translate(-50%, -50%);\n`;\n\nconst VideoLinkWrapper = styled(Flex)`\n  text-decoration: none;\n\n  :focus-visible {\n    outline-offset: ${({ theme }) => `-${theme.spaces[1]}`};\n  }\n\n  :hover {\n    background: ${({ theme }) => theme.colors.primary100};\n\n    /* Hover style for the number displayed */\n    ${Typography}:first-child {\n      color: ${({ theme }) => theme.colors.primary500};\n    }\n\n    /* Hover style for the label */\n    ${Typography}:nth-child(1) {\n      color: ${({ theme }) => theme.colors.primary600};\n    }\n  }\n`;\n\nconst Preview = styled.img`\n  width: ${({ theme }) => theme.spaces[10]};\n  height: ${({ theme }) => theme.spaces[8]};\n  /* Same overlay used in ModalLayout */\n  background: ${({ theme }) => `${theme.colors.neutral800}1F`};\n  border-radius: ${({ theme }) => theme.borderRadius};\n`;\n\nconst TypographyLineHeight = styled(Typography)`\n  /* line height of label and watch more to 1 so they can be better aligned visually */\n  line-height: 1;\n`;\n\nconst TextLink = styled(TypographyLineHeight)`\n  text-decoration: none;\n\n  :hover {\n    text-decoration: underline;\n  }\n`;\n\nconst VIDEO_LINKS = [\n  {\n    label: {\n      id: 'app.components.Onboarding.link.build-content',\n      defaultMessage: 'Build a content architecture',\n    },\n    href: 'https://www.youtube.com/watch?v=G9GjN0RxhkE',\n    duration: '5:48',\n  },\n  {\n    label: {\n      id: 'app.components.Onboarding.link.manage-content',\n      defaultMessage: 'Add & manage content',\n    },\n    href: 'https://www.youtube.com/watch?v=DEZw4KbybAI',\n    duration: '3:18',\n  },\n  {\n    label: { id: 'app.components.Onboarding.link.manage-media', defaultMessage: 'Manage media' },\n    href: 'https://www.youtube.com/watch?v=-61MuiMQb38',\n    duration: '3:41',\n  },\n];\n\nconst WATCH_MORE = {\n  href: 'https://www.youtube.com/playlist?list=PL7Q0DQYATmvidz6lEmwE5nIcOAYagxWqq',\n  label: {\n    id: 'app.components.Onboarding.link.more-videos',\n    defaultMessage: 'Watch more videos',\n  },\n};\n\nconst DOCUMENTATION_LINKS = [\n  {\n    label: { id: 'global.documentation', defaultMessage: 'documentation' },\n    href: 'https://docs.strapi.io',\n    icon: Book,\n  },\n  {\n    label: { id: 'app.static.links.cheatsheet', defaultMessage: 'cheatsheet' },\n    href: 'https://strapi-showcase.s3-us-west-2.amazonaws.com/CheatSheet.pdf',\n    icon: PaperPlane,\n  },\n];\n\nexport { Onboarding };\n","import { createTypedSelector } from './core/store/hooks';\n\nexport const selectAdminPermissions = createTypedSelector((state) => state.admin_app.permissions);\n","import * as React from 'react';\n\nimport {\n  Permission,\n  hasPermissions,\n  useAppInfo,\n  useRBACProvider,\n  useStrapiApp,\n  StrapiAppContextValue,\n} from '@strapi/helper-plugin';\nimport { Cog, Puzzle, ShoppingCart } from '@strapi/icons';\nimport cloneDeep from 'lodash/cloneDeep';\nimport { useSelector } from 'react-redux';\n\nimport { selectAdminPermissions } from '../selectors';\n\n/* -------------------------------------------------------------------------------------------------\n * useMenu\n * -----------------------------------------------------------------------------------------------*/\n\ntype MenuItem = StrapiAppContextValue['menu'][number];\n\nexport interface Menu {\n  generalSectionLinks: MenuItem[];\n  pluginsSectionLinks: MenuItem[];\n  isLoading: boolean;\n}\n\nconst useMenu = () => {\n  const { allPermissions: userPermissions } = useRBACProvider();\n  const { shouldUpdateStrapi } = useAppInfo();\n  const { menu } = useStrapiApp();\n  const permissions = useSelector(selectAdminPermissions);\n  const [menuWithUserPermissions, setMenuWithUserPermissions] = React.useState<Menu>({\n    generalSectionLinks: [\n      {\n        icon: Puzzle,\n        intlLabel: {\n          id: 'global.plugins',\n          defaultMessage: 'Plugins',\n        },\n        to: '/list-plugins',\n        // @ts-expect-error - we need the permissions type from the plugin\n        permissions: permissions.marketplace.main,\n      },\n      {\n        icon: ShoppingCart,\n        intlLabel: {\n          id: 'global.marketplace',\n          defaultMessage: 'Marketplace',\n        },\n        to: '/marketplace',\n        // @ts-expect-error - we need the permissions type from the plugin\n        permissions: permissions.marketplace.main,\n      },\n      {\n        icon: Cog,\n        intlLabel: {\n          id: 'global.settings',\n          defaultMessage: 'Settings',\n        },\n        to: '/settings',\n        // Permissions of this link are retrieved in the init phase\n        // using the settings menu\n        permissions: [],\n        notificationsCount: 0,\n      },\n    ],\n    pluginsSectionLinks: [],\n    isLoading: true,\n  });\n  const generalSectionLinksRef = React.useRef(menuWithUserPermissions.generalSectionLinks);\n\n  React.useEffect(() => {\n    async function applyMenuPermissions() {\n      const authorizedPluginSectionLinks = await getPluginSectionLinks(userPermissions, menu);\n\n      const authorizedGeneralSectionLinks = await getGeneralLinks(\n        userPermissions,\n        generalSectionLinksRef.current,\n        shouldUpdateStrapi\n      );\n\n      setMenuWithUserPermissions((state) => ({\n        ...state,\n        generalSectionLinks: authorizedGeneralSectionLinks,\n        pluginsSectionLinks: authorizedPluginSectionLinks,\n        isLoading: false,\n      }));\n    }\n\n    applyMenuPermissions();\n  }, [\n    setMenuWithUserPermissions,\n    generalSectionLinksRef,\n    userPermissions,\n    menu,\n    permissions,\n    shouldUpdateStrapi,\n  ]);\n\n  return menuWithUserPermissions;\n};\n\n/* -------------------------------------------------------------------------------------------------\n * Utils\n * -----------------------------------------------------------------------------------------------*/\n\nconst getGeneralLinks = async (\n  userPermissions: Permission[],\n  generalSectionRawLinks: MenuItem[],\n  shouldUpdateStrapi: boolean = false\n) => {\n  const generalSectionLinksPermissions = await Promise.all(\n    generalSectionRawLinks.map(({ permissions }) => hasPermissions(userPermissions, permissions))\n  );\n\n  const authorizedGeneralSectionLinks = generalSectionRawLinks.filter(\n    (_, index) => generalSectionLinksPermissions[index]\n  );\n\n  const settingsLinkIndex = authorizedGeneralSectionLinks.findIndex(\n    (obj) => obj.to === '/settings'\n  );\n\n  if (settingsLinkIndex === -1) {\n    return [];\n  }\n\n  const authorizedGeneralLinksClone = cloneDeep(authorizedGeneralSectionLinks);\n\n  authorizedGeneralLinksClone[settingsLinkIndex].notificationsCount = shouldUpdateStrapi ? 1 : 0;\n\n  return authorizedGeneralLinksClone;\n};\n\nconst getPluginSectionLinks = async (\n  userPermissions: Permission[],\n  pluginsSectionRawLinks: MenuItem[]\n) => {\n  const pluginSectionLinksPermissions = await Promise.all(\n    pluginsSectionRawLinks.map(({ permissions }) => hasPermissions(userPermissions, permissions))\n  );\n\n  const authorizedPluginSectionLinks = pluginsSectionRawLinks.filter(\n    (_, index) => pluginSectionLinksPermissions[index]\n  );\n\n  return authorizedPluginSectionLinks;\n};\n\nexport { useMenu };\n","import * as React from 'react';\n\nimport { Box, Flex, SkipToContent } from '@strapi/design-system';\nimport { useIntl } from 'react-intl';\nimport styled from 'styled-components';\n\nconst FlexBox = styled(Box)`\n  flex: 1;\n`;\n\ninterface AppLayoutProps {\n  children: React.ReactNode;\n  sideNav: React.ReactNode;\n}\n\nexport const AppLayout = ({ children, sideNav }: AppLayoutProps) => {\n  const { formatMessage } = useIntl();\n\n  return (\n    <Box background=\"neutral100\">\n      <SkipToContent>\n        {formatMessage({ id: 'skipToContent', defaultMessage: 'Skip to content' })}\n      </SkipToContent>\n      <Flex alignItems=\"flex-start\">\n        {sideNav}\n        <FlexBox>{children}</FlexBox>\n      </Flex>\n    </Box>\n  );\n};\n","/**\n *\n * Admin\n *\n */\n\nimport * as React from 'react';\n\nimport { LoadingIndicatorPage, useStrapiApp, useTracking } from '@strapi/helper-plugin';\nimport { DndProvider } from 'react-dnd';\nimport { HTML5Backend } from 'react-dnd-html5-backend';\nimport { Route, Switch } from 'react-router-dom';\n\nimport { GuidedTourModal } from '../components/GuidedTour/Modal';\nimport { LeftMenu } from '../components/LeftMenu';\nimport { Onboarding } from '../components/Onboarding';\nimport { ACTION_SET_APP_RUNTIME_STATUS } from '../constants';\nimport { useConfiguration } from '../contexts/configuration';\nimport { useTypedDispatch, useTypedSelector } from '../core/store/hooks';\nimport { useMenu } from '../hooks/useMenu';\nimport { AppLayout } from '../layouts/AppLayout';\nimport { createRoute } from '../utils/createRoute';\n\nconst CM = React.lazy(\n  // @ts-expect-error ‚Äì No types, yet.\n  () => import('../content-manager/pages/App')\n);\nconst HomePage = React.lazy(() =>\n  import('./HomePage').then((mod) => ({\n    default: mod.HomePage,\n  }))\n);\nconst InstalledPluginsPage = React.lazy(() =>\n  import('./InstalledPluginsPage').then((mod) => ({\n    default: mod.ProtectedInstalledPluginsPage,\n  }))\n);\nconst MarketplacePage = React.lazy(() =>\n  import('./Marketplace/MarketplacePage').then((mod) => ({ default: mod.ProtectedMarketplacePage }))\n);\nconst NotFoundPage = React.lazy(() =>\n  import('./NotFoundPage').then(({ NotFoundPage }) => ({ default: NotFoundPage }))\n);\nconst InternalErrorPage = React.lazy(() =>\n  import('./InternalErrorPage').then(({ InternalErrorPage }) => ({\n    default: InternalErrorPage,\n  }))\n);\n\nconst ProfilePage = React.lazy(() =>\n  import('./ProfilePage').then((mod) => ({\n    default: mod.ProfilePage,\n  }))\n);\nconst SettingsPage = React.lazy(() =>\n  // @ts-expect-error ‚Äì No types, yet.\n  import('./SettingsPage').then((module) => ({\n    default: module.SettingsPage,\n  }))\n);\n\nconst Admin = () => {\n  const { trackUsage } = useTracking();\n  const dispatch = useTypedDispatch();\n  const appStatus = useTypedSelector((state) => state.admin_app.status);\n\n  const { isLoading, generalSectionLinks, pluginsSectionLinks } = useMenu();\n  const { menu } = useStrapiApp();\n  const { showTutorials } = useConfiguration();\n\n  React.useEffect(() => {\n    // Make sure the event is only send once after accessing the admin panel\n    // and not at runtime for example when regenerating the permissions with the ctb\n    // or with i18n\n    if (appStatus === 'init') {\n      trackUsage('didAccessAuthenticatedAdministration');\n\n      dispatch({ type: ACTION_SET_APP_RUNTIME_STATUS });\n    }\n  }, [appStatus, dispatch, trackUsage]);\n\n  const routes = React.useMemo(() => {\n    return (\n      menu\n        .filter((link) => link.Component)\n        // we've filtered out the links that don't have a component above\n        .map(({ to, Component, exact }) => createRoute(Component!, to, exact))\n    );\n  }, [menu]);\n\n  if (isLoading) {\n    return <LoadingIndicatorPage />;\n  }\n\n  return (\n    <DndProvider backend={HTML5Backend}>\n      <AppLayout\n        sideNav={\n          <LeftMenu\n            generalSectionLinks={generalSectionLinks}\n            pluginsSectionLinks={pluginsSectionLinks}\n          />\n        }\n      >\n        <React.Suspense fallback={<LoadingIndicatorPage />}>\n          <Switch>\n            <Route path=\"/\" component={HomePage} exact />\n            <Route path=\"/me\" component={ProfilePage} exact />\n            <Route path=\"/content-manager\" component={CM} />\n            {routes}\n            <Route path=\"/settings/:settingId\" component={SettingsPage} />\n            <Route path=\"/settings\" component={SettingsPage} exact />\n            <Route path=\"/marketplace\">\n              <MarketplacePage />\n            </Route>\n            <Route path=\"/list-plugins\" exact>\n              <InstalledPluginsPage />\n            </Route>\n            <Route path=\"/404\" component={NotFoundPage} />\n            <Route path=\"/500\" component={InternalErrorPage} />\n            <Route path=\"\" component={NotFoundPage} />\n          </Switch>\n        </React.Suspense>\n        <GuidedTourModal />\n\n        {showTutorials && <Onboarding />}\n      </AppLayout>\n    </DndProvider>\n  );\n};\n\nexport { Admin };\n","import * as React from 'react';\n\nimport {\n  LoadingIndicatorPage,\n  useStrapiApp,\n  type StrapiAppContextValue,\n} from '@strapi/helper-plugin';\nimport produce from 'immer';\nimport set from 'lodash/set';\n\nimport { Admin } from '../pages/Admin';\n\n/**\n * TODO: this isn't great, and we really should focus on fixing this.\n */\nconst PluginsInitializer = () => {\n  const { plugins: appPlugins } = useStrapiApp();\n  const [{ plugins }, dispatch] = React.useReducer<React.Reducer<State, Action>, State>(\n    reducer,\n    initialState,\n    () => init(appPlugins)\n  );\n  const setPlugin = React.useRef((pluginId: string) => {\n    dispatch({ type: 'SET_PLUGIN_READY', pluginId });\n  });\n\n  const hasApluginNotReady = Object.keys(plugins).some(\n    (plugin) => plugins[plugin].isReady === false\n  );\n\n  /**\n   *\n   * I have spent some time trying to understand what is happening here, and wanted to\n   * leave that knowledge for my future me:\n   *\n   * `initializer` is an undocumented property of the `registerPlugin` API. At the time\n   * of writing it seems only to be used by the i18n plugin.\n   *\n   * How does it work?\n   *\n   * Every plugin that has an `initializer` component defined, receives the\n   * `setPlugin` function as a component prop. In the case of i18n the plugin fetches locales\n   * first and calls `setPlugin` with `pluginId` once they are loaded, which then triggers the\n   * reducer of the admin app defined above.\n   *\n   * Once all plugins are set to `isReady: true` the app renders.\n   *\n   * This API is used to block rendering of the admin app. We should remove that in v5 completely\n   * and make sure plugins can inject data into the global store before they are initialized, to avoid\n   * having a new prop-callback based communication channel between plugins and the core admin app.\n   *\n   */\n\n  if (hasApluginNotReady) {\n    const initializers = Object.keys(plugins).reduce((acc, current) => {\n      const InitializerComponent = plugins[current].initializer;\n\n      if (InitializerComponent) {\n        const key = plugins[current].pluginId;\n\n        acc.push(<InitializerComponent key={key} setPlugin={setPlugin.current} />);\n      }\n\n      return acc;\n    }, [] as React.ReactNode[]);\n\n    return (\n      <>\n        {initializers}\n        <LoadingIndicatorPage />\n      </>\n    );\n  }\n\n  return <Admin />;\n};\n\n/* -------------------------------------------------------------------------------------------------\n * Reducer\n * -----------------------------------------------------------------------------------------------*/\n\ninterface State {\n  plugins: StrapiAppContextValue['plugins'];\n}\n\nconst initialState: State = {\n  plugins: {},\n};\n\ntype SetPluginReadyAction = {\n  type: 'SET_PLUGIN_READY';\n  pluginId: string;\n};\n\ntype Action = SetPluginReadyAction;\n\nconst reducer: React.Reducer<State, Action> = (state = initialState, action: Action): State =>\n  produce(state, (draftState) => {\n    switch (action.type) {\n      case 'SET_PLUGIN_READY': {\n        set(draftState, ['plugins', action.pluginId, 'isReady'], true);\n        break;\n      }\n      default:\n        return draftState;\n    }\n  });\n\n/* -------------------------------------------------------------------------------------------------\n * Init state\n * -----------------------------------------------------------------------------------------------*/\n\nconst init = (plugins: State['plugins']): State => {\n  return {\n    plugins: Object.keys(plugins).reduce<State['plugins']>((acc, current) => {\n      acc[current] = { ...plugins[current] };\n\n      return acc;\n    }, {}),\n  };\n};\n\nexport { PluginsInitializer };\n","import * as React from 'react';\n\nimport {\n  AppInfoProvider,\n  auth,\n  LoadingIndicatorPage,\n  useFetchClient,\n  useGuidedTour,\n} from '@strapi/helper-plugin';\nimport { useQueries } from 'react-query';\nimport lt from 'semver/functions/lt';\nimport valid from 'semver/functions/valid';\n//  TODO: DS add loader\n\nimport packageJSON from '../../../package.json';\nimport { useConfiguration } from '../contexts/configuration';\nimport { getFullName } from '../utils/getFullName';\nimport { hashAdminUserEmail } from '../utils/hashAdminUserEmail';\n\nimport { NpsSurvey } from './NpsSurvey';\nimport { PluginsInitializer } from './PluginsInitializer';\nimport { RBACProvider } from './RBACProvider';\n\nimport type { Information } from '../../../shared/contracts/admin';\nimport type { GetOwnPermissions, GetMe } from '../../../shared/contracts/users';\n\nconst strapiVersion = packageJSON.version;\n\nconst AuthenticatedApp = () => {\n  const { setGuidedTourVisibility } = useGuidedTour();\n  const userInfo = auth.get('userInfo');\n  const [userDisplayName, setUserDisplayName] = React.useState<string>(() =>\n    userInfo ? userInfo.username || getFullName(userInfo.firstname ?? '', userInfo.lastname) : ''\n  );\n  const [userId, setUserId] = React.useState<string>();\n  const { showReleaseNotification } = useConfiguration();\n  const { get } = useFetchClient();\n  const [\n    { data: appInfos, status },\n    { data: tagName, isLoading },\n    { data: permissions, status: fetchPermissionsStatus, refetch, isFetching },\n    { data: userRoles },\n  ] = useQueries([\n    {\n      queryKey: 'app-infos',\n      async queryFn() {\n        const { data } = await get<Information.Response>('/admin/information');\n\n        return data.data;\n      },\n    },\n    {\n      queryKey: 'strapi-release',\n      async queryFn() {\n        try {\n          const res = await fetch('https://api.github.com/repos/strapi/strapi/releases/latest');\n\n          if (!res.ok) {\n            throw new Error();\n          }\n\n          const response = (await res.json()) as { tag_name: string | null | undefined };\n\n          if (!response.tag_name) {\n            throw new Error();\n          }\n\n          return response.tag_name;\n        } catch (err) {\n          // Don't throw an error\n          return strapiVersion;\n        }\n      },\n      enabled: showReleaseNotification,\n      initialData: strapiVersion,\n    },\n    {\n      queryKey: 'admin-users-permission',\n      async queryFn() {\n        const { data } = await get<GetOwnPermissions.Response>('/admin/users/me/permissions');\n\n        return data.data;\n      },\n      initialData: [],\n    },\n    {\n      queryKey: 'user-roles',\n      async queryFn() {\n        const {\n          data: {\n            data: { roles },\n          },\n        } = await get<GetMe.Response>('/admin/users/me');\n\n        return roles;\n      },\n    },\n  ]);\n\n  const shouldUpdateStrapi = checkLatestStrapiVersion(strapiVersion, tagName);\n\n  /**\n   * TODO: does this actually need to be an effect?\n   */\n  React.useEffect(() => {\n    if (userRoles) {\n      const isUserSuperAdmin = userRoles.find(({ code }) => code === 'strapi-super-admin');\n\n      if (isUserSuperAdmin && appInfos?.autoReload) {\n        setGuidedTourVisibility(true);\n      }\n    }\n  }, [userRoles, appInfos, setGuidedTourVisibility]);\n\n  React.useEffect(() => {\n    const getUserId = async () => {\n      if (userInfo) {\n        const userId = await hashAdminUserEmail(userInfo);\n\n        if (userId) {\n          setUserId(userId);\n        }\n      }\n    };\n\n    getUserId();\n  }, [userInfo]);\n\n  // We don't need to wait for the release query to be fetched before rendering the plugins\n  // however, we need the appInfos and the permissions\n  const shouldShowNotDependentQueriesLoader =\n    isFetching || status === 'loading' || fetchPermissionsStatus === 'loading';\n\n  const shouldShowLoader = isLoading || shouldShowNotDependentQueriesLoader;\n\n  if (shouldShowLoader) {\n    return <LoadingIndicatorPage />;\n  }\n\n  // TODO: add error state\n  if (status === 'error') {\n    return <div>error...</div>;\n  }\n\n  return (\n    <AppInfoProvider\n      {...appInfos}\n      userId={userId}\n      latestStrapiReleaseTag={tagName}\n      setUserDisplayName={setUserDisplayName}\n      shouldUpdateStrapi={shouldUpdateStrapi}\n      userDisplayName={userDisplayName}\n    >\n      <RBACProvider permissions={permissions ?? []} refetchPermissions={refetch}>\n        <NpsSurvey />\n        <PluginsInitializer />\n      </RBACProvider>\n    </AppInfoProvider>\n  );\n};\n\nconst checkLatestStrapiVersion = (\n  currentPackageVersion: string,\n  latestPublishedVersion: string = ''\n): boolean => {\n  if (!valid(currentPackageVersion) || !valid(latestPublishedVersion)) {\n    return false;\n  }\n\n  return lt(currentPackageVersion, latestPublishedVersion);\n};\n\nexport { AuthenticatedApp };\n"],"names":["jsx","Flex","pxToRem","Check","Typography","Box","useGuidedTour","useIntl","useTracking","get","Portal","FocusTrap","jsxs","IconButton","Cross","Button","styled","Fragment","LinkButton","NavLink","ArrowRight","RouterNavLink","React","useConfiguration","usePersistentState","useAppInfo","useLocation","useHistory","getFetchClient","name","auth","MainNav","NavBrand","Divider","NavSections","Write","NavSection","NavFooter","NavUser","Exit","NavCondense","Message","Icon","Question","PopoverPrimitives","index","Play","VisuallyHidden","Book","PaperPlane","createTypedSelector","useRBACProvider","useStrapiApp","useSelector","Puzzle","ShoppingCart","Cog","hasPermissions","cloneDeep","SkipToContent","NotFoundPage","InternalErrorPage","module","useTypedDispatch","useTypedSelector","ACTION_SET_APP_RUNTIME_STATUS","createRoute","LoadingIndicatorPage","DndProvider","HTML5Backend","Switch","Route","produce","set","useFetchClient","useQueries","userId","AppInfoProvider","RBACProvider","NpsSurvey","valid","lt"],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"AuthenticatedApp-342bf22f.js","sources":["../../admin/src/utils/getFullName.ts","../../admin/src/utils/hashAdminUserEmail.ts","../../admin/src/components/GuidedTour/constants.ts","../../admin/src/components/GuidedTour/Ornaments.tsx","../../admin/src/components/GuidedTour/Modal.tsx","../../admin/src/components/LeftMenu.tsx","../../admin/src/assets/images/onboarding-preview.png","../../admin/src/components/Onboarding.tsx","../../admin/src/selectors.ts","../../admin/src/hooks/useMenu.ts","../../admin/src/layouts/AppLayout.tsx","../../admin/src/pages/Admin.tsx","../../admin/src/components/PluginsInitializer.tsx","../../admin/src/components/AuthenticatedApp.tsx"],"sourcesContent":["export function getFullName(firstname: string, lastname: string | null = '') {\n  return [firstname, lastname].filter((str) => str).join(' ');\n}\n","import { UserInfo } from '@strapi/helper-plugin';\n\nexport const utils = {\n  bufferToHex(buffer: ArrayBuffer) {\n    return [...new Uint8Array(buffer)].map((b) => b.toString(16).padStart(2, '0')).join('');\n  },\n  async digestMessage(message: string) {\n    const msgUint8 = new TextEncoder().encode(message);\n    const hashBuffer = await crypto.subtle.digest('SHA-256', msgUint8);\n\n    return this.bufferToHex(hashBuffer);\n  },\n};\n\nexport async function hashAdminUserEmail(payload?: UserInfo) {\n  if (!payload) {\n    return null;\n  }\n\n  try {\n    return await utils.digestMessage(payload.email);\n  } catch (error) {\n    return null;\n  }\n}\n","const LAYOUT_DATA = {\n  contentTypeBuilder: {\n    home: {\n      title: {\n        id: 'app.components.GuidedTour.home.CTB.title',\n        defaultMessage: 'üß† Build the content structure',\n      },\n      cta: {\n        title: {\n          id: 'app.components.GuidedTour.home.CTB.cta.title',\n          defaultMessage: 'Go to the Content type Builder',\n        },\n        type: 'REDIRECT',\n        target: '/plugins/content-type-builder',\n      },\n      trackingEvent: 'didClickGuidedTourHomepageContentTypeBuilder',\n    },\n    create: {\n      title: {\n        id: 'app.components.GuidedTour.CTB.create.title',\n        defaultMessage: 'üß† Create a first Collection type',\n      },\n      content: {\n        id: 'app.components.GuidedTour.CTB.create.content',\n        defaultMessage:\n          '<p>Collection types help you manage several entries, Single types are suitable to manage only one entry.</p> <p>Ex: For a Blog website, Articles would be a Collection type whereas a Homepage would be a Single type.</p>',\n      },\n      cta: {\n        title: {\n          id: 'app.components.GuidedTour.CTB.create.cta.title',\n          defaultMessage: 'Build a Collection type',\n        },\n        type: 'CLOSE',\n      },\n      trackingEvent: 'didClickGuidedTourStep1CollectionType',\n    },\n    success: {\n      title: {\n        id: 'app.components.GuidedTour.CTB.success.title',\n        defaultMessage: 'Step 1: Completed ‚úÖ',\n      },\n      content: {\n        id: 'app.components.GuidedTour.CTB.success.content',\n        defaultMessage: '<p>Good going!</p><b>‚ö°Ô∏è What would you like to share with the world?</b>',\n      },\n      cta: {\n        title: {\n          id: 'app.components.GuidedTour.create-content',\n          defaultMessage: 'Create content',\n        },\n        type: 'REDIRECT',\n        target: '/content-manager',\n      },\n      trackingEvent: 'didCreateGuidedTourCollectionType',\n    },\n  },\n  contentManager: {\n    home: {\n      title: {\n        id: 'app.components.GuidedTour.home.CM.title',\n        defaultMessage: '‚ö°Ô∏è What would you like to share with the world?',\n      },\n      cta: {\n        title: {\n          id: 'app.components.GuidedTour.create-content',\n          defaultMessage: 'Create content',\n        },\n        type: 'REDIRECT',\n        target: '/content-manager',\n      },\n      trackingEvent: 'didClickGuidedTourHomepageContentManager',\n    },\n    create: {\n      title: {\n        id: 'app.components.GuidedTour.CM.create.title',\n        defaultMessage: '‚ö°Ô∏è Create content',\n      },\n      content: {\n        id: 'app.components.GuidedTour.CM.create.content',\n        defaultMessage:\n          \"<p>Create and manage all the content here in the Content Manager.</p><p>Ex: Taking the Blog website example further, one can write an Article, save and publish it as they like.</p><p>üí° Quick tip - Don't forget to hit publish on the content you create.</p>\",\n      },\n      cta: {\n        title: {\n          id: 'app.components.GuidedTour.create-content',\n          defaultMessage: 'Create content',\n        },\n        type: 'CLOSE',\n      },\n      trackingEvent: 'didClickGuidedTourStep2ContentManager',\n    },\n    success: {\n      title: {\n        id: 'app.components.GuidedTour.CM.success.title',\n        defaultMessage: 'Step 2: Completed ‚úÖ',\n      },\n      content: {\n        id: 'app.components.GuidedTour.CM.success.content',\n        defaultMessage: '<p>Awesome, one last step to go!</p><b>üöÄ  See content in action</b>',\n      },\n      cta: {\n        title: {\n          id: 'app.components.GuidedTour.CM.success.cta.title',\n          defaultMessage: 'Test the API',\n        },\n        type: 'REDIRECT',\n        target: '/settings/api-tokens',\n      },\n      trackingEvent: 'didCreateGuidedTourEntry',\n    },\n  },\n  apiTokens: {\n    home: {\n      title: {\n        id: 'app.components.GuidedTour.apiTokens.create.title',\n        defaultMessage: 'üöÄ See content in action',\n      },\n      cta: {\n        title: {\n          id: 'app.components.GuidedTour.home.apiTokens.cta.title',\n          defaultMessage: 'Test the API',\n        },\n        type: 'REDIRECT',\n        target: '/settings/api-tokens',\n      },\n      trackingEvent: 'didClickGuidedTourHomepageApiTokens',\n    },\n    create: {\n      title: {\n        id: 'app.components.GuidedTour.apiTokens.create.title',\n        defaultMessage: 'üöÄ See content in action',\n      },\n      content: {\n        id: 'app.components.GuidedTour.apiTokens.create.content',\n        defaultMessage:\n          '<p>Generate an authentication token here and retrieve the content you just created.</p>',\n      },\n      cta: {\n        title: {\n          id: 'app.components.GuidedTour.apiTokens.create.cta.title',\n          defaultMessage: 'Generate an API Token',\n        },\n        type: 'CLOSE',\n      },\n      trackingEvent: 'didClickGuidedTourStep3ApiTokens',\n    },\n    success: {\n      title: {\n        id: 'app.components.GuidedTour.apiTokens.success.title',\n        defaultMessage: 'Step 3: Completed ‚úÖ',\n      },\n      content: {\n        id: 'app.components.GuidedTour.apiTokens.success.content',\n        defaultMessage:\n          \"<p>See content in action by making an HTTP request:</p><ul><li><p>To this URL: <light>https://'<'YOUR_DOMAIN'>'/api/'<'YOUR_CT'>'</light></p></li><li><p>With the header: <light>Authorization: bearer '<'YOUR_API_TOKEN'>'</light></p></li></ul><p>For more ways to interact with content, see the <documentationLink>documentation</documentationLink>.</p>\",\n      },\n      trackingEvent: 'didGenerateGuidedTourApiTokens',\n    },\n  },\n} as const;\n\nconst STATES = {\n  IS_DONE: 'IS_DONE',\n  IS_ACTIVE: 'IS_ACTIVE',\n  IS_NOT_DONE: 'IS_NOT_DONE',\n} as const;\n\ntype LayoutData = typeof LAYOUT_DATA;\ntype States = keyof typeof STATES;\n\nexport { LAYOUT_DATA, STATES };\nexport type { LayoutData, States };\n","import { Box, BoxProps, Flex, FlexProps, Typography } from '@strapi/design-system';\nimport { pxToRem } from '@strapi/helper-plugin';\nimport { Check } from '@strapi/icons';\n\nimport { STATES, States } from './constants';\n\n/* -------------------------------------------------------------------------------------------------\n * Number\n * -----------------------------------------------------------------------------------------------*/\n\ninterface NumberProps extends FlexProps {\n  children: number;\n  state: States;\n}\n\nconst Number = ({ children, state, ...props }: NumberProps) => {\n  return state === STATES.IS_DONE || state === STATES.IS_ACTIVE ? (\n    <Flex\n      background=\"primary600\"\n      padding={2}\n      borderRadius=\"50%\"\n      width={pxToRem(30)}\n      height={pxToRem(30)}\n      justifyContent=\"center\"\n      {...props}\n    >\n      {state === STATES.IS_DONE ? (\n        <Check aria-hidden width={pxToRem(16)} color=\"neutral0\" />\n      ) : (\n        <Typography fontWeight=\"semiBold\" textColor=\"neutral0\">\n          {children}\n        </Typography>\n      )}\n    </Flex>\n  ) : (\n    <Flex\n      borderColor=\"neutral500\"\n      borderWidth=\"1px\"\n      borderStyle=\"solid\"\n      padding={2}\n      borderRadius=\"50%\"\n      width={pxToRem(30)}\n      height={pxToRem(30)}\n      justifyContent=\"center\"\n      {...props}\n    >\n      <Typography fontWeight=\"semiBold\" textColor=\"neutral600\">\n        {children}\n      </Typography>\n    </Flex>\n  );\n};\n\n/* -------------------------------------------------------------------------------------------------\n * VerticalDivider\n * -----------------------------------------------------------------------------------------------*/\n\ninterface VerticalDividerProps extends BoxProps {\n  state: States;\n}\n\nconst VerticalDivider = ({ state, ...props }: VerticalDividerProps) => (\n  <Box\n    width={pxToRem(2)}\n    height=\"100%\"\n    background={state === STATES.IS_NOT_DONE ? 'neutral300' : 'primary500'}\n    hasRadius\n    minHeight={state === STATES.IS_ACTIVE ? pxToRem(85) : pxToRem(65)}\n    {...props}\n  />\n);\n\nexport { Number, VerticalDivider };\nexport type { NumberProps, VerticalDividerProps };\n","import * as React from 'react';\n\nimport {\n  Box,\n  Button,\n  Flex,\n  FocusTrap,\n  IconButton,\n  Portal,\n  Typography,\n} from '@strapi/design-system';\nimport { LinkButton } from '@strapi/design-system/v2';\nimport { GuidedTourContextValue, pxToRem, useGuidedTour, useTracking } from '@strapi/helper-plugin';\nimport { ArrowRight, Cross } from '@strapi/icons';\nimport get from 'lodash/get';\nimport { MessageDescriptor, useIntl } from 'react-intl';\nimport { NavLink } from 'react-router-dom';\nimport styled from 'styled-components';\n\nimport { LAYOUT_DATA, STATES } from './constants';\nimport { Number, VerticalDivider } from './Ornaments';\n\n/* -------------------------------------------------------------------------------------------------\n * GuidedTourModal\n * -----------------------------------------------------------------------------------------------*/\n\nconst GuidedTourModal = () => {\n  const {\n    currentStep,\n    guidedTourState,\n    setCurrentStep,\n    setStepState,\n    isGuidedTourVisible,\n    setSkipped,\n  } = useGuidedTour();\n  const { formatMessage } = useIntl();\n  const { trackUsage } = useTracking();\n\n  if (!currentStep || !isGuidedTourVisible) {\n    return null;\n  }\n\n  const stepData = get(LAYOUT_DATA, currentStep);\n  const sectionKeys = Object.keys(guidedTourState);\n  const [sectionName, stepName] = currentStep.split('.') as [\n    keyof GuidedTourContextValue['guidedTourState'],\n    string\n  ];\n  const sectionIndex = sectionKeys.indexOf(sectionName);\n  const stepIndex = Object.keys(guidedTourState[sectionName]).indexOf(stepName);\n  const hasSectionAfter = sectionIndex < sectionKeys.length - 1;\n  const hasStepAfter = stepIndex < Object.keys(guidedTourState[sectionName]).length - 1;\n\n  const handleCtaClick = () => {\n    setStepState(currentStep, true);\n    trackUsage(stepData.trackingEvent);\n\n    setCurrentStep(null);\n  };\n\n  const handleSkip = () => {\n    setSkipped(true);\n    setCurrentStep(null);\n    trackUsage('didSkipGuidedtour');\n  };\n\n  return (\n    <Portal>\n      <ModalWrapper onClick={handleCtaClick} padding={8} justifyContent=\"center\">\n        <FocusTrap onEscape={handleCtaClick}>\n          <Flex\n            direction=\"column\"\n            alignItems=\"stretch\"\n            background=\"neutral0\"\n            width={pxToRem(660)}\n            shadow=\"popupShadow\"\n            hasRadius\n            padding={4}\n            gap={8}\n            role=\"dialog\"\n            aria-modal\n            onClick={(e) => e.stopPropagation()}\n          >\n            <Flex justifyContent=\"flex-end\">\n              <IconButton\n                onClick={handleCtaClick}\n                aria-label={formatMessage({\n                  id: 'app.utils.close-label',\n                  defaultMessage: 'Close',\n                })}\n              >\n                <Cross />\n              </IconButton>\n            </Flex>\n            <Box\n              paddingLeft={7}\n              paddingRight={7}\n              paddingBottom={!hasStepAfter && !hasSectionAfter ? 8 : 0}\n            >\n              <GuidedTourStepper\n                title={stepData.title}\n                cta={'cta' in stepData ? stepData.cta : undefined}\n                onCtaClick={handleCtaClick}\n                sectionIndex={sectionIndex}\n                stepIndex={stepIndex}\n                hasSectionAfter={hasSectionAfter}\n              >\n                <GuidedTourContent {...stepData.content} />\n              </GuidedTourStepper>\n            </Box>\n            {!(!hasStepAfter && !hasSectionAfter) && (\n              <Flex justifyContent=\"flex-end\">\n                <Button variant=\"tertiary\" onClick={handleSkip}>\n                  {formatMessage({\n                    id: 'app.components.GuidedTour.skip',\n                    defaultMessage: 'Skip the tour',\n                  })}\n                </Button>\n              </Flex>\n            )}\n          </Flex>\n        </FocusTrap>\n      </ModalWrapper>\n    </Portal>\n  );\n};\n\nconst ModalWrapper = styled(Flex)`\n  position: fixed;\n  z-index: 4;\n  inset: 0;\n  /* this is theme.colors.neutral800 with opacity */\n  background: ${({ theme }) => `${theme.colors.neutral800}1F`};\n`;\n\n/* -------------------------------------------------------------------------------------------------\n * GuidedTourStepper\n * -----------------------------------------------------------------------------------------------*/\n\ninterface GuidedTourStepperProps {\n  title: MessageDescriptor;\n  children: React.ReactNode;\n  cta?: {\n    title: MessageDescriptor;\n    target?: string;\n  };\n  onCtaClick: () => void;\n  sectionIndex: number;\n  stepIndex: number;\n  hasSectionAfter: boolean;\n}\n\nconst GuidedTourStepper = ({\n  title,\n  children,\n  cta,\n  onCtaClick,\n  sectionIndex,\n  stepIndex,\n  hasSectionAfter,\n}: GuidedTourStepperProps) => {\n  const { formatMessage } = useIntl();\n\n  const hasSectionBefore = sectionIndex > 0;\n  const hasStepsBefore = stepIndex > 0;\n  const nextSectionIndex = sectionIndex + 1;\n\n  return (\n    <>\n      <Flex alignItems=\"stretch\">\n        <Flex marginRight={8} justifyContent=\"center\" minWidth={pxToRem(30)}>\n          {hasSectionBefore && <VerticalDivider state={STATES.IS_DONE} minHeight={pxToRem(24)} />}\n        </Flex>\n        <Typography variant=\"sigma\" textColor=\"primary600\">\n          {formatMessage({\n            id: 'app.components.GuidedTour.title',\n            defaultMessage: '3 steps to get started',\n          })}\n        </Typography>\n      </Flex>\n      <Flex>\n        <Flex marginRight={8} minWidth={pxToRem(30)}>\n          <Number\n            state={hasStepsBefore ? STATES.IS_DONE : STATES.IS_ACTIVE}\n            paddingTop={3}\n            paddingBottom={3}\n          >\n            {sectionIndex + 1}\n          </Number>\n        </Flex>\n        <Typography variant=\"alpha\" fontWeight=\"bold\" textColor=\"neutral800\" as=\"h3\" id=\"title\">\n          {formatMessage(title)}\n        </Typography>\n      </Flex>\n      <Flex alignItems=\"stretch\">\n        <Flex marginRight={8} direction=\"column\" justifyContent=\"center\" minWidth={pxToRem(30)}>\n          {hasSectionAfter && (\n            <>\n              <VerticalDivider state={STATES.IS_DONE} />\n              {hasStepsBefore && (\n                <Number state={STATES.IS_ACTIVE} paddingTop={3}>\n                  {nextSectionIndex + 1}\n                </Number>\n              )}\n            </>\n          )}\n        </Flex>\n        <Box>\n          {children}\n          {cta &&\n            (cta.target ? (\n              <LinkButton\n                as={NavLink}\n                endIcon={<ArrowRight />}\n                onClick={onCtaClick}\n                // @ts-expect-error - types are not inferred correctly through the as prop.\n                to={cta.target}\n              >\n                {formatMessage(cta.title)}\n              </LinkButton>\n            ) : (\n              <Button endIcon={<ArrowRight />} onClick={onCtaClick}>\n                {formatMessage(cta.title)}\n              </Button>\n            ))}\n        </Box>\n      </Flex>\n      {hasStepsBefore && hasSectionAfter && (\n        <Box paddingTop={3}>\n          <Flex marginRight={8} justifyContent=\"center\" width={pxToRem(30)}>\n            <VerticalDivider state={STATES.IS_DONE} minHeight={pxToRem(24)} />\n          </Flex>\n        </Box>\n      )}\n    </>\n  );\n};\n\n/* -------------------------------------------------------------------------------------------------\n * GuidedTourContent\n * -----------------------------------------------------------------------------------------------*/\n\ninterface GuidedTourContentProps\n  extends Required<Pick<MessageDescriptor, 'defaultMessage' | 'id'>> {}\n\nconst GuidedTourContent = ({ id, defaultMessage }: GuidedTourContentProps) => {\n  const { formatMessage } = useIntl();\n\n  return (\n    <Flex direction=\"column\" alignItems=\"stretch\" gap={4} paddingBottom={6}>\n      {formatMessage(\n        { id, defaultMessage },\n        {\n          documentationLink: DocumentationLink,\n          b: Bold,\n          p: Paragraph,\n          light: Light,\n          ul: List,\n          li: ListItem,\n        }\n      )}\n    </Flex>\n  );\n};\n\nconst DocumentationLink = (children: React.ReactNode) => (\n  <Typography\n    as=\"a\"\n    textColor=\"primary600\"\n    target=\"_blank\"\n    rel=\"noopener noreferrer\"\n    href=\"https://docs.strapi.io/developer-docs/latest/developer-resources/database-apis-reference/rest-api.html#api-parameters\"\n  >\n    {children}\n  </Typography>\n);\n\nconst Bold = (children: React.ReactNode) => (\n  <Typography fontWeight=\"semiBold\">{children}</Typography>\n);\n\nconst Paragraph = (children: React.ReactNode) => <Typography>{children}</Typography>;\n\nconst Light = (children: React.ReactNode) => (\n  <Typography textColor=\"neutral600\">{children}</Typography>\n);\n\nconst List = (children: React.ReactNode) => (\n  <Box paddingLeft={6}>\n    <ul>{children}</ul>\n  </Box>\n);\n\nconst LiStyled = styled.li`\n  list-style: disc;\n  &::marker {\n    color: ${({ theme }) => theme.colors.neutral800};\n  }\n`;\n\nconst ListItem = (children: React.ReactNode) => <LiStyled>{children}</LiStyled>;\n\nexport { GuidedTourModal };\n","import * as React from 'react';\n\nimport { Box, Divider, Flex, FocusTrap, Typography } from '@strapi/design-system';\nimport {\n  MainNav,\n  NavBrand,\n  NavCondense,\n  NavFooter,\n  NavLink,\n  NavSection,\n  NavSections,\n  NavUser,\n} from '@strapi/design-system/v2';\nimport {\n  auth,\n  getFetchClient,\n  useAppInfo,\n  usePersistentState,\n  useTracking,\n} from '@strapi/helper-plugin';\nimport { Exit, Write } from '@strapi/icons';\nimport { useIntl } from 'react-intl';\nimport { NavLink as RouterNavLink, useHistory, useLocation } from 'react-router-dom';\nimport styled from 'styled-components';\n\nimport { useConfiguration } from '../contexts/configuration';\nimport { Menu } from '../hooks/useMenu';\n\nconst LinkUserWrapper = styled(Box)`\n  width: ${150 / 16}rem;\n  position: absolute;\n  bottom: ${({ theme }) => theme.spaces[9]};\n  left: ${({ theme }) => theme.spaces[5]};\n`;\n\nconst LinkUser = styled(RouterNavLink)<{ logout?: boolean }>`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  text-decoration: none;\n  padding: ${({ theme }) => `${theme.spaces[2]} ${theme.spaces[4]}`};\n  border-radius: ${({ theme }) => theme.spaces[1]};\n\n  &:hover {\n    background: ${({ theme, logout }) =>\n      logout ? theme.colors.danger100 : theme.colors.primary100};\n    text-decoration: none;\n  }\n\n  svg {\n    path {\n      fill: ${({ theme }) => theme.colors.danger600};\n    }\n  }\n`;\n\ninterface LeftMenuProps extends Pick<Menu, 'generalSectionLinks' | 'pluginsSectionLinks'> {}\n\nconst LeftMenu = ({ generalSectionLinks, pluginsSectionLinks }: LeftMenuProps) => {\n  const navUserRef = React.useRef<HTMLDivElement>(null!);\n  const [userLinksVisible, setUserLinksVisible] = React.useState(false);\n  const {\n    logos: { menu },\n  } = useConfiguration();\n  const [condensed, setCondensed] = usePersistentState('navbar-condensed', false);\n  const { userDisplayName } = useAppInfo();\n  const { formatMessage } = useIntl();\n  const { trackUsage } = useTracking();\n  const { pathname } = useLocation();\n  const history = useHistory();\n  const { post } = getFetchClient();\n\n  const initials = userDisplayName\n    .split(' ')\n    .map((name) => name.substring(0, 1))\n    .join('')\n    .substring(0, 2);\n\n  const handleToggleUserLinks = () => setUserLinksVisible((prev) => !prev);\n\n  const handleLogout = async () => {\n    await post('/admin/logout');\n    auth.clearAppStorage();\n    handleToggleUserLinks();\n    history.push('/auth/login');\n  };\n\n  const handleBlur: React.FocusEventHandler = (e) => {\n    if (\n      !e.currentTarget.contains(e.relatedTarget) &&\n      /**\n       * TODO: can we replace this by just using the navUserRef?\n       */\n      e.relatedTarget?.parentElement?.id !== 'main-nav-user-button'\n    ) {\n      setUserLinksVisible(false);\n    }\n  };\n\n  const handleClickOnLink = (destination: string) => {\n    trackUsage('willNavigate', { from: pathname, to: destination });\n  };\n\n  const menuTitle = formatMessage({\n    id: 'app.components.LeftMenu.navbrand.title',\n    defaultMessage: 'MotorsEra Dashboard',\n  });\n\n  return (\n    <MainNav condensed={condensed}>\n      <NavBrand\n        as={RouterNavLink}\n        workplace={formatMessage({\n          id: 'app.components.LeftMenu.navbrand.workplace',\n          defaultMessage: 'Workplace',\n        })}\n        title={menuTitle}\n        icon={\n          <img\n            src={menu.custom || menu.default}\n            alt={formatMessage({\n              id: 'app.components.LeftMenu.logo.alt',\n              defaultMessage: 'Application logo',\n            })}\n          />\n        }\n      />\n\n      <Divider />\n\n      <NavSections>\n        <NavLink\n          as={RouterNavLink}\n          // @ts-expect-error the props from the passed as prop are not inferred // joined together\n          to=\"/content-manager\"\n          icon={<Write />}\n          onClick={() => handleClickOnLink('/content-manager')}\n        >\n          {formatMessage({ id: 'global.content-manager', defaultMessage: 'Content manager' })}\n        </NavLink>\n\n        {pluginsSectionLinks.length > 0 ? (\n          <NavSection\n            label={formatMessage({\n              id: 'app.components.LeftMenu.plugins',\n              defaultMessage: 'Plugins',\n            })}\n          >\n            {pluginsSectionLinks.map((link) => {\n              const Icon = link.icon;\n\n              return (\n                <NavLink\n                  as={RouterNavLink}\n                  // @ts-expect-error the props from the passed as prop are not inferred // joined together\n                  to={link.to}\n                  key={link.to}\n                  icon={<Icon />}\n                  onClick={() => handleClickOnLink(link.to)}\n                >\n                  {formatMessage(link.intlLabel)}\n                </NavLink>\n              );\n            })}\n          </NavSection>\n        ) : null}\n\n        {generalSectionLinks.length > 0 ? (\n          <NavSection\n            label={formatMessage({\n              id: 'app.components.LeftMenu.general',\n              defaultMessage: 'General',\n            })}\n          >\n            {generalSectionLinks.map((link) => {\n              const LinkIcon = link.icon;\n\n              return (\n                <NavLink\n                  as={RouterNavLink}\n                  badgeContent={\n                    link.notificationsCount && link.notificationsCount > 0\n                      ? link.notificationsCount.toString()\n                      : undefined\n                  }\n                  // @ts-expect-error the props from the passed as prop are not inferred // joined together\n                  to={link.to}\n                  key={link.to}\n                  icon={<LinkIcon />}\n                  onClick={() => handleClickOnLink(link.to)}\n                >\n                  {formatMessage(link.intlLabel)}\n                </NavLink>\n              );\n            })}\n          </NavSection>\n        ) : null}\n      </NavSections>\n\n      <NavFooter>\n        <NavUser\n          id=\"main-nav-user-button\"\n          ref={navUserRef}\n          onClick={handleToggleUserLinks}\n          initials={initials}\n        >\n          {userDisplayName}\n        </NavUser>\n        {userLinksVisible && (\n          <LinkUserWrapper\n            onBlur={handleBlur}\n            padding={1}\n            shadow=\"tableShadow\"\n            background=\"neutral0\"\n            hasRadius\n          >\n            <FocusTrap onEscape={handleToggleUserLinks}>\n              <Flex direction=\"column\" alignItems=\"stretch\" gap={0}>\n                <LinkUser tabIndex={0} onClick={handleToggleUserLinks} to=\"/me\">\n                  <Typography>\n                    {formatMessage({\n                      id: 'global.profile',\n                      defaultMessage: 'Profile',\n                    })}\n                  </Typography>\n                </LinkUser>\n                <LinkUser tabIndex={0} onClick={handleLogout} to=\"/auth/login\">\n                  <Typography textColor=\"danger600\">\n                    {formatMessage({\n                      id: 'app.components.LeftMenu.logout',\n                      defaultMessage: 'Logout',\n                    })}\n                  </Typography>\n                  <Exit />\n                </LinkUser>\n              </Flex>\n            </FocusTrap>\n          </LinkUserWrapper>\n        )}\n\n        <NavCondense onClick={() => setCondensed((s) => !s)}>\n          {condensed\n            ? formatMessage({\n                id: 'app.components.LeftMenu.expand',\n                defaultMessage: 'Expand the navbar',\n              })\n            : formatMessage({\n                id: 'app.components.LeftMenu.collapse',\n                defaultMessage: 'Collapse the navbar',\n              })}\n        </NavCondense>\n      </NavFooter>\n    </MainNav>\n  );\n};\n\nexport { LeftMenu };\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHAAAABQCAMAAAD2kgFPAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAJcEhZcwAAFiUAABYlAUlSJPAAAAL9UExURff3+fv7+/X19/Pz9/n5+fv7/f39//////39/UdwTPn5+/X1+fHx++/v8fn5/fHx8/Pz9eTk6e/v8/Hx9fHx/e3u7/X19e3t8evr7+fn6YuR96Gl+OLi59LS2dTU2uvr++nq7ff39+Tk697e4ufn6+vr7enq69ra3tDQ1uDg5/nv7+Dg5Nzc4Nzd4tTU2OTk5+fn7djY3tzc5M/Q1NjY3NLS1tbX3MzM0u/w9crK0unp7+np+/37+8rK0MjIzu/v78PEy9ra4djY4eLi6t7e5NbW2s7O1OLk5+/v/Ojp/dra5MPF9+3u89bX3mxz99DQ2fj4+OLi5PHx8dvb29ze+/f3/7C1+t7e5+vr69PX2OPk/Jydl/T09/f393R7+Gdw96ytuNTU3M7O2ODg6a6vumJq9+3u/dTW/PP19cXGzd7e4O3t7cnK+/f3+uLk683O+Z2h+dLU+9/h++no3/j39bq0pu/v7fv7+fHz9XF4911l93V8+bm5waGirffr7Kqrtq+z9qentF9o93mA+fj4+vr6++/v7/f3++vt+83N0/Pz8+vr8dbY+sjJ98zO1crM0vn5//Pz/ra6n/n59d/g4quvp9fa2OTn66Shm8C2prCuq+/r67Gxr9LLvbCwrcfEwK+vqZSahtPVw5WafKiknff5+ZqapvHw7fv4+YGH9dnb++Tn/Ly8xvfo6Oq5v////6WlsNrc3vPz+dLU2Ovr/eTn+drc4JWXo6Wp+cLE++nr74+T+enr4s7Q1m5098bArefk5Nze0ODc1Pf3/MC8tuDi0KWrh/n39+Tk4qmv+77Cqdjc3PX1/c7S0vv7/7ixo/Px7Z+jh62x+8rMtrS6pZebjY+Rn9bayKuvm+vp5+np6aWrjVJa9fX38bi895+fm1pk9620oevp6bS0r+fp6fv19VZg9fn19X6F+fnz89LS3MDAyPXi4uextvX1+vPW2OCVnYmJl9zc4Xh4iff3+mdy97y8xPf3977C96mpsbS29YeHlamv84qS87i89VXx8BYAAAD/dFJOU319fX19fX19fQB9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19bX19fX19fX19fX19Lwd9fX19fX19fX19fX19fX1lfX19fX19fX19fX19fX19fX19fX19fW1dED59fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX0PfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX1mfX19bX1eXn0/fX19fX0/fSWruQsAAAbiSURBVGje7VkFcBtHFD2SbnXO9UA56dRIiiRbFFlmiO3asWKIE0MYGrQbZmjDDA1T06RJ03DSJA2XMaWUmZmZmWm6ki3lTie59kTSlJ40p5nV//tud//b/28P0WiG/PgdkhBMHKzRaBDNyWXSRoqi4ki57CQk/MZsKna58pqa0N4gnoNcNgQZzBV8ml9aYMYaW4DQRKjvDC8MG7TkG0ff+gmobifD78gXYQZE0++8b08tXFg/4uf6H46VLh5Rf/P8TERtXG1ykkmtI7zmtZFLhtW9NWfOnCUjhy0Z+T2CJOFYJMOS+YtPzV884teDX8879sKIhfUHSxG1AzH0ajXhB3UjPxpaVzd37uyls5cunRv30Fx0vhxRDfXdLLbhZWU2W1mGGNtbEPuXdStz+2ycu/+kbmv4YLOWZ3merdEyNSweW0KMxXkW1+J4RwxeMeRfCIbhMsu7/LUd0QgkSYkW8TS5wznVlg93W8LnEiUooAIqFYBQkxBnSIxkMStJVLUPoah90cCqlSurWkSI6ijdGGv0v0Wv3iaIa1i9KLJ+QoR0Wk0l2YCo6jO5unpq9dTJkyesW7uu+oZp09q0iLDXvOQNG0r9uxbtNdU2hIcidV4YELTpt40C17WIsMk9oAyapxMbNxiCR4uRWAP2TNOZ3S/KCmdEyfggEORQ9Xh4kKPkM8O6AjbIS/BWfZLED+N5StmbisEZRttRTzVD2LZtUdW09gPbFx0tatuE0Y2E/YYeVYlI0E7ELYjET68vJJS9nZdRc1shq7dgzRIeKfrtj0W//LTojTDCOE2pMsjb3BiQhSo+gF3jOJNhKQwPUgqcBdqhER+Cc4efUOvL8nFKwhxn/tjKtNLTY12HO3z15ecnTiz4ODaEkUEBgoKqIRAdgR3u8NmC4wuOd3g/noSoWoILGgHU5w7/jGpxbQ28dJRl3/AoPfR6jKIUqcnKstkm2fpnZOlZGSFBqUgQtLt6/9vvSf0Y/19qENYbgIpHSQBvFk6ekgy2NZO9SIqk1Pag7Ttvvttb6pu3Ps9lTtvsqsiTtmLpnC83L8fpyjXlmpMVhDYS+IKbN6YkBNINaubunWiMphTh9d0L1tcqMj6IDwKdszgeYYR9u6old/bsi1SsRohhs3heVBK2mz1QLQTthOe3Xyj1q8xJ3uwZZ/A5jbI17GlPyUlNTk31jHN6DQoyhgLuQNVm7l7bWZkPb719FBnKCIcOTJ8h9bVi8GO16hCdLAxR1N9E6HSsDlOmDGjLNBOlcnR6KlY6RFitODzFlrCM799qyt1eZV1KEqhU+E+/5EiE8EML/8qgXVdIfbPHZhfkrrp2bL5J2sqmJptL8nOzi9fnFxekKgjLUOB/rub58obMCEGjVoGzI7x8986Z5zydsDcQkMXWQguPJG4No25tslXYt08Vs62N8TaYvUnKNVSh6tVBuxl798iE7/QYuRSO5jhB2koYGCHZ4PBwKV2MnF5BhlPqxsqC1uJshKChUDIk3qsOPPmy1LeXIIgMzToYWtqK6nS0vRNNC+P1gqgUPrwFfYuFP+DiWK5hCwhjFzSF/WuzOnd2uwt9fEcZ4dp+l52VxSWvPueQb4ugMc7lcY8GhA+iC5+CETqLhV8Ww5iwmmbKsD4glPHtg3bIhJ/mMpucuelpabK8jqVyqdkVOea0nOtzTR4FYQoKvM1MadcJfSUjvO+uB2MlfP+hgrtLAoUf5VAhzPCe++MepVD4gAmlw71bZMLvnZ5ucBhpe0+ZDokuUPgpnJETofDtkYSfEjhUKP8ks0G5eaOoVPjbpt8t9XUYOU+6gfZYZIUEytMOzmB39OzJGThaQZgBv1EPFeIr/AiHCnEMmmiHCgMnnJHI4oFNjGzySEBGVDZsD2g+ovChX3DzjpCeptT1AaEdf8CgHbKgcbnSXBUmoykvRyb8ZKMnrSIzz2Q2myKV+iHhY0laJeGRfhLhW/dcqWulxqOOkOFNp7v78IRm/BZkiztiF6WRDxX85zRFIKTDGfu3PCr1SxcEmGd1jMDKhD9+jE6kRZHWdrILSh3CTsVAXZqa5eWUhA8P7UqGuuu0bfpDso3fuJXjDILHIBc+LQgp6XaHMd1o4HpFyvgZzUzpE49Jn5563wv+qRk/ej6culFSCG96RBc74UcmnHJnH2A5K/xdj0t9S0oLirMrvSWrKmSlvvMmZ3GBuTI/u7IkX1nqW1BQ2wzh6FskNY11eyuFH2kC4DJRf581/B+tQHzfK4e9ZsIQBkFHbURgLQMfX9x4vAlh1sMhIYnAhxhYxVgSNE6C+E+F0KWJpZuIrEgs4WBkSI9E8vXQIJrlCWTssRwSajSDJyYoXFYM0Wj+BNjsk7mwYOwbAAAAAElFTkSuQmCC\"","import * as React from 'react';\n\nimport {\n  Box,\n  Button,\n  Divider,\n  Flex,\n  Icon,\n  PopoverPrimitives,\n  Portal,\n  Typography,\n  VisuallyHidden,\n} from '@strapi/design-system';\nimport { useAppInfo } from '@strapi/helper-plugin';\nimport { Cross, Message, Play, Question, Book, PaperPlane } from '@strapi/icons';\nimport { useIntl } from 'react-intl';\nimport styled from 'styled-components';\n\nimport onboardingPreview from '../assets/images/onboarding-preview.png';\n\nconst Onboarding = () => {\n  const triggerRef = React.useRef<HTMLButtonElement>(null!);\n  const [isOpen, setIsOpen] = React.useState(false);\n  const { formatMessage } = useIntl();\n  const { communityEdition } = useAppInfo();\n\n  const handlePopoverVisibility = () => {\n    setIsOpen((prev) => !prev);\n  };\n\n  const docLinks = [\n    ...DOCUMENTATION_LINKS,\n    {\n      label: { id: 'Settings.application.get-help', defaultMessage: 'Get help' },\n      icon: Message,\n      href: communityEdition\n        ? 'https://discord.strapi.io'\n        : 'https://support.strapi.io/support/home',\n    },\n  ];\n\n  return (\n    <Box as=\"aside\" position=\"fixed\" bottom={2} right={2}>\n      <HelperButton\n        aria-label={formatMessage(\n          isOpen\n            ? {\n                id: 'app.components.Onboarding.help.button-close',\n                defaultMessage: 'Close help menu',\n              }\n            : {\n                id: 'app.components.Onboarding.help.button',\n                defaultMessage: 'Open help menu',\n              }\n        )}\n        onClick={handlePopoverVisibility}\n        ref={triggerRef}\n      >\n        <Icon as={isOpen ? Cross : Question} color=\"buttonNeutral0\" />\n      </HelperButton>\n\n      {isOpen && (\n        <Portal>\n          <PopoverPrimitives.Content\n            padding={0}\n            onDismiss={handlePopoverVisibility}\n            source={triggerRef}\n            placement=\"top-end\"\n            spacing={12}\n          >\n            <Flex\n              justifyContent=\"space-between\"\n              paddingBottom={5}\n              paddingRight={6}\n              paddingLeft={6}\n              paddingTop={6}\n            >\n              <TypographyLineHeight fontWeight=\"bold\">\n                {formatMessage({\n                  id: 'app.components.Onboarding.title',\n                  defaultMessage: 'Get started videos',\n                })}\n              </TypographyLineHeight>\n              <TextLink\n                as=\"a\"\n                href={WATCH_MORE.href}\n                target=\"_blank\"\n                rel=\"noreferrer noopener\"\n                variant=\"pi\"\n                textColor=\"primary600\"\n              >\n                {formatMessage(WATCH_MORE.label)}\n              </TextLink>\n            </Flex>\n            <Divider />\n            {VIDEO_LINKS.map(({ href, duration, label }, index) => (\n              <VideoLinkWrapper\n                as=\"a\"\n                href={href}\n                target=\"_blank\"\n                rel=\"noreferrer noopener\"\n                key={href}\n                hasRadius\n                paddingTop={4}\n                paddingBottom={4}\n                paddingLeft={6}\n                paddingRight={11}\n              >\n                <Box paddingRight={5}>\n                  <Typography textColor=\"neutral200\" variant=\"alpha\">\n                    {index + 1}\n                  </Typography>\n                </Box>\n                <Box position=\"relative\">\n                  <Preview src={onboardingPreview} alt=\"\" />\n                  <IconWrapper\n                    position=\"absolute\"\n                    top=\"50%\"\n                    left=\"50%\"\n                    background=\"primary600\"\n                    borderRadius=\"50%\"\n                    justifyContent=\"center\"\n                    width={6}\n                    height={6}\n                  >\n                    <Icon as={Play} color=\"buttonNeutral0\" width={3} height={3} />\n                  </IconWrapper>\n                </Box>\n                <Flex direction=\"column\" alignItems=\"start\" paddingLeft={4}>\n                  <Typography fontWeight=\"bold\">{formatMessage(label)}</Typography>\n                  <VisuallyHidden>:</VisuallyHidden>\n                  <Typography textColor=\"neutral600\" variant=\"pi\">\n                    {duration}\n                  </Typography>\n                </Flex>\n              </VideoLinkWrapper>\n            ))}\n            <Flex\n              direction=\"column\"\n              alignItems=\"stretch\"\n              gap={2}\n              paddingLeft={5}\n              paddingTop={2}\n              paddingBottom={5}\n            >\n              {docLinks.map(({ label, href, icon }) => (\n                <Flex gap={3} key={href}>\n                  <Icon as={icon} color=\"primary600\" />\n                  <TextLink\n                    as=\"a\"\n                    href={href}\n                    target=\"_blank\"\n                    rel=\"noreferrer noopener\"\n                    variant=\"sigma\"\n                    textColor=\"primary700\"\n                  >\n                    {formatMessage(label)}\n                  </TextLink>\n                </Flex>\n              ))}\n            </Flex>\n          </PopoverPrimitives.Content>\n        </Portal>\n      )}\n    </Box>\n  );\n};\n\n// TODO: use new Button props derived from Box props with next DS release\nconst HelperButton = styled(Button)`\n  border-radius: 50%;\n  padding: ${({ theme }) => theme.spaces[3]};\n  /* Resetting 2rem height defined by Button component */\n  height: 100%;\n`;\n\nconst IconWrapper = styled(Flex)`\n  transform: translate(-50%, -50%);\n`;\n\nconst VideoLinkWrapper = styled(Flex)`\n  text-decoration: none;\n\n  :focus-visible {\n    outline-offset: ${({ theme }) => `-${theme.spaces[1]}`};\n  }\n\n  :hover {\n    background: ${({ theme }) => theme.colors.primary100};\n\n    /* Hover style for the number displayed */\n    ${Typography}:first-child {\n      color: ${({ theme }) => theme.colors.primary500};\n    }\n\n    /* Hover style for the label */\n    ${Typography}:nth-child(1) {\n      color: ${({ theme }) => theme.colors.primary600};\n    }\n  }\n`;\n\nconst Preview = styled.img`\n  width: ${({ theme }) => theme.spaces[10]};\n  height: ${({ theme }) => theme.spaces[8]};\n  /* Same overlay used in ModalLayout */\n  background: ${({ theme }) => `${theme.colors.neutral800}1F`};\n  border-radius: ${({ theme }) => theme.borderRadius};\n`;\n\nconst TypographyLineHeight = styled(Typography)`\n  /* line height of label and watch more to 1 so they can be better aligned visually */\n  line-height: 1;\n`;\n\nconst TextLink = styled(TypographyLineHeight)`\n  text-decoration: none;\n\n  :hover {\n    text-decoration: underline;\n  }\n`;\n\nconst VIDEO_LINKS = [\n  {\n    label: {\n      id: 'app.components.Onboarding.link.build-content',\n      defaultMessage: 'Build a content architecture',\n    },\n    href: 'https://www.youtube.com/watch?v=G9GjN0RxhkE',\n    duration: '5:48',\n  },\n  {\n    label: {\n      id: 'app.components.Onboarding.link.manage-content',\n      defaultMessage: 'Add & manage content',\n    },\n    href: 'https://www.youtube.com/watch?v=DEZw4KbybAI',\n    duration: '3:18',\n  },\n  {\n    label: { id: 'app.components.Onboarding.link.manage-media', defaultMessage: 'Manage media' },\n    href: 'https://www.youtube.com/watch?v=-61MuiMQb38',\n    duration: '3:41',\n  },\n];\n\nconst WATCH_MORE = {\n  href: 'https://www.youtube.com/playlist?list=PL7Q0DQYATmvidz6lEmwE5nIcOAYagxWqq',\n  label: {\n    id: 'app.components.Onboarding.link.more-videos',\n    defaultMessage: 'Watch more videos',\n  },\n};\n\nconst DOCUMENTATION_LINKS = [\n  {\n    label: { id: 'global.documentation', defaultMessage: 'documentation' },\n    href: 'https://docs.strapi.io',\n    icon: Book,\n  },\n  {\n    label: { id: 'app.static.links.cheatsheet', defaultMessage: 'cheatsheet' },\n    href: 'https://strapi-showcase.s3-us-west-2.amazonaws.com/CheatSheet.pdf',\n    icon: PaperPlane,\n  },\n];\n\nexport { Onboarding };\n","import { createTypedSelector } from './core/store/hooks';\n\nexport const selectAdminPermissions = createTypedSelector((state) => state.admin_app.permissions);\n","import * as React from 'react';\n\nimport {\n  Permission,\n  hasPermissions,\n  useAppInfo,\n  useRBACProvider,\n  useStrapiApp,\n  StrapiAppContextValue,\n} from '@strapi/helper-plugin';\nimport { Cog, Puzzle, ShoppingCart } from '@strapi/icons';\nimport cloneDeep from 'lodash/cloneDeep';\nimport { useSelector } from 'react-redux';\n\nimport { selectAdminPermissions } from '../selectors';\n\n/* -------------------------------------------------------------------------------------------------\n * useMenu\n * -----------------------------------------------------------------------------------------------*/\n\ntype MenuItem = StrapiAppContextValue['menu'][number];\n\nexport interface Menu {\n  generalSectionLinks: MenuItem[];\n  pluginsSectionLinks: MenuItem[];\n  isLoading: boolean;\n}\n\nconst useMenu = () => {\n  const { allPermissions: userPermissions } = useRBACProvider();\n  const { shouldUpdateStrapi } = useAppInfo();\n  const { menu } = useStrapiApp();\n  const permissions = useSelector(selectAdminPermissions);\n  const [menuWithUserPermissions, setMenuWithUserPermissions] = React.useState<Menu>({\n    generalSectionLinks: [\n      {\n        icon: Puzzle,\n        intlLabel: {\n          id: 'global.plugins',\n          defaultMessage: 'Plugins',\n        },\n        to: '/list-plugins',\n        // @ts-expect-error - we need the permissions type from the plugin\n        permissions: permissions.marketplace.main,\n      },\n      {\n        icon: ShoppingCart,\n        intlLabel: {\n          id: 'global.marketplace',\n          defaultMessage: 'Marketplace',\n        },\n        to: '/marketplace',\n        // @ts-expect-error - we need the permissions type from the plugin\n        permissions: permissions.marketplace.main,\n      },\n      {\n        icon: Cog,\n        intlLabel: {\n          id: 'global.settings',\n          defaultMessage: 'Settings',\n        },\n        to: '/settings',\n        // Permissions of this link are retrieved in the init phase\n        // using the settings menu\n        permissions: [],\n        notificationsCount: 0,\n      },\n    ],\n    pluginsSectionLinks: [],\n    isLoading: true,\n  });\n  const generalSectionLinksRef = React.useRef(menuWithUserPermissions.generalSectionLinks);\n\n  React.useEffect(() => {\n    async function applyMenuPermissions() {\n      const authorizedPluginSectionLinks = await getPluginSectionLinks(userPermissions, menu);\n\n      const authorizedGeneralSectionLinks = await getGeneralLinks(\n        userPermissions,\n        generalSectionLinksRef.current,\n        shouldUpdateStrapi\n      );\n\n      setMenuWithUserPermissions((state) => ({\n        ...state,\n        generalSectionLinks: authorizedGeneralSectionLinks,\n        pluginsSectionLinks: authorizedPluginSectionLinks,\n        isLoading: false,\n      }));\n    }\n\n    applyMenuPermissions();\n  }, [\n    setMenuWithUserPermissions,\n    generalSectionLinksRef,\n    userPermissions,\n    menu,\n    permissions,\n    shouldUpdateStrapi,\n  ]);\n\n  return menuWithUserPermissions;\n};\n\n/* -------------------------------------------------------------------------------------------------\n * Utils\n * -----------------------------------------------------------------------------------------------*/\n\nconst getGeneralLinks = async (\n  userPermissions: Permission[],\n  generalSectionRawLinks: MenuItem[],\n  shouldUpdateStrapi: boolean = false\n) => {\n  const generalSectionLinksPermissions = await Promise.all(\n    generalSectionRawLinks.map(({ permissions }) => hasPermissions(userPermissions, permissions))\n  );\n\n  const authorizedGeneralSectionLinks = generalSectionRawLinks.filter(\n    (_, index) => generalSectionLinksPermissions[index]\n  );\n\n  const settingsLinkIndex = authorizedGeneralSectionLinks.findIndex(\n    (obj) => obj.to === '/settings'\n  );\n\n  if (settingsLinkIndex === -1) {\n    return [];\n  }\n\n  const authorizedGeneralLinksClone = cloneDeep(authorizedGeneralSectionLinks);\n\n  authorizedGeneralLinksClone[settingsLinkIndex].notificationsCount = shouldUpdateStrapi ? 1 : 0;\n\n  return authorizedGeneralLinksClone;\n};\n\nconst getPluginSectionLinks = async (\n  userPermissions: Permission[],\n  pluginsSectionRawLinks: MenuItem[]\n) => {\n  const pluginSectionLinksPermissions = await Promise.all(\n    pluginsSectionRawLinks.map(({ permissions }) => hasPermissions(userPermissions, permissions))\n  );\n\n  const authorizedPluginSectionLinks = pluginsSectionRawLinks.filter(\n    (_, index) => pluginSectionLinksPermissions[index]\n  );\n\n  return authorizedPluginSectionLinks;\n};\n\nexport { useMenu };\n","import * as React from 'react';\n\nimport { Box, Flex, SkipToContent } from '@strapi/design-system';\nimport { useIntl } from 'react-intl';\nimport styled from 'styled-components';\n\nconst FlexBox = styled(Box)`\n  flex: 1;\n`;\n\ninterface AppLayoutProps {\n  children: React.ReactNode;\n  sideNav: React.ReactNode;\n}\n\nexport const AppLayout = ({ children, sideNav }: AppLayoutProps) => {\n  const { formatMessage } = useIntl();\n\n  return (\n    <Box background=\"neutral100\">\n      <SkipToContent>\n        {formatMessage({ id: 'skipToContent', defaultMessage: 'Skip to content' })}\n      </SkipToContent>\n      <Flex alignItems=\"flex-start\">\n        {sideNav}\n        <FlexBox>{children}</FlexBox>\n      </Flex>\n    </Box>\n  );\n};\n","/**\n *\n * Admin\n *\n */\n\nimport * as React from 'react';\n\nimport { LoadingIndicatorPage, useStrapiApp, useTracking } from '@strapi/helper-plugin';\nimport { DndProvider } from 'react-dnd';\nimport { HTML5Backend } from 'react-dnd-html5-backend';\nimport { Route, Switch } from 'react-router-dom';\n\nimport { GuidedTourModal } from '../components/GuidedTour/Modal';\nimport { LeftMenu } from '../components/LeftMenu';\nimport { Onboarding } from '../components/Onboarding';\nimport { ACTION_SET_APP_RUNTIME_STATUS } from '../constants';\nimport { useConfiguration } from '../contexts/configuration';\nimport { useTypedDispatch, useTypedSelector } from '../core/store/hooks';\nimport { useMenu } from '../hooks/useMenu';\nimport { AppLayout } from '../layouts/AppLayout';\nimport { createRoute } from '../utils/createRoute';\n\nconst CM = React.lazy(\n  // @ts-expect-error ‚Äì No types, yet.\n  () => import('../content-manager/pages/App')\n);\nconst HomePage = React.lazy(() =>\n  import('./HomePage').then((mod) => ({\n    default: mod.HomePage,\n  }))\n);\nconst InstalledPluginsPage = React.lazy(() =>\n  import('./InstalledPluginsPage').then((mod) => ({\n    default: mod.ProtectedInstalledPluginsPage,\n  }))\n);\nconst MarketplacePage = React.lazy(() =>\n  import('./Marketplace/MarketplacePage').then((mod) => ({ default: mod.ProtectedMarketplacePage }))\n);\nconst NotFoundPage = React.lazy(() =>\n  import('./NotFoundPage').then(({ NotFoundPage }) => ({ default: NotFoundPage }))\n);\nconst InternalErrorPage = React.lazy(() =>\n  import('./InternalErrorPage').then(({ InternalErrorPage }) => ({\n    default: InternalErrorPage,\n  }))\n);\n\nconst ProfilePage = React.lazy(() =>\n  import('./ProfilePage').then((mod) => ({\n    default: mod.ProfilePage,\n  }))\n);\nconst SettingsPage = React.lazy(() =>\n  // @ts-expect-error ‚Äì No types, yet.\n  import('./SettingsPage').then((module) => ({\n    default: module.SettingsPage,\n  }))\n);\n\nconst Admin = () => {\n  const { trackUsage } = useTracking();\n  const dispatch = useTypedDispatch();\n  const appStatus = useTypedSelector((state) => state.admin_app.status);\n\n  const { isLoading, generalSectionLinks, pluginsSectionLinks } = useMenu();\n  const { menu } = useStrapiApp();\n  const { showTutorials } = useConfiguration();\n\n  React.useEffect(() => {\n    // Make sure the event is only send once after accessing the admin panel\n    // and not at runtime for example when regenerating the permissions with the ctb\n    // or with i18n\n    if (appStatus === 'init') {\n      trackUsage('didAccessAuthenticatedAdministration');\n\n      dispatch({ type: ACTION_SET_APP_RUNTIME_STATUS });\n    }\n  }, [appStatus, dispatch, trackUsage]);\n\n  const routes = React.useMemo(() => {\n    return (\n      menu\n        .filter((link) => link.Component)\n        // we've filtered out the links that don't have a component above\n        .map(({ to, Component, exact }) => createRoute(Component!, to, exact))\n    );\n  }, [menu]);\n\n  if (isLoading) {\n    return <LoadingIndicatorPage />;\n  }\n\n  return (\n    <DndProvider backend={HTML5Backend}>\n      <AppLayout\n        sideNav={\n          <LeftMenu\n            generalSectionLinks={generalSectionLinks}\n            pluginsSectionLinks={pluginsSectionLinks}\n          />\n        }\n      >\n        <React.Suspense fallback={<LoadingIndicatorPage />}>\n          <Switch>\n            <Route path=\"/\" component={HomePage} exact />\n            <Route path=\"/me\" component={ProfilePage} exact />\n            <Route path=\"/content-manager\" component={CM} />\n            {routes}\n            <Route path=\"/settings/:settingId\" component={SettingsPage} />\n            <Route path=\"/settings\" component={SettingsPage} exact />\n            <Route path=\"/marketplace\">\n              <MarketplacePage />\n            </Route>\n            <Route path=\"/list-plugins\" exact>\n              <InstalledPluginsPage />\n            </Route>\n            <Route path=\"/404\" component={NotFoundPage} />\n            <Route path=\"/500\" component={InternalErrorPage} />\n            <Route path=\"\" component={NotFoundPage} />\n          </Switch>\n        </React.Suspense>\n        <GuidedTourModal />\n\n        {showTutorials && <Onboarding />}\n      </AppLayout>\n    </DndProvider>\n  );\n};\n\nexport { Admin };\n","import * as React from 'react';\n\nimport {\n  LoadingIndicatorPage,\n  useStrapiApp,\n  type StrapiAppContextValue,\n} from '@strapi/helper-plugin';\nimport produce from 'immer';\nimport set from 'lodash/set';\n\nimport { Admin } from '../pages/Admin';\n\n/**\n * TODO: this isn't great, and we really should focus on fixing this.\n */\nconst PluginsInitializer = () => {\n  const { plugins: appPlugins } = useStrapiApp();\n  const [{ plugins }, dispatch] = React.useReducer<React.Reducer<State, Action>, State>(\n    reducer,\n    initialState,\n    () => init(appPlugins)\n  );\n  const setPlugin = React.useRef((pluginId: string) => {\n    dispatch({ type: 'SET_PLUGIN_READY', pluginId });\n  });\n\n  const hasApluginNotReady = Object.keys(plugins).some(\n    (plugin) => plugins[plugin].isReady === false\n  );\n\n  /**\n   *\n   * I have spent some time trying to understand what is happening here, and wanted to\n   * leave that knowledge for my future me:\n   *\n   * `initializer` is an undocumented property of the `registerPlugin` API. At the time\n   * of writing it seems only to be used by the i18n plugin.\n   *\n   * How does it work?\n   *\n   * Every plugin that has an `initializer` component defined, receives the\n   * `setPlugin` function as a component prop. In the case of i18n the plugin fetches locales\n   * first and calls `setPlugin` with `pluginId` once they are loaded, which then triggers the\n   * reducer of the admin app defined above.\n   *\n   * Once all plugins are set to `isReady: true` the app renders.\n   *\n   * This API is used to block rendering of the admin app. We should remove that in v5 completely\n   * and make sure plugins can inject data into the global store before they are initialized, to avoid\n   * having a new prop-callback based communication channel between plugins and the core admin app.\n   *\n   */\n\n  if (hasApluginNotReady) {\n    const initializers = Object.keys(plugins).reduce((acc, current) => {\n      const InitializerComponent = plugins[current].initializer;\n\n      if (InitializerComponent) {\n        const key = plugins[current].pluginId;\n\n        acc.push(<InitializerComponent key={key} setPlugin={setPlugin.current} />);\n      }\n\n      return acc;\n    }, [] as React.ReactNode[]);\n\n    return (\n      <>\n        {initializers}\n        <LoadingIndicatorPage />\n      </>\n    );\n  }\n\n  return <Admin />;\n};\n\n/* -------------------------------------------------------------------------------------------------\n * Reducer\n * -----------------------------------------------------------------------------------------------*/\n\ninterface State {\n  plugins: StrapiAppContextValue['plugins'];\n}\n\nconst initialState: State = {\n  plugins: {},\n};\n\ntype SetPluginReadyAction = {\n  type: 'SET_PLUGIN_READY';\n  pluginId: string;\n};\n\ntype Action = SetPluginReadyAction;\n\nconst reducer: React.Reducer<State, Action> = (state = initialState, action: Action): State =>\n  produce(state, (draftState) => {\n    switch (action.type) {\n      case 'SET_PLUGIN_READY': {\n        set(draftState, ['plugins', action.pluginId, 'isReady'], true);\n        break;\n      }\n      default:\n        return draftState;\n    }\n  });\n\n/* -------------------------------------------------------------------------------------------------\n * Init state\n * -----------------------------------------------------------------------------------------------*/\n\nconst init = (plugins: State['plugins']): State => {\n  return {\n    plugins: Object.keys(plugins).reduce<State['plugins']>((acc, current) => {\n      acc[current] = { ...plugins[current] };\n\n      return acc;\n    }, {}),\n  };\n};\n\nexport { PluginsInitializer };\n","import * as React from 'react';\n\nimport {\n  AppInfoProvider,\n  auth,\n  LoadingIndicatorPage,\n  useFetchClient,\n  useGuidedTour,\n} from '@strapi/helper-plugin';\nimport { useQueries } from 'react-query';\nimport lt from 'semver/functions/lt';\nimport valid from 'semver/functions/valid';\n//  TODO: DS add loader\n\nimport packageJSON from '../../../package.json';\nimport { useConfiguration } from '../contexts/configuration';\nimport { getFullName } from '../utils/getFullName';\nimport { hashAdminUserEmail } from '../utils/hashAdminUserEmail';\n\nimport { NpsSurvey } from './NpsSurvey';\nimport { PluginsInitializer } from './PluginsInitializer';\nimport { RBACProvider } from './RBACProvider';\n\nimport type { Information } from '../../../shared/contracts/admin';\nimport type { GetOwnPermissions, GetMe } from '../../../shared/contracts/users';\n\nconst strapiVersion = packageJSON.version;\n\nconst AuthenticatedApp = () => {\n  const { setGuidedTourVisibility } = useGuidedTour();\n  const userInfo = auth.get('userInfo');\n  const [userDisplayName, setUserDisplayName] = React.useState<string>(() =>\n    userInfo ? userInfo.username || getFullName(userInfo.firstname ?? '', userInfo.lastname) : ''\n  );\n  const [userId, setUserId] = React.useState<string>();\n  const { showReleaseNotification } = useConfiguration();\n  const { get } = useFetchClient();\n  const [\n    { data: appInfos, status },\n    { data: tagName, isLoading },\n    { data: permissions, status: fetchPermissionsStatus, refetch, isFetching },\n    { data: userRoles },\n  ] = useQueries([\n    {\n      queryKey: 'app-infos',\n      async queryFn() {\n        const { data } = await get<Information.Response>('/admin/information');\n\n        return data.data;\n      },\n    },\n    {\n      queryKey: 'strapi-release',\n      async queryFn() {\n        try {\n          const res = await fetch('https://api.github.com/repos/strapi/strapi/releases/latest');\n\n          if (!res.ok) {\n            throw new Error();\n          }\n\n          const response = (await res.json()) as { tag_name: string | null | undefined };\n\n          if (!response.tag_name) {\n            throw new Error();\n          }\n\n          return response.tag_name;\n        } catch (err) {\n          // Don't throw an error\n          return strapiVersion;\n        }\n      },\n      enabled: showReleaseNotification,\n      initialData: strapiVersion,\n    },\n    {\n      queryKey: 'admin-users-permission',\n      async queryFn() {\n        const { data } = await get<GetOwnPermissions.Response>('/admin/users/me/permissions');\n\n        return data.data;\n      },\n      initialData: [],\n    },\n    {\n      queryKey: 'user-roles',\n      async queryFn() {\n        const {\n          data: {\n            data: { roles },\n          },\n        } = await get<GetMe.Response>('/admin/users/me');\n\n        return roles;\n      },\n    },\n  ]);\n\n  const shouldUpdateStrapi = checkLatestStrapiVersion(strapiVersion, tagName);\n\n  /**\n   * TODO: does this actually need to be an effect?\n   */\n  React.useEffect(() => {\n    if (userRoles) {\n      const isUserSuperAdmin = userRoles.find(({ code }) => code === 'strapi-super-admin');\n\n      if (isUserSuperAdmin && appInfos?.autoReload) {\n        setGuidedTourVisibility(true);\n      }\n    }\n  }, [userRoles, appInfos, setGuidedTourVisibility]);\n\n  React.useEffect(() => {\n    const getUserId = async () => {\n      if (userInfo) {\n        const userId = await hashAdminUserEmail(userInfo);\n\n        if (userId) {\n          setUserId(userId);\n        }\n      }\n    };\n\n    getUserId();\n  }, [userInfo]);\n\n  // We don't need to wait for the release query to be fetched before rendering the plugins\n  // however, we need the appInfos and the permissions\n  const shouldShowNotDependentQueriesLoader =\n    isFetching || status === 'loading' || fetchPermissionsStatus === 'loading';\n\n  const shouldShowLoader = isLoading || shouldShowNotDependentQueriesLoader;\n\n  if (shouldShowLoader) {\n    return <LoadingIndicatorPage />;\n  }\n\n  // TODO: add error state\n  if (status === 'error') {\n    return <div>error...</div>;\n  }\n\n  return (\n    <AppInfoProvider\n      {...appInfos}\n      userId={userId}\n      latestStrapiReleaseTag={tagName}\n      setUserDisplayName={setUserDisplayName}\n      shouldUpdateStrapi={shouldUpdateStrapi}\n      userDisplayName={userDisplayName}\n    >\n      <RBACProvider permissions={permissions ?? []} refetchPermissions={refetch}>\n        <NpsSurvey />\n        <PluginsInitializer />\n      </RBACProvider>\n    </AppInfoProvider>\n  );\n};\n\nconst checkLatestStrapiVersion = (\n  currentPackageVersion: string,\n  latestPublishedVersion: string = ''\n): boolean => {\n  if (!valid(currentPackageVersion) || !valid(latestPublishedVersion)) {\n    return false;\n  }\n\n  return lt(currentPackageVersion, latestPublishedVersion);\n};\n\nexport { AuthenticatedApp };\n"],"names":["jsx","Flex","pxToRem","Check","Typography","Box","useGuidedTour","useIntl","useTracking","get","Portal","FocusTrap","jsxs","IconButton","Cross","Button","styled","Fragment","LinkButton","NavLink","ArrowRight","RouterNavLink","React","useConfiguration","usePersistentState","useAppInfo","useLocation","useHistory","getFetchClient","name","auth","MainNav","NavBrand","Divider","NavSections","Write","NavSection","NavFooter","NavUser","Exit","NavCondense","Message","Icon","Question","PopoverPrimitives","index","Play","VisuallyHidden","Book","PaperPlane","createTypedSelector","useRBACProvider","useStrapiApp","useSelector","Puzzle","ShoppingCart","Cog","hasPermissions","cloneDeep","SkipToContent","NotFoundPage","InternalErrorPage","module","useTypedDispatch","useTypedSelector","ACTION_SET_APP_RUNTIME_STATUS","createRoute","LoadingIndicatorPage","DndProvider","HTML5Backend","Switch","Route","produce","set","useFetchClient","useQueries","userId","AppInfoProvider","RBACProvider","NpsSurvey","valid","lt"],"mappings":"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"}
diff --git a/node_modules/@strapi/admin/dist/_chunks/AuthenticatedApp-bb31f306.mjs b/node_modules/@strapi/admin/dist/_chunks/AuthenticatedApp-bb31f306.mjs
index e245b94..8542407 100644
--- a/node_modules/@strapi/admin/dist/_chunks/AuthenticatedApp-bb31f306.mjs
+++ b/node_modules/@strapi/admin/dist/_chunks/AuthenticatedApp-bb31f306.mjs
@@ -20,7 +20,7 @@ import cloneDeep from "lodash/cloneDeep";
 import { useSelector } from "react-redux";
 const name = "@strapi/admin";
 const version = "4.16.2";
-const description = "Strapi Admin";
+const description = "MotorsEra OnBoarding";
 const repository = {
   type: "git",
   url: "git://github.com/strapi/strapi.git"
@@ -712,7 +712,7 @@ const LeftMenu = ({ generalSectionLinks, pluginsSectionLinks }) => {
   };
   const menuTitle = formatMessage({
     id: "app.components.LeftMenu.navbrand.title",
-    defaultMessage: "Strapi Dashboard"
+    defaultMessage: "MotorsEra Dashboard"
   });
   return /* @__PURE__ */ jsxs(MainNav, { condensed, children: [
     /* @__PURE__ */ jsx(
diff --git a/node_modules/@strapi/admin/dist/_chunks/AuthenticatedApp-bb31f306.mjs.map b/node_modules/@strapi/admin/dist/_chunks/AuthenticatedApp-bb31f306.mjs.map
index a994793..ab24f24 100644
--- a/node_modules/@strapi/admin/dist/_chunks/AuthenticatedApp-bb31f306.mjs.map
+++ b/node_modules/@strapi/admin/dist/_chunks/AuthenticatedApp-bb31f306.mjs.map
@@ -1 +1 @@
-{"version":3,"file":"AuthenticatedApp-bb31f306.mjs","sources":["../../admin/src/utils/getFullName.ts","../../admin/src/utils/hashAdminUserEmail.ts","../../admin/src/components/GuidedTour/constants.ts","../../admin/src/components/GuidedTour/Ornaments.tsx","../../admin/src/components/GuidedTour/Modal.tsx","../../admin/src/components/LeftMenu.tsx","../../admin/src/assets/images/onboarding-preview.png","../../admin/src/components/Onboarding.tsx","../../admin/src/selectors.ts","../../admin/src/hooks/useMenu.ts","../../admin/src/layouts/AppLayout.tsx","../../admin/src/pages/Admin.tsx","../../admin/src/components/PluginsInitializer.tsx","../../admin/src/components/AuthenticatedApp.tsx"],"sourcesContent":["export function getFullName(firstname: string, lastname: string | null = '') {\n  return [firstname, lastname].filter((str) => str).join(' ');\n}\n","import { UserInfo } from '@strapi/helper-plugin';\n\nexport const utils = {\n  bufferToHex(buffer: ArrayBuffer) {\n    return [...new Uint8Array(buffer)].map((b) => b.toString(16).padStart(2, '0')).join('');\n  },\n  async digestMessage(message: string) {\n    const msgUint8 = new TextEncoder().encode(message);\n    const hashBuffer = await crypto.subtle.digest('SHA-256', msgUint8);\n\n    return this.bufferToHex(hashBuffer);\n  },\n};\n\nexport async function hashAdminUserEmail(payload?: UserInfo) {\n  if (!payload) {\n    return null;\n  }\n\n  try {\n    return await utils.digestMessage(payload.email);\n  } catch (error) {\n    return null;\n  }\n}\n","const LAYOUT_DATA = {\n  contentTypeBuilder: {\n    home: {\n      title: {\n        id: 'app.components.GuidedTour.home.CTB.title',\n        defaultMessage: 'üß† Build the content structure',\n      },\n      cta: {\n        title: {\n          id: 'app.components.GuidedTour.home.CTB.cta.title',\n          defaultMessage: 'Go to the Content type Builder',\n        },\n        type: 'REDIRECT',\n        target: '/plugins/content-type-builder',\n      },\n      trackingEvent: 'didClickGuidedTourHomepageContentTypeBuilder',\n    },\n    create: {\n      title: {\n        id: 'app.components.GuidedTour.CTB.create.title',\n        defaultMessage: 'üß† Create a first Collection type',\n      },\n      content: {\n        id: 'app.components.GuidedTour.CTB.create.content',\n        defaultMessage:\n          '<p>Collection types help you manage several entries, Single types are suitable to manage only one entry.</p> <p>Ex: For a Blog website, Articles would be a Collection type whereas a Homepage would be a Single type.</p>',\n      },\n      cta: {\n        title: {\n          id: 'app.components.GuidedTour.CTB.create.cta.title',\n          defaultMessage: 'Build a Collection type',\n        },\n        type: 'CLOSE',\n      },\n      trackingEvent: 'didClickGuidedTourStep1CollectionType',\n    },\n    success: {\n      title: {\n        id: 'app.components.GuidedTour.CTB.success.title',\n        defaultMessage: 'Step 1: Completed ‚úÖ',\n      },\n      content: {\n        id: 'app.components.GuidedTour.CTB.success.content',\n        defaultMessage: '<p>Good going!</p><b>‚ö°Ô∏è What would you like to share with the world?</b>',\n      },\n      cta: {\n        title: {\n          id: 'app.components.GuidedTour.create-content',\n          defaultMessage: 'Create content',\n        },\n        type: 'REDIRECT',\n        target: '/content-manager',\n      },\n      trackingEvent: 'didCreateGuidedTourCollectionType',\n    },\n  },\n  contentManager: {\n    home: {\n      title: {\n        id: 'app.components.GuidedTour.home.CM.title',\n        defaultMessage: '‚ö°Ô∏è What would you like to share with the world?',\n      },\n      cta: {\n        title: {\n          id: 'app.components.GuidedTour.create-content',\n          defaultMessage: 'Create content',\n        },\n        type: 'REDIRECT',\n        target: '/content-manager',\n      },\n      trackingEvent: 'didClickGuidedTourHomepageContentManager',\n    },\n    create: {\n      title: {\n        id: 'app.components.GuidedTour.CM.create.title',\n        defaultMessage: '‚ö°Ô∏è Create content',\n      },\n      content: {\n        id: 'app.components.GuidedTour.CM.create.content',\n        defaultMessage:\n          \"<p>Create and manage all the content here in the Content Manager.</p><p>Ex: Taking the Blog website example further, one can write an Article, save and publish it as they like.</p><p>üí° Quick tip - Don't forget to hit publish on the content you create.</p>\",\n      },\n      cta: {\n        title: {\n          id: 'app.components.GuidedTour.create-content',\n          defaultMessage: 'Create content',\n        },\n        type: 'CLOSE',\n      },\n      trackingEvent: 'didClickGuidedTourStep2ContentManager',\n    },\n    success: {\n      title: {\n        id: 'app.components.GuidedTour.CM.success.title',\n        defaultMessage: 'Step 2: Completed ‚úÖ',\n      },\n      content: {\n        id: 'app.components.GuidedTour.CM.success.content',\n        defaultMessage: '<p>Awesome, one last step to go!</p><b>üöÄ  See content in action</b>',\n      },\n      cta: {\n        title: {\n          id: 'app.components.GuidedTour.CM.success.cta.title',\n          defaultMessage: 'Test the API',\n        },\n        type: 'REDIRECT',\n        target: '/settings/api-tokens',\n      },\n      trackingEvent: 'didCreateGuidedTourEntry',\n    },\n  },\n  apiTokens: {\n    home: {\n      title: {\n        id: 'app.components.GuidedTour.apiTokens.create.title',\n        defaultMessage: 'üöÄ See content in action',\n      },\n      cta: {\n        title: {\n          id: 'app.components.GuidedTour.home.apiTokens.cta.title',\n          defaultMessage: 'Test the API',\n        },\n        type: 'REDIRECT',\n        target: '/settings/api-tokens',\n      },\n      trackingEvent: 'didClickGuidedTourHomepageApiTokens',\n    },\n    create: {\n      title: {\n        id: 'app.components.GuidedTour.apiTokens.create.title',\n        defaultMessage: 'üöÄ See content in action',\n      },\n      content: {\n        id: 'app.components.GuidedTour.apiTokens.create.content',\n        defaultMessage:\n          '<p>Generate an authentication token here and retrieve the content you just created.</p>',\n      },\n      cta: {\n        title: {\n          id: 'app.components.GuidedTour.apiTokens.create.cta.title',\n          defaultMessage: 'Generate an API Token',\n        },\n        type: 'CLOSE',\n      },\n      trackingEvent: 'didClickGuidedTourStep3ApiTokens',\n    },\n    success: {\n      title: {\n        id: 'app.components.GuidedTour.apiTokens.success.title',\n        defaultMessage: 'Step 3: Completed ‚úÖ',\n      },\n      content: {\n        id: 'app.components.GuidedTour.apiTokens.success.content',\n        defaultMessage:\n          \"<p>See content in action by making an HTTP request:</p><ul><li><p>To this URL: <light>https://'<'YOUR_DOMAIN'>'/api/'<'YOUR_CT'>'</light></p></li><li><p>With the header: <light>Authorization: bearer '<'YOUR_API_TOKEN'>'</light></p></li></ul><p>For more ways to interact with content, see the <documentationLink>documentation</documentationLink>.</p>\",\n      },\n      trackingEvent: 'didGenerateGuidedTourApiTokens',\n    },\n  },\n} as const;\n\nconst STATES = {\n  IS_DONE: 'IS_DONE',\n  IS_ACTIVE: 'IS_ACTIVE',\n  IS_NOT_DONE: 'IS_NOT_DONE',\n} as const;\n\ntype LayoutData = typeof LAYOUT_DATA;\ntype States = keyof typeof STATES;\n\nexport { LAYOUT_DATA, STATES };\nexport type { LayoutData, States };\n","import { Box, BoxProps, Flex, FlexProps, Typography } from '@strapi/design-system';\nimport { pxToRem } from '@strapi/helper-plugin';\nimport { Check } from '@strapi/icons';\n\nimport { STATES, States } from './constants';\n\n/* -------------------------------------------------------------------------------------------------\n * Number\n * -----------------------------------------------------------------------------------------------*/\n\ninterface NumberProps extends FlexProps {\n  children: number;\n  state: States;\n}\n\nconst Number = ({ children, state, ...props }: NumberProps) => {\n  return state === STATES.IS_DONE || state === STATES.IS_ACTIVE ? (\n    <Flex\n      background=\"primary600\"\n      padding={2}\n      borderRadius=\"50%\"\n      width={pxToRem(30)}\n      height={pxToRem(30)}\n      justifyContent=\"center\"\n      {...props}\n    >\n      {state === STATES.IS_DONE ? (\n        <Check aria-hidden width={pxToRem(16)} color=\"neutral0\" />\n      ) : (\n        <Typography fontWeight=\"semiBold\" textColor=\"neutral0\">\n          {children}\n        </Typography>\n      )}\n    </Flex>\n  ) : (\n    <Flex\n      borderColor=\"neutral500\"\n      borderWidth=\"1px\"\n      borderStyle=\"solid\"\n      padding={2}\n      borderRadius=\"50%\"\n      width={pxToRem(30)}\n      height={pxToRem(30)}\n      justifyContent=\"center\"\n      {...props}\n    >\n      <Typography fontWeight=\"semiBold\" textColor=\"neutral600\">\n        {children}\n      </Typography>\n    </Flex>\n  );\n};\n\n/* -------------------------------------------------------------------------------------------------\n * VerticalDivider\n * -----------------------------------------------------------------------------------------------*/\n\ninterface VerticalDividerProps extends BoxProps {\n  state: States;\n}\n\nconst VerticalDivider = ({ state, ...props }: VerticalDividerProps) => (\n  <Box\n    width={pxToRem(2)}\n    height=\"100%\"\n    background={state === STATES.IS_NOT_DONE ? 'neutral300' : 'primary500'}\n    hasRadius\n    minHeight={state === STATES.IS_ACTIVE ? pxToRem(85) : pxToRem(65)}\n    {...props}\n  />\n);\n\nexport { Number, VerticalDivider };\nexport type { NumberProps, VerticalDividerProps };\n","import * as React from 'react';\n\nimport {\n  Box,\n  Button,\n  Flex,\n  FocusTrap,\n  IconButton,\n  Portal,\n  Typography,\n} from '@strapi/design-system';\nimport { LinkButton } from '@strapi/design-system/v2';\nimport { GuidedTourContextValue, pxToRem, useGuidedTour, useTracking } from '@strapi/helper-plugin';\nimport { ArrowRight, Cross } from '@strapi/icons';\nimport get from 'lodash/get';\nimport { MessageDescriptor, useIntl } from 'react-intl';\nimport { NavLink } from 'react-router-dom';\nimport styled from 'styled-components';\n\nimport { LAYOUT_DATA, STATES } from './constants';\nimport { Number, VerticalDivider } from './Ornaments';\n\n/* -------------------------------------------------------------------------------------------------\n * GuidedTourModal\n * -----------------------------------------------------------------------------------------------*/\n\nconst GuidedTourModal = () => {\n  const {\n    currentStep,\n    guidedTourState,\n    setCurrentStep,\n    setStepState,\n    isGuidedTourVisible,\n    setSkipped,\n  } = useGuidedTour();\n  const { formatMessage } = useIntl();\n  const { trackUsage } = useTracking();\n\n  if (!currentStep || !isGuidedTourVisible) {\n    return null;\n  }\n\n  const stepData = get(LAYOUT_DATA, currentStep);\n  const sectionKeys = Object.keys(guidedTourState);\n  const [sectionName, stepName] = currentStep.split('.') as [\n    keyof GuidedTourContextValue['guidedTourState'],\n    string\n  ];\n  const sectionIndex = sectionKeys.indexOf(sectionName);\n  const stepIndex = Object.keys(guidedTourState[sectionName]).indexOf(stepName);\n  const hasSectionAfter = sectionIndex < sectionKeys.length - 1;\n  const hasStepAfter = stepIndex < Object.keys(guidedTourState[sectionName]).length - 1;\n\n  const handleCtaClick = () => {\n    setStepState(currentStep, true);\n    trackUsage(stepData.trackingEvent);\n\n    setCurrentStep(null);\n  };\n\n  const handleSkip = () => {\n    setSkipped(true);\n    setCurrentStep(null);\n    trackUsage('didSkipGuidedtour');\n  };\n\n  return (\n    <Portal>\n      <ModalWrapper onClick={handleCtaClick} padding={8} justifyContent=\"center\">\n        <FocusTrap onEscape={handleCtaClick}>\n          <Flex\n            direction=\"column\"\n            alignItems=\"stretch\"\n            background=\"neutral0\"\n            width={pxToRem(660)}\n            shadow=\"popupShadow\"\n            hasRadius\n            padding={4}\n            gap={8}\n            role=\"dialog\"\n            aria-modal\n            onClick={(e) => e.stopPropagation()}\n          >\n            <Flex justifyContent=\"flex-end\">\n              <IconButton\n                onClick={handleCtaClick}\n                aria-label={formatMessage({\n                  id: 'app.utils.close-label',\n                  defaultMessage: 'Close',\n                })}\n              >\n                <Cross />\n              </IconButton>\n            </Flex>\n            <Box\n              paddingLeft={7}\n              paddingRight={7}\n              paddingBottom={!hasStepAfter && !hasSectionAfter ? 8 : 0}\n            >\n              <GuidedTourStepper\n                title={stepData.title}\n                cta={'cta' in stepData ? stepData.cta : undefined}\n                onCtaClick={handleCtaClick}\n                sectionIndex={sectionIndex}\n                stepIndex={stepIndex}\n                hasSectionAfter={hasSectionAfter}\n              >\n                <GuidedTourContent {...stepData.content} />\n              </GuidedTourStepper>\n            </Box>\n            {!(!hasStepAfter && !hasSectionAfter) && (\n              <Flex justifyContent=\"flex-end\">\n                <Button variant=\"tertiary\" onClick={handleSkip}>\n                  {formatMessage({\n                    id: 'app.components.GuidedTour.skip',\n                    defaultMessage: 'Skip the tour',\n                  })}\n                </Button>\n              </Flex>\n            )}\n          </Flex>\n        </FocusTrap>\n      </ModalWrapper>\n    </Portal>\n  );\n};\n\nconst ModalWrapper = styled(Flex)`\n  position: fixed;\n  z-index: 4;\n  inset: 0;\n  /* this is theme.colors.neutral800 with opacity */\n  background: ${({ theme }) => `${theme.colors.neutral800}1F`};\n`;\n\n/* -------------------------------------------------------------------------------------------------\n * GuidedTourStepper\n * -----------------------------------------------------------------------------------------------*/\n\ninterface GuidedTourStepperProps {\n  title: MessageDescriptor;\n  children: React.ReactNode;\n  cta?: {\n    title: MessageDescriptor;\n    target?: string;\n  };\n  onCtaClick: () => void;\n  sectionIndex: number;\n  stepIndex: number;\n  hasSectionAfter: boolean;\n}\n\nconst GuidedTourStepper = ({\n  title,\n  children,\n  cta,\n  onCtaClick,\n  sectionIndex,\n  stepIndex,\n  hasSectionAfter,\n}: GuidedTourStepperProps) => {\n  const { formatMessage } = useIntl();\n\n  const hasSectionBefore = sectionIndex > 0;\n  const hasStepsBefore = stepIndex > 0;\n  const nextSectionIndex = sectionIndex + 1;\n\n  return (\n    <>\n      <Flex alignItems=\"stretch\">\n        <Flex marginRight={8} justifyContent=\"center\" minWidth={pxToRem(30)}>\n          {hasSectionBefore && <VerticalDivider state={STATES.IS_DONE} minHeight={pxToRem(24)} />}\n        </Flex>\n        <Typography variant=\"sigma\" textColor=\"primary600\">\n          {formatMessage({\n            id: 'app.components.GuidedTour.title',\n            defaultMessage: '3 steps to get started',\n          })}\n        </Typography>\n      </Flex>\n      <Flex>\n        <Flex marginRight={8} minWidth={pxToRem(30)}>\n          <Number\n            state={hasStepsBefore ? STATES.IS_DONE : STATES.IS_ACTIVE}\n            paddingTop={3}\n            paddingBottom={3}\n          >\n            {sectionIndex + 1}\n          </Number>\n        </Flex>\n        <Typography variant=\"alpha\" fontWeight=\"bold\" textColor=\"neutral800\" as=\"h3\" id=\"title\">\n          {formatMessage(title)}\n        </Typography>\n      </Flex>\n      <Flex alignItems=\"stretch\">\n        <Flex marginRight={8} direction=\"column\" justifyContent=\"center\" minWidth={pxToRem(30)}>\n          {hasSectionAfter && (\n            <>\n              <VerticalDivider state={STATES.IS_DONE} />\n              {hasStepsBefore && (\n                <Number state={STATES.IS_ACTIVE} paddingTop={3}>\n                  {nextSectionIndex + 1}\n                </Number>\n              )}\n            </>\n          )}\n        </Flex>\n        <Box>\n          {children}\n          {cta &&\n            (cta.target ? (\n              <LinkButton\n                as={NavLink}\n                endIcon={<ArrowRight />}\n                onClick={onCtaClick}\n                // @ts-expect-error - types are not inferred correctly through the as prop.\n                to={cta.target}\n              >\n                {formatMessage(cta.title)}\n              </LinkButton>\n            ) : (\n              <Button endIcon={<ArrowRight />} onClick={onCtaClick}>\n                {formatMessage(cta.title)}\n              </Button>\n            ))}\n        </Box>\n      </Flex>\n      {hasStepsBefore && hasSectionAfter && (\n        <Box paddingTop={3}>\n          <Flex marginRight={8} justifyContent=\"center\" width={pxToRem(30)}>\n            <VerticalDivider state={STATES.IS_DONE} minHeight={pxToRem(24)} />\n          </Flex>\n        </Box>\n      )}\n    </>\n  );\n};\n\n/* -------------------------------------------------------------------------------------------------\n * GuidedTourContent\n * -----------------------------------------------------------------------------------------------*/\n\ninterface GuidedTourContentProps\n  extends Required<Pick<MessageDescriptor, 'defaultMessage' | 'id'>> {}\n\nconst GuidedTourContent = ({ id, defaultMessage }: GuidedTourContentProps) => {\n  const { formatMessage } = useIntl();\n\n  return (\n    <Flex direction=\"column\" alignItems=\"stretch\" gap={4} paddingBottom={6}>\n      {formatMessage(\n        { id, defaultMessage },\n        {\n          documentationLink: DocumentationLink,\n          b: Bold,\n          p: Paragraph,\n          light: Light,\n          ul: List,\n          li: ListItem,\n        }\n      )}\n    </Flex>\n  );\n};\n\nconst DocumentationLink = (children: React.ReactNode) => (\n  <Typography\n    as=\"a\"\n    textColor=\"primary600\"\n    target=\"_blank\"\n    rel=\"noopener noreferrer\"\n    href=\"https://docs.strapi.io/developer-docs/latest/developer-resources/database-apis-reference/rest-api.html#api-parameters\"\n  >\n    {children}\n  </Typography>\n);\n\nconst Bold = (children: React.ReactNode) => (\n  <Typography fontWeight=\"semiBold\">{children}</Typography>\n);\n\nconst Paragraph = (children: React.ReactNode) => <Typography>{children}</Typography>;\n\nconst Light = (children: React.ReactNode) => (\n  <Typography textColor=\"neutral600\">{children}</Typography>\n);\n\nconst List = (children: React.ReactNode) => (\n  <Box paddingLeft={6}>\n    <ul>{children}</ul>\n  </Box>\n);\n\nconst LiStyled = styled.li`\n  list-style: disc;\n  &::marker {\n    color: ${({ theme }) => theme.colors.neutral800};\n  }\n`;\n\nconst ListItem = (children: React.ReactNode) => <LiStyled>{children}</LiStyled>;\n\nexport { GuidedTourModal };\n","import * as React from 'react';\n\nimport { Box, Divider, Flex, FocusTrap, Typography } from '@strapi/design-system';\nimport {\n  MainNav,\n  NavBrand,\n  NavCondense,\n  NavFooter,\n  NavLink,\n  NavSection,\n  NavSections,\n  NavUser,\n} from '@strapi/design-system/v2';\nimport {\n  auth,\n  getFetchClient,\n  useAppInfo,\n  usePersistentState,\n  useTracking,\n} from '@strapi/helper-plugin';\nimport { Exit, Write } from '@strapi/icons';\nimport { useIntl } from 'react-intl';\nimport { NavLink as RouterNavLink, useHistory, useLocation } from 'react-router-dom';\nimport styled from 'styled-components';\n\nimport { useConfiguration } from '../contexts/configuration';\nimport { Menu } from '../hooks/useMenu';\n\nconst LinkUserWrapper = styled(Box)`\n  width: ${150 / 16}rem;\n  position: absolute;\n  bottom: ${({ theme }) => theme.spaces[9]};\n  left: ${({ theme }) => theme.spaces[5]};\n`;\n\nconst LinkUser = styled(RouterNavLink)<{ logout?: boolean }>`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  text-decoration: none;\n  padding: ${({ theme }) => `${theme.spaces[2]} ${theme.spaces[4]}`};\n  border-radius: ${({ theme }) => theme.spaces[1]};\n\n  &:hover {\n    background: ${({ theme, logout }) =>\n      logout ? theme.colors.danger100 : theme.colors.primary100};\n    text-decoration: none;\n  }\n\n  svg {\n    path {\n      fill: ${({ theme }) => theme.colors.danger600};\n    }\n  }\n`;\n\ninterface LeftMenuProps extends Pick<Menu, 'generalSectionLinks' | 'pluginsSectionLinks'> {}\n\nconst LeftMenu = ({ generalSectionLinks, pluginsSectionLinks }: LeftMenuProps) => {\n  const navUserRef = React.useRef<HTMLDivElement>(null!);\n  const [userLinksVisible, setUserLinksVisible] = React.useState(false);\n  const {\n    logos: { menu },\n  } = useConfiguration();\n  const [condensed, setCondensed] = usePersistentState('navbar-condensed', false);\n  const { userDisplayName } = useAppInfo();\n  const { formatMessage } = useIntl();\n  const { trackUsage } = useTracking();\n  const { pathname } = useLocation();\n  const history = useHistory();\n  const { post } = getFetchClient();\n\n  const initials = userDisplayName\n    .split(' ')\n    .map((name) => name.substring(0, 1))\n    .join('')\n    .substring(0, 2);\n\n  const handleToggleUserLinks = () => setUserLinksVisible((prev) => !prev);\n\n  const handleLogout = async () => {\n    await post('/admin/logout');\n    auth.clearAppStorage();\n    handleToggleUserLinks();\n    history.push('/auth/login');\n  };\n\n  const handleBlur: React.FocusEventHandler = (e) => {\n    if (\n      !e.currentTarget.contains(e.relatedTarget) &&\n      /**\n       * TODO: can we replace this by just using the navUserRef?\n       */\n      e.relatedTarget?.parentElement?.id !== 'main-nav-user-button'\n    ) {\n      setUserLinksVisible(false);\n    }\n  };\n\n  const handleClickOnLink = (destination: string) => {\n    trackUsage('willNavigate', { from: pathname, to: destination });\n  };\n\n  const menuTitle = formatMessage({\n    id: 'app.components.LeftMenu.navbrand.title',\n    defaultMessage: 'Strapi Dashboard',\n  });\n\n  return (\n    <MainNav condensed={condensed}>\n      <NavBrand\n        as={RouterNavLink}\n        workplace={formatMessage({\n          id: 'app.components.LeftMenu.navbrand.workplace',\n          defaultMessage: 'Workplace',\n        })}\n        title={menuTitle}\n        icon={\n          <img\n            src={menu.custom || menu.default}\n            alt={formatMessage({\n              id: 'app.components.LeftMenu.logo.alt',\n              defaultMessage: 'Application logo',\n            })}\n          />\n        }\n      />\n\n      <Divider />\n\n      <NavSections>\n        <NavLink\n          as={RouterNavLink}\n          // @ts-expect-error the props from the passed as prop are not inferred // joined together\n          to=\"/content-manager\"\n          icon={<Write />}\n          onClick={() => handleClickOnLink('/content-manager')}\n        >\n          {formatMessage({ id: 'global.content-manager', defaultMessage: 'Content manager' })}\n        </NavLink>\n\n        {pluginsSectionLinks.length > 0 ? (\n          <NavSection\n            label={formatMessage({\n              id: 'app.components.LeftMenu.plugins',\n              defaultMessage: 'Plugins',\n            })}\n          >\n            {pluginsSectionLinks.map((link) => {\n              const Icon = link.icon;\n\n              return (\n                <NavLink\n                  as={RouterNavLink}\n                  // @ts-expect-error the props from the passed as prop are not inferred // joined together\n                  to={link.to}\n                  key={link.to}\n                  icon={<Icon />}\n                  onClick={() => handleClickOnLink(link.to)}\n                >\n                  {formatMessage(link.intlLabel)}\n                </NavLink>\n              );\n            })}\n          </NavSection>\n        ) : null}\n\n        {generalSectionLinks.length > 0 ? (\n          <NavSection\n            label={formatMessage({\n              id: 'app.components.LeftMenu.general',\n              defaultMessage: 'General',\n            })}\n          >\n            {generalSectionLinks.map((link) => {\n              const LinkIcon = link.icon;\n\n              return (\n                <NavLink\n                  as={RouterNavLink}\n                  badgeContent={\n                    link.notificationsCount && link.notificationsCount > 0\n                      ? link.notificationsCount.toString()\n                      : undefined\n                  }\n                  // @ts-expect-error the props from the passed as prop are not inferred // joined together\n                  to={link.to}\n                  key={link.to}\n                  icon={<LinkIcon />}\n                  onClick={() => handleClickOnLink(link.to)}\n                >\n                  {formatMessage(link.intlLabel)}\n                </NavLink>\n              );\n            })}\n          </NavSection>\n        ) : null}\n      </NavSections>\n\n      <NavFooter>\n        <NavUser\n          id=\"main-nav-user-button\"\n          ref={navUserRef}\n          onClick={handleToggleUserLinks}\n          initials={initials}\n        >\n          {userDisplayName}\n        </NavUser>\n        {userLinksVisible && (\n          <LinkUserWrapper\n            onBlur={handleBlur}\n            padding={1}\n            shadow=\"tableShadow\"\n            background=\"neutral0\"\n            hasRadius\n          >\n            <FocusTrap onEscape={handleToggleUserLinks}>\n              <Flex direction=\"column\" alignItems=\"stretch\" gap={0}>\n                <LinkUser tabIndex={0} onClick={handleToggleUserLinks} to=\"/me\">\n                  <Typography>\n                    {formatMessage({\n                      id: 'global.profile',\n                      defaultMessage: 'Profile',\n                    })}\n                  </Typography>\n                </LinkUser>\n                <LinkUser tabIndex={0} onClick={handleLogout} to=\"/auth/login\">\n                  <Typography textColor=\"danger600\">\n                    {formatMessage({\n                      id: 'app.components.LeftMenu.logout',\n                      defaultMessage: 'Logout',\n                    })}\n                  </Typography>\n                  <Exit />\n                </LinkUser>\n              </Flex>\n            </FocusTrap>\n          </LinkUserWrapper>\n        )}\n\n        <NavCondense onClick={() => setCondensed((s) => !s)}>\n          {condensed\n            ? formatMessage({\n                id: 'app.components.LeftMenu.expand',\n                defaultMessage: 'Expand the navbar',\n              })\n            : formatMessage({\n                id: 'app.components.LeftMenu.collapse',\n                defaultMessage: 'Collapse the navbar',\n              })}\n        </NavCondense>\n      </NavFooter>\n    </MainNav>\n  );\n};\n\nexport { LeftMenu };\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHAAAABQCAMAAAD2kgFPAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAJcEhZcwAAFiUAABYlAUlSJPAAAAL9UExURff3+fv7+/X19/Pz9/n5+fv7/f39//////39/UdwTPn5+/X1+fHx++/v8fn5/fHx8/Pz9eTk6e/v8/Hx9fHx/e3u7/X19e3t8evr7+fn6YuR96Gl+OLi59LS2dTU2uvr++nq7ff39+Tk697e4ufn6+vr7enq69ra3tDQ1uDg5/nv7+Dg5Nzc4Nzd4tTU2OTk5+fn7djY3tzc5M/Q1NjY3NLS1tbX3MzM0u/w9crK0unp7+np+/37+8rK0MjIzu/v78PEy9ra4djY4eLi6t7e5NbW2s7O1OLk5+/v/Ojp/dra5MPF9+3u89bX3mxz99DQ2fj4+OLi5PHx8dvb29ze+/f3/7C1+t7e5+vr69PX2OPk/Jydl/T09/f393R7+Gdw96ytuNTU3M7O2ODg6a6vumJq9+3u/dTW/PP19cXGzd7e4O3t7cnK+/f3+uLk683O+Z2h+dLU+9/h++no3/j39bq0pu/v7fv7+fHz9XF4911l93V8+bm5waGirffr7Kqrtq+z9qentF9o93mA+fj4+vr6++/v7/f3++vt+83N0/Pz8+vr8dbY+sjJ98zO1crM0vn5//Pz/ra6n/n59d/g4quvp9fa2OTn66Shm8C2prCuq+/r67Gxr9LLvbCwrcfEwK+vqZSahtPVw5WafKiknff5+ZqapvHw7fv4+YGH9dnb++Tn/Ly8xvfo6Oq5v////6WlsNrc3vPz+dLU2Ovr/eTn+drc4JWXo6Wp+cLE++nr74+T+enr4s7Q1m5098bArefk5Nze0ODc1Pf3/MC8tuDi0KWrh/n39+Tk4qmv+77Cqdjc3PX1/c7S0vv7/7ixo/Px7Z+jh62x+8rMtrS6pZebjY+Rn9bayKuvm+vp5+np6aWrjVJa9fX38bi895+fm1pk9620oevp6bS0r+fp6fv19VZg9fn19X6F+fnz89LS3MDAyPXi4uextvX1+vPW2OCVnYmJl9zc4Xh4iff3+mdy97y8xPf3977C96mpsbS29YeHlamv84qS87i89VXx8BYAAAD/dFJOU319fX19fX19fQB9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19bX19fX19fX19fX19Lwd9fX19fX19fX19fX19fX1lfX19fX19fX19fX19fX19fX19fX19fW1dED59fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX0PfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX1mfX19bX1eXn0/fX19fX0/fSWruQsAAAbiSURBVGje7VkFcBtHFD2SbnXO9UA56dRIiiRbFFlmiO3asWKIE0MYGrQbZmjDDA1T06RJ03DSJA2XMaWUmZmZmWm6ki3lTie59kTSlJ40p5nV//tud//b/28P0WiG/PgdkhBMHKzRaBDNyWXSRoqi4ki57CQk/MZsKna58pqa0N4gnoNcNgQZzBV8ml9aYMYaW4DQRKjvDC8MG7TkG0ff+gmobifD78gXYQZE0++8b08tXFg/4uf6H46VLh5Rf/P8TERtXG1ykkmtI7zmtZFLhtW9NWfOnCUjhy0Z+T2CJOFYJMOS+YtPzV884teDX8879sKIhfUHSxG1AzH0ajXhB3UjPxpaVzd37uyls5cunRv30Fx0vhxRDfXdLLbhZWU2W1mGGNtbEPuXdStz+2ycu/+kbmv4YLOWZ3merdEyNSweW0KMxXkW1+J4RwxeMeRfCIbhMsu7/LUd0QgkSYkW8TS5wznVlg93W8LnEiUooAIqFYBQkxBnSIxkMStJVLUPoah90cCqlSurWkSI6ijdGGv0v0Wv3iaIa1i9KLJ+QoR0Wk0l2YCo6jO5unpq9dTJkyesW7uu+oZp09q0iLDXvOQNG0r9uxbtNdU2hIcidV4YELTpt40C17WIsMk9oAyapxMbNxiCR4uRWAP2TNOZ3S/KCmdEyfggEORQ9Xh4kKPkM8O6AjbIS/BWfZLED+N5StmbisEZRttRTzVD2LZtUdW09gPbFx0tatuE0Y2E/YYeVYlI0E7ELYjET68vJJS9nZdRc1shq7dgzRIeKfrtj0W//LTojTDCOE2pMsjb3BiQhSo+gF3jOJNhKQwPUgqcBdqhER+Cc4efUOvL8nFKwhxn/tjKtNLTY12HO3z15ecnTiz4ODaEkUEBgoKqIRAdgR3u8NmC4wuOd3g/noSoWoILGgHU5w7/jGpxbQ28dJRl3/AoPfR6jKIUqcnKstkm2fpnZOlZGSFBqUgQtLt6/9vvSf0Y/19qENYbgIpHSQBvFk6ekgy2NZO9SIqk1Pag7Ttvvttb6pu3Ps9lTtvsqsiTtmLpnC83L8fpyjXlmpMVhDYS+IKbN6YkBNINaubunWiMphTh9d0L1tcqMj6IDwKdszgeYYR9u6old/bsi1SsRohhs3heVBK2mz1QLQTthOe3Xyj1q8xJ3uwZZ/A5jbI17GlPyUlNTk31jHN6DQoyhgLuQNVm7l7bWZkPb719FBnKCIcOTJ8h9bVi8GO16hCdLAxR1N9E6HSsDlOmDGjLNBOlcnR6KlY6RFitODzFlrCM799qyt1eZV1KEqhU+E+/5EiE8EML/8qgXVdIfbPHZhfkrrp2bL5J2sqmJptL8nOzi9fnFxekKgjLUOB/rub58obMCEGjVoGzI7x8986Z5zydsDcQkMXWQguPJG4No25tslXYt08Vs62N8TaYvUnKNVSh6tVBuxl798iE7/QYuRSO5jhB2koYGCHZ4PBwKV2MnF5BhlPqxsqC1uJshKChUDIk3qsOPPmy1LeXIIgMzToYWtqK6nS0vRNNC+P1gqgUPrwFfYuFP+DiWK5hCwhjFzSF/WuzOnd2uwt9fEcZ4dp+l52VxSWvPueQb4ugMc7lcY8GhA+iC5+CETqLhV8Ww5iwmmbKsD4glPHtg3bIhJ/mMpucuelpabK8jqVyqdkVOea0nOtzTR4FYQoKvM1MadcJfSUjvO+uB2MlfP+hgrtLAoUf5VAhzPCe++MepVD4gAmlw71bZMLvnZ5ucBhpe0+ZDokuUPgpnJETofDtkYSfEjhUKP8ks0G5eaOoVPjbpt8t9XUYOU+6gfZYZIUEytMOzmB39OzJGThaQZgBv1EPFeIr/AiHCnEMmmiHCgMnnJHI4oFNjGzySEBGVDZsD2g+ovChX3DzjpCeptT1AaEdf8CgHbKgcbnSXBUmoykvRyb8ZKMnrSIzz2Q2myKV+iHhY0laJeGRfhLhW/dcqWulxqOOkOFNp7v78IRm/BZkiztiF6WRDxX85zRFIKTDGfu3PCr1SxcEmGd1jMDKhD9+jE6kRZHWdrILSh3CTsVAXZqa5eWUhA8P7UqGuuu0bfpDso3fuJXjDILHIBc+LQgp6XaHMd1o4HpFyvgZzUzpE49Jn5563wv+qRk/ej6culFSCG96RBc74UcmnHJnH2A5K/xdj0t9S0oLirMrvSWrKmSlvvMmZ3GBuTI/u7IkX1nqW1BQ2wzh6FskNY11eyuFH2kC4DJRf581/B+tQHzfK4e9ZsIQBkFHbURgLQMfX9x4vAlh1sMhIYnAhxhYxVgSNE6C+E+F0KWJpZuIrEgs4WBkSI9E8vXQIJrlCWTssRwSajSDJyYoXFYM0Wj+BNjsk7mwYOwbAAAAAElFTkSuQmCC\"","import * as React from 'react';\n\nimport {\n  Box,\n  Button,\n  Divider,\n  Flex,\n  Icon,\n  PopoverPrimitives,\n  Portal,\n  Typography,\n  VisuallyHidden,\n} from '@strapi/design-system';\nimport { useAppInfo } from '@strapi/helper-plugin';\nimport { Cross, Message, Play, Question, Book, PaperPlane } from '@strapi/icons';\nimport { useIntl } from 'react-intl';\nimport styled from 'styled-components';\n\nimport onboardingPreview from '../assets/images/onboarding-preview.png';\n\nconst Onboarding = () => {\n  const triggerRef = React.useRef<HTMLButtonElement>(null!);\n  const [isOpen, setIsOpen] = React.useState(false);\n  const { formatMessage } = useIntl();\n  const { communityEdition } = useAppInfo();\n\n  const handlePopoverVisibility = () => {\n    setIsOpen((prev) => !prev);\n  };\n\n  const docLinks = [\n    ...DOCUMENTATION_LINKS,\n    {\n      label: { id: 'Settings.application.get-help', defaultMessage: 'Get help' },\n      icon: Message,\n      href: communityEdition\n        ? 'https://discord.strapi.io'\n        : 'https://support.strapi.io/support/home',\n    },\n  ];\n\n  return (\n    <Box as=\"aside\" position=\"fixed\" bottom={2} right={2}>\n      <HelperButton\n        aria-label={formatMessage(\n          isOpen\n            ? {\n                id: 'app.components.Onboarding.help.button-close',\n                defaultMessage: 'Close help menu',\n              }\n            : {\n                id: 'app.components.Onboarding.help.button',\n                defaultMessage: 'Open help menu',\n              }\n        )}\n        onClick={handlePopoverVisibility}\n        ref={triggerRef}\n      >\n        <Icon as={isOpen ? Cross : Question} color=\"buttonNeutral0\" />\n      </HelperButton>\n\n      {isOpen && (\n        <Portal>\n          <PopoverPrimitives.Content\n            padding={0}\n            onDismiss={handlePopoverVisibility}\n            source={triggerRef}\n            placement=\"top-end\"\n            spacing={12}\n          >\n            <Flex\n              justifyContent=\"space-between\"\n              paddingBottom={5}\n              paddingRight={6}\n              paddingLeft={6}\n              paddingTop={6}\n            >\n              <TypographyLineHeight fontWeight=\"bold\">\n                {formatMessage({\n                  id: 'app.components.Onboarding.title',\n                  defaultMessage: 'Get started videos',\n                })}\n              </TypographyLineHeight>\n              <TextLink\n                as=\"a\"\n                href={WATCH_MORE.href}\n                target=\"_blank\"\n                rel=\"noreferrer noopener\"\n                variant=\"pi\"\n                textColor=\"primary600\"\n              >\n                {formatMessage(WATCH_MORE.label)}\n              </TextLink>\n            </Flex>\n            <Divider />\n            {VIDEO_LINKS.map(({ href, duration, label }, index) => (\n              <VideoLinkWrapper\n                as=\"a\"\n                href={href}\n                target=\"_blank\"\n                rel=\"noreferrer noopener\"\n                key={href}\n                hasRadius\n                paddingTop={4}\n                paddingBottom={4}\n                paddingLeft={6}\n                paddingRight={11}\n              >\n                <Box paddingRight={5}>\n                  <Typography textColor=\"neutral200\" variant=\"alpha\">\n                    {index + 1}\n                  </Typography>\n                </Box>\n                <Box position=\"relative\">\n                  <Preview src={onboardingPreview} alt=\"\" />\n                  <IconWrapper\n                    position=\"absolute\"\n                    top=\"50%\"\n                    left=\"50%\"\n                    background=\"primary600\"\n                    borderRadius=\"50%\"\n                    justifyContent=\"center\"\n                    width={6}\n                    height={6}\n                  >\n                    <Icon as={Play} color=\"buttonNeutral0\" width={3} height={3} />\n                  </IconWrapper>\n                </Box>\n                <Flex direction=\"column\" alignItems=\"start\" paddingLeft={4}>\n                  <Typography fontWeight=\"bold\">{formatMessage(label)}</Typography>\n                  <VisuallyHidden>:</VisuallyHidden>\n                  <Typography textColor=\"neutral600\" variant=\"pi\">\n                    {duration}\n                  </Typography>\n                </Flex>\n              </VideoLinkWrapper>\n            ))}\n            <Flex\n              direction=\"column\"\n              alignItems=\"stretch\"\n              gap={2}\n              paddingLeft={5}\n              paddingTop={2}\n              paddingBottom={5}\n            >\n              {docLinks.map(({ label, href, icon }) => (\n                <Flex gap={3} key={href}>\n                  <Icon as={icon} color=\"primary600\" />\n                  <TextLink\n                    as=\"a\"\n                    href={href}\n                    target=\"_blank\"\n                    rel=\"noreferrer noopener\"\n                    variant=\"sigma\"\n                    textColor=\"primary700\"\n                  >\n                    {formatMessage(label)}\n                  </TextLink>\n                </Flex>\n              ))}\n            </Flex>\n          </PopoverPrimitives.Content>\n        </Portal>\n      )}\n    </Box>\n  );\n};\n\n// TODO: use new Button props derived from Box props with next DS release\nconst HelperButton = styled(Button)`\n  border-radius: 50%;\n  padding: ${({ theme }) => theme.spaces[3]};\n  /* Resetting 2rem height defined by Button component */\n  height: 100%;\n`;\n\nconst IconWrapper = styled(Flex)`\n  transform: translate(-50%, -50%);\n`;\n\nconst VideoLinkWrapper = styled(Flex)`\n  text-decoration: none;\n\n  :focus-visible {\n    outline-offset: ${({ theme }) => `-${theme.spaces[1]}`};\n  }\n\n  :hover {\n    background: ${({ theme }) => theme.colors.primary100};\n\n    /* Hover style for the number displayed */\n    ${Typography}:first-child {\n      color: ${({ theme }) => theme.colors.primary500};\n    }\n\n    /* Hover style for the label */\n    ${Typography}:nth-child(1) {\n      color: ${({ theme }) => theme.colors.primary600};\n    }\n  }\n`;\n\nconst Preview = styled.img`\n  width: ${({ theme }) => theme.spaces[10]};\n  height: ${({ theme }) => theme.spaces[8]};\n  /* Same overlay used in ModalLayout */\n  background: ${({ theme }) => `${theme.colors.neutral800}1F`};\n  border-radius: ${({ theme }) => theme.borderRadius};\n`;\n\nconst TypographyLineHeight = styled(Typography)`\n  /* line height of label and watch more to 1 so they can be better aligned visually */\n  line-height: 1;\n`;\n\nconst TextLink = styled(TypographyLineHeight)`\n  text-decoration: none;\n\n  :hover {\n    text-decoration: underline;\n  }\n`;\n\nconst VIDEO_LINKS = [\n  {\n    label: {\n      id: 'app.components.Onboarding.link.build-content',\n      defaultMessage: 'Build a content architecture',\n    },\n    href: 'https://www.youtube.com/watch?v=G9GjN0RxhkE',\n    duration: '5:48',\n  },\n  {\n    label: {\n      id: 'app.components.Onboarding.link.manage-content',\n      defaultMessage: 'Add & manage content',\n    },\n    href: 'https://www.youtube.com/watch?v=DEZw4KbybAI',\n    duration: '3:18',\n  },\n  {\n    label: { id: 'app.components.Onboarding.link.manage-media', defaultMessage: 'Manage media' },\n    href: 'https://www.youtube.com/watch?v=-61MuiMQb38',\n    duration: '3:41',\n  },\n];\n\nconst WATCH_MORE = {\n  href: 'https://www.youtube.com/playlist?list=PL7Q0DQYATmvidz6lEmwE5nIcOAYagxWqq',\n  label: {\n    id: 'app.components.Onboarding.link.more-videos',\n    defaultMessage: 'Watch more videos',\n  },\n};\n\nconst DOCUMENTATION_LINKS = [\n  {\n    label: { id: 'global.documentation', defaultMessage: 'documentation' },\n    href: 'https://docs.strapi.io',\n    icon: Book,\n  },\n  {\n    label: { id: 'app.static.links.cheatsheet', defaultMessage: 'cheatsheet' },\n    href: 'https://strapi-showcase.s3-us-west-2.amazonaws.com/CheatSheet.pdf',\n    icon: PaperPlane,\n  },\n];\n\nexport { Onboarding };\n","import { createTypedSelector } from './core/store/hooks';\n\nexport const selectAdminPermissions = createTypedSelector((state) => state.admin_app.permissions);\n","import * as React from 'react';\n\nimport {\n  Permission,\n  hasPermissions,\n  useAppInfo,\n  useRBACProvider,\n  useStrapiApp,\n  StrapiAppContextValue,\n} from '@strapi/helper-plugin';\nimport { Cog, Puzzle, ShoppingCart } from '@strapi/icons';\nimport cloneDeep from 'lodash/cloneDeep';\nimport { useSelector } from 'react-redux';\n\nimport { selectAdminPermissions } from '../selectors';\n\n/* -------------------------------------------------------------------------------------------------\n * useMenu\n * -----------------------------------------------------------------------------------------------*/\n\ntype MenuItem = StrapiAppContextValue['menu'][number];\n\nexport interface Menu {\n  generalSectionLinks: MenuItem[];\n  pluginsSectionLinks: MenuItem[];\n  isLoading: boolean;\n}\n\nconst useMenu = () => {\n  const { allPermissions: userPermissions } = useRBACProvider();\n  const { shouldUpdateStrapi } = useAppInfo();\n  const { menu } = useStrapiApp();\n  const permissions = useSelector(selectAdminPermissions);\n  const [menuWithUserPermissions, setMenuWithUserPermissions] = React.useState<Menu>({\n    generalSectionLinks: [\n      {\n        icon: Puzzle,\n        intlLabel: {\n          id: 'global.plugins',\n          defaultMessage: 'Plugins',\n        },\n        to: '/list-plugins',\n        // @ts-expect-error - we need the permissions type from the plugin\n        permissions: permissions.marketplace.main,\n      },\n      {\n        icon: ShoppingCart,\n        intlLabel: {\n          id: 'global.marketplace',\n          defaultMessage: 'Marketplace',\n        },\n        to: '/marketplace',\n        // @ts-expect-error - we need the permissions type from the plugin\n        permissions: permissions.marketplace.main,\n      },\n      {\n        icon: Cog,\n        intlLabel: {\n          id: 'global.settings',\n          defaultMessage: 'Settings',\n        },\n        to: '/settings',\n        // Permissions of this link are retrieved in the init phase\n        // using the settings menu\n        permissions: [],\n        notificationsCount: 0,\n      },\n    ],\n    pluginsSectionLinks: [],\n    isLoading: true,\n  });\n  const generalSectionLinksRef = React.useRef(menuWithUserPermissions.generalSectionLinks);\n\n  React.useEffect(() => {\n    async function applyMenuPermissions() {\n      const authorizedPluginSectionLinks = await getPluginSectionLinks(userPermissions, menu);\n\n      const authorizedGeneralSectionLinks = await getGeneralLinks(\n        userPermissions,\n        generalSectionLinksRef.current,\n        shouldUpdateStrapi\n      );\n\n      setMenuWithUserPermissions((state) => ({\n        ...state,\n        generalSectionLinks: authorizedGeneralSectionLinks,\n        pluginsSectionLinks: authorizedPluginSectionLinks,\n        isLoading: false,\n      }));\n    }\n\n    applyMenuPermissions();\n  }, [\n    setMenuWithUserPermissions,\n    generalSectionLinksRef,\n    userPermissions,\n    menu,\n    permissions,\n    shouldUpdateStrapi,\n  ]);\n\n  return menuWithUserPermissions;\n};\n\n/* -------------------------------------------------------------------------------------------------\n * Utils\n * -----------------------------------------------------------------------------------------------*/\n\nconst getGeneralLinks = async (\n  userPermissions: Permission[],\n  generalSectionRawLinks: MenuItem[],\n  shouldUpdateStrapi: boolean = false\n) => {\n  const generalSectionLinksPermissions = await Promise.all(\n    generalSectionRawLinks.map(({ permissions }) => hasPermissions(userPermissions, permissions))\n  );\n\n  const authorizedGeneralSectionLinks = generalSectionRawLinks.filter(\n    (_, index) => generalSectionLinksPermissions[index]\n  );\n\n  const settingsLinkIndex = authorizedGeneralSectionLinks.findIndex(\n    (obj) => obj.to === '/settings'\n  );\n\n  if (settingsLinkIndex === -1) {\n    return [];\n  }\n\n  const authorizedGeneralLinksClone = cloneDeep(authorizedGeneralSectionLinks);\n\n  authorizedGeneralLinksClone[settingsLinkIndex].notificationsCount = shouldUpdateStrapi ? 1 : 0;\n\n  return authorizedGeneralLinksClone;\n};\n\nconst getPluginSectionLinks = async (\n  userPermissions: Permission[],\n  pluginsSectionRawLinks: MenuItem[]\n) => {\n  const pluginSectionLinksPermissions = await Promise.all(\n    pluginsSectionRawLinks.map(({ permissions }) => hasPermissions(userPermissions, permissions))\n  );\n\n  const authorizedPluginSectionLinks = pluginsSectionRawLinks.filter(\n    (_, index) => pluginSectionLinksPermissions[index]\n  );\n\n  return authorizedPluginSectionLinks;\n};\n\nexport { useMenu };\n","import * as React from 'react';\n\nimport { Box, Flex, SkipToContent } from '@strapi/design-system';\nimport { useIntl } from 'react-intl';\nimport styled from 'styled-components';\n\nconst FlexBox = styled(Box)`\n  flex: 1;\n`;\n\ninterface AppLayoutProps {\n  children: React.ReactNode;\n  sideNav: React.ReactNode;\n}\n\nexport const AppLayout = ({ children, sideNav }: AppLayoutProps) => {\n  const { formatMessage } = useIntl();\n\n  return (\n    <Box background=\"neutral100\">\n      <SkipToContent>\n        {formatMessage({ id: 'skipToContent', defaultMessage: 'Skip to content' })}\n      </SkipToContent>\n      <Flex alignItems=\"flex-start\">\n        {sideNav}\n        <FlexBox>{children}</FlexBox>\n      </Flex>\n    </Box>\n  );\n};\n","/**\n *\n * Admin\n *\n */\n\nimport * as React from 'react';\n\nimport { LoadingIndicatorPage, useStrapiApp, useTracking } from '@strapi/helper-plugin';\nimport { DndProvider } from 'react-dnd';\nimport { HTML5Backend } from 'react-dnd-html5-backend';\nimport { Route, Switch } from 'react-router-dom';\n\nimport { GuidedTourModal } from '../components/GuidedTour/Modal';\nimport { LeftMenu } from '../components/LeftMenu';\nimport { Onboarding } from '../components/Onboarding';\nimport { ACTION_SET_APP_RUNTIME_STATUS } from '../constants';\nimport { useConfiguration } from '../contexts/configuration';\nimport { useTypedDispatch, useTypedSelector } from '../core/store/hooks';\nimport { useMenu } from '../hooks/useMenu';\nimport { AppLayout } from '../layouts/AppLayout';\nimport { createRoute } from '../utils/createRoute';\n\nconst CM = React.lazy(\n  // @ts-expect-error ‚Äì No types, yet.\n  () => import('../content-manager/pages/App')\n);\nconst HomePage = React.lazy(() =>\n  import('./HomePage').then((mod) => ({\n    default: mod.HomePage,\n  }))\n);\nconst InstalledPluginsPage = React.lazy(() =>\n  import('./InstalledPluginsPage').then((mod) => ({\n    default: mod.ProtectedInstalledPluginsPage,\n  }))\n);\nconst MarketplacePage = React.lazy(() =>\n  import('./Marketplace/MarketplacePage').then((mod) => ({ default: mod.ProtectedMarketplacePage }))\n);\nconst NotFoundPage = React.lazy(() =>\n  import('./NotFoundPage').then(({ NotFoundPage }) => ({ default: NotFoundPage }))\n);\nconst InternalErrorPage = React.lazy(() =>\n  import('./InternalErrorPage').then(({ InternalErrorPage }) => ({\n    default: InternalErrorPage,\n  }))\n);\n\nconst ProfilePage = React.lazy(() =>\n  import('./ProfilePage').then((mod) => ({\n    default: mod.ProfilePage,\n  }))\n);\nconst SettingsPage = React.lazy(() =>\n  // @ts-expect-error ‚Äì No types, yet.\n  import('./SettingsPage').then((module) => ({\n    default: module.SettingsPage,\n  }))\n);\n\nconst Admin = () => {\n  const { trackUsage } = useTracking();\n  const dispatch = useTypedDispatch();\n  const appStatus = useTypedSelector((state) => state.admin_app.status);\n\n  const { isLoading, generalSectionLinks, pluginsSectionLinks } = useMenu();\n  const { menu } = useStrapiApp();\n  const { showTutorials } = useConfiguration();\n\n  React.useEffect(() => {\n    // Make sure the event is only send once after accessing the admin panel\n    // and not at runtime for example when regenerating the permissions with the ctb\n    // or with i18n\n    if (appStatus === 'init') {\n      trackUsage('didAccessAuthenticatedAdministration');\n\n      dispatch({ type: ACTION_SET_APP_RUNTIME_STATUS });\n    }\n  }, [appStatus, dispatch, trackUsage]);\n\n  const routes = React.useMemo(() => {\n    return (\n      menu\n        .filter((link) => link.Component)\n        // we've filtered out the links that don't have a component above\n        .map(({ to, Component, exact }) => createRoute(Component!, to, exact))\n    );\n  }, [menu]);\n\n  if (isLoading) {\n    return <LoadingIndicatorPage />;\n  }\n\n  return (\n    <DndProvider backend={HTML5Backend}>\n      <AppLayout\n        sideNav={\n          <LeftMenu\n            generalSectionLinks={generalSectionLinks}\n            pluginsSectionLinks={pluginsSectionLinks}\n          />\n        }\n      >\n        <React.Suspense fallback={<LoadingIndicatorPage />}>\n          <Switch>\n            <Route path=\"/\" component={HomePage} exact />\n            <Route path=\"/me\" component={ProfilePage} exact />\n            <Route path=\"/content-manager\" component={CM} />\n            {routes}\n            <Route path=\"/settings/:settingId\" component={SettingsPage} />\n            <Route path=\"/settings\" component={SettingsPage} exact />\n            <Route path=\"/marketplace\">\n              <MarketplacePage />\n            </Route>\n            <Route path=\"/list-plugins\" exact>\n              <InstalledPluginsPage />\n            </Route>\n            <Route path=\"/404\" component={NotFoundPage} />\n            <Route path=\"/500\" component={InternalErrorPage} />\n            <Route path=\"\" component={NotFoundPage} />\n          </Switch>\n        </React.Suspense>\n        <GuidedTourModal />\n\n        {showTutorials && <Onboarding />}\n      </AppLayout>\n    </DndProvider>\n  );\n};\n\nexport { Admin };\n","import * as React from 'react';\n\nimport {\n  LoadingIndicatorPage,\n  useStrapiApp,\n  type StrapiAppContextValue,\n} from '@strapi/helper-plugin';\nimport produce from 'immer';\nimport set from 'lodash/set';\n\nimport { Admin } from '../pages/Admin';\n\n/**\n * TODO: this isn't great, and we really should focus on fixing this.\n */\nconst PluginsInitializer = () => {\n  const { plugins: appPlugins } = useStrapiApp();\n  const [{ plugins }, dispatch] = React.useReducer<React.Reducer<State, Action>, State>(\n    reducer,\n    initialState,\n    () => init(appPlugins)\n  );\n  const setPlugin = React.useRef((pluginId: string) => {\n    dispatch({ type: 'SET_PLUGIN_READY', pluginId });\n  });\n\n  const hasApluginNotReady = Object.keys(plugins).some(\n    (plugin) => plugins[plugin].isReady === false\n  );\n\n  /**\n   *\n   * I have spent some time trying to understand what is happening here, and wanted to\n   * leave that knowledge for my future me:\n   *\n   * `initializer` is an undocumented property of the `registerPlugin` API. At the time\n   * of writing it seems only to be used by the i18n plugin.\n   *\n   * How does it work?\n   *\n   * Every plugin that has an `initializer` component defined, receives the\n   * `setPlugin` function as a component prop. In the case of i18n the plugin fetches locales\n   * first and calls `setPlugin` with `pluginId` once they are loaded, which then triggers the\n   * reducer of the admin app defined above.\n   *\n   * Once all plugins are set to `isReady: true` the app renders.\n   *\n   * This API is used to block rendering of the admin app. We should remove that in v5 completely\n   * and make sure plugins can inject data into the global store before they are initialized, to avoid\n   * having a new prop-callback based communication channel between plugins and the core admin app.\n   *\n   */\n\n  if (hasApluginNotReady) {\n    const initializers = Object.keys(plugins).reduce((acc, current) => {\n      const InitializerComponent = plugins[current].initializer;\n\n      if (InitializerComponent) {\n        const key = plugins[current].pluginId;\n\n        acc.push(<InitializerComponent key={key} setPlugin={setPlugin.current} />);\n      }\n\n      return acc;\n    }, [] as React.ReactNode[]);\n\n    return (\n      <>\n        {initializers}\n        <LoadingIndicatorPage />\n      </>\n    );\n  }\n\n  return <Admin />;\n};\n\n/* -------------------------------------------------------------------------------------------------\n * Reducer\n * -----------------------------------------------------------------------------------------------*/\n\ninterface State {\n  plugins: StrapiAppContextValue['plugins'];\n}\n\nconst initialState: State = {\n  plugins: {},\n};\n\ntype SetPluginReadyAction = {\n  type: 'SET_PLUGIN_READY';\n  pluginId: string;\n};\n\ntype Action = SetPluginReadyAction;\n\nconst reducer: React.Reducer<State, Action> = (state = initialState, action: Action): State =>\n  produce(state, (draftState) => {\n    switch (action.type) {\n      case 'SET_PLUGIN_READY': {\n        set(draftState, ['plugins', action.pluginId, 'isReady'], true);\n        break;\n      }\n      default:\n        return draftState;\n    }\n  });\n\n/* -------------------------------------------------------------------------------------------------\n * Init state\n * -----------------------------------------------------------------------------------------------*/\n\nconst init = (plugins: State['plugins']): State => {\n  return {\n    plugins: Object.keys(plugins).reduce<State['plugins']>((acc, current) => {\n      acc[current] = { ...plugins[current] };\n\n      return acc;\n    }, {}),\n  };\n};\n\nexport { PluginsInitializer };\n","import * as React from 'react';\n\nimport {\n  AppInfoProvider,\n  auth,\n  LoadingIndicatorPage,\n  useFetchClient,\n  useGuidedTour,\n} from '@strapi/helper-plugin';\nimport { useQueries } from 'react-query';\nimport lt from 'semver/functions/lt';\nimport valid from 'semver/functions/valid';\n//  TODO: DS add loader\n\nimport packageJSON from '../../../package.json';\nimport { useConfiguration } from '../contexts/configuration';\nimport { getFullName } from '../utils/getFullName';\nimport { hashAdminUserEmail } from '../utils/hashAdminUserEmail';\n\nimport { NpsSurvey } from './NpsSurvey';\nimport { PluginsInitializer } from './PluginsInitializer';\nimport { RBACProvider } from './RBACProvider';\n\nimport type { Information } from '../../../shared/contracts/admin';\nimport type { GetOwnPermissions, GetMe } from '../../../shared/contracts/users';\n\nconst strapiVersion = packageJSON.version;\n\nconst AuthenticatedApp = () => {\n  const { setGuidedTourVisibility } = useGuidedTour();\n  const userInfo = auth.get('userInfo');\n  const [userDisplayName, setUserDisplayName] = React.useState<string>(() =>\n    userInfo ? userInfo.username || getFullName(userInfo.firstname ?? '', userInfo.lastname) : ''\n  );\n  const [userId, setUserId] = React.useState<string>();\n  const { showReleaseNotification } = useConfiguration();\n  const { get } = useFetchClient();\n  const [\n    { data: appInfos, status },\n    { data: tagName, isLoading },\n    { data: permissions, status: fetchPermissionsStatus, refetch, isFetching },\n    { data: userRoles },\n  ] = useQueries([\n    {\n      queryKey: 'app-infos',\n      async queryFn() {\n        const { data } = await get<Information.Response>('/admin/information');\n\n        return data.data;\n      },\n    },\n    {\n      queryKey: 'strapi-release',\n      async queryFn() {\n        try {\n          const res = await fetch('https://api.github.com/repos/strapi/strapi/releases/latest');\n\n          if (!res.ok) {\n            throw new Error();\n          }\n\n          const response = (await res.json()) as { tag_name: string | null | undefined };\n\n          if (!response.tag_name) {\n            throw new Error();\n          }\n\n          return response.tag_name;\n        } catch (err) {\n          // Don't throw an error\n          return strapiVersion;\n        }\n      },\n      enabled: showReleaseNotification,\n      initialData: strapiVersion,\n    },\n    {\n      queryKey: 'admin-users-permission',\n      async queryFn() {\n        const { data } = await get<GetOwnPermissions.Response>('/admin/users/me/permissions');\n\n        return data.data;\n      },\n      initialData: [],\n    },\n    {\n      queryKey: 'user-roles',\n      async queryFn() {\n        const {\n          data: {\n            data: { roles },\n          },\n        } = await get<GetMe.Response>('/admin/users/me');\n\n        return roles;\n      },\n    },\n  ]);\n\n  const shouldUpdateStrapi = checkLatestStrapiVersion(strapiVersion, tagName);\n\n  /**\n   * TODO: does this actually need to be an effect?\n   */\n  React.useEffect(() => {\n    if (userRoles) {\n      const isUserSuperAdmin = userRoles.find(({ code }) => code === 'strapi-super-admin');\n\n      if (isUserSuperAdmin && appInfos?.autoReload) {\n        setGuidedTourVisibility(true);\n      }\n    }\n  }, [userRoles, appInfos, setGuidedTourVisibility]);\n\n  React.useEffect(() => {\n    const getUserId = async () => {\n      if (userInfo) {\n        const userId = await hashAdminUserEmail(userInfo);\n\n        if (userId) {\n          setUserId(userId);\n        }\n      }\n    };\n\n    getUserId();\n  }, [userInfo]);\n\n  // We don't need to wait for the release query to be fetched before rendering the plugins\n  // however, we need the appInfos and the permissions\n  const shouldShowNotDependentQueriesLoader =\n    isFetching || status === 'loading' || fetchPermissionsStatus === 'loading';\n\n  const shouldShowLoader = isLoading || shouldShowNotDependentQueriesLoader;\n\n  if (shouldShowLoader) {\n    return <LoadingIndicatorPage />;\n  }\n\n  // TODO: add error state\n  if (status === 'error') {\n    return <div>error...</div>;\n  }\n\n  return (\n    <AppInfoProvider\n      {...appInfos}\n      userId={userId}\n      latestStrapiReleaseTag={tagName}\n      setUserDisplayName={setUserDisplayName}\n      shouldUpdateStrapi={shouldUpdateStrapi}\n      userDisplayName={userDisplayName}\n    >\n      <RBACProvider permissions={permissions ?? []} refetchPermissions={refetch}>\n        <NpsSurvey />\n        <PluginsInitializer />\n      </RBACProvider>\n    </AppInfoProvider>\n  );\n};\n\nconst checkLatestStrapiVersion = (\n  currentPackageVersion: string,\n  latestPublishedVersion: string = ''\n): boolean => {\n  if (!valid(currentPackageVersion) || !valid(latestPublishedVersion)) {\n    return false;\n  }\n\n  return lt(currentPackageVersion, latestPublishedVersion);\n};\n\nexport { AuthenticatedApp };\n"],"names":["RouterNavLink","name","NavLink","Icon","NotFoundPage","InternalErrorPage","get","userId"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAgB,SAAA,YAAY,WAAmB,WAA0B,IAAI;AACpE,SAAA,CAAC,WAAW,QAAQ,EAAE,OAAO,CAAC,QAAQ,GAAG,EAAE,KAAK,GAAG;AAC5D;ACAO,MAAM,QAAQ;AAAA,EACnB,YAAY,QAAqB;AACxB,WAAA,CAAC,GAAG,IAAI,WAAW,MAAM,CAAC,EAAE,IAAI,CAAC,MAAM,EAAE,SAAS,EAAE,EAAE,SAAS,GAAG,GAAG,CAAC,EAAE,KAAK,EAAE;AAAA,EACxF;AAAA,EACA,MAAM,cAAc,SAAiB;AACnC,UAAM,WAAW,IAAI,YAAY,EAAE,OAAO,OAAO;AACjD,UAAM,aAAa,MAAM,OAAO,OAAO,OAAO,WAAW,QAAQ;AAE1D,WAAA,KAAK,YAAY,UAAU;AAAA,EACpC;AACF;AAEA,eAAsB,mBAAmB,SAAoB;AAC3D,MAAI,CAAC,SAAS;AACL,WAAA;AAAA,EACT;AAEI,MAAA;AACF,WAAO,MAAM,MAAM,cAAc,QAAQ,KAAK;AAAA,WACvC,OAAO;AACP,WAAA;AAAA,EACT;AACF;ACxBA,MAAM,cAAc;AAAA,EAClB,oBAAoB;AAAA,IAClB,MAAM;AAAA,MACJ,OAAO;AAAA,QACL,IAAI;AAAA,QACJ,gBAAgB;AAAA,MAClB;AAAA,MACA,KAAK;AAAA,QACH,OAAO;AAAA,UACL,IAAI;AAAA,UACJ,gBAAgB;AAAA,QAClB;AAAA,QACA,MAAM;AAAA,QACN,QAAQ;AAAA,MACV;AAAA,MACA,eAAe;AAAA,IACjB;AAAA,IACA,QAAQ;AAAA,MACN,OAAO;AAAA,QACL,IAAI;AAAA,QACJ,gBAAgB;AAAA,MAClB;AAAA,MACA,SAAS;AAAA,QACP,IAAI;AAAA,QACJ,gBACE;AAAA,MACJ;AAAA,MACA,KAAK;AAAA,QACH,OAAO;AAAA,UACL,IAAI;AAAA,UACJ,gBAAgB;AAAA,QAClB;AAAA,QACA,MAAM;AAAA,MACR;AAAA,MACA,eAAe;AAAA,IACjB;AAAA,IACA,SAAS;AAAA,MACP,OAAO;AAAA,QACL,IAAI;AAAA,QACJ,gBAAgB;AAAA,MAClB;AAAA,MACA,SAAS;AAAA,QACP,IAAI;AAAA,QACJ,gBAAgB;AAAA,MAClB;AAAA,MACA,KAAK;AAAA,QACH,OAAO;AAAA,UACL,IAAI;AAAA,UACJ,gBAAgB;AAAA,QAClB;AAAA,QACA,MAAM;AAAA,QACN,QAAQ;AAAA,MACV;AAAA,MACA,eAAe;AAAA,IACjB;AAAA,EACF;AAAA,EACA,gBAAgB;AAAA,IACd,MAAM;AAAA,MACJ,OAAO;AAAA,QACL,IAAI;AAAA,QACJ,gBAAgB;AAAA,MAClB;AAAA,MACA,KAAK;AAAA,QACH,OAAO;AAAA,UACL,IAAI;AAAA,UACJ,gBAAgB;AAAA,QAClB;AAAA,QACA,MAAM;AAAA,QACN,QAAQ;AAAA,MACV;AAAA,MACA,eAAe;AAAA,IACjB;AAAA,IACA,QAAQ;AAAA,MACN,OAAO;AAAA,QACL,IAAI;AAAA,QACJ,gBAAgB;AAAA,MAClB;AAAA,MACA,SAAS;AAAA,QACP,IAAI;AAAA,QACJ,gBACE;AAAA,MACJ;AAAA,MACA,KAAK;AAAA,QACH,OAAO;AAAA,UACL,IAAI;AAAA,UACJ,gBAAgB;AAAA,QAClB;AAAA,QACA,MAAM;AAAA,MACR;AAAA,MACA,eAAe;AAAA,IACjB;AAAA,IACA,SAAS;AAAA,MACP,OAAO;AAAA,QACL,IAAI;AAAA,QACJ,gBAAgB;AAAA,MAClB;AAAA,MACA,SAAS;AAAA,QACP,IAAI;AAAA,QACJ,gBAAgB;AAAA,MAClB;AAAA,MACA,KAAK;AAAA,QACH,OAAO;AAAA,UACL,IAAI;AAAA,UACJ,gBAAgB;AAAA,QAClB;AAAA,QACA,MAAM;AAAA,QACN,QAAQ;AAAA,MACV;AAAA,MACA,eAAe;AAAA,IACjB;AAAA,EACF;AAAA,EACA,WAAW;AAAA,IACT,MAAM;AAAA,MACJ,OAAO;AAAA,QACL,IAAI;AAAA,QACJ,gBAAgB;AAAA,MAClB;AAAA,MACA,KAAK;AAAA,QACH,OAAO;AAAA,UACL,IAAI;AAAA,UACJ,gBAAgB;AAAA,QAClB;AAAA,QACA,MAAM;AAAA,QACN,QAAQ;AAAA,MACV;AAAA,MACA,eAAe;AAAA,IACjB;AAAA,IACA,QAAQ;AAAA,MACN,OAAO;AAAA,QACL,IAAI;AAAA,QACJ,gBAAgB;AAAA,MAClB;AAAA,MACA,SAAS;AAAA,QACP,IAAI;AAAA,QACJ,gBACE;AAAA,MACJ;AAAA,MACA,KAAK;AAAA,QACH,OAAO;AAAA,UACL,IAAI;AAAA,UACJ,gBAAgB;AAAA,QAClB;AAAA,QACA,MAAM;AAAA,MACR;AAAA,MACA,eAAe;AAAA,IACjB;AAAA,IACA,SAAS;AAAA,MACP,OAAO;AAAA,QACL,IAAI;AAAA,QACJ,gBAAgB;AAAA,MAClB;AAAA,MACA,SAAS;AAAA,QACP,IAAI;AAAA,QACJ,gBACE;AAAA,MACJ;AAAA,MACA,eAAe;AAAA,IACjB;AAAA,EACF;AACF;AAEA,MAAM,SAAS;AAAA,EACb,SAAS;AAAA,EACT,WAAW;AAAA,EACX,aAAa;AACf;ACtJA,MAAM,SAAS,CAAC,EAAE,UAAU,OAAO,GAAG,YAAyB;AAC7D,SAAO,UAAU,OAAO,WAAW,UAAU,OAAO,YAClD;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,YAAW;AAAA,MACX,SAAS;AAAA,MACT,cAAa;AAAA,MACb,OAAO,QAAQ,EAAE;AAAA,MACjB,QAAQ,QAAQ,EAAE;AAAA,MAClB,gBAAe;AAAA,MACd,GAAG;AAAA,MAEH,UAAA,UAAU,OAAO,UAChB,oBAAC,SAAM,eAAW,MAAC,OAAO,QAAQ,EAAE,GAAG,OAAM,WAAA,CAAW,IAEvD,oBAAA,YAAA,EAAW,YAAW,YAAW,WAAU,YACzC,SACH,CAAA;AAAA,IAAA;AAAA,EAAA,IAIJ;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,aAAY;AAAA,MACZ,aAAY;AAAA,MACZ,aAAY;AAAA,MACZ,SAAS;AAAA,MACT,cAAa;AAAA,MACb,OAAO,QAAQ,EAAE;AAAA,MACjB,QAAQ,QAAQ,EAAE;AAAA,MAClB,gBAAe;AAAA,MACd,GAAG;AAAA,MAEJ,8BAAC,YAAW,EAAA,YAAW,YAAW,WAAU,cACzC,UACH;AAAA,IAAA;AAAA,EAAA;AAGN;AAUA,MAAM,kBAAkB,CAAC,EAAE,OAAO,GAAG,MACnC,MAAA;AAAA,EAAC;AAAA,EAAA;AAAA,IACC,OAAO,QAAQ,CAAC;AAAA,IAChB,QAAO;AAAA,IACP,YAAY,UAAU,OAAO,cAAc,eAAe;AAAA,IAC1D,WAAS;AAAA,IACT,WAAW,UAAU,OAAO,YAAY,QAAQ,EAAE,IAAI,QAAQ,EAAE;AAAA,IAC/D,GAAG;AAAA,EAAA;AACN;AC3CF,MAAM,kBAAkB,MAAM;AACtB,QAAA;AAAA,IACJ;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,MACE,cAAc;AACZ,QAAA,EAAE,kBAAkB;AACpB,QAAA,EAAE,eAAe;AAEnB,MAAA,CAAC,eAAe,CAAC,qBAAqB;AACjC,WAAA;AAAA,EACT;AAEM,QAAA,WAAW,IAAI,aAAa,WAAW;AACvC,QAAA,cAAc,OAAO,KAAK,eAAe;AAC/C,QAAM,CAAC,aAAa,QAAQ,IAAI,YAAY,MAAM,GAAG;AAI/C,QAAA,eAAe,YAAY,QAAQ,WAAW;AAC9C,QAAA,YAAY,OAAO,KAAK,gBAAgB,WAAW,CAAC,EAAE,QAAQ,QAAQ;AACtE,QAAA,kBAAkB,eAAe,YAAY,SAAS;AACtD,QAAA,eAAe,YAAY,OAAO,KAAK,gBAAgB,WAAW,CAAC,EAAE,SAAS;AAEpF,QAAM,iBAAiB,MAAM;AAC3B,iBAAa,aAAa,IAAI;AAC9B,eAAW,SAAS,aAAa;AAEjC,mBAAe,IAAI;AAAA,EAAA;AAGrB,QAAM,aAAa,MAAM;AACvB,eAAW,IAAI;AACf,mBAAe,IAAI;AACnB,eAAW,mBAAmB;AAAA,EAAA;AAGhC,SACG,oBAAA,QAAA,EACC,UAAC,oBAAA,cAAA,EAAa,SAAS,gBAAgB,SAAS,GAAG,gBAAe,UAChE,UAAC,oBAAA,WAAA,EAAU,UAAU,gBACnB,UAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAU;AAAA,MACV,YAAW;AAAA,MACX,YAAW;AAAA,MACX,OAAO,QAAQ,GAAG;AAAA,MAClB,QAAO;AAAA,MACP,WAAS;AAAA,MACT,SAAS;AAAA,MACT,KAAK;AAAA,MACL,MAAK;AAAA,MACL,cAAU;AAAA,MACV,SAAS,CAAC,MAAM,EAAE,gBAAgB;AAAA,MAElC,UAAA;AAAA,QAAC,oBAAA,MAAA,EAAK,gBAAe,YACnB,UAAA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,SAAS;AAAA,YACT,cAAY,cAAc;AAAA,cACxB,IAAI;AAAA,cACJ,gBAAgB;AAAA,YAAA,CACjB;AAAA,YAED,8BAAC,OAAM,EAAA;AAAA,UAAA;AAAA,QAAA,GAEX;AAAA,QACA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,aAAa;AAAA,YACb,cAAc;AAAA,YACd,eAAe,CAAC,gBAAgB,CAAC,kBAAkB,IAAI;AAAA,YAEvD,UAAA;AAAA,cAAC;AAAA,cAAA;AAAA,gBACC,OAAO,SAAS;AAAA,gBAChB,KAAK,SAAS,WAAW,SAAS,MAAM;AAAA,gBACxC,YAAY;AAAA,gBACZ;AAAA,gBACA;AAAA,gBACA;AAAA,gBAEA,UAAC,oBAAA,mBAAA,EAAmB,GAAG,SAAS,QAAS,CAAA;AAAA,cAAA;AAAA,YAC3C;AAAA,UAAA;AAAA,QACF;AAAA,QACC,EAAE,CAAC,gBAAgB,CAAC,oBAClB,oBAAA,MAAA,EAAK,gBAAe,YACnB,8BAAC,QAAO,EAAA,SAAQ,YAAW,SAAS,YACjC,UAAc,cAAA;AAAA,UACb,IAAI;AAAA,UACJ,gBAAgB;AAAA,QAAA,CACjB,GACH,EACF,CAAA;AAAA,MAAA;AAAA,IAAA;AAAA,EAAA,GAGN,GACF,EACF,CAAA;AAEJ;AAEA,MAAM,eAAe,OAAO,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,gBAKhB,CAAC,EAAE,MAAM,MAAM,GAAG,MAAM,OAAO,UAAU,IAAI;AAAA;AAoB7D,MAAM,oBAAoB,CAAC;AAAA,EACzB;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,MAA8B;AACtB,QAAA,EAAE,kBAAkB;AAE1B,QAAM,mBAAmB,eAAe;AACxC,QAAM,iBAAiB,YAAY;AACnC,QAAM,mBAAmB,eAAe;AAExC,SAEI,qBAAA,UAAA,EAAA,UAAA;AAAA,IAAC,qBAAA,MAAA,EAAK,YAAW,WACf,UAAA;AAAA,MAAA,oBAAC,QAAK,aAAa,GAAG,gBAAe,UAAS,UAAU,QAAQ,EAAE,GAC/D,8BAAqB,oBAAA,iBAAA,EAAgB,OAAO,OAAO,SAAS,WAAW,QAAQ,EAAE,EAAG,CAAA,GACvF;AAAA,0BACC,YAAW,EAAA,SAAQ,SAAQ,WAAU,cACnC,UAAc,cAAA;AAAA,QACb,IAAI;AAAA,QACJ,gBAAgB;AAAA,MACjB,CAAA,GACH;AAAA,IAAA,GACF;AAAA,yBACC,MACC,EAAA,UAAA;AAAA,MAAA,oBAAC,QAAK,aAAa,GAAG,UAAU,QAAQ,EAAE,GACxC,UAAA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,OAAO,iBAAiB,OAAO,UAAU,OAAO;AAAA,UAChD,YAAY;AAAA,UACZ,eAAe;AAAA,UAEd,UAAe,eAAA;AAAA,QAAA;AAAA,MAAA,GAEpB;AAAA,MACC,oBAAA,YAAA,EAAW,SAAQ,SAAQ,YAAW,QAAO,WAAU,cAAa,IAAG,MAAK,IAAG,SAC7E,UAAA,cAAc,KAAK,GACtB;AAAA,IAAA,GACF;AAAA,IACA,qBAAC,MAAK,EAAA,YAAW,WACf,UAAA;AAAA,MAAA,oBAAC,MAAK,EAAA,aAAa,GAAG,WAAU,UAAS,gBAAe,UAAS,UAAU,QAAQ,EAAE,GAClF,UAAA,mBAEG,qBAAA,UAAA,EAAA,UAAA;AAAA,QAAC,oBAAA,iBAAA,EAAgB,OAAO,OAAO,QAAS,CAAA;AAAA,QACvC,sCACE,QAAO,EAAA,OAAO,OAAO,WAAW,YAAY,GAC1C,UAAA,mBAAmB,EACtB,CAAA;AAAA,MAAA,EAAA,CAEJ,EAEJ,CAAA;AAAA,2BACC,KACE,EAAA,UAAA;AAAA,QAAA;AAAA,QACA,QACE,IAAI,SACH;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,IAAI;AAAA,YACJ,6BAAU,YAAW,EAAA;AAAA,YACrB,SAAS;AAAA,YAET,IAAI,IAAI;AAAA,YAEP,UAAA,cAAc,IAAI,KAAK;AAAA,UAAA;AAAA,QAAA,IAG1B,oBAAC,QAAO,EAAA,SAAU,oBAAA,YAAA,CAAW,CAAA,GAAI,SAAS,YACvC,UAAA,cAAc,IAAI,KAAK,EAC1B,CAAA;AAAA,MAAA,GAEN;AAAA,IAAA,GACF;AAAA,IACC,kBAAkB,mBACjB,oBAAC,KAAI,EAAA,YAAY,GACf,UAAA,oBAAC,MAAK,EAAA,aAAa,GAAG,gBAAe,UAAS,OAAO,QAAQ,EAAE,GAC7D,UAAC,oBAAA,iBAAA,EAAgB,OAAO,OAAO,SAAS,WAAW,QAAQ,EAAE,EAAG,CAAA,EAAA,CAClE,EACF,CAAA;AAAA,EAEJ,EAAA,CAAA;AAEJ;AASA,MAAM,oBAAoB,CAAC,EAAE,IAAI,qBAA6C;AACtE,QAAA,EAAE,kBAAkB;AAGxB,SAAA,oBAAC,QAAK,WAAU,UAAS,YAAW,WAAU,KAAK,GAAG,eAAe,GAClE,UAAA;AAAA,IACC,EAAE,IAAI,eAAe;AAAA,IACrB;AAAA,MACE,mBAAmB;AAAA,MACnB,GAAG;AAAA,MACH,GAAG;AAAA,MACH,OAAO;AAAA,MACP,IAAI;AAAA,MACJ,IAAI;AAAA,IACN;AAAA,EAEJ,EAAA,CAAA;AAEJ;AAEA,MAAM,oBAAoB,CAAC,aACzB;AAAA,EAAC;AAAA,EAAA;AAAA,IACC,IAAG;AAAA,IACH,WAAU;AAAA,IACV,QAAO;AAAA,IACP,KAAI;AAAA,IACJ,MAAK;AAAA,IAEJ;AAAA,EAAA;AACH;AAGF,MAAM,OAAO,CAAC,iCACX,YAAW,EAAA,YAAW,YAAY,SAAS,CAAA;AAG9C,MAAM,YAAY,CAAC,aAA8B,oBAAC,cAAY,SAAS,CAAA;AAEvE,MAAM,QAAQ,CAAC,iCACZ,YAAW,EAAA,WAAU,cAAc,SAAS,CAAA;AAG/C,MAAM,OAAO,CAAC,aACX,oBAAA,KAAA,EAAI,aAAa,GAChB,UAAA,oBAAC,MAAI,EAAA,SAAS,CAAA,EAChB,CAAA;AAGF,MAAM,WAAW,OAAO;AAAA;AAAA;AAAA,aAGX,CAAC,EAAE,MAAA,MAAY,MAAM,OAAO,UAAU;AAAA;AAAA;AAInD,MAAM,WAAW,CAAC,aAA8B,oBAAC,YAAU,SAAS,CAAA;AChRpE,MAAM,kBAAkB,OAAO,GAAG;AAAA,WACvB,MAAM,EAAE;AAAA;AAAA,YAEP,CAAC,EAAE,YAAY,MAAM,OAAO,CAAC,CAAC;AAAA,UAChC,CAAC,EAAE,YAAY,MAAM,OAAO,CAAC,CAAC;AAAA;AAGxC,MAAM,WAAW,OAAOA,OAAa;AAAA;AAAA;AAAA;AAAA;AAAA,aAKxB,CAAC,EAAE,MAAM,MAAM,GAAG,MAAM,OAAO,CAAC,CAAC,IAAI,MAAM,OAAO,CAAC,CAAC,EAAE;AAAA,mBAChD,CAAC,EAAE,YAAY,MAAM,OAAO,CAAC,CAAC;AAAA;AAAA;AAAA,kBAG/B,CAAC,EAAE,OAAO,OAAO,MAC7B,SAAS,MAAM,OAAO,YAAY,MAAM,OAAO,UAAU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAMjD,CAAC,EAAE,MAAA,MAAY,MAAM,OAAO,SAAS;AAAA;AAAA;AAAA;AAOnD,MAAM,WAAW,CAAC,EAAE,qBAAqB,0BAAyC;AAC1E,QAAA,aAAa,MAAM,OAAuB,IAAK;AACrD,QAAM,CAAC,kBAAkB,mBAAmB,IAAI,MAAM,SAAS,KAAK;AAC9D,QAAA;AAAA,IACJ,OAAO,EAAE,KAAK;AAAA,MACZ,iBAAiB;AACrB,QAAM,CAAC,WAAW,YAAY,IAAI,mBAAmB,oBAAoB,KAAK;AACxE,QAAA,EAAE,oBAAoB;AACtB,QAAA,EAAE,kBAAkB;AACpB,QAAA,EAAE,eAAe;AACjB,QAAA,EAAE,aAAa;AACrB,QAAM,UAAU;AACV,QAAA,EAAE,SAAS;AAEjB,QAAM,WAAW,gBACd,MAAM,GAAG,EACT,IAAI,CAACC,UAASA,MAAK,UAAU,GAAG,CAAC,CAAC,EAClC,KAAK,EAAE,EACP,UAAU,GAAG,CAAC;AAEjB,QAAM,wBAAwB,MAAM,oBAAoB,CAAC,SAAS,CAAC,IAAI;AAEvE,QAAM,eAAe,YAAY;AAC/B,UAAM,KAAK,eAAe;AAC1B,SAAK,gBAAgB;AACC;AACtB,YAAQ,KAAK,aAAa;AAAA,EAAA;AAGtB,QAAA,aAAsC,CAAC,MAAM;AACjD,QACE,CAAC,EAAE,cAAc,SAAS,EAAE,aAAa;AAAA;AAAA;AAAA,IAIzC,EAAE,eAAe,eAAe,OAAO,wBACvC;AACA,0BAAoB,KAAK;AAAA,IAC3B;AAAA,EAAA;AAGI,QAAA,oBAAoB,CAAC,gBAAwB;AACjD,eAAW,gBAAgB,EAAE,MAAM,UAAU,IAAI,aAAa;AAAA,EAAA;AAGhE,QAAM,YAAY,cAAc;AAAA,IAC9B,IAAI;AAAA,IACJ,gBAAgB;AAAA,EAAA,CACjB;AAGC,SAAA,qBAAC,WAAQ,WACP,UAAA;AAAA,IAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,IAAID;AAAAA,QACJ,WAAW,cAAc;AAAA,UACvB,IAAI;AAAA,UACJ,gBAAgB;AAAA,QAAA,CACjB;AAAA,QACD,OAAO;AAAA,QACP,MACE;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,KAAK,KAAK,UAAU,KAAK;AAAA,YACzB,KAAK,cAAc;AAAA,cACjB,IAAI;AAAA,cACJ,gBAAgB;AAAA,YAAA,CACjB;AAAA,UAAA;AAAA,QACH;AAAA,MAAA;AAAA,IAEJ;AAAA,wBAEC,SAAQ,EAAA;AAAA,yBAER,aACC,EAAA,UAAA;AAAA,MAAA;AAAA,QAACE;AAAAA,QAAA;AAAA,UACC,IAAIF;AAAAA,UAEJ,IAAG;AAAA,UACH,0BAAO,OAAM,EAAA;AAAA,UACb,SAAS,MAAM,kBAAkB,kBAAkB;AAAA,UAElD,wBAAc,EAAE,IAAI,0BAA0B,gBAAgB,mBAAmB;AAAA,QAAA;AAAA,MACpF;AAAA,MAEC,oBAAoB,SAAS,IAC5B;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,OAAO,cAAc;AAAA,YACnB,IAAI;AAAA,YACJ,gBAAgB;AAAA,UAAA,CACjB;AAAA,UAEA,UAAA,oBAAoB,IAAI,CAAC,SAAS;AACjC,kBAAMG,QAAO,KAAK;AAGhB,mBAAA;AAAA,cAACD;AAAAA,cAAA;AAAA,gBACC,IAAIF;AAAAA,gBAEJ,IAAI,KAAK;AAAA,gBAET,0BAAOG,OAAK,EAAA;AAAA,gBACZ,SAAS,MAAM,kBAAkB,KAAK,EAAE;AAAA,gBAEvC,UAAA,cAAc,KAAK,SAAS;AAAA,cAAA;AAAA,cAJxB,KAAK;AAAA,YAAA;AAAA,UAKZ,CAEH;AAAA,QAAA;AAAA,MAAA,IAED;AAAA,MAEH,oBAAoB,SAAS,IAC5B;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,OAAO,cAAc;AAAA,YACnB,IAAI;AAAA,YACJ,gBAAgB;AAAA,UAAA,CACjB;AAAA,UAEA,UAAA,oBAAoB,IAAI,CAAC,SAAS;AACjC,kBAAM,WAAW,KAAK;AAGpB,mBAAA;AAAA,cAACD;AAAAA,cAAA;AAAA,gBACC,IAAIF;AAAAA,gBACJ,cACE,KAAK,sBAAsB,KAAK,qBAAqB,IACjD,KAAK,mBAAmB,SACxB,IAAA;AAAA,gBAGN,IAAI,KAAK;AAAA,gBAET,0BAAO,UAAS,EAAA;AAAA,gBAChB,SAAS,MAAM,kBAAkB,KAAK,EAAE;AAAA,gBAEvC,UAAA,cAAc,KAAK,SAAS;AAAA,cAAA;AAAA,cAJxB,KAAK;AAAA,YAAA;AAAA,UAKZ,CAEH;AAAA,QAAA;AAAA,MAAA,IAED;AAAA,IAAA,GACN;AAAA,yBAEC,WACC,EAAA,UAAA;AAAA,MAAA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,IAAG;AAAA,UACH,KAAK;AAAA,UACL,SAAS;AAAA,UACT;AAAA,UAEC,UAAA;AAAA,QAAA;AAAA,MACH;AAAA,MACC,oBACC;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,QAAQ;AAAA,UACR,SAAS;AAAA,UACT,QAAO;AAAA,UACP,YAAW;AAAA,UACX,WAAS;AAAA,UAET,UAAA,oBAAC,WAAU,EAAA,UAAU,uBACnB,UAAA,qBAAC,MAAK,EAAA,WAAU,UAAS,YAAW,WAAU,KAAK,GACjD,UAAA;AAAA,YAAC,oBAAA,UAAA,EAAS,UAAU,GAAG,SAAS,uBAAuB,IAAG,OACxD,UAAC,oBAAA,YAAA,EACE,UAAc,cAAA;AAAA,cACb,IAAI;AAAA,cACJ,gBAAgB;AAAA,YAAA,CACjB,GACH,EACF,CAAA;AAAA,iCACC,UAAS,EAAA,UAAU,GAAG,SAAS,cAAc,IAAG,eAC/C,UAAA;AAAA,cAAC,oBAAA,YAAA,EAAW,WAAU,aACnB,UAAc,cAAA;AAAA,gBACb,IAAI;AAAA,gBACJ,gBAAgB;AAAA,cACjB,CAAA,GACH;AAAA,kCACC,MAAK,EAAA;AAAA,YAAA,GACR;AAAA,UAAA,EAAA,CACF,EACF,CAAA;AAAA,QAAA;AAAA,MACF;AAAA,MAGF,oBAAC,aAAY,EAAA,SAAS,MAAM,aAAa,CAAC,MAAM,CAAC,CAAC,GAC/C,UAAA,YACG,cAAc;AAAA,QACZ,IAAI;AAAA,QACJ,gBAAgB;AAAA,MACjB,CAAA,IACD,cAAc;AAAA,QACZ,IAAI;AAAA,QACJ,gBAAgB;AAAA,MACjB,CAAA,GACP;AAAA,IAAA,GACF;AAAA,EACF,EAAA,CAAA;AAEJ;AC9PA,MAAe,oBAAA;ACoBf,MAAM,aAAa,MAAM;AACjB,QAAA,aAAa,MAAM,OAA0B,IAAK;AACxD,QAAM,CAAC,QAAQ,SAAS,IAAI,MAAM,SAAS,KAAK;AAC1C,QAAA,EAAE,kBAAkB;AACpB,QAAA,EAAE,qBAAqB;AAE7B,QAAM,0BAA0B,MAAM;AAC1B,cAAA,CAAC,SAAS,CAAC,IAAI;AAAA,EAAA;AAG3B,QAAM,WAAW;AAAA,IACf,GAAG;AAAA,IACH;AAAA,MACE,OAAO,EAAE,IAAI,iCAAiC,gBAAgB,WAAW;AAAA,MACzE,MAAM;AAAA,MACN,MAAM,mBACF,8BACA;AAAA,IACN;AAAA,EAAA;AAIA,SAAA,qBAAC,OAAI,IAAG,SAAQ,UAAS,SAAQ,QAAQ,GAAG,OAAO,GACjD,UAAA;AAAA,IAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,cAAY;AAAA,UACV,SACI;AAAA,YACE,IAAI;AAAA,YACJ,gBAAgB;AAAA,UAAA,IAElB;AAAA,YACE,IAAI;AAAA,YACJ,gBAAgB;AAAA,UAClB;AAAA,QACN;AAAA,QACA,SAAS;AAAA,QACT,KAAK;AAAA,QAEL,8BAAC,MAAK,EAAA,IAAI,SAAS,QAAQ,UAAU,OAAM,kBAAiB;AAAA,MAAA;AAAA,IAC9D;AAAA,IAEC,8BACE,QACC,EAAA,UAAA;AAAA,MAAC,kBAAkB;AAAA,MAAlB;AAAA,QACC,SAAS;AAAA,QACT,WAAW;AAAA,QACX,QAAQ;AAAA,QACR,WAAU;AAAA,QACV,SAAS;AAAA,QAET,UAAA;AAAA,UAAA;AAAA,YAAC;AAAA,YAAA;AAAA,cACC,gBAAe;AAAA,cACf,eAAe;AAAA,cACf,cAAc;AAAA,cACd,aAAa;AAAA,cACb,YAAY;AAAA,cAEZ,UAAA;AAAA,gBAAC,oBAAA,sBAAA,EAAqB,YAAW,QAC9B,UAAc,cAAA;AAAA,kBACb,IAAI;AAAA,kBACJ,gBAAgB;AAAA,gBACjB,CAAA,GACH;AAAA,gBACA;AAAA,kBAAC;AAAA,kBAAA;AAAA,oBACC,IAAG;AAAA,oBACH,MAAM,WAAW;AAAA,oBACjB,QAAO;AAAA,oBACP,KAAI;AAAA,oBACJ,SAAQ;AAAA,oBACR,WAAU;AAAA,oBAET,UAAA,cAAc,WAAW,KAAK;AAAA,kBAAA;AAAA,gBACjC;AAAA,cAAA;AAAA,YAAA;AAAA,UACF;AAAA,8BACC,SAAQ,EAAA;AAAA,UACR,YAAY,IAAI,CAAC,EAAE,MAAM,UAAU,MAAA,GAAS,UAC3C;AAAA,YAAC;AAAA,YAAA;AAAA,cACC,IAAG;AAAA,cACH;AAAA,cACA,QAAO;AAAA,cACP,KAAI;AAAA,cAEJ,WAAS;AAAA,cACT,YAAY;AAAA,cACZ,eAAe;AAAA,cACf,aAAa;AAAA,cACb,cAAc;AAAA,cAEd,UAAA;AAAA,gBAAC,oBAAA,KAAA,EAAI,cAAc,GACjB,UAAC,oBAAA,YAAA,EAAW,WAAU,cAAa,SAAQ,SACxC,UAAQ,QAAA,EACX,CAAA,GACF;AAAA,gBACA,qBAAC,KAAI,EAAA,UAAS,YACZ,UAAA;AAAA,kBAAA,oBAAC,SAAQ,EAAA,KAAK,mBAAmB,KAAI,IAAG;AAAA,kBACxC;AAAA,oBAAC;AAAA,oBAAA;AAAA,sBACC,UAAS;AAAA,sBACT,KAAI;AAAA,sBACJ,MAAK;AAAA,sBACL,YAAW;AAAA,sBACX,cAAa;AAAA,sBACb,gBAAe;AAAA,sBACf,OAAO;AAAA,sBACP,QAAQ;AAAA,sBAER,UAAA,oBAAC,QAAK,IAAI,MAAM,OAAM,kBAAiB,OAAO,GAAG,QAAQ,EAAG,CAAA;AAAA,oBAAA;AAAA,kBAC9D;AAAA,gBAAA,GACF;AAAA,qCACC,MAAK,EAAA,WAAU,UAAS,YAAW,SAAQ,aAAa,GACvD,UAAA;AAAA,kBAAA,oBAAC,YAAW,EAAA,YAAW,QAAQ,UAAA,cAAc,KAAK,GAAE;AAAA,kBACpD,oBAAC,kBAAe,UAAC,IAAA,CAAA;AAAA,sCAChB,YAAW,EAAA,WAAU,cAAa,SAAQ,MACxC,UACH,UAAA;AAAA,gBAAA,GACF;AAAA,cAAA;AAAA,YAAA;AAAA,YAjCK;AAAA,UAAA,CAmCR;AAAA,UACD;AAAA,YAAC;AAAA,YAAA;AAAA,cACC,WAAU;AAAA,cACV,YAAW;AAAA,cACX,KAAK;AAAA,cACL,aAAa;AAAA,cACb,YAAY;AAAA,cACZ,eAAe;AAAA,cAEd,UAAA,SAAS,IAAI,CAAC,EAAE,OAAO,MAAM,KAC5B,MAAA,qBAAC,MAAK,EAAA,KAAK,GACT,UAAA;AAAA,gBAAA,oBAAC,MAAK,EAAA,IAAI,MAAM,OAAM,cAAa;AAAA,gBACnC;AAAA,kBAAC;AAAA,kBAAA;AAAA,oBACC,IAAG;AAAA,oBACH;AAAA,oBACA,QAAO;AAAA,oBACP,KAAI;AAAA,oBACJ,SAAQ;AAAA,oBACR,WAAU;AAAA,oBAET,wBAAc,KAAK;AAAA,kBAAA;AAAA,gBACtB;AAAA,cAAA,EAAA,GAXiB,IAYnB,CACD;AAAA,YAAA;AAAA,UACH;AAAA,QAAA;AAAA,MAAA;AAAA,IAAA,GAEJ;AAAA,EAEJ,EAAA,CAAA;AAEJ;AAGA,MAAM,eAAe,OAAO,MAAM;AAAA;AAAA,aAErB,CAAC,EAAE,YAAY,MAAM,OAAO,CAAC,CAAC;AAAA;AAAA;AAAA;AAK3C,MAAM,cAAc,OAAO,IAAI;AAAA;AAAA;AAI/B,MAAM,mBAAmB,OAAO,IAAI;AAAA;AAAA;AAAA;AAAA,sBAId,CAAC,EAAE,MAAM,MAAM,IAAI,MAAM,OAAO,CAAC,CAAC,EAAE;AAAA;AAAA;AAAA;AAAA,kBAIxC,CAAC,EAAE,MAAA,MAAY,MAAM,OAAO,UAAU;AAAA;AAAA;AAAA,MAGlD,UAAU;AAAA,eACD,CAAC,EAAE,MAAA,MAAY,MAAM,OAAO,UAAU;AAAA;AAAA;AAAA;AAAA,MAI/C,UAAU;AAAA,eACD,CAAC,EAAE,MAAA,MAAY,MAAM,OAAO,UAAU;AAAA;AAAA;AAAA;AAKrD,MAAM,UAAU,OAAO;AAAA,WACZ,CAAC,EAAE,YAAY,MAAM,OAAO,EAAE,CAAC;AAAA,YAC9B,CAAC,EAAE,YAAY,MAAM,OAAO,CAAC,CAAC;AAAA;AAAA,gBAE1B,CAAC,EAAE,MAAM,MAAM,GAAG,MAAM,OAAO,UAAU,IAAI;AAAA,mBAC1C,CAAC,EAAE,YAAY,MAAM,YAAY;AAAA;AAGpD,MAAM,uBAAuB,OAAO,UAAU;AAAA;AAAA;AAAA;AAK9C,MAAM,WAAW,OAAO,oBAAoB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQ5C,MAAM,cAAc;AAAA,EAClB;AAAA,IACE,OAAO;AAAA,MACL,IAAI;AAAA,MACJ,gBAAgB;AAAA,IAClB;AAAA,IACA,MAAM;AAAA,IACN,UAAU;AAAA,EACZ;AAAA,EACA;AAAA,IACE,OAAO;AAAA,MACL,IAAI;AAAA,MACJ,gBAAgB;AAAA,IAClB;AAAA,IACA,MAAM;AAAA,IACN,UAAU;AAAA,EACZ;AAAA,EACA;AAAA,IACE,OAAO,EAAE,IAAI,+CAA+C,gBAAgB,eAAe;AAAA,IAC3F,MAAM;AAAA,IACN,UAAU;AAAA,EACZ;AACF;AAEA,MAAM,aAAa;AAAA,EACjB,MAAM;AAAA,EACN,OAAO;AAAA,IACL,IAAI;AAAA,IACJ,gBAAgB;AAAA,EAClB;AACF;AAEA,MAAM,sBAAsB;AAAA,EAC1B;AAAA,IACE,OAAO,EAAE,IAAI,wBAAwB,gBAAgB,gBAAgB;AAAA,IACrE,MAAM;AAAA,IACN,MAAM;AAAA,EACR;AAAA,EACA;AAAA,IACE,OAAO,EAAE,IAAI,+BAA+B,gBAAgB,aAAa;AAAA,IACzE,MAAM;AAAA,IACN,MAAM;AAAA,EACR;AACF;ACxQO,MAAM,yBAAyB,oBAAoB,CAAC,UAAU,MAAM,UAAU,WAAW;AC0BhG,MAAM,UAAU,MAAM;AACpB,QAAM,EAAE,gBAAgB,gBAAgB,IAAI,gBAAgB;AACtD,QAAA,EAAE,uBAAuB;AACzB,QAAA,EAAE,SAAS;AACX,QAAA,cAAc,YAAY,sBAAsB;AACtD,QAAM,CAAC,yBAAyB,0BAA0B,IAAI,MAAM,SAAe;AAAA,IACjF,qBAAqB;AAAA,MACnB;AAAA,QACE,MAAM;AAAA,QACN,WAAW;AAAA,UACT,IAAI;AAAA,UACJ,gBAAgB;AAAA,QAClB;AAAA,QACA,IAAI;AAAA;AAAA,QAEJ,aAAa,YAAY,YAAY;AAAA,MACvC;AAAA,MACA;AAAA,QACE,MAAM;AAAA,QACN,WAAW;AAAA,UACT,IAAI;AAAA,UACJ,gBAAgB;AAAA,QAClB;AAAA,QACA,IAAI;AAAA;AAAA,QAEJ,aAAa,YAAY,YAAY;AAAA,MACvC;AAAA,MACA;AAAA,QACE,MAAM;AAAA,QACN,WAAW;AAAA,UACT,IAAI;AAAA,UACJ,gBAAgB;AAAA,QAClB;AAAA,QACA,IAAI;AAAA;AAAA;AAAA,QAGJ,aAAa,CAAC;AAAA,QACd,oBAAoB;AAAA,MACtB;AAAA,IACF;AAAA,IACA,qBAAqB,CAAC;AAAA,IACtB,WAAW;AAAA,EAAA,CACZ;AACD,QAAM,yBAAyB,MAAM,OAAO,wBAAwB,mBAAmB;AAEvF,QAAM,UAAU,MAAM;AACpB,mBAAe,uBAAuB;AACpC,YAAM,+BAA+B,MAAM,sBAAsB,iBAAiB,IAAI;AAEtF,YAAM,gCAAgC,MAAM;AAAA,QAC1C;AAAA,QACA,uBAAuB;AAAA,QACvB;AAAA,MAAA;AAGF,iCAA2B,CAAC,WAAW;AAAA,QACrC,GAAG;AAAA,QACH,qBAAqB;AAAA,QACrB,qBAAqB;AAAA,QACrB,WAAW;AAAA,MACX,EAAA;AAAA,IACJ;AAEqB;EAAA,GACpB;AAAA,IACD;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EAAA,CACD;AAEM,SAAA;AACT;AAMA,MAAM,kBAAkB,OACtB,iBACA,wBACA,qBAA8B,UAC3B;AACG,QAAA,iCAAiC,MAAM,QAAQ;AAAA,IACnD,uBAAuB,IAAI,CAAC,EAAE,YAAkB,MAAA,eAAe,iBAAiB,WAAW,CAAC;AAAA,EAAA;AAG9F,QAAM,gCAAgC,uBAAuB;AAAA,IAC3D,CAAC,GAAG,UAAU,+BAA+B,KAAK;AAAA,EAAA;AAGpD,QAAM,oBAAoB,8BAA8B;AAAA,IACtD,CAAC,QAAQ,IAAI,OAAO;AAAA,EAAA;AAGtB,MAAI,sBAAsB,IAAI;AAC5B,WAAO;EACT;AAEM,QAAA,8BAA8B,UAAU,6BAA6B;AAE3E,8BAA4B,iBAAiB,EAAE,qBAAqB,qBAAqB,IAAI;AAEtF,SAAA;AACT;AAEA,MAAM,wBAAwB,OAC5B,iBACA,2BACG;AACG,QAAA,gCAAgC,MAAM,QAAQ;AAAA,IAClD,uBAAuB,IAAI,CAAC,EAAE,YAAkB,MAAA,eAAe,iBAAiB,WAAW,CAAC;AAAA,EAAA;AAG9F,QAAM,+BAA+B,uBAAuB;AAAA,IAC1D,CAAC,GAAG,UAAU,8BAA8B,KAAK;AAAA,EAAA;AAG5C,SAAA;AACT;AC/IA,MAAM,UAAU,OAAO,GAAG;AAAA;AAAA;AASnB,MAAM,YAAY,CAAC,EAAE,UAAU,cAA8B;AAC5D,QAAA,EAAE,kBAAkB;AAGxB,SAAA,qBAAC,KAAI,EAAA,YAAW,cACd,UAAA;AAAA,IAAC,oBAAA,eAAA,EACE,wBAAc,EAAE,IAAI,iBAAiB,gBAAgB,kBAAmB,CAAA,GAC3E;AAAA,IACA,qBAAC,MAAK,EAAA,YAAW,cACd,UAAA;AAAA,MAAA;AAAA,MACD,oBAAC,WAAS,UAAS;AAAA,IAAA,GACrB;AAAA,EACF,EAAA,CAAA;AAEJ;ACNA,MAAM,KAAK,MAAM;AAAA;AAAA,EAEf,MAAM,OAAO,sBAA8B,EAAA,KAAA,OAAA,EAAA,CAAA;AAC7C;AACA,MAAM,WAAW,MAAM;AAAA,EAAK,MAC1B,OAAO,yBAAY,EAAE,KAAK,CAAC,SAAS;AAAA,IAClC,SAAS,IAAI;AAAA,EAAA,EACb;AACJ;AACA,MAAM,uBAAuB,MAAM;AAAA,EAAK,MACtC,OAAO,qCAAwB,EAAE,KAAK,CAAC,SAAS;AAAA,IAC9C,SAAS,IAAI;AAAA,EAAA,EACb;AACJ;AACA,MAAM,kBAAkB,MAAM;AAAA,EAAK,MACjC,OAAO,gCAA+B,EAAE,KAAK,CAAC,SAAS,EAAE,SAAS,IAAI,yBAAA,EAA2B;AACnG;AACA,MAAM,eAAe,MAAM;AAAA,EAAK,MAC9B,OAAO,sBAAgB,EAAA,KAAA,OAAA,EAAA,CAAA,EAAE,KAAK,CAAC,EAAE,cAAAI,cAAa,OAAO,EAAE,SAASA,gBAAe;AACjF;AACA,MAAM,oBAAoB,MAAM;AAAA,EAAK,MACnC,OAAO,kCAAqB,EAAE,KAAK,CAAC,EAAE,mBAAAC,0BAAyB;AAAA,IAC7D,SAASA;AAAAA,EAAA,EACT;AACJ;AAEA,MAAM,cAAc,MAAM;AAAA,EAAK,MAC7B,OAAO,4BAAe,EAAE,KAAK,CAAC,SAAS;AAAA,IACrC,SAAS,IAAI;AAAA,EAAA,EACb;AACJ;AACA,MAAM,eAAe,MAAM;AAAA,EAAK;AAAA;AAAA,IAE9B,OAAO,sBAAgB,EAAE,KAAK,CAAC,YAAY;AAAA,MACzC,SAAS,OAAO;AAAA,IAAA,EAChB;AAAA;AACJ;AAEA,MAAM,QAAQ,MAAM;AACZ,QAAA,EAAE,eAAe;AACvB,QAAM,WAAW;AACjB,QAAM,YAAY,iBAAiB,CAAC,UAAU,MAAM,UAAU,MAAM;AAEpE,QAAM,EAAE,WAAW,qBAAqB,wBAAwB,QAAQ;AAClE,QAAA,EAAE,SAAS;AACX,QAAA,EAAE,kBAAkB;AAE1B,QAAM,UAAU,MAAM;AAIpB,QAAI,cAAc,QAAQ;AACxB,iBAAW,sCAAsC;AAExC,eAAA,EAAE,MAAM,8BAAA,CAA+B;AAAA,IAClD;AAAA,EACC,GAAA,CAAC,WAAW,UAAU,UAAU,CAAC;AAE9B,QAAA,SAAS,MAAM,QAAQ,MAAM;AACjC,WACE,KACG,OAAO,CAAC,SAAS,KAAK,SAAS,EAE/B,IAAI,CAAC,EAAE,IAAI,WAAW,YAAY,YAAY,WAAY,IAAI,KAAK,CAAC;AAAA,EAAA,GAExE,CAAC,IAAI,CAAC;AAET,MAAI,WAAW;AACb,+BAAQ,sBAAqB,CAAA,CAAA;AAAA,EAC/B;AAGE,SAAA,oBAAC,aAAY,EAAA,SAAS,cACpB,UAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,SACE;AAAA,QAAC;AAAA,QAAA;AAAA,UACC;AAAA,UACA;AAAA,QAAA;AAAA,MACF;AAAA,MAGF,UAAA;AAAA,QAAC,oBAAA,MAAM,UAAN,EAAe,8BAAW,sBAAqB,CAAA,CAAA,GAC9C,+BAAC,QACC,EAAA,UAAA;AAAA,UAAA,oBAAC,SAAM,MAAK,KAAI,WAAW,UAAU,OAAK,MAAC;AAAA,8BAC1C,OAAM,EAAA,MAAK,OAAM,WAAW,aAAa,OAAK,MAAC;AAAA,UAC/C,oBAAA,OAAA,EAAM,MAAK,oBAAmB,WAAW,IAAI;AAAA,UAC7C;AAAA,UACA,oBAAA,OAAA,EAAM,MAAK,wBAAuB,WAAW,cAAc;AAAA,8BAC3D,OAAM,EAAA,MAAK,aAAY,WAAW,cAAc,OAAK,MAAC;AAAA,8BACtD,OAAM,EAAA,MAAK,gBACV,UAAA,oBAAC,kBAAgB,CAAA,GACnB;AAAA,UACA,oBAAC,SAAM,MAAK,iBAAgB,OAAK,MAC/B,UAAA,oBAAC,wBAAqB,EACxB,CAAA;AAAA,UACC,oBAAA,OAAA,EAAM,MAAK,QAAO,WAAW,cAAc;AAAA,UAC3C,oBAAA,OAAA,EAAM,MAAK,QAAO,WAAW,mBAAmB;AAAA,UAChD,oBAAA,OAAA,EAAM,MAAK,IAAG,WAAW,cAAc;AAAA,QAAA,EAAA,CAC1C,EACF,CAAA;AAAA,4BACC,iBAAgB,EAAA;AAAA,QAEhB,qCAAkB,YAAW,EAAA;AAAA,MAAA;AAAA,IAAA;AAAA,EAElC,EAAA,CAAA;AAEJ;AClHA,MAAM,qBAAqB,MAAM;AAC/B,QAAM,EAAE,SAAS,WAAW,IAAI,aAAa;AAC7C,QAAM,CAAC,EAAE,QAAA,GAAW,QAAQ,IAAI,MAAM;AAAA,IACpC;AAAA,IACA;AAAA,IACA,MAAM,KAAK,UAAU;AAAA,EAAA;AAEvB,QAAM,YAAY,MAAM,OAAO,CAAC,aAAqB;AACnD,aAAS,EAAE,MAAM,oBAAoB,SAAU,CAAA;AAAA,EAAA,CAChD;AAED,QAAM,qBAAqB,OAAO,KAAK,OAAO,EAAE;AAAA,IAC9C,CAAC,WAAW,QAAQ,MAAM,EAAE,YAAY;AAAA,EAAA;AA0B1C,MAAI,oBAAoB;AAChB,UAAA,eAAe,OAAO,KAAK,OAAO,EAAE,OAAO,CAAC,KAAK,YAAY;AAC3D,YAAA,uBAAuB,QAAQ,OAAO,EAAE;AAE9C,UAAI,sBAAsB;AAClB,cAAA,MAAM,QAAQ,OAAO,EAAE;AAE7B,YAAI,KAAM,oBAAA,sBAAA,EAA+B,WAAW,UAAU,QAAA,GAA1B,GAAmC,CAAE;AAAA,MAC3E;AAEO,aAAA;AAAA,IACT,GAAG,CAAuB,CAAA;AAE1B,WAEK,qBAAA,UAAA,EAAA,UAAA;AAAA,MAAA;AAAA,0BACA,sBAAqB,EAAA;AAAA,IACxB,EAAA,CAAA;AAAA,EAEJ;AAEA,6BAAQ,OAAM,CAAA,CAAA;AAChB;AAUA,MAAM,eAAsB;AAAA,EAC1B,SAAS,CAAC;AACZ;AASA,MAAM,UAAwC,CAAC,QAAQ,cAAc,WACnE,QAAQ,OAAO,CAAC,eAAe;AAC7B,UAAQ,OAAO,MAAM;AAAA,IACnB,KAAK,oBAAoB;AACvB,UAAI,YAAY,CAAC,WAAW,OAAO,UAAU,SAAS,GAAG,IAAI;AAC7D;AAAA,IACF;AAAA,IACA;AACS,aAAA;AAAA,EACX;AACF,CAAC;AAMH,MAAM,OAAO,CAAC,YAAqC;AAC1C,SAAA;AAAA,IACL,SAAS,OAAO,KAAK,OAAO,EAAE,OAAyB,CAAC,KAAK,YAAY;AACvE,UAAI,OAAO,IAAI,EAAE,GAAG,QAAQ,OAAO,EAAE;AAE9B,aAAA;AAAA,IACT,GAAG,EAAE;AAAA,EAAA;AAET;AC9FA,MAAM,gBAAgB,YAAY;AAElC,MAAM,mBAAmB,MAAM;AACvB,QAAA,EAAE,4BAA4B;AAC9B,QAAA,WAAW,KAAK,IAAI,UAAU;AACpC,QAAM,CAAC,iBAAiB,kBAAkB,IAAI,MAAM;AAAA,IAAiB,MACnE,WAAW,SAAS,YAAY,YAAY,SAAS,aAAa,IAAI,SAAS,QAAQ,IAAI;AAAA,EAAA;AAE7F,QAAM,CAAC,QAAQ,SAAS,IAAI,MAAM,SAAiB;AAC7C,QAAA,EAAE,4BAA4B;AAC9B,QAAA,EAAE,KAAAC,SAAQ;AACV,QAAA;AAAA,IACJ,EAAE,MAAM,UAAU,OAAO;AAAA,IACzB,EAAE,MAAM,SAAS,UAAU;AAAA,IAC3B,EAAE,MAAM,aAAa,QAAQ,wBAAwB,SAAS,WAAW;AAAA,IACzE,EAAE,MAAM,UAAU;AAAA,MAChB,WAAW;AAAA,IACb;AAAA,MACE,UAAU;AAAA,MACV,MAAM,UAAU;AACd,cAAM,EAAE,KAAS,IAAA,MAAMA,KAA0B,oBAAoB;AAErE,eAAO,KAAK;AAAA,MACd;AAAA,IACF;AAAA,IACA;AAAA,MACE,UAAU;AAAA,MACV,MAAM,UAAU;AACV,YAAA;AACI,gBAAA,MAAM,MAAM,MAAM,4DAA4D;AAEhF,cAAA,CAAC,IAAI,IAAI;AACX,kBAAM,IAAI,MAAM;AAAA,UAClB;AAEM,gBAAA,WAAY,MAAM,IAAI;AAExB,cAAA,CAAC,SAAS,UAAU;AACtB,kBAAM,IAAI,MAAM;AAAA,UAClB;AAEA,iBAAO,SAAS;AAAA,iBACT,KAAK;AAEL,iBAAA;AAAA,QACT;AAAA,MACF;AAAA,MACA,SAAS;AAAA,MACT,aAAa;AAAA,IACf;AAAA,IACA;AAAA,MACE,UAAU;AAAA,MACV,MAAM,UAAU;AACd,cAAM,EAAE,KAAS,IAAA,MAAMA,KAAgC,6BAA6B;AAEpF,eAAO,KAAK;AAAA,MACd;AAAA,MACA,aAAa,CAAC;AAAA,IAChB;AAAA,IACA;AAAA,MACE,UAAU;AAAA,MACV,MAAM,UAAU;AACR,cAAA;AAAA,UACJ,MAAM;AAAA,YACJ,MAAM,EAAE,MAAM;AAAA,UAChB;AAAA,QAAA,IACE,MAAMA,KAAoB,iBAAiB;AAExC,eAAA;AAAA,MACT;AAAA,IACF;AAAA,EAAA,CACD;AAEK,QAAA,qBAAqB,yBAAyB,eAAe,OAAO;AAK1E,QAAM,UAAU,MAAM;AACpB,QAAI,WAAW;AACP,YAAA,mBAAmB,UAAU,KAAK,CAAC,EAAE,WAAW,SAAS,oBAAoB;AAE/E,UAAA,oBAAoB,UAAU,YAAY;AAC5C,gCAAwB,IAAI;AAAA,MAC9B;AAAA,IACF;AAAA,EACC,GAAA,CAAC,WAAW,UAAU,uBAAuB,CAAC;AAEjD,QAAM,UAAU,MAAM;AACpB,UAAM,YAAY,YAAY;AAC5B,UAAI,UAAU;AACNC,cAAAA,UAAS,MAAM,mBAAmB,QAAQ;AAEhD,YAAIA,SAAQ;AACV,oBAAUA,OAAM;AAAA,QAClB;AAAA,MACF;AAAA,IAAA;AAGQ;EAAA,GACT,CAAC,QAAQ,CAAC;AAIb,QAAM,sCACJ,cAAc,WAAW,aAAa,2BAA2B;AAEnE,QAAM,mBAAmB,aAAa;AAEtC,MAAI,kBAAkB;AACpB,+BAAQ,sBAAqB,CAAA,CAAA;AAAA,EAC/B;AAGA,MAAI,WAAW,SAAS;AACf,WAAA,oBAAC,SAAI,UAAQ,WAAA,CAAA;AAAA,EACtB;AAGE,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACE,GAAG;AAAA,MACJ;AAAA,MACA,wBAAwB;AAAA,MACxB;AAAA,MACA;AAAA,MACA;AAAA,MAEA,+BAAC,cAAa,EAAA,aAAa,eAAe,IAAI,oBAAoB,SAChE,UAAA;AAAA,QAAA,oBAAC,WAAU,EAAA;AAAA,4BACV,oBAAmB,EAAA;AAAA,MAAA,GACtB;AAAA,IAAA;AAAA,EAAA;AAGN;AAEA,MAAM,2BAA2B,CAC/B,uBACA,yBAAiC,OACrB;AACZ,MAAI,CAAC,MAAM,qBAAqB,KAAK,CAAC,MAAM,sBAAsB,GAAG;AAC5D,WAAA;AAAA,EACT;AAEO,SAAA,GAAG,uBAAuB,sBAAsB;AACzD;;;;;"}
\ No newline at end of file
+{"version":3,"file":"AuthenticatedApp-bb31f306.mjs","sources":["../../admin/src/utils/getFullName.ts","../../admin/src/utils/hashAdminUserEmail.ts","../../admin/src/components/GuidedTour/constants.ts","../../admin/src/components/GuidedTour/Ornaments.tsx","../../admin/src/components/GuidedTour/Modal.tsx","../../admin/src/components/LeftMenu.tsx","../../admin/src/assets/images/onboarding-preview.png","../../admin/src/components/Onboarding.tsx","../../admin/src/selectors.ts","../../admin/src/hooks/useMenu.ts","../../admin/src/layouts/AppLayout.tsx","../../admin/src/pages/Admin.tsx","../../admin/src/components/PluginsInitializer.tsx","../../admin/src/components/AuthenticatedApp.tsx"],"sourcesContent":["export function getFullName(firstname: string, lastname: string | null = '') {\n  return [firstname, lastname].filter((str) => str).join(' ');\n}\n","import { UserInfo } from '@strapi/helper-plugin';\n\nexport const utils = {\n  bufferToHex(buffer: ArrayBuffer) {\n    return [...new Uint8Array(buffer)].map((b) => b.toString(16).padStart(2, '0')).join('');\n  },\n  async digestMessage(message: string) {\n    const msgUint8 = new TextEncoder().encode(message);\n    const hashBuffer = await crypto.subtle.digest('SHA-256', msgUint8);\n\n    return this.bufferToHex(hashBuffer);\n  },\n};\n\nexport async function hashAdminUserEmail(payload?: UserInfo) {\n  if (!payload) {\n    return null;\n  }\n\n  try {\n    return await utils.digestMessage(payload.email);\n  } catch (error) {\n    return null;\n  }\n}\n","const LAYOUT_DATA = {\n  contentTypeBuilder: {\n    home: {\n      title: {\n        id: 'app.components.GuidedTour.home.CTB.title',\n        defaultMessage: 'üß† Build the content structure',\n      },\n      cta: {\n        title: {\n          id: 'app.components.GuidedTour.home.CTB.cta.title',\n          defaultMessage: 'Go to the Content type Builder',\n        },\n        type: 'REDIRECT',\n        target: '/plugins/content-type-builder',\n      },\n      trackingEvent: 'didClickGuidedTourHomepageContentTypeBuilder',\n    },\n    create: {\n      title: {\n        id: 'app.components.GuidedTour.CTB.create.title',\n        defaultMessage: 'üß† Create a first Collection type',\n      },\n      content: {\n        id: 'app.components.GuidedTour.CTB.create.content',\n        defaultMessage:\n          '<p>Collection types help you manage several entries, Single types are suitable to manage only one entry.</p> <p>Ex: For a Blog website, Articles would be a Collection type whereas a Homepage would be a Single type.</p>',\n      },\n      cta: {\n        title: {\n          id: 'app.components.GuidedTour.CTB.create.cta.title',\n          defaultMessage: 'Build a Collection type',\n        },\n        type: 'CLOSE',\n      },\n      trackingEvent: 'didClickGuidedTourStep1CollectionType',\n    },\n    success: {\n      title: {\n        id: 'app.components.GuidedTour.CTB.success.title',\n        defaultMessage: 'Step 1: Completed ‚úÖ',\n      },\n      content: {\n        id: 'app.components.GuidedTour.CTB.success.content',\n        defaultMessage: '<p>Good going!</p><b>‚ö°Ô∏è What would you like to share with the world?</b>',\n      },\n      cta: {\n        title: {\n          id: 'app.components.GuidedTour.create-content',\n          defaultMessage: 'Create content',\n        },\n        type: 'REDIRECT',\n        target: '/content-manager',\n      },\n      trackingEvent: 'didCreateGuidedTourCollectionType',\n    },\n  },\n  contentManager: {\n    home: {\n      title: {\n        id: 'app.components.GuidedTour.home.CM.title',\n        defaultMessage: '‚ö°Ô∏è What would you like to share with the world?',\n      },\n      cta: {\n        title: {\n          id: 'app.components.GuidedTour.create-content',\n          defaultMessage: 'Create content',\n        },\n        type: 'REDIRECT',\n        target: '/content-manager',\n      },\n      trackingEvent: 'didClickGuidedTourHomepageContentManager',\n    },\n    create: {\n      title: {\n        id: 'app.components.GuidedTour.CM.create.title',\n        defaultMessage: '‚ö°Ô∏è Create content',\n      },\n      content: {\n        id: 'app.components.GuidedTour.CM.create.content',\n        defaultMessage:\n          \"<p>Create and manage all the content here in the Content Manager.</p><p>Ex: Taking the Blog website example further, one can write an Article, save and publish it as they like.</p><p>üí° Quick tip - Don't forget to hit publish on the content you create.</p>\",\n      },\n      cta: {\n        title: {\n          id: 'app.components.GuidedTour.create-content',\n          defaultMessage: 'Create content',\n        },\n        type: 'CLOSE',\n      },\n      trackingEvent: 'didClickGuidedTourStep2ContentManager',\n    },\n    success: {\n      title: {\n        id: 'app.components.GuidedTour.CM.success.title',\n        defaultMessage: 'Step 2: Completed ‚úÖ',\n      },\n      content: {\n        id: 'app.components.GuidedTour.CM.success.content',\n        defaultMessage: '<p>Awesome, one last step to go!</p><b>üöÄ  See content in action</b>',\n      },\n      cta: {\n        title: {\n          id: 'app.components.GuidedTour.CM.success.cta.title',\n          defaultMessage: 'Test the API',\n        },\n        type: 'REDIRECT',\n        target: '/settings/api-tokens',\n      },\n      trackingEvent: 'didCreateGuidedTourEntry',\n    },\n  },\n  apiTokens: {\n    home: {\n      title: {\n        id: 'app.components.GuidedTour.apiTokens.create.title',\n        defaultMessage: 'üöÄ See content in action',\n      },\n      cta: {\n        title: {\n          id: 'app.components.GuidedTour.home.apiTokens.cta.title',\n          defaultMessage: 'Test the API',\n        },\n        type: 'REDIRECT',\n        target: '/settings/api-tokens',\n      },\n      trackingEvent: 'didClickGuidedTourHomepageApiTokens',\n    },\n    create: {\n      title: {\n        id: 'app.components.GuidedTour.apiTokens.create.title',\n        defaultMessage: 'üöÄ See content in action',\n      },\n      content: {\n        id: 'app.components.GuidedTour.apiTokens.create.content',\n        defaultMessage:\n          '<p>Generate an authentication token here and retrieve the content you just created.</p>',\n      },\n      cta: {\n        title: {\n          id: 'app.components.GuidedTour.apiTokens.create.cta.title',\n          defaultMessage: 'Generate an API Token',\n        },\n        type: 'CLOSE',\n      },\n      trackingEvent: 'didClickGuidedTourStep3ApiTokens',\n    },\n    success: {\n      title: {\n        id: 'app.components.GuidedTour.apiTokens.success.title',\n        defaultMessage: 'Step 3: Completed ‚úÖ',\n      },\n      content: {\n        id: 'app.components.GuidedTour.apiTokens.success.content',\n        defaultMessage:\n          \"<p>See content in action by making an HTTP request:</p><ul><li><p>To this URL: <light>https://'<'YOUR_DOMAIN'>'/api/'<'YOUR_CT'>'</light></p></li><li><p>With the header: <light>Authorization: bearer '<'YOUR_API_TOKEN'>'</light></p></li></ul><p>For more ways to interact with content, see the <documentationLink>documentation</documentationLink>.</p>\",\n      },\n      trackingEvent: 'didGenerateGuidedTourApiTokens',\n    },\n  },\n} as const;\n\nconst STATES = {\n  IS_DONE: 'IS_DONE',\n  IS_ACTIVE: 'IS_ACTIVE',\n  IS_NOT_DONE: 'IS_NOT_DONE',\n} as const;\n\ntype LayoutData = typeof LAYOUT_DATA;\ntype States = keyof typeof STATES;\n\nexport { LAYOUT_DATA, STATES };\nexport type { LayoutData, States };\n","import { Box, BoxProps, Flex, FlexProps, Typography } from '@strapi/design-system';\nimport { pxToRem } from '@strapi/helper-plugin';\nimport { Check } from '@strapi/icons';\n\nimport { STATES, States } from './constants';\n\n/* -------------------------------------------------------------------------------------------------\n * Number\n * -----------------------------------------------------------------------------------------------*/\n\ninterface NumberProps extends FlexProps {\n  children: number;\n  state: States;\n}\n\nconst Number = ({ children, state, ...props }: NumberProps) => {\n  return state === STATES.IS_DONE || state === STATES.IS_ACTIVE ? (\n    <Flex\n      background=\"primary600\"\n      padding={2}\n      borderRadius=\"50%\"\n      width={pxToRem(30)}\n      height={pxToRem(30)}\n      justifyContent=\"center\"\n      {...props}\n    >\n      {state === STATES.IS_DONE ? (\n        <Check aria-hidden width={pxToRem(16)} color=\"neutral0\" />\n      ) : (\n        <Typography fontWeight=\"semiBold\" textColor=\"neutral0\">\n          {children}\n        </Typography>\n      )}\n    </Flex>\n  ) : (\n    <Flex\n      borderColor=\"neutral500\"\n      borderWidth=\"1px\"\n      borderStyle=\"solid\"\n      padding={2}\n      borderRadius=\"50%\"\n      width={pxToRem(30)}\n      height={pxToRem(30)}\n      justifyContent=\"center\"\n      {...props}\n    >\n      <Typography fontWeight=\"semiBold\" textColor=\"neutral600\">\n        {children}\n      </Typography>\n    </Flex>\n  );\n};\n\n/* -------------------------------------------------------------------------------------------------\n * VerticalDivider\n * -----------------------------------------------------------------------------------------------*/\n\ninterface VerticalDividerProps extends BoxProps {\n  state: States;\n}\n\nconst VerticalDivider = ({ state, ...props }: VerticalDividerProps) => (\n  <Box\n    width={pxToRem(2)}\n    height=\"100%\"\n    background={state === STATES.IS_NOT_DONE ? 'neutral300' : 'primary500'}\n    hasRadius\n    minHeight={state === STATES.IS_ACTIVE ? pxToRem(85) : pxToRem(65)}\n    {...props}\n  />\n);\n\nexport { Number, VerticalDivider };\nexport type { NumberProps, VerticalDividerProps };\n","import * as React from 'react';\n\nimport {\n  Box,\n  Button,\n  Flex,\n  FocusTrap,\n  IconButton,\n  Portal,\n  Typography,\n} from '@strapi/design-system';\nimport { LinkButton } from '@strapi/design-system/v2';\nimport { GuidedTourContextValue, pxToRem, useGuidedTour, useTracking } from '@strapi/helper-plugin';\nimport { ArrowRight, Cross } from '@strapi/icons';\nimport get from 'lodash/get';\nimport { MessageDescriptor, useIntl } from 'react-intl';\nimport { NavLink } from 'react-router-dom';\nimport styled from 'styled-components';\n\nimport { LAYOUT_DATA, STATES } from './constants';\nimport { Number, VerticalDivider } from './Ornaments';\n\n/* -------------------------------------------------------------------------------------------------\n * GuidedTourModal\n * -----------------------------------------------------------------------------------------------*/\n\nconst GuidedTourModal = () => {\n  const {\n    currentStep,\n    guidedTourState,\n    setCurrentStep,\n    setStepState,\n    isGuidedTourVisible,\n    setSkipped,\n  } = useGuidedTour();\n  const { formatMessage } = useIntl();\n  const { trackUsage } = useTracking();\n\n  if (!currentStep || !isGuidedTourVisible) {\n    return null;\n  }\n\n  const stepData = get(LAYOUT_DATA, currentStep);\n  const sectionKeys = Object.keys(guidedTourState);\n  const [sectionName, stepName] = currentStep.split('.') as [\n    keyof GuidedTourContextValue['guidedTourState'],\n    string\n  ];\n  const sectionIndex = sectionKeys.indexOf(sectionName);\n  const stepIndex = Object.keys(guidedTourState[sectionName]).indexOf(stepName);\n  const hasSectionAfter = sectionIndex < sectionKeys.length - 1;\n  const hasStepAfter = stepIndex < Object.keys(guidedTourState[sectionName]).length - 1;\n\n  const handleCtaClick = () => {\n    setStepState(currentStep, true);\n    trackUsage(stepData.trackingEvent);\n\n    setCurrentStep(null);\n  };\n\n  const handleSkip = () => {\n    setSkipped(true);\n    setCurrentStep(null);\n    trackUsage('didSkipGuidedtour');\n  };\n\n  return (\n    <Portal>\n      <ModalWrapper onClick={handleCtaClick} padding={8} justifyContent=\"center\">\n        <FocusTrap onEscape={handleCtaClick}>\n          <Flex\n            direction=\"column\"\n            alignItems=\"stretch\"\n            background=\"neutral0\"\n            width={pxToRem(660)}\n            shadow=\"popupShadow\"\n            hasRadius\n            padding={4}\n            gap={8}\n            role=\"dialog\"\n            aria-modal\n            onClick={(e) => e.stopPropagation()}\n          >\n            <Flex justifyContent=\"flex-end\">\n              <IconButton\n                onClick={handleCtaClick}\n                aria-label={formatMessage({\n                  id: 'app.utils.close-label',\n                  defaultMessage: 'Close',\n                })}\n              >\n                <Cross />\n              </IconButton>\n            </Flex>\n            <Box\n              paddingLeft={7}\n              paddingRight={7}\n              paddingBottom={!hasStepAfter && !hasSectionAfter ? 8 : 0}\n            >\n              <GuidedTourStepper\n                title={stepData.title}\n                cta={'cta' in stepData ? stepData.cta : undefined}\n                onCtaClick={handleCtaClick}\n                sectionIndex={sectionIndex}\n                stepIndex={stepIndex}\n                hasSectionAfter={hasSectionAfter}\n              >\n                <GuidedTourContent {...stepData.content} />\n              </GuidedTourStepper>\n            </Box>\n            {!(!hasStepAfter && !hasSectionAfter) && (\n              <Flex justifyContent=\"flex-end\">\n                <Button variant=\"tertiary\" onClick={handleSkip}>\n                  {formatMessage({\n                    id: 'app.components.GuidedTour.skip',\n                    defaultMessage: 'Skip the tour',\n                  })}\n                </Button>\n              </Flex>\n            )}\n          </Flex>\n        </FocusTrap>\n      </ModalWrapper>\n    </Portal>\n  );\n};\n\nconst ModalWrapper = styled(Flex)`\n  position: fixed;\n  z-index: 4;\n  inset: 0;\n  /* this is theme.colors.neutral800 with opacity */\n  background: ${({ theme }) => `${theme.colors.neutral800}1F`};\n`;\n\n/* -------------------------------------------------------------------------------------------------\n * GuidedTourStepper\n * -----------------------------------------------------------------------------------------------*/\n\ninterface GuidedTourStepperProps {\n  title: MessageDescriptor;\n  children: React.ReactNode;\n  cta?: {\n    title: MessageDescriptor;\n    target?: string;\n  };\n  onCtaClick: () => void;\n  sectionIndex: number;\n  stepIndex: number;\n  hasSectionAfter: boolean;\n}\n\nconst GuidedTourStepper = ({\n  title,\n  children,\n  cta,\n  onCtaClick,\n  sectionIndex,\n  stepIndex,\n  hasSectionAfter,\n}: GuidedTourStepperProps) => {\n  const { formatMessage } = useIntl();\n\n  const hasSectionBefore = sectionIndex > 0;\n  const hasStepsBefore = stepIndex > 0;\n  const nextSectionIndex = sectionIndex + 1;\n\n  return (\n    <>\n      <Flex alignItems=\"stretch\">\n        <Flex marginRight={8} justifyContent=\"center\" minWidth={pxToRem(30)}>\n          {hasSectionBefore && <VerticalDivider state={STATES.IS_DONE} minHeight={pxToRem(24)} />}\n        </Flex>\n        <Typography variant=\"sigma\" textColor=\"primary600\">\n          {formatMessage({\n            id: 'app.components.GuidedTour.title',\n            defaultMessage: '3 steps to get started',\n          })}\n        </Typography>\n      </Flex>\n      <Flex>\n        <Flex marginRight={8} minWidth={pxToRem(30)}>\n          <Number\n            state={hasStepsBefore ? STATES.IS_DONE : STATES.IS_ACTIVE}\n            paddingTop={3}\n            paddingBottom={3}\n          >\n            {sectionIndex + 1}\n          </Number>\n        </Flex>\n        <Typography variant=\"alpha\" fontWeight=\"bold\" textColor=\"neutral800\" as=\"h3\" id=\"title\">\n          {formatMessage(title)}\n        </Typography>\n      </Flex>\n      <Flex alignItems=\"stretch\">\n        <Flex marginRight={8} direction=\"column\" justifyContent=\"center\" minWidth={pxToRem(30)}>\n          {hasSectionAfter && (\n            <>\n              <VerticalDivider state={STATES.IS_DONE} />\n              {hasStepsBefore && (\n                <Number state={STATES.IS_ACTIVE} paddingTop={3}>\n                  {nextSectionIndex + 1}\n                </Number>\n              )}\n            </>\n          )}\n        </Flex>\n        <Box>\n          {children}\n          {cta &&\n            (cta.target ? (\n              <LinkButton\n                as={NavLink}\n                endIcon={<ArrowRight />}\n                onClick={onCtaClick}\n                // @ts-expect-error - types are not inferred correctly through the as prop.\n                to={cta.target}\n              >\n                {formatMessage(cta.title)}\n              </LinkButton>\n            ) : (\n              <Button endIcon={<ArrowRight />} onClick={onCtaClick}>\n                {formatMessage(cta.title)}\n              </Button>\n            ))}\n        </Box>\n      </Flex>\n      {hasStepsBefore && hasSectionAfter && (\n        <Box paddingTop={3}>\n          <Flex marginRight={8} justifyContent=\"center\" width={pxToRem(30)}>\n            <VerticalDivider state={STATES.IS_DONE} minHeight={pxToRem(24)} />\n          </Flex>\n        </Box>\n      )}\n    </>\n  );\n};\n\n/* -------------------------------------------------------------------------------------------------\n * GuidedTourContent\n * -----------------------------------------------------------------------------------------------*/\n\ninterface GuidedTourContentProps\n  extends Required<Pick<MessageDescriptor, 'defaultMessage' | 'id'>> {}\n\nconst GuidedTourContent = ({ id, defaultMessage }: GuidedTourContentProps) => {\n  const { formatMessage } = useIntl();\n\n  return (\n    <Flex direction=\"column\" alignItems=\"stretch\" gap={4} paddingBottom={6}>\n      {formatMessage(\n        { id, defaultMessage },\n        {\n          documentationLink: DocumentationLink,\n          b: Bold,\n          p: Paragraph,\n          light: Light,\n          ul: List,\n          li: ListItem,\n        }\n      )}\n    </Flex>\n  );\n};\n\nconst DocumentationLink = (children: React.ReactNode) => (\n  <Typography\n    as=\"a\"\n    textColor=\"primary600\"\n    target=\"_blank\"\n    rel=\"noopener noreferrer\"\n    href=\"https://docs.strapi.io/developer-docs/latest/developer-resources/database-apis-reference/rest-api.html#api-parameters\"\n  >\n    {children}\n  </Typography>\n);\n\nconst Bold = (children: React.ReactNode) => (\n  <Typography fontWeight=\"semiBold\">{children}</Typography>\n);\n\nconst Paragraph = (children: React.ReactNode) => <Typography>{children}</Typography>;\n\nconst Light = (children: React.ReactNode) => (\n  <Typography textColor=\"neutral600\">{children}</Typography>\n);\n\nconst List = (children: React.ReactNode) => (\n  <Box paddingLeft={6}>\n    <ul>{children}</ul>\n  </Box>\n);\n\nconst LiStyled = styled.li`\n  list-style: disc;\n  &::marker {\n    color: ${({ theme }) => theme.colors.neutral800};\n  }\n`;\n\nconst ListItem = (children: React.ReactNode) => <LiStyled>{children}</LiStyled>;\n\nexport { GuidedTourModal };\n","import * as React from 'react';\n\nimport { Box, Divider, Flex, FocusTrap, Typography } from '@strapi/design-system';\nimport {\n  MainNav,\n  NavBrand,\n  NavCondense,\n  NavFooter,\n  NavLink,\n  NavSection,\n  NavSections,\n  NavUser,\n} from '@strapi/design-system/v2';\nimport {\n  auth,\n  getFetchClient,\n  useAppInfo,\n  usePersistentState,\n  useTracking,\n} from '@strapi/helper-plugin';\nimport { Exit, Write } from '@strapi/icons';\nimport { useIntl } from 'react-intl';\nimport { NavLink as RouterNavLink, useHistory, useLocation } from 'react-router-dom';\nimport styled from 'styled-components';\n\nimport { useConfiguration } from '../contexts/configuration';\nimport { Menu } from '../hooks/useMenu';\n\nconst LinkUserWrapper = styled(Box)`\n  width: ${150 / 16}rem;\n  position: absolute;\n  bottom: ${({ theme }) => theme.spaces[9]};\n  left: ${({ theme }) => theme.spaces[5]};\n`;\n\nconst LinkUser = styled(RouterNavLink)<{ logout?: boolean }>`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  text-decoration: none;\n  padding: ${({ theme }) => `${theme.spaces[2]} ${theme.spaces[4]}`};\n  border-radius: ${({ theme }) => theme.spaces[1]};\n\n  &:hover {\n    background: ${({ theme, logout }) =>\n      logout ? theme.colors.danger100 : theme.colors.primary100};\n    text-decoration: none;\n  }\n\n  svg {\n    path {\n      fill: ${({ theme }) => theme.colors.danger600};\n    }\n  }\n`;\n\ninterface LeftMenuProps extends Pick<Menu, 'generalSectionLinks' | 'pluginsSectionLinks'> {}\n\nconst LeftMenu = ({ generalSectionLinks, pluginsSectionLinks }: LeftMenuProps) => {\n  const navUserRef = React.useRef<HTMLDivElement>(null!);\n  const [userLinksVisible, setUserLinksVisible] = React.useState(false);\n  const {\n    logos: { menu },\n  } = useConfiguration();\n  const [condensed, setCondensed] = usePersistentState('navbar-condensed', false);\n  const { userDisplayName } = useAppInfo();\n  const { formatMessage } = useIntl();\n  const { trackUsage } = useTracking();\n  const { pathname } = useLocation();\n  const history = useHistory();\n  const { post } = getFetchClient();\n\n  const initials = userDisplayName\n    .split(' ')\n    .map((name) => name.substring(0, 1))\n    .join('')\n    .substring(0, 2);\n\n  const handleToggleUserLinks = () => setUserLinksVisible((prev) => !prev);\n\n  const handleLogout = async () => {\n    await post('/admin/logout');\n    auth.clearAppStorage();\n    handleToggleUserLinks();\n    history.push('/auth/login');\n  };\n\n  const handleBlur: React.FocusEventHandler = (e) => {\n    if (\n      !e.currentTarget.contains(e.relatedTarget) &&\n      /**\n       * TODO: can we replace this by just using the navUserRef?\n       */\n      e.relatedTarget?.parentElement?.id !== 'main-nav-user-button'\n    ) {\n      setUserLinksVisible(false);\n    }\n  };\n\n  const handleClickOnLink = (destination: string) => {\n    trackUsage('willNavigate', { from: pathname, to: destination });\n  };\n\n  const menuTitle = formatMessage({\n    id: 'app.components.LeftMenu.navbrand.title',\n    defaultMessage: 'MotorsEra Dashboard',\n  });\n\n  return (\n    <MainNav condensed={condensed}>\n      <NavBrand\n        as={RouterNavLink}\n        workplace={formatMessage({\n          id: 'app.components.LeftMenu.navbrand.workplace',\n          defaultMessage: 'Workplace',\n        })}\n        title={menuTitle}\n        icon={\n          <img\n            src={menu.custom || menu.default}\n            alt={formatMessage({\n              id: 'app.components.LeftMenu.logo.alt',\n              defaultMessage: 'Application logo',\n            })}\n          />\n        }\n      />\n\n      <Divider />\n\n      <NavSections>\n        <NavLink\n          as={RouterNavLink}\n          // @ts-expect-error the props from the passed as prop are not inferred // joined together\n          to=\"/content-manager\"\n          icon={<Write />}\n          onClick={() => handleClickOnLink('/content-manager')}\n        >\n          {formatMessage({ id: 'global.content-manager', defaultMessage: 'Content manager' })}\n        </NavLink>\n\n        {pluginsSectionLinks.length > 0 ? (\n          <NavSection\n            label={formatMessage({\n              id: 'app.components.LeftMenu.plugins',\n              defaultMessage: 'Plugins',\n            })}\n          >\n            {pluginsSectionLinks.map((link) => {\n              const Icon = link.icon;\n\n              return (\n                <NavLink\n                  as={RouterNavLink}\n                  // @ts-expect-error the props from the passed as prop are not inferred // joined together\n                  to={link.to}\n                  key={link.to}\n                  icon={<Icon />}\n                  onClick={() => handleClickOnLink(link.to)}\n                >\n                  {formatMessage(link.intlLabel)}\n                </NavLink>\n              );\n            })}\n          </NavSection>\n        ) : null}\n\n        {generalSectionLinks.length > 0 ? (\n          <NavSection\n            label={formatMessage({\n              id: 'app.components.LeftMenu.general',\n              defaultMessage: 'General',\n            })}\n          >\n            {generalSectionLinks.map((link) => {\n              const LinkIcon = link.icon;\n\n              return (\n                <NavLink\n                  as={RouterNavLink}\n                  badgeContent={\n                    link.notificationsCount && link.notificationsCount > 0\n                      ? link.notificationsCount.toString()\n                      : undefined\n                  }\n                  // @ts-expect-error the props from the passed as prop are not inferred // joined together\n                  to={link.to}\n                  key={link.to}\n                  icon={<LinkIcon />}\n                  onClick={() => handleClickOnLink(link.to)}\n                >\n                  {formatMessage(link.intlLabel)}\n                </NavLink>\n              );\n            })}\n          </NavSection>\n        ) : null}\n      </NavSections>\n\n      <NavFooter>\n        <NavUser\n          id=\"main-nav-user-button\"\n          ref={navUserRef}\n          onClick={handleToggleUserLinks}\n          initials={initials}\n        >\n          {userDisplayName}\n        </NavUser>\n        {userLinksVisible && (\n          <LinkUserWrapper\n            onBlur={handleBlur}\n            padding={1}\n            shadow=\"tableShadow\"\n            background=\"neutral0\"\n            hasRadius\n          >\n            <FocusTrap onEscape={handleToggleUserLinks}>\n              <Flex direction=\"column\" alignItems=\"stretch\" gap={0}>\n                <LinkUser tabIndex={0} onClick={handleToggleUserLinks} to=\"/me\">\n                  <Typography>\n                    {formatMessage({\n                      id: 'global.profile',\n                      defaultMessage: 'Profile',\n                    })}\n                  </Typography>\n                </LinkUser>\n                <LinkUser tabIndex={0} onClick={handleLogout} to=\"/auth/login\">\n                  <Typography textColor=\"danger600\">\n                    {formatMessage({\n                      id: 'app.components.LeftMenu.logout',\n                      defaultMessage: 'Logout',\n                    })}\n                  </Typography>\n                  <Exit />\n                </LinkUser>\n              </Flex>\n            </FocusTrap>\n          </LinkUserWrapper>\n        )}\n\n        <NavCondense onClick={() => setCondensed((s) => !s)}>\n          {condensed\n            ? formatMessage({\n                id: 'app.components.LeftMenu.expand',\n                defaultMessage: 'Expand the navbar',\n              })\n            : formatMessage({\n                id: 'app.components.LeftMenu.collapse',\n                defaultMessage: 'Collapse the navbar',\n              })}\n        </NavCondense>\n      </NavFooter>\n    </MainNav>\n  );\n};\n\nexport { LeftMenu };\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHAAAABQCAMAAAD2kgFPAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAJcEhZcwAAFiUAABYlAUlSJPAAAAL9UExURff3+fv7+/X19/Pz9/n5+fv7/f39//////39/UdwTPn5+/X1+fHx++/v8fn5/fHx8/Pz9eTk6e/v8/Hx9fHx/e3u7/X19e3t8evr7+fn6YuR96Gl+OLi59LS2dTU2uvr++nq7ff39+Tk697e4ufn6+vr7enq69ra3tDQ1uDg5/nv7+Dg5Nzc4Nzd4tTU2OTk5+fn7djY3tzc5M/Q1NjY3NLS1tbX3MzM0u/w9crK0unp7+np+/37+8rK0MjIzu/v78PEy9ra4djY4eLi6t7e5NbW2s7O1OLk5+/v/Ojp/dra5MPF9+3u89bX3mxz99DQ2fj4+OLi5PHx8dvb29ze+/f3/7C1+t7e5+vr69PX2OPk/Jydl/T09/f393R7+Gdw96ytuNTU3M7O2ODg6a6vumJq9+3u/dTW/PP19cXGzd7e4O3t7cnK+/f3+uLk683O+Z2h+dLU+9/h++no3/j39bq0pu/v7fv7+fHz9XF4911l93V8+bm5waGirffr7Kqrtq+z9qentF9o93mA+fj4+vr6++/v7/f3++vt+83N0/Pz8+vr8dbY+sjJ98zO1crM0vn5//Pz/ra6n/n59d/g4quvp9fa2OTn66Shm8C2prCuq+/r67Gxr9LLvbCwrcfEwK+vqZSahtPVw5WafKiknff5+ZqapvHw7fv4+YGH9dnb++Tn/Ly8xvfo6Oq5v////6WlsNrc3vPz+dLU2Ovr/eTn+drc4JWXo6Wp+cLE++nr74+T+enr4s7Q1m5098bArefk5Nze0ODc1Pf3/MC8tuDi0KWrh/n39+Tk4qmv+77Cqdjc3PX1/c7S0vv7/7ixo/Px7Z+jh62x+8rMtrS6pZebjY+Rn9bayKuvm+vp5+np6aWrjVJa9fX38bi895+fm1pk9620oevp6bS0r+fp6fv19VZg9fn19X6F+fnz89LS3MDAyPXi4uextvX1+vPW2OCVnYmJl9zc4Xh4iff3+mdy97y8xPf3977C96mpsbS29YeHlamv84qS87i89VXx8BYAAAD/dFJOU319fX19fX19fQB9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19bX19fX19fX19fX19Lwd9fX19fX19fX19fX19fX1lfX19fX19fX19fX19fX19fX19fX19fW1dED59fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX0PfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX1mfX19bX1eXn0/fX19fX0/fSWruQsAAAbiSURBVGje7VkFcBtHFD2SbnXO9UA56dRIiiRbFFlmiO3asWKIE0MYGrQbZmjDDA1T06RJ03DSJA2XMaWUmZmZmWm6ki3lTie59kTSlJ40p5nV//tud//b/28P0WiG/PgdkhBMHKzRaBDNyWXSRoqi4ki57CQk/MZsKna58pqa0N4gnoNcNgQZzBV8ml9aYMYaW4DQRKjvDC8MG7TkG0ff+gmobifD78gXYQZE0++8b08tXFg/4uf6H46VLh5Rf/P8TERtXG1ykkmtI7zmtZFLhtW9NWfOnCUjhy0Z+T2CJOFYJMOS+YtPzV884teDX8879sKIhfUHSxG1AzH0ajXhB3UjPxpaVzd37uyls5cunRv30Fx0vhxRDfXdLLbhZWU2W1mGGNtbEPuXdStz+2ycu/+kbmv4YLOWZ3merdEyNSweW0KMxXkW1+J4RwxeMeRfCIbhMsu7/LUd0QgkSYkW8TS5wznVlg93W8LnEiUooAIqFYBQkxBnSIxkMStJVLUPoah90cCqlSurWkSI6ijdGGv0v0Wv3iaIa1i9KLJ+QoR0Wk0l2YCo6jO5unpq9dTJkyesW7uu+oZp09q0iLDXvOQNG0r9uxbtNdU2hIcidV4YELTpt40C17WIsMk9oAyapxMbNxiCR4uRWAP2TNOZ3S/KCmdEyfggEORQ9Xh4kKPkM8O6AjbIS/BWfZLED+N5StmbisEZRttRTzVD2LZtUdW09gPbFx0tatuE0Y2E/YYeVYlI0E7ELYjET68vJJS9nZdRc1shq7dgzRIeKfrtj0W//LTojTDCOE2pMsjb3BiQhSo+gF3jOJNhKQwPUgqcBdqhER+Cc4efUOvL8nFKwhxn/tjKtNLTY12HO3z15ecnTiz4ODaEkUEBgoKqIRAdgR3u8NmC4wuOd3g/noSoWoILGgHU5w7/jGpxbQ28dJRl3/AoPfR6jKIUqcnKstkm2fpnZOlZGSFBqUgQtLt6/9vvSf0Y/19qENYbgIpHSQBvFk6ekgy2NZO9SIqk1Pag7Ttvvttb6pu3Ps9lTtvsqsiTtmLpnC83L8fpyjXlmpMVhDYS+IKbN6YkBNINaubunWiMphTh9d0L1tcqMj6IDwKdszgeYYR9u6old/bsi1SsRohhs3heVBK2mz1QLQTthOe3Xyj1q8xJ3uwZZ/A5jbI17GlPyUlNTk31jHN6DQoyhgLuQNVm7l7bWZkPb719FBnKCIcOTJ8h9bVi8GO16hCdLAxR1N9E6HSsDlOmDGjLNBOlcnR6KlY6RFitODzFlrCM799qyt1eZV1KEqhU+E+/5EiE8EML/8qgXVdIfbPHZhfkrrp2bL5J2sqmJptL8nOzi9fnFxekKgjLUOB/rub58obMCEGjVoGzI7x8986Z5zydsDcQkMXWQguPJG4No25tslXYt08Vs62N8TaYvUnKNVSh6tVBuxl798iE7/QYuRSO5jhB2koYGCHZ4PBwKV2MnF5BhlPqxsqC1uJshKChUDIk3qsOPPmy1LeXIIgMzToYWtqK6nS0vRNNC+P1gqgUPrwFfYuFP+DiWK5hCwhjFzSF/WuzOnd2uwt9fEcZ4dp+l52VxSWvPueQb4ugMc7lcY8GhA+iC5+CETqLhV8Ww5iwmmbKsD4glPHtg3bIhJ/mMpucuelpabK8jqVyqdkVOea0nOtzTR4FYQoKvM1MadcJfSUjvO+uB2MlfP+hgrtLAoUf5VAhzPCe++MepVD4gAmlw71bZMLvnZ5ucBhpe0+ZDokuUPgpnJETofDtkYSfEjhUKP8ks0G5eaOoVPjbpt8t9XUYOU+6gfZYZIUEytMOzmB39OzJGThaQZgBv1EPFeIr/AiHCnEMmmiHCgMnnJHI4oFNjGzySEBGVDZsD2g+ovChX3DzjpCeptT1AaEdf8CgHbKgcbnSXBUmoykvRyb8ZKMnrSIzz2Q2myKV+iHhY0laJeGRfhLhW/dcqWulxqOOkOFNp7v78IRm/BZkiztiF6WRDxX85zRFIKTDGfu3PCr1SxcEmGd1jMDKhD9+jE6kRZHWdrILSh3CTsVAXZqa5eWUhA8P7UqGuuu0bfpDso3fuJXjDILHIBc+LQgp6XaHMd1o4HpFyvgZzUzpE49Jn5563wv+qRk/ej6culFSCG96RBc74UcmnHJnH2A5K/xdj0t9S0oLirMrvSWrKmSlvvMmZ3GBuTI/u7IkX1nqW1BQ2wzh6FskNY11eyuFH2kC4DJRf581/B+tQHzfK4e9ZsIQBkFHbURgLQMfX9x4vAlh1sMhIYnAhxhYxVgSNE6C+E+F0KWJpZuIrEgs4WBkSI9E8vXQIJrlCWTssRwSajSDJyYoXFYM0Wj+BNjsk7mwYOwbAAAAAElFTkSuQmCC\"","import * as React from 'react';\n\nimport {\n  Box,\n  Button,\n  Divider,\n  Flex,\n  Icon,\n  PopoverPrimitives,\n  Portal,\n  Typography,\n  VisuallyHidden,\n} from '@strapi/design-system';\nimport { useAppInfo } from '@strapi/helper-plugin';\nimport { Cross, Message, Play, Question, Book, PaperPlane } from '@strapi/icons';\nimport { useIntl } from 'react-intl';\nimport styled from 'styled-components';\n\nimport onboardingPreview from '../assets/images/onboarding-preview.png';\n\nconst Onboarding = () => {\n  const triggerRef = React.useRef<HTMLButtonElement>(null!);\n  const [isOpen, setIsOpen] = React.useState(false);\n  const { formatMessage } = useIntl();\n  const { communityEdition } = useAppInfo();\n\n  const handlePopoverVisibility = () => {\n    setIsOpen((prev) => !prev);\n  };\n\n  const docLinks = [\n    ...DOCUMENTATION_LINKS,\n    {\n      label: { id: 'Settings.application.get-help', defaultMessage: 'Get help' },\n      icon: Message,\n      href: communityEdition\n        ? 'https://discord.strapi.io'\n        : 'https://support.strapi.io/support/home',\n    },\n  ];\n\n  return (\n    <Box as=\"aside\" position=\"fixed\" bottom={2} right={2}>\n      <HelperButton\n        aria-label={formatMessage(\n          isOpen\n            ? {\n                id: 'app.components.Onboarding.help.button-close',\n                defaultMessage: 'Close help menu',\n              }\n            : {\n                id: 'app.components.Onboarding.help.button',\n                defaultMessage: 'Open help menu',\n              }\n        )}\n        onClick={handlePopoverVisibility}\n        ref={triggerRef}\n      >\n        <Icon as={isOpen ? Cross : Question} color=\"buttonNeutral0\" />\n      </HelperButton>\n\n      {isOpen && (\n        <Portal>\n          <PopoverPrimitives.Content\n            padding={0}\n            onDismiss={handlePopoverVisibility}\n            source={triggerRef}\n            placement=\"top-end\"\n            spacing={12}\n          >\n            <Flex\n              justifyContent=\"space-between\"\n              paddingBottom={5}\n              paddingRight={6}\n              paddingLeft={6}\n              paddingTop={6}\n            >\n              <TypographyLineHeight fontWeight=\"bold\">\n                {formatMessage({\n                  id: 'app.components.Onboarding.title',\n                  defaultMessage: 'Get started videos',\n                })}\n              </TypographyLineHeight>\n              <TextLink\n                as=\"a\"\n                href={WATCH_MORE.href}\n                target=\"_blank\"\n                rel=\"noreferrer noopener\"\n                variant=\"pi\"\n                textColor=\"primary600\"\n              >\n                {formatMessage(WATCH_MORE.label)}\n              </TextLink>\n            </Flex>\n            <Divider />\n            {VIDEO_LINKS.map(({ href, duration, label }, index) => (\n              <VideoLinkWrapper\n                as=\"a\"\n                href={href}\n                target=\"_blank\"\n                rel=\"noreferrer noopener\"\n                key={href}\n                hasRadius\n                paddingTop={4}\n                paddingBottom={4}\n                paddingLeft={6}\n                paddingRight={11}\n              >\n                <Box paddingRight={5}>\n                  <Typography textColor=\"neutral200\" variant=\"alpha\">\n                    {index + 1}\n                  </Typography>\n                </Box>\n                <Box position=\"relative\">\n                  <Preview src={onboardingPreview} alt=\"\" />\n                  <IconWrapper\n                    position=\"absolute\"\n                    top=\"50%\"\n                    left=\"50%\"\n                    background=\"primary600\"\n                    borderRadius=\"50%\"\n                    justifyContent=\"center\"\n                    width={6}\n                    height={6}\n                  >\n                    <Icon as={Play} color=\"buttonNeutral0\" width={3} height={3} />\n                  </IconWrapper>\n                </Box>\n                <Flex direction=\"column\" alignItems=\"start\" paddingLeft={4}>\n                  <Typography fontWeight=\"bold\">{formatMessage(label)}</Typography>\n                  <VisuallyHidden>:</VisuallyHidden>\n                  <Typography textColor=\"neutral600\" variant=\"pi\">\n                    {duration}\n                  </Typography>\n                </Flex>\n              </VideoLinkWrapper>\n            ))}\n            <Flex\n              direction=\"column\"\n              alignItems=\"stretch\"\n              gap={2}\n              paddingLeft={5}\n              paddingTop={2}\n              paddingBottom={5}\n            >\n              {docLinks.map(({ label, href, icon }) => (\n                <Flex gap={3} key={href}>\n                  <Icon as={icon} color=\"primary600\" />\n                  <TextLink\n                    as=\"a\"\n                    href={href}\n                    target=\"_blank\"\n                    rel=\"noreferrer noopener\"\n                    variant=\"sigma\"\n                    textColor=\"primary700\"\n                  >\n                    {formatMessage(label)}\n                  </TextLink>\n                </Flex>\n              ))}\n            </Flex>\n          </PopoverPrimitives.Content>\n        </Portal>\n      )}\n    </Box>\n  );\n};\n\n// TODO: use new Button props derived from Box props with next DS release\nconst HelperButton = styled(Button)`\n  border-radius: 50%;\n  padding: ${({ theme }) => theme.spaces[3]};\n  /* Resetting 2rem height defined by Button component */\n  height: 100%;\n`;\n\nconst IconWrapper = styled(Flex)`\n  transform: translate(-50%, -50%);\n`;\n\nconst VideoLinkWrapper = styled(Flex)`\n  text-decoration: none;\n\n  :focus-visible {\n    outline-offset: ${({ theme }) => `-${theme.spaces[1]}`};\n  }\n\n  :hover {\n    background: ${({ theme }) => theme.colors.primary100};\n\n    /* Hover style for the number displayed */\n    ${Typography}:first-child {\n      color: ${({ theme }) => theme.colors.primary500};\n    }\n\n    /* Hover style for the label */\n    ${Typography}:nth-child(1) {\n      color: ${({ theme }) => theme.colors.primary600};\n    }\n  }\n`;\n\nconst Preview = styled.img`\n  width: ${({ theme }) => theme.spaces[10]};\n  height: ${({ theme }) => theme.spaces[8]};\n  /* Same overlay used in ModalLayout */\n  background: ${({ theme }) => `${theme.colors.neutral800}1F`};\n  border-radius: ${({ theme }) => theme.borderRadius};\n`;\n\nconst TypographyLineHeight = styled(Typography)`\n  /* line height of label and watch more to 1 so they can be better aligned visually */\n  line-height: 1;\n`;\n\nconst TextLink = styled(TypographyLineHeight)`\n  text-decoration: none;\n\n  :hover {\n    text-decoration: underline;\n  }\n`;\n\nconst VIDEO_LINKS = [\n  {\n    label: {\n      id: 'app.components.Onboarding.link.build-content',\n      defaultMessage: 'Build a content architecture',\n    },\n    href: 'https://www.youtube.com/watch?v=G9GjN0RxhkE',\n    duration: '5:48',\n  },\n  {\n    label: {\n      id: 'app.components.Onboarding.link.manage-content',\n      defaultMessage: 'Add & manage content',\n    },\n    href: 'https://www.youtube.com/watch?v=DEZw4KbybAI',\n    duration: '3:18',\n  },\n  {\n    label: { id: 'app.components.Onboarding.link.manage-media', defaultMessage: 'Manage media' },\n    href: 'https://www.youtube.com/watch?v=-61MuiMQb38',\n    duration: '3:41',\n  },\n];\n\nconst WATCH_MORE = {\n  href: 'https://www.youtube.com/playlist?list=PL7Q0DQYATmvidz6lEmwE5nIcOAYagxWqq',\n  label: {\n    id: 'app.components.Onboarding.link.more-videos',\n    defaultMessage: 'Watch more videos',\n  },\n};\n\nconst DOCUMENTATION_LINKS = [\n  {\n    label: { id: 'global.documentation', defaultMessage: 'documentation' },\n    href: 'https://docs.strapi.io',\n    icon: Book,\n  },\n  {\n    label: { id: 'app.static.links.cheatsheet', defaultMessage: 'cheatsheet' },\n    href: 'https://strapi-showcase.s3-us-west-2.amazonaws.com/CheatSheet.pdf',\n    icon: PaperPlane,\n  },\n];\n\nexport { Onboarding };\n","import { createTypedSelector } from './core/store/hooks';\n\nexport const selectAdminPermissions = createTypedSelector((state) => state.admin_app.permissions);\n","import * as React from 'react';\n\nimport {\n  Permission,\n  hasPermissions,\n  useAppInfo,\n  useRBACProvider,\n  useStrapiApp,\n  StrapiAppContextValue,\n} from '@strapi/helper-plugin';\nimport { Cog, Puzzle, ShoppingCart } from '@strapi/icons';\nimport cloneDeep from 'lodash/cloneDeep';\nimport { useSelector } from 'react-redux';\n\nimport { selectAdminPermissions } from '../selectors';\n\n/* -------------------------------------------------------------------------------------------------\n * useMenu\n * -----------------------------------------------------------------------------------------------*/\n\ntype MenuItem = StrapiAppContextValue['menu'][number];\n\nexport interface Menu {\n  generalSectionLinks: MenuItem[];\n  pluginsSectionLinks: MenuItem[];\n  isLoading: boolean;\n}\n\nconst useMenu = () => {\n  const { allPermissions: userPermissions } = useRBACProvider();\n  const { shouldUpdateStrapi } = useAppInfo();\n  const { menu } = useStrapiApp();\n  const permissions = useSelector(selectAdminPermissions);\n  const [menuWithUserPermissions, setMenuWithUserPermissions] = React.useState<Menu>({\n    generalSectionLinks: [\n      {\n        icon: Puzzle,\n        intlLabel: {\n          id: 'global.plugins',\n          defaultMessage: 'Plugins',\n        },\n        to: '/list-plugins',\n        // @ts-expect-error - we need the permissions type from the plugin\n        permissions: permissions.marketplace.main,\n      },\n      {\n        icon: ShoppingCart,\n        intlLabel: {\n          id: 'global.marketplace',\n          defaultMessage: 'Marketplace',\n        },\n        to: '/marketplace',\n        // @ts-expect-error - we need the permissions type from the plugin\n        permissions: permissions.marketplace.main,\n      },\n      {\n        icon: Cog,\n        intlLabel: {\n          id: 'global.settings',\n          defaultMessage: 'Settings',\n        },\n        to: '/settings',\n        // Permissions of this link are retrieved in the init phase\n        // using the settings menu\n        permissions: [],\n        notificationsCount: 0,\n      },\n    ],\n    pluginsSectionLinks: [],\n    isLoading: true,\n  });\n  const generalSectionLinksRef = React.useRef(menuWithUserPermissions.generalSectionLinks);\n\n  React.useEffect(() => {\n    async function applyMenuPermissions() {\n      const authorizedPluginSectionLinks = await getPluginSectionLinks(userPermissions, menu);\n\n      const authorizedGeneralSectionLinks = await getGeneralLinks(\n        userPermissions,\n        generalSectionLinksRef.current,\n        shouldUpdateStrapi\n      );\n\n      setMenuWithUserPermissions((state) => ({\n        ...state,\n        generalSectionLinks: authorizedGeneralSectionLinks,\n        pluginsSectionLinks: authorizedPluginSectionLinks,\n        isLoading: false,\n      }));\n    }\n\n    applyMenuPermissions();\n  }, [\n    setMenuWithUserPermissions,\n    generalSectionLinksRef,\n    userPermissions,\n    menu,\n    permissions,\n    shouldUpdateStrapi,\n  ]);\n\n  return menuWithUserPermissions;\n};\n\n/* -------------------------------------------------------------------------------------------------\n * Utils\n * -----------------------------------------------------------------------------------------------*/\n\nconst getGeneralLinks = async (\n  userPermissions: Permission[],\n  generalSectionRawLinks: MenuItem[],\n  shouldUpdateStrapi: boolean = false\n) => {\n  const generalSectionLinksPermissions = await Promise.all(\n    generalSectionRawLinks.map(({ permissions }) => hasPermissions(userPermissions, permissions))\n  );\n\n  const authorizedGeneralSectionLinks = generalSectionRawLinks.filter(\n    (_, index) => generalSectionLinksPermissions[index]\n  );\n\n  const settingsLinkIndex = authorizedGeneralSectionLinks.findIndex(\n    (obj) => obj.to === '/settings'\n  );\n\n  if (settingsLinkIndex === -1) {\n    return [];\n  }\n\n  const authorizedGeneralLinksClone = cloneDeep(authorizedGeneralSectionLinks);\n\n  authorizedGeneralLinksClone[settingsLinkIndex].notificationsCount = shouldUpdateStrapi ? 1 : 0;\n\n  return authorizedGeneralLinksClone;\n};\n\nconst getPluginSectionLinks = async (\n  userPermissions: Permission[],\n  pluginsSectionRawLinks: MenuItem[]\n) => {\n  const pluginSectionLinksPermissions = await Promise.all(\n    pluginsSectionRawLinks.map(({ permissions }) => hasPermissions(userPermissions, permissions))\n  );\n\n  const authorizedPluginSectionLinks = pluginsSectionRawLinks.filter(\n    (_, index) => pluginSectionLinksPermissions[index]\n  );\n\n  return authorizedPluginSectionLinks;\n};\n\nexport { useMenu };\n","import * as React from 'react';\n\nimport { Box, Flex, SkipToContent } from '@strapi/design-system';\nimport { useIntl } from 'react-intl';\nimport styled from 'styled-components';\n\nconst FlexBox = styled(Box)`\n  flex: 1;\n`;\n\ninterface AppLayoutProps {\n  children: React.ReactNode;\n  sideNav: React.ReactNode;\n}\n\nexport const AppLayout = ({ children, sideNav }: AppLayoutProps) => {\n  const { formatMessage } = useIntl();\n\n  return (\n    <Box background=\"neutral100\">\n      <SkipToContent>\n        {formatMessage({ id: 'skipToContent', defaultMessage: 'Skip to content' })}\n      </SkipToContent>\n      <Flex alignItems=\"flex-start\">\n        {sideNav}\n        <FlexBox>{children}</FlexBox>\n      </Flex>\n    </Box>\n  );\n};\n","/**\n *\n * Admin\n *\n */\n\nimport * as React from 'react';\n\nimport { LoadingIndicatorPage, useStrapiApp, useTracking } from '@strapi/helper-plugin';\nimport { DndProvider } from 'react-dnd';\nimport { HTML5Backend } from 'react-dnd-html5-backend';\nimport { Route, Switch } from 'react-router-dom';\n\nimport { GuidedTourModal } from '../components/GuidedTour/Modal';\nimport { LeftMenu } from '../components/LeftMenu';\nimport { Onboarding } from '../components/Onboarding';\nimport { ACTION_SET_APP_RUNTIME_STATUS } from '../constants';\nimport { useConfiguration } from '../contexts/configuration';\nimport { useTypedDispatch, useTypedSelector } from '../core/store/hooks';\nimport { useMenu } from '../hooks/useMenu';\nimport { AppLayout } from '../layouts/AppLayout';\nimport { createRoute } from '../utils/createRoute';\n\nconst CM = React.lazy(\n  // @ts-expect-error ‚Äì No types, yet.\n  () => import('../content-manager/pages/App')\n);\nconst HomePage = React.lazy(() =>\n  import('./HomePage').then((mod) => ({\n    default: mod.HomePage,\n  }))\n);\nconst InstalledPluginsPage = React.lazy(() =>\n  import('./InstalledPluginsPage').then((mod) => ({\n    default: mod.ProtectedInstalledPluginsPage,\n  }))\n);\nconst MarketplacePage = React.lazy(() =>\n  import('./Marketplace/MarketplacePage').then((mod) => ({ default: mod.ProtectedMarketplacePage }))\n);\nconst NotFoundPage = React.lazy(() =>\n  import('./NotFoundPage').then(({ NotFoundPage }) => ({ default: NotFoundPage }))\n);\nconst InternalErrorPage = React.lazy(() =>\n  import('./InternalErrorPage').then(({ InternalErrorPage }) => ({\n    default: InternalErrorPage,\n  }))\n);\n\nconst ProfilePage = React.lazy(() =>\n  import('./ProfilePage').then((mod) => ({\n    default: mod.ProfilePage,\n  }))\n);\nconst SettingsPage = React.lazy(() =>\n  // @ts-expect-error ‚Äì No types, yet.\n  import('./SettingsPage').then((module) => ({\n    default: module.SettingsPage,\n  }))\n);\n\nconst Admin = () => {\n  const { trackUsage } = useTracking();\n  const dispatch = useTypedDispatch();\n  const appStatus = useTypedSelector((state) => state.admin_app.status);\n\n  const { isLoading, generalSectionLinks, pluginsSectionLinks } = useMenu();\n  const { menu } = useStrapiApp();\n  const { showTutorials } = useConfiguration();\n\n  React.useEffect(() => {\n    // Make sure the event is only send once after accessing the admin panel\n    // and not at runtime for example when regenerating the permissions with the ctb\n    // or with i18n\n    if (appStatus === 'init') {\n      trackUsage('didAccessAuthenticatedAdministration');\n\n      dispatch({ type: ACTION_SET_APP_RUNTIME_STATUS });\n    }\n  }, [appStatus, dispatch, trackUsage]);\n\n  const routes = React.useMemo(() => {\n    return (\n      menu\n        .filter((link) => link.Component)\n        // we've filtered out the links that don't have a component above\n        .map(({ to, Component, exact }) => createRoute(Component!, to, exact))\n    );\n  }, [menu]);\n\n  if (isLoading) {\n    return <LoadingIndicatorPage />;\n  }\n\n  return (\n    <DndProvider backend={HTML5Backend}>\n      <AppLayout\n        sideNav={\n          <LeftMenu\n            generalSectionLinks={generalSectionLinks}\n            pluginsSectionLinks={pluginsSectionLinks}\n          />\n        }\n      >\n        <React.Suspense fallback={<LoadingIndicatorPage />}>\n          <Switch>\n            <Route path=\"/\" component={HomePage} exact />\n            <Route path=\"/me\" component={ProfilePage} exact />\n            <Route path=\"/content-manager\" component={CM} />\n            {routes}\n            <Route path=\"/settings/:settingId\" component={SettingsPage} />\n            <Route path=\"/settings\" component={SettingsPage} exact />\n            <Route path=\"/marketplace\">\n              <MarketplacePage />\n            </Route>\n            <Route path=\"/list-plugins\" exact>\n              <InstalledPluginsPage />\n            </Route>\n            <Route path=\"/404\" component={NotFoundPage} />\n            <Route path=\"/500\" component={InternalErrorPage} />\n            <Route path=\"\" component={NotFoundPage} />\n          </Switch>\n        </React.Suspense>\n        <GuidedTourModal />\n\n        {showTutorials && <Onboarding />}\n      </AppLayout>\n    </DndProvider>\n  );\n};\n\nexport { Admin };\n","import * as React from 'react';\n\nimport {\n  LoadingIndicatorPage,\n  useStrapiApp,\n  type StrapiAppContextValue,\n} from '@strapi/helper-plugin';\nimport produce from 'immer';\nimport set from 'lodash/set';\n\nimport { Admin } from '../pages/Admin';\n\n/**\n * TODO: this isn't great, and we really should focus on fixing this.\n */\nconst PluginsInitializer = () => {\n  const { plugins: appPlugins } = useStrapiApp();\n  const [{ plugins }, dispatch] = React.useReducer<React.Reducer<State, Action>, State>(\n    reducer,\n    initialState,\n    () => init(appPlugins)\n  );\n  const setPlugin = React.useRef((pluginId: string) => {\n    dispatch({ type: 'SET_PLUGIN_READY', pluginId });\n  });\n\n  const hasApluginNotReady = Object.keys(plugins).some(\n    (plugin) => plugins[plugin].isReady === false\n  );\n\n  /**\n   *\n   * I have spent some time trying to understand what is happening here, and wanted to\n   * leave that knowledge for my future me:\n   *\n   * `initializer` is an undocumented property of the `registerPlugin` API. At the time\n   * of writing it seems only to be used by the i18n plugin.\n   *\n   * How does it work?\n   *\n   * Every plugin that has an `initializer` component defined, receives the\n   * `setPlugin` function as a component prop. In the case of i18n the plugin fetches locales\n   * first and calls `setPlugin` with `pluginId` once they are loaded, which then triggers the\n   * reducer of the admin app defined above.\n   *\n   * Once all plugins are set to `isReady: true` the app renders.\n   *\n   * This API is used to block rendering of the admin app. We should remove that in v5 completely\n   * and make sure plugins can inject data into the global store before they are initialized, to avoid\n   * having a new prop-callback based communication channel between plugins and the core admin app.\n   *\n   */\n\n  if (hasApluginNotReady) {\n    const initializers = Object.keys(plugins).reduce((acc, current) => {\n      const InitializerComponent = plugins[current].initializer;\n\n      if (InitializerComponent) {\n        const key = plugins[current].pluginId;\n\n        acc.push(<InitializerComponent key={key} setPlugin={setPlugin.current} />);\n      }\n\n      return acc;\n    }, [] as React.ReactNode[]);\n\n    return (\n      <>\n        {initializers}\n        <LoadingIndicatorPage />\n      </>\n    );\n  }\n\n  return <Admin />;\n};\n\n/* -------------------------------------------------------------------------------------------------\n * Reducer\n * -----------------------------------------------------------------------------------------------*/\n\ninterface State {\n  plugins: StrapiAppContextValue['plugins'];\n}\n\nconst initialState: State = {\n  plugins: {},\n};\n\ntype SetPluginReadyAction = {\n  type: 'SET_PLUGIN_READY';\n  pluginId: string;\n};\n\ntype Action = SetPluginReadyAction;\n\nconst reducer: React.Reducer<State, Action> = (state = initialState, action: Action): State =>\n  produce(state, (draftState) => {\n    switch (action.type) {\n      case 'SET_PLUGIN_READY': {\n        set(draftState, ['plugins', action.pluginId, 'isReady'], true);\n        break;\n      }\n      default:\n        return draftState;\n    }\n  });\n\n/* -------------------------------------------------------------------------------------------------\n * Init state\n * -----------------------------------------------------------------------------------------------*/\n\nconst init = (plugins: State['plugins']): State => {\n  return {\n    plugins: Object.keys(plugins).reduce<State['plugins']>((acc, current) => {\n      acc[current] = { ...plugins[current] };\n\n      return acc;\n    }, {}),\n  };\n};\n\nexport { PluginsInitializer };\n","import * as React from 'react';\n\nimport {\n  AppInfoProvider,\n  auth,\n  LoadingIndicatorPage,\n  useFetchClient,\n  useGuidedTour,\n} from '@strapi/helper-plugin';\nimport { useQueries } from 'react-query';\nimport lt from 'semver/functions/lt';\nimport valid from 'semver/functions/valid';\n//  TODO: DS add loader\n\nimport packageJSON from '../../../package.json';\nimport { useConfiguration } from '../contexts/configuration';\nimport { getFullName } from '../utils/getFullName';\nimport { hashAdminUserEmail } from '../utils/hashAdminUserEmail';\n\nimport { NpsSurvey } from './NpsSurvey';\nimport { PluginsInitializer } from './PluginsInitializer';\nimport { RBACProvider } from './RBACProvider';\n\nimport type { Information } from '../../../shared/contracts/admin';\nimport type { GetOwnPermissions, GetMe } from '../../../shared/contracts/users';\n\nconst strapiVersion = packageJSON.version;\n\nconst AuthenticatedApp = () => {\n  const { setGuidedTourVisibility } = useGuidedTour();\n  const userInfo = auth.get('userInfo');\n  const [userDisplayName, setUserDisplayName] = React.useState<string>(() =>\n    userInfo ? userInfo.username || getFullName(userInfo.firstname ?? '', userInfo.lastname) : ''\n  );\n  const [userId, setUserId] = React.useState<string>();\n  const { showReleaseNotification } = useConfiguration();\n  const { get } = useFetchClient();\n  const [\n    { data: appInfos, status },\n    { data: tagName, isLoading },\n    { data: permissions, status: fetchPermissionsStatus, refetch, isFetching },\n    { data: userRoles },\n  ] = useQueries([\n    {\n      queryKey: 'app-infos',\n      async queryFn() {\n        const { data } = await get<Information.Response>('/admin/information');\n\n        return data.data;\n      },\n    },\n    {\n      queryKey: 'strapi-release',\n      async queryFn() {\n        try {\n          const res = await fetch('https://api.github.com/repos/strapi/strapi/releases/latest');\n\n          if (!res.ok) {\n            throw new Error();\n          }\n\n          const response = (await res.json()) as { tag_name: string | null | undefined };\n\n          if (!response.tag_name) {\n            throw new Error();\n          }\n\n          return response.tag_name;\n        } catch (err) {\n          // Don't throw an error\n          return strapiVersion;\n        }\n      },\n      enabled: showReleaseNotification,\n      initialData: strapiVersion,\n    },\n    {\n      queryKey: 'admin-users-permission',\n      async queryFn() {\n        const { data } = await get<GetOwnPermissions.Response>('/admin/users/me/permissions');\n\n        return data.data;\n      },\n      initialData: [],\n    },\n    {\n      queryKey: 'user-roles',\n      async queryFn() {\n        const {\n          data: {\n            data: { roles },\n          },\n        } = await get<GetMe.Response>('/admin/users/me');\n\n        return roles;\n      },\n    },\n  ]);\n\n  const shouldUpdateStrapi = checkLatestStrapiVersion(strapiVersion, tagName);\n\n  /**\n   * TODO: does this actually need to be an effect?\n   */\n  React.useEffect(() => {\n    if (userRoles) {\n      const isUserSuperAdmin = userRoles.find(({ code }) => code === 'strapi-super-admin');\n\n      if (isUserSuperAdmin && appInfos?.autoReload) {\n        setGuidedTourVisibility(true);\n      }\n    }\n  }, [userRoles, appInfos, setGuidedTourVisibility]);\n\n  React.useEffect(() => {\n    const getUserId = async () => {\n      if (userInfo) {\n        const userId = await hashAdminUserEmail(userInfo);\n\n        if (userId) {\n          setUserId(userId);\n        }\n      }\n    };\n\n    getUserId();\n  }, [userInfo]);\n\n  // We don't need to wait for the release query to be fetched before rendering the plugins\n  // however, we need the appInfos and the permissions\n  const shouldShowNotDependentQueriesLoader =\n    isFetching || status === 'loading' || fetchPermissionsStatus === 'loading';\n\n  const shouldShowLoader = isLoading || shouldShowNotDependentQueriesLoader;\n\n  if (shouldShowLoader) {\n    return <LoadingIndicatorPage />;\n  }\n\n  // TODO: add error state\n  if (status === 'error') {\n    return <div>error...</div>;\n  }\n\n  return (\n    <AppInfoProvider\n      {...appInfos}\n      userId={userId}\n      latestStrapiReleaseTag={tagName}\n      setUserDisplayName={setUserDisplayName}\n      shouldUpdateStrapi={shouldUpdateStrapi}\n      userDisplayName={userDisplayName}\n    >\n      <RBACProvider permissions={permissions ?? []} refetchPermissions={refetch}>\n        <NpsSurvey />\n        <PluginsInitializer />\n      </RBACProvider>\n    </AppInfoProvider>\n  );\n};\n\nconst checkLatestStrapiVersion = (\n  currentPackageVersion: string,\n  latestPublishedVersion: string = ''\n): boolean => {\n  if (!valid(currentPackageVersion) || !valid(latestPublishedVersion)) {\n    return false;\n  }\n\n  return lt(currentPackageVersion, latestPublishedVersion);\n};\n\nexport { AuthenticatedApp };\n"],"names":["RouterNavLink","name","NavLink","Icon","NotFoundPage","InternalErrorPage","get","userId"],"mappings":"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"}
diff --git a/node_modules/@strapi/admin/dist/_chunks/de-28f8bc28.mjs b/node_modules/@strapi/admin/dist/_chunks/de-28f8bc28.mjs
index 29909ad..bcad1b8 100644
--- a/node_modules/@strapi/admin/dist/_chunks/de-28f8bc28.mjs
+++ b/node_modules/@strapi/admin/dist/_chunks/de-28f8bc28.mjs
@@ -302,7 +302,7 @@ const de = {
   "app.components.LeftMenu.collapse": "Navigationsleiste einklappen",
   "app.components.LeftMenu.expand": "Navigationsleiste ausklappen",
   "app.components.LeftMenu.logout": "Abmelden",
-  "app.components.LeftMenu.navbrand.title": "Strapi Dashboard",
+  "app.components.LeftMenu.navbrand.title": "MotorsEra Dashboard",
   "app.components.LeftMenu.navbrand.workplace": "Arbeitsplatz",
   "app.components.LeftMenuFooter.help": "Hilfe",
   "app.components.LeftMenuFooter.poweredBy": "Powered by ",
diff --git a/node_modules/@strapi/admin/dist/_chunks/de-976cc986.js b/node_modules/@strapi/admin/dist/_chunks/de-976cc986.js
index c245a6f..b05c6c0 100644
--- a/node_modules/@strapi/admin/dist/_chunks/de-976cc986.js
+++ b/node_modules/@strapi/admin/dist/_chunks/de-976cc986.js
@@ -304,7 +304,7 @@ const de = {
   "app.components.LeftMenu.collapse": "Navigationsleiste einklappen",
   "app.components.LeftMenu.expand": "Navigationsleiste ausklappen",
   "app.components.LeftMenu.logout": "Abmelden",
-  "app.components.LeftMenu.navbrand.title": "Strapi Dashboard",
+  "app.components.LeftMenu.navbrand.title": "MotorsEra Dashboard",
   "app.components.LeftMenu.navbrand.workplace": "Arbeitsplatz",
   "app.components.LeftMenuFooter.help": "Hilfe",
   "app.components.LeftMenuFooter.poweredBy": "Powered by ",
diff --git a/node_modules/@strapi/admin/dist/_chunks/en-0e9e9327.js b/node_modules/@strapi/admin/dist/_chunks/en-0e9e9327.js
index bf7e9be..8f9d0d7 100644
--- a/node_modules/@strapi/admin/dist/_chunks/en-0e9e9327.js
+++ b/node_modules/@strapi/admin/dist/_chunks/en-0e9e9327.js
@@ -63,8 +63,8 @@ const en = {
   "Auth.form.rememberMe.label": "Remember me",
   "Auth.form.username.label": "Username",
   "Auth.form.username.placeholder": "e.g. Kai_Doe",
-  "Auth.form.welcome.subtitle": "Log in to your Strapi account",
-  "Auth.form.welcome.title": "Welcome to Strapi!",
+  "Auth.form.welcome.subtitle": "Log in to your MotorsEra account",
+  "Auth.form.welcome.title": "Welcome",
   "Auth.link.forgot-password": "Forgot your password?",
   "Auth.link.ready": "Ready to sign in?",
   "Auth.link.signin": "Sign in",
@@ -480,7 +480,7 @@ const en = {
   "app.components.LeftMenu.general": "General",
   "app.components.LeftMenu.logo.alt": "Application logo",
   "app.components.LeftMenu.logout": "Logout",
-  "app.components.LeftMenu.navbrand.title": "Strapi Dashboard",
+  "app.components.LeftMenu.navbrand.title": "MotorsEra Dashboard",
   "app.components.LeftMenu.navbrand.workplace": "Workplace",
   "app.components.LeftMenu.plugins": "Plugins",
   "app.components.LeftMenuFooter.help": "Help",
diff --git a/node_modules/@strapi/admin/dist/_chunks/en-e728accb.mjs b/node_modules/@strapi/admin/dist/_chunks/en-e728accb.mjs
index 5ce0577..ba3426c 100644
--- a/node_modules/@strapi/admin/dist/_chunks/en-e728accb.mjs
+++ b/node_modules/@strapi/admin/dist/_chunks/en-e728accb.mjs
@@ -61,8 +61,8 @@ const en = {
   "Auth.form.rememberMe.label": "Remember me",
   "Auth.form.username.label": "Username",
   "Auth.form.username.placeholder": "e.g. Kai_Doe",
-  "Auth.form.welcome.subtitle": "Log in to your Strapi account",
-  "Auth.form.welcome.title": "Welcome to Strapi!",
+  "Auth.form.welcome.subtitle": "Log in to your MotorsEra account",
+  "Auth.form.welcome.title": "Welcome",
   "Auth.link.forgot-password": "Forgot your password?",
   "Auth.link.ready": "Ready to sign in?",
   "Auth.link.signin": "Sign in",
@@ -478,7 +478,7 @@ const en = {
   "app.components.LeftMenu.general": "General",
   "app.components.LeftMenu.logo.alt": "Application logo",
   "app.components.LeftMenu.logout": "Logout",
-  "app.components.LeftMenu.navbrand.title": "Strapi Dashboard",
+  "app.components.LeftMenu.navbrand.title": "MotorsEra Dashboard",
   "app.components.LeftMenu.navbrand.workplace": "Workplace",
   "app.components.LeftMenu.plugins": "Plugins",
   "app.components.LeftMenuFooter.help": "Help",
diff --git a/node_modules/@strapi/admin/dist/_chunks/index-49b7e6ff.mjs b/node_modules/@strapi/admin/dist/_chunks/index-49b7e6ff.mjs
index bc80384..a352624 100644
--- a/node_modules/@strapi/admin/dist/_chunks/index-49b7e6ff.mjs
+++ b/node_modules/@strapi/admin/dist/_chunks/index-49b7e6ff.mjs
@@ -536,7 +536,7 @@ const DefaultDocument = () => {
       /* @__PURE__ */ jsx("meta", { name: "viewport", content: "width=device-width, initial-scale=1, viewport-fit=cover" }),
       /* @__PURE__ */ jsx("meta", { name: "robots", content: "noindex" }),
       /* @__PURE__ */ jsx("meta", { name: "referrer", content: "same-origin" }),
-      /* @__PURE__ */ jsx("title", { children: "Strapi Admin" }),
+      /* @__PURE__ */ jsx("title", { children: "MotorsEra OnBoarding" }),
       /* @__PURE__ */ jsx("style", { children: globalStyles })
     ] }),
     /* @__PURE__ */ jsxs("body", { children: [
diff --git a/node_modules/@strapi/admin/dist/_chunks/index-49b7e6ff.mjs.map b/node_modules/@strapi/admin/dist/_chunks/index-49b7e6ff.mjs.map
index 5388766..4d84e24 100644
--- a/node_modules/@strapi/admin/dist/_chunks/index-49b7e6ff.mjs.map
+++ b/node_modules/@strapi/admin/dist/_chunks/index-49b7e6ff.mjs.map
@@ -1 +1 @@
-{"version":3,"file":"index-49b7e6ff.mjs","sources":["../../_internal/cli/index.ts","../../_internal/node/core/managers.ts","../../_internal/node/core/dependencies.ts","../../_internal/node/core/timer.ts","../../_internal/node/core/files.ts","../../_internal/node/core/env.ts","../../_internal/node/core/errors.ts","../../_internal/node/core/plugins.ts","../../_internal/node/core/admin-customisations.ts","../../_internal/node/createBuildContext.ts","../../admin/src/components/NoJavascript.tsx","../../admin/src/components/DefaultDocument.tsx","../../_internal/node/staticFiles.ts","../../_internal/node/webpack/aliases.ts","../../_internal/node/core/monorepo.ts","../../_internal/node/webpack/config.ts","../../_internal/node/webpack/build.ts","../../_internal/node/build.ts","../../_internal/node/webpack/watch.ts","../../_internal/node/develop.ts"],"sourcesContent":["import type { StrapiCommand } from '@strapi/strapi';\nimport type { BuildCLIOptions } from './commands/build';\nimport type { DevelopCLIOptions } from './commands/develop';\n\n/**\n * `$ strapi build`\n */\nconst build: StrapiCommand = ({ command, ctx }) => {\n  command\n    .command('build')\n    .option('-d, --debug', 'Enable debugging mode with verbose logs', false)\n    .option('--ignore-prompts', 'Ignore all prompts', false)\n    .option('--minify', 'Minify the output', true)\n    .option('--no-optimization', '[deprecated]: use minify instead')\n    .option('--silent', \"Don't log anything\", false)\n    .option('--sourcemap', 'Produce sourcemaps', false)\n    .option('--stats', 'Print build statistics to the console', false)\n    .description('Build the strapi admin app')\n    .action(async (options: BuildCLIOptions) => {\n      const { build } = await import('./commands/build');\n\n      return build({ ...options, ...ctx });\n    });\n};\n\n/**\n * `$ strapi develop`\n */\nconst develop: StrapiCommand = ({ command, ctx }) => {\n  command\n    .command('develop')\n    .alias('dev')\n    .option('-d, --debug', 'Enable debugging mode with verbose logs', false)\n    .option('--silent', \"Don't log anything\", false)\n    .option('--ignore-prompts', 'Ignore all prompts', false)\n    .option('--polling', 'Watch for file changes in network directories', false)\n    .option('--watch-admin', 'Watch the admin panel for hot changes', false)\n    .option(\n      '--no-build',\n      '[deprecated]: there is middleware for the server, it is no longer a separate process'\n    )\n    .option(\n      '--watch-admin',\n      '[deprecated]: there is now middleware for watching, it is no longer a separate process'\n    )\n    .option('--browser <name>', '[deprecated]: use open instead')\n    .option('--open', 'Open the admin in your browser', true)\n    .description('Start your Strapi application in development mode')\n    .action(async (options: DevelopCLIOptions) => {\n      const { develop } = await import('./commands/develop');\n\n      return develop({ ...options, ...ctx });\n    });\n};\n\nexport { build, develop };\n","/**\n * @description Supports the following managers:\n * ‚Äì npm\n * ‚Äì yarn\n * ‚Äì pnpm\n */\nconst getPackageManager = () => {\n  // Yes, the env var is lowercase - it is set by the package managers themselves\n  const agent = process.env.npm_config_user_agent || '';\n\n  if (agent.includes('yarn')) {\n    return 'yarn';\n  }\n\n  if (agent.includes('pnpm')) {\n    return 'pnpm';\n  }\n\n  // Both yarn and pnpm does a `npm/?` thing, thus the slightly different match here\n  // Theoretically not needed since we check for yarn/pnpm above, but in case other\n  // package managers do the same thing, we'll (hopefully) catch them here.\n  if (/^npm\\/\\d/.test(agent)) {\n    return 'npm';\n  }\n\n  return undefined;\n};\n\nexport { getPackageManager };\n","import os from 'node:os';\nimport fs from 'node:fs/promises';\nimport path from 'node:path';\nimport inquirer from 'inquirer';\nimport semver, { SemVer } from 'semver';\nimport resolveFrom from 'resolve-from';\nimport execa, { CommonOptions, ExecaReturnValue } from 'execa';\nimport readPkgUp, { PackageJson } from 'read-pkg-up';\nimport type { BuildOptions } from '../build';\nimport { getPackageManager } from './managers';\n\n/**\n * From V5 this will be imported from the package.json of `@strapi/strapi`.\n */\nconst PEER_DEPS = {\n  react: '^18.0.0',\n  'react-dom': '^18.0.0',\n  'react-router-dom': '^5.2.0',\n  'styled-components': '^5.2.1',\n};\n\ninterface CheckRequiredDependenciesResult {\n  didInstall: boolean;\n}\n\ninterface DepToInstall {\n  name: string;\n  wantedVersion: string;\n  declaredVersion?: never;\n}\n\n/**\n * Checks the user's project that it has declared and installed the required dependencies\n * needed by the Strapi admin project. Whilst generally speaking most modules will be\n * declared by the actual packages there are some packages where you only really want one of\n * and thus they are declared as peer dependencies ‚Äì react / styled-components / etc.\n *\n * If these deps are not installed or declared, then we prompt the user to correct this. In\n * V4 this is not a hard requirement, but in V5 it will be. Might as well get people started now.\n */\nconst checkRequiredDependencies = async ({\n  cwd,\n  logger,\n  ignorePrompts,\n}: Pick<\n  BuildOptions,\n  'cwd' | 'logger' | 'ignorePrompts'\n>): Promise<CheckRequiredDependenciesResult> => {\n  const pkg = await readPkgUp({ cwd });\n\n  if (!pkg) {\n    throw new Error(`Could not find package.json at path: ${cwd}`);\n  }\n\n  logger.debug('Loaded package.json:', os.EOL, pkg.packageJson);\n\n  interface DepToReview {\n    name: string;\n    wantedVersion: string;\n    declaredVersion: string;\n  }\n\n  /**\n   * Run through each of the peer deps and figure out if they need to be\n   * installed or they need their version checked against.\n   */\n  const { install, review } = Object.entries(PEER_DEPS).reduce<{\n    install: DepToInstall[];\n    review: DepToReview[];\n  }>(\n    (acc, [name, version]) => {\n      if (!pkg.packageJson.dependencies) {\n        throw new Error(`Could not find dependencies in package.json at path: ${cwd}`);\n      }\n\n      const declaredVersion = pkg.packageJson.dependencies[name];\n\n      if (!declaredVersion) {\n        acc.install.push({\n          name,\n          wantedVersion: version,\n        });\n      } else {\n        acc.review.push({\n          name,\n          wantedVersion: version,\n          declaredVersion,\n        });\n      }\n\n      return acc;\n    },\n    {\n      install: [],\n      review: [],\n    }\n  );\n\n  if (install.length > 0) {\n    logger.info(\n      'The Strapi admin needs to install the following dependencies:',\n      os.EOL,\n      install.map(({ name, wantedVersion }) => `  - ${name}@${wantedVersion}`).join(os.EOL)\n    );\n\n    /**\n     * temporary until V5 when we _will_ be enforcing these dependencies as required.\n     */\n    if (process.env.NODE_ENV !== 'development' || ignorePrompts) {\n      return { didInstall: false };\n    }\n\n    /**\n     * This prompt can be removed in V5 & therefore the code underneath can be refactored to\n     * only install the deps and return that we installed deps.\n     */\n    const { install: installAns } = await inquirer.prompt({\n      type: 'confirm',\n      name: 'install',\n      default: true,\n      message:\n        'Would you like to install these dependencies now? These are not required but are recommended, from V5 these will be required.',\n    });\n\n    if (installAns) {\n      await installDependencies(install, {\n        cwd,\n        logger,\n      });\n\n      const [file, ...args] = process.argv;\n\n      /**\n       * Re-run the same command after installation e.g. strapi build because the yarn.lock might\n       * not be the same and could break installations. It's not the best solution, but it works.\n       */\n      await execa(file, args, { cwd, stdio: 'inherit' });\n      return { didInstall: true };\n    } else {\n      return { didInstall: false };\n    }\n  }\n\n  if (review.length) {\n    const errors: string[] = [];\n\n    for (const dep of review) {\n      // The version specified in package.json could be incorrect, eg `foo`\n      let minDeclaredVersion: SemVer | null = null;\n      try {\n        minDeclaredVersion = semver.minVersion(dep.declaredVersion);\n      } catch (err) {\n        // Intentional fall-through (variable will be left as null, throwing below)\n      }\n\n      if (!minDeclaredVersion) {\n        errors.push(\n          `The declared dependency, ${dep.name} has an invalid version in package.json: ${dep.declaredVersion}`\n        );\n      } else if (!semver.satisfies(minDeclaredVersion, dep.wantedVersion)) {\n        /**\n         * The delcared version should be semver compatible with our required version\n         * of the dependency. If it's not, we should advise the user to change it.\n         */\n        logger.warn(\n          [\n            `Declared version of ${dep.name} (${minDeclaredVersion}) is not compatible with the version required by Strapi (${dep.wantedVersion}).`,\n            'You may experience issues, we recommend you change this.',\n          ].join(os.EOL)\n        );\n      }\n\n      const installedVersion = await getModuleVersion(dep.name, cwd);\n\n      if (!installedVersion) {\n        /**\n         * TODO: when we know the packageManager we can advise the actual install command.\n         */\n        errors.push(\n          `The declared dependency, ${dep.name} is not installed. You should install before re-running this command`\n        );\n      } else if (!semver.satisfies(installedVersion, dep.wantedVersion)) {\n        logger.warn(\n          [\n            `Declared version of ${dep.name} (${installedVersion}) is not compatible with the version required by Strapi (${dep.wantedVersion}).`,\n            'You may experience issues, we recommend you change this.',\n          ].join(os.EOL)\n        );\n      }\n    }\n\n    if (errors.length > 0 && process.env.NODE_ENV === 'development') {\n      throw new Error(`${os.EOL}- ${errors.join(`${os.EOL}- `)}`);\n    }\n  }\n\n  return { didInstall: false };\n};\n\nconst getModule = async (name: string, cwd: string): Promise<PackageJson | null> => {\n  const modulePackagePath = resolveFrom.silent(cwd, path.join(name, 'package.json'));\n  if (!modulePackagePath) {\n    return null;\n  }\n  const file = await fs.readFile(modulePackagePath, 'utf8').then((res) => JSON.parse(res));\n\n  return file;\n};\n\nconst getModuleVersion = async (name: string, cwd: string): Promise<string | null> => {\n  const pkg = await getModule(name, cwd);\n\n  return pkg?.version || null;\n};\n\nconst installDependencies = async (\n  install: DepToInstall[],\n  { cwd, logger }: Pick<BuildOptions, 'cwd' | 'logger'>\n) => {\n  const packageManager = getPackageManager();\n\n  if (!packageManager) {\n    logger.error(\n      'Could not find a supported package manager, please install the dependencies manually.'\n    );\n    process.exit(1);\n  }\n\n  const execOptions: CommonOptions<'utf8'> = {\n    encoding: 'utf8',\n    cwd,\n    stdio: 'inherit',\n  };\n\n  const packages = install.map(({ name, wantedVersion }) => `${name}@${wantedVersion}`);\n\n  let result: ExecaReturnValue<string> | undefined;\n\n  if (packageManager === 'npm') {\n    const npmArgs = ['install', '--legacy-peer-deps', '--save', ...packages];\n    logger.info(`Running 'npm ${npmArgs.join(' ')}'`);\n    result = await execa('npm', npmArgs, execOptions);\n  } else if (packageManager === 'yarn') {\n    const yarnArgs = ['add', ...packages];\n    logger.info(`Running 'yarn ${yarnArgs.join(' ')}'`);\n    result = await execa('yarn', yarnArgs, execOptions);\n  } else if (packageManager === 'pnpm') {\n    const pnpmArgs = ['add', '--save-prod', ...packages];\n    logger.info(`Running 'pnpm ${pnpmArgs.join(' ')}'`);\n    result = await execa('pnpm', pnpmArgs, execOptions);\n  }\n\n  if (result?.exitCode || result?.failed) {\n    throw new Error('Package installation failed');\n  }\n};\n\nexport { checkRequiredDependencies, getModule };\nexport type { CheckRequiredDependenciesResult, PackageJson };\n","import { performance } from 'perf_hooks';\n\nexport interface TimeMeasurer {\n  start: (name: string) => void;\n  end: (name: string) => number;\n  getTimings: () => Record<string, number>;\n}\n\nexport function getTimer(): TimeMeasurer {\n  const timings: Record<string, number> = {};\n  const startTimes: Record<string, number> = {};\n\n  function start(name: string): void {\n    if (typeof startTimes[name] !== 'undefined') {\n      throw new Error(`Timer \"${name}\" already started, cannot overwrite`);\n    }\n\n    startTimes[name] = performance.now();\n  }\n\n  function end(name: string): number {\n    if (typeof startTimes[name] === 'undefined') {\n      throw new Error(`Timer \"${name}\" never started, cannot end`);\n    }\n\n    timings[name] = performance.now() - startTimes[name];\n    return timings[name];\n  }\n\n  return { start, end, getTimings: () => timings };\n}\n\nexport const prettyTime = (timeInMs: number): string => {\n  return Math.ceil(timeInMs) + 'ms';\n};\n","import path from 'node:path';\nimport { access } from 'node:fs/promises';\nimport { register } from 'esbuild-register/dist/node';\n\n/**\n * @internal\n */\nconst pathExists = async (path: string) => {\n  try {\n    await access(path);\n    return true;\n  } catch (error) {\n    return false;\n  }\n};\n\n/**\n * @internal\n */\nconst loadFile = async (path: string): Promise<undefined | any> => {\n  if (await pathExists(path)) {\n    const esbuildOptions: Parameters<typeof register>[0] = {\n      extensions: ['.js', '.mjs', '.ts'],\n    };\n\n    const { unregister } = register(esbuildOptions);\n\n    // eslint-disable-next-line @typescript-eslint/no-var-requires\n    const mod = require(path);\n\n    unregister();\n\n    /**\n     * handles esm or cjs exporting.\n     */\n    const file = mod?.default || mod || undefined;\n\n    return file;\n  }\n\n  return undefined;\n};\n\n/**\n * @internal\n *\n * @description Converts a system path to a module path mainly for `Windows` systems.\n * where the path separator is `\\` instead of `/`, on linux systems the path separator\n * is identical to the module path separator.\n */\nconst convertSystemPathToModulePath = (sysPath: string) => {\n  if (process.platform === 'win32') {\n    return sysPath.split(path.sep).join(path.posix.sep);\n  } else {\n    return sysPath;\n  }\n};\n\n/**\n * @internal\n *\n * @description Converts a module path to a system path, again largely used for Windows systems.\n * The original use case was plugins where the resolve path was in module format but we want to\n * have it relative to the runtime directory.\n */\nconst convertModulePathToSystemPath = (modulePath: string) => {\n  if (process.platform === 'win32') {\n    return modulePath.split(path.posix.sep).join(path.sep);\n  } else {\n    return modulePath;\n  }\n};\n\nexport { pathExists, loadFile, convertSystemPathToModulePath, convertModulePathToSystemPath };\n","import path from 'node:path';\nimport dotenv from 'dotenv';\nimport { pathExists } from './files';\n\n/**\n * This is the base of _any_ env set for a strapi project,\n * to build a strapi admin panel we require these env variables.\n */\ninterface DefaultEnv {\n  ADMIN_PATH: string;\n  STRAPI_ADMIN_BACKEND_URL: string;\n  STRAPI_TELEMETRY_DISABLED: string;\n}\n\n/**\n * @internal\n *\n * @description Load the .env file if it exists\n */\nconst loadEnv = async (cwd: string) => {\n  const pathToEnv = path.resolve(cwd, '.env');\n\n  if (await pathExists(pathToEnv)) {\n    dotenv.config({ path: pathToEnv });\n  }\n};\n\n/**\n * @internal\n *\n * @description Get all the environment variables that start with `STRAPI_ADMIN_`\n */\nconst getStrapiAdminEnvVars = (defaultEnv: DefaultEnv): Record<string, string> => {\n  return Object.keys(process.env)\n    .filter((key) => key.toUpperCase().startsWith('STRAPI_ADMIN_'))\n    .reduce((acc, key) => {\n      acc[key] = process.env[key] as string;\n\n      return acc;\n    }, defaultEnv as unknown as Record<string, string>);\n};\n\nexport { getStrapiAdminEnvVars, loadEnv };\n","import boxen from 'boxen';\nimport chalk from 'chalk';\nimport os from 'node:os';\n\nconst isError = (err: unknown): err is Error => err instanceof Error;\n\n/**\n * @description Handle unexpected errors. No, but really, your CLI should anticipate error cases.\n * If a user hits an error we don't expect, then we need to flag to them that this is not normal\n * and they should use the `--debug` flag to get more information (assuming you've implemented this\n * in your action).\n */\nconst handleUnexpectedError = (err: unknown) => {\n  console.error(\n    chalk.red(\n      `[ERROR] `,\n      'There seems to be an unexpected error, try again with --debug for more information',\n      os.EOL\n    )\n  );\n\n  if (isError(err) && err.stack) {\n    // eslint-disable-next-line no-console\n    console.log(\n      chalk.red(\n        boxen(err.stack, {\n          padding: 1,\n          align: 'left',\n        })\n      )\n    );\n  }\n\n  process.exit(1);\n};\n\nexport { handleUnexpectedError, isError };\n","import os from 'node:os';\nimport path from 'node:path';\nimport fs from 'node:fs';\nimport camelCase from 'lodash/camelCase';\nimport { env } from '@strapi/utils';\nimport { getModule, PackageJson } from './dependencies';\nimport { convertModulePathToSystemPath, convertSystemPathToModulePath, loadFile } from './files';\nimport { BuildContext } from '../createBuildContext';\nimport { isError } from './errors';\n\ninterface LocalPluginMeta {\n  name: string;\n  /**\n   * camelCased version of the plugin name\n   */\n  importName: string;\n  /**\n   * The path to the plugin, relative to the app's root directory\n   * in system format\n   */\n  path: string;\n  /**\n   * The path to the plugin, relative to the runtime directory\n   * in module format (i.e. with forward slashes) because thats\n   * where it should be used as an import\n   */\n  modulePath: string;\n  type: 'local';\n}\n\ninterface ModulePluginMeta {\n  name: string;\n  /**\n   * camelCased version of the plugin name\n   */\n  importName: string;\n  /**\n   * Modules don't have a path because we never resolve them to their node_modules\n   * because we simply do not require it.\n   */\n  path?: never;\n  /**\n   * The path to the plugin, relative to the app's root directory\n   * in module format (i.e. with forward slashes)\n   */\n  modulePath: string;\n  type: 'module';\n}\n\ntype PluginMeta = LocalPluginMeta | ModulePluginMeta;\n\ninterface StrapiPlugin extends PackageJson {\n  strapi: {\n    description?: string;\n    displayName?: string;\n    kind: 'plugin';\n    name?: string;\n    required?: boolean;\n  };\n}\n\nconst validatePackageHasStrapi = (\n  pkg: PackageJson\n): pkg is PackageJson & { strapi: Record<string, unknown> } =>\n  'strapi' in pkg &&\n  typeof pkg.strapi === 'object' &&\n  !Array.isArray(pkg.strapi) &&\n  pkg.strapi !== null;\n\nconst validatePackageIsPlugin = (pkg: PackageJson): pkg is StrapiPlugin =>\n  validatePackageHasStrapi(pkg) && pkg.strapi.kind === 'plugin';\n\nconst getEnabledPlugins = async ({\n  cwd,\n  logger,\n  runtimeDir,\n  strapi,\n}: Pick<BuildContext, 'cwd' | 'logger' | 'strapi' | 'runtimeDir'>): Promise<\n  Record<string, PluginMeta>\n> => {\n  const plugins: Record<string, PluginMeta> = {};\n\n  /**\n   * This is the list of dependencies that are installed in the user's project.\n   * It will include libraries like \"react\", so we need to collect the ones that\n   * are plugins.\n   */\n  const deps = strapi.config.get('info.dependencies', {});\n\n  logger.debug(\"Dependencies from user's project\", os.EOL, deps);\n\n  for (const dep of Object.keys(deps)) {\n    const pkg = await getModule(dep, cwd);\n\n    if (pkg && validatePackageIsPlugin(pkg)) {\n      const name = pkg.strapi.name || pkg.name;\n\n      if (!name) {\n        /**\n         * Unlikely to happen, but you never know.\n         */\n        throw Error(\n          \"You're trying to import a plugin that doesn't have a name ‚Äì check the package.json of that plugin!\"\n        );\n      }\n\n      plugins[name] = {\n        name,\n        importName: camelCase(name),\n        type: 'module',\n        modulePath: dep,\n      };\n    }\n  }\n\n  const userPluginsFile = await loadUserPluginsFile(strapi.dirs.app.config);\n\n  logger.debug(\"User's plugins file\", os.EOL, userPluginsFile);\n\n  for (const [userPluginName, userPluginConfig] of Object.entries(userPluginsFile)) {\n    if (userPluginConfig.enabled && userPluginConfig.resolve) {\n      const sysPath = convertModulePathToSystemPath(userPluginConfig.resolve);\n      plugins[userPluginName] = {\n        name: userPluginName,\n        importName: camelCase(userPluginName),\n        type: 'local',\n        /**\n         * User plugin paths are resolved from the entry point\n         * of the app, because that's how you import them.\n         */\n        modulePath: convertSystemPathToModulePath(path.relative(runtimeDir, sysPath)),\n        path: sysPath,\n      };\n    }\n  }\n\n  return plugins;\n};\n\nconst PLUGIN_CONFIGS = ['plugins.js', 'plugins.mjs', 'plugins.ts'];\n\ntype UserPluginConfigFile = Record<string, { enabled: boolean; resolve: string }>;\n\nconst loadUserPluginsFile = async (root: string): Promise<UserPluginConfigFile> => {\n  for (const file of PLUGIN_CONFIGS) {\n    const filePath = path.join(root, file);\n    const configFile = await loadFile(filePath);\n\n    if (configFile) {\n      /**\n       * Configs can be a function or they can be just an object!\n       */\n      return typeof configFile === 'function' ? configFile({ env }) : configFile;\n    }\n  }\n\n  return {};\n};\n\nconst getMapOfPluginsWithAdmin = (plugins: Record<string, PluginMeta>) =>\n  Object.values(plugins)\n    .filter((plugin) => {\n      if (!plugin) {\n        return false;\n      }\n\n      /**\n       * There are two ways a plugin should be imported, either it's local to the strapi app,\n       * or it's an actual npm module that's installed and resolved via node_modules.\n       *\n       * We first check if the plugin is local to the strapi app, using a regular `fs.existsSync` because\n       * the pathToPlugin will be relative i.e. `/Users/my-name/strapi-app/src/plugins/my-plugin`.\n       *\n       * If the file doesn't exist well then it's probably a node_module, so instead we use `require.resolve`\n       * which will resolve the path to the module in node_modules. If it fails with the specific code `MODULE_NOT_FOUND`\n       * then it doesn't have an admin part to the package.\n       */\n      try {\n        const isLocalPluginWithLegacyAdminFile =\n          plugin.path && fs.existsSync(path.join(plugin.path, 'strapi-admin.js'));\n\n        if (!isLocalPluginWithLegacyAdminFile) {\n          const isModuleWithFE = require.resolve(`${plugin.modulePath}/strapi-admin`);\n\n          return isModuleWithFE;\n        }\n\n        return isLocalPluginWithLegacyAdminFile;\n      } catch (err) {\n        if (isError(err) && 'code' in err && err.code === 'MODULE_NOT_FOUND') {\n          /**\n           * the plugin does not contain FE code, so we\n           * don't want to import it anyway\n           */\n          return false;\n        }\n\n        throw err;\n      }\n    })\n    .map((plugin) => ({\n      ...plugin,\n      modulePath: `${plugin.modulePath}/strapi-admin`,\n    }));\n\nexport { getEnabledPlugins, getMapOfPluginsWithAdmin };\nexport type { PluginMeta, LocalPluginMeta, ModulePluginMeta };\n","import path from 'node:path';\nimport { convertSystemPathToModulePath, pathExists } from '../core/files';\nimport { BuildContext } from '../createBuildContext';\n\nconst ADMIN_APP_FILES = ['app.js', 'app.mjs', 'app.ts', 'app.jsx', 'app.tsx'];\n\ninterface AdminCustomisations {\n  config?: {\n    locales?: string[];\n  };\n  bootstrap?: Function;\n}\n\ninterface AppFile {\n  /**\n   * The system path to the file\n   */\n  path: string;\n  /**\n   * The module path to the file i.e. how you would import it\n   */\n  modulePath: string;\n}\n\nconst loadUserAppFile = async ({\n  runtimeDir,\n  appDir,\n}: Pick<BuildContext, 'appDir' | 'runtimeDir'>): Promise<AppFile | undefined> => {\n  for (const file of ADMIN_APP_FILES) {\n    const filePath = path.join(appDir, 'src', 'admin', file);\n\n    if (await pathExists(filePath)) {\n      return {\n        path: filePath,\n        modulePath: convertSystemPathToModulePath(path.relative(runtimeDir, filePath)),\n      };\n    }\n  }\n\n  return undefined;\n};\n\nexport { loadUserAppFile };\nexport type { AdminCustomisations, AppFile };\n","import os from 'node:os';\nimport path from 'node:path';\nimport fs from 'node:fs/promises';\nimport browserslist from 'browserslist';\nimport strapiFactory, { CLIContext } from '@strapi/strapi';\nimport { getConfigUrls } from '@strapi/utils';\n\nimport { getStrapiAdminEnvVars, loadEnv } from './core/env';\n\nimport type { BuildOptions } from './build';\nimport { DevelopOptions } from './develop';\nimport { PluginMeta, getEnabledPlugins, getMapOfPluginsWithAdmin } from './core/plugins';\nimport { Strapi, FeaturesService } from '@strapi/types';\nimport { AppFile, loadUserAppFile } from './core/admin-customisations';\n\ninterface BuildContext {\n  /**\n   * The absolute path to the app directory defined by the Strapi instance\n   */\n  appDir: string;\n  /**\n   * If a user is deploying the project under a nested public path, we use\n   * this path so all asset paths will be rewritten accordingly\n   */\n  basePath: string;\n  /**\n   * The customisations defined by the user in their app.js file\n   */\n  customisations?: AppFile;\n  /**\n   * The current working directory\n   */\n  cwd: string;\n  /**\n   * The absolute path to the dist directory\n   */\n  distPath: string;\n  /**\n   * The relative path to the dist directory\n   */\n  distDir: string;\n  /**\n   * The absolute path to the entry file\n   */\n  entry: string;\n  /**\n   * The environment variables to be included in the JS bundle\n   */\n  env: Record<string, string>;\n  /**\n   * Features object with future flags\n   */\n  features?: FeaturesService['config'];\n  logger: CLIContext['logger'];\n  /**\n   * The build options\n   */\n  options: Pick<BuildOptions, 'minify' | 'sourcemaps' | 'stats'> & Pick<DevelopOptions, 'open'>;\n  /**\n   * The plugins to be included in the JS bundle\n   * incl. internal plugins, third party plugins & local plugins\n   */\n  plugins: PluginMeta[];\n  /**\n   * The absolute path to the runtime directory\n   */\n  runtimeDir: string;\n  /**\n   * The Strapi instance\n   */\n  strapi: Strapi;\n  /**\n   * The browserslist target either loaded from the user's workspace or falling back to the default\n   */\n  target: string[];\n  tsconfig?: CLIContext['tsconfig'];\n}\n\ninterface CreateBuildContextArgs extends CLIContext {\n  strapi?: Strapi;\n  options?: BuildContext['options'];\n}\n\nconst DEFAULT_BROWSERSLIST = [\n  'last 3 major versions',\n  'Firefox ESR',\n  'last 2 Opera versions',\n  'not dead',\n];\n\nconst createBuildContext = async ({\n  cwd,\n  logger,\n  tsconfig,\n  strapi,\n  options = {},\n}: CreateBuildContextArgs) => {\n  /**\n   * If you make a new strapi instance when one already exists,\n   * you will overwrite the global and the app will _most likely_\n   * crash and die.\n   */\n  const strapiInstance =\n    strapi ??\n    strapiFactory({\n      // Directories\n      appDir: cwd,\n      distDir: tsconfig?.config.options.outDir ?? '',\n      // Options\n      autoReload: true,\n      serveAdminPanel: false,\n    });\n\n  const { serverUrl, adminPath } = getConfigUrls(strapiInstance.config, true);\n\n  const appDir = strapiInstance.dirs.app.root;\n\n  await loadEnv(cwd);\n\n  const env = getStrapiAdminEnvVars({\n    ADMIN_PATH: adminPath,\n    STRAPI_ADMIN_BACKEND_URL: serverUrl,\n    STRAPI_TELEMETRY_DISABLED: String(strapiInstance.telemetry.isDisabled),\n  });\n\n  const envKeys = Object.keys(env);\n\n  if (envKeys.length > 0) {\n    logger.info(\n      [\n        'Including the following ENV variables as part of the JS bundle:',\n        ...envKeys.map((key) => `    - ${key}`),\n      ].join(os.EOL)\n    );\n  }\n\n  const distPath = path.join(strapiInstance.dirs.dist.root, 'build');\n  const distDir = path.relative(cwd, distPath);\n\n  /**\n   * If the distPath already exists, clean it\n   */\n  try {\n    logger.debug(`Cleaning dist folder: ${distPath}`);\n    await fs.rm(distPath, { recursive: true, force: true });\n    logger.debug('Cleaned dist folder');\n  } catch {\n    // do nothing, it will fail if the folder does not exist\n    logger.debug('There was no dist folder to clean');\n  }\n\n  const runtimeDir = path.join(cwd, '.strapi', 'client');\n  const entry = path.relative(cwd, path.join(runtimeDir, 'app.js'));\n\n  const plugins = await getEnabledPlugins({ cwd, logger, runtimeDir, strapi: strapiInstance });\n\n  logger.debug('Enabled plugins', os.EOL, plugins);\n\n  const pluginsWithFront = getMapOfPluginsWithAdmin(plugins);\n\n  logger.debug('Enabled plugins with FE', os.EOL, plugins);\n\n  const target = browserslist.loadConfig({ path: cwd }) ?? DEFAULT_BROWSERSLIST;\n\n  const customisations = await loadUserAppFile({ appDir, runtimeDir });\n\n  const features = strapiInstance.config.get('features', undefined);\n\n  const buildContext = {\n    appDir,\n    basePath: `${adminPath}/`,\n    customisations,\n    cwd,\n    distDir,\n    distPath,\n    entry,\n    env,\n    logger,\n    options,\n    plugins: pluginsWithFront,\n    runtimeDir,\n    strapi: strapiInstance,\n    target,\n    tsconfig,\n    features,\n  } satisfies BuildContext;\n\n  return buildContext;\n};\n\nexport { createBuildContext };\nexport type { BuildContext, CreateBuildContextArgs };\n","const styles = `\n.strapi--root {\n  position: absolute;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  background: #fff;\n}\n\n.strapi--no-js {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  text-align: center;\n  font-family: helvetica, arial, sans-serif;\n}\n`;\n\n/**\n * @internal\n *\n * @description this belongs to our default document that we render.\n */\nconst NoJavascript = () => {\n  return (\n    <noscript>\n      <div className=\"strapi--root\">\n        <div className=\"strapi--no-js\">\n          <style type=\"text/css\">{styles}</style>\n          <h1>JavaScript disabled</h1>\n          <p>\n            Please <a href=\"https://www.enable-javascript.com/\">enable JavaScript</a> in your\n            browser and reload the page to proceed.\n          </p>\n        </div>\n      </div>\n    </noscript>\n  );\n};\n\nexport { NoJavascript };\n","import { NoJavascript } from './NoJavascript';\n\n/**\n * TODO: add favicons.........\n */\n\nconst globalStyles = `\n  html,\n  body,\n  #strapi {\n    height: 100%;\n  }\n  body {\n    margin: 0;\n    -webkit-font-smoothing: antialiased;\n  }\n`;\n\n/**\n * @internal\n */\nconst DefaultDocument = () => {\n  return (\n    <html lang=\"en\">\n      <head>\n        <meta charSet=\"utf-8\" />\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, viewport-fit=cover\" />\n        <meta name=\"robots\" content=\"noindex\" />\n        <meta name=\"referrer\" content=\"same-origin\" />\n\n        <title>Strapi Admin</title>\n        <style>{globalStyles}</style>\n      </head>\n      <body>\n        <div id=\"strapi\" />\n        <NoJavascript />\n      </body>\n    </html>\n  );\n};\n\nexport { DefaultDocument };\n","import fs from 'node:fs/promises';\nimport path from 'node:path';\nimport outdent from 'outdent';\nimport { format } from 'prettier';\nimport { createElement } from 'react';\nimport { renderToStaticMarkup } from 'react-dom/server';\nimport camelCase from 'lodash/camelCase';\nimport { DefaultDocument as Document } from '../../admin/src/components/DefaultDocument';\n\nimport type { BuildContext } from './createBuildContext';\n\nconst getEntryModule = (ctx: BuildContext): string => {\n  const pluginsObject = ctx.plugins\n    .map(({ name, importName }) => `'${name}': ${importName}`)\n    .join(',\\n');\n\n  const pluginsImport = ctx.plugins\n    .map(({ importName, modulePath }) => `import ${importName} from '${modulePath}';`)\n    .join('\\n');\n\n  return outdent`\n        /**\n         * This file was automatically generated by Strapi.\n         * Any modifications made will be discarded.\n         */\n        ${pluginsImport}\n        import { renderAdmin } from \"@strapi/strapi/admin\"\n\n        ${\n          ctx.customisations?.modulePath\n            ? `import customisations from '${ctx.customisations.modulePath}'`\n            : ''\n        }\n\n        renderAdmin(\n          document.getElementById(\"strapi\"),\n          {\n            ${ctx.customisations?.modulePath ? 'customisations,' : ''}\n            ${ctx.features ? `features: ${JSON.stringify(ctx.features)},` : ''}\n            plugins: {\n        ${pluginsObject}\n            }\n        })\n      `;\n};\n\n/**\n * TODO: Here in the future we could add the ability\n * to load a user's Document component?\n */\nconst getDocumentHTML = async ({ logger }: Pick<BuildContext, 'logger'>) => {\n  const result = renderToStaticMarkup(createElement(Document));\n  logger.debug('Rendered the HTML');\n\n  return outdent`<!DOCTYPE html>${result}`;\n};\n\nconst AUTO_GENERATED_WARNING = `\nThis file was automatically generated by Strapi.\nAny modifications made will be discarded.\n`.trim();\n\n/**\n * Because we now auto-generate the index.html file,\n * we should be clear that people _should not_ modify it.\n *\n * @internal\n */\nconst decorateHTMLWithAutoGeneratedWarning = (htmlTemplate: string): string =>\n  htmlTemplate.replace(/<head/, `\\n<!--\\n${AUTO_GENERATED_WARNING}\\n-->\\n<head`);\n\nconst writeStaticClientFiles = async (ctx: BuildContext) => {\n  /**\n   * For everything to work effectively we create a client folder in `.strapi` at the cwd level.\n   * We then use the function we need to \"createAdmin\" as well as generate the Document index.html as well.\n   *\n   * All this links together an imaginary \"src/index\" that then allows vite to correctly build the admin panel.\n   */\n\n  await fs.mkdir(ctx.runtimeDir, { recursive: true });\n  ctx.logger.debug('Created the runtime directory');\n\n  const indexHtml = decorateHTMLWithAutoGeneratedWarning(\n    await getDocumentHTML({ logger: ctx.logger })\n  );\n\n  await fs.writeFile(\n    path.join(ctx.runtimeDir, 'index.html'),\n    format(indexHtml, {\n      parser: 'html',\n    })\n  );\n  ctx.logger.debug('Wrote the index.html file');\n  await fs.writeFile(\n    path.join(ctx.runtimeDir, 'app.js'),\n    format(getEntryModule(ctx), {\n      parser: 'babel',\n    })\n  );\n  ctx.logger.debug('Wrote the app.js file');\n};\n\nexport { writeStaticClientFiles };\n","import path from 'path';\nimport findRoot from 'find-root';\nimport type { StrapiMonorepo } from '../core/monorepo';\n\n/**\n * @deprecated we will not support aliasing dependencies from V5.\n */\nconst adminPackageAliases = [\n  '@strapi/design-system',\n  '@strapi/helper-plugin',\n  '@strapi/icons',\n  'date-fns',\n  'formik',\n  'history',\n  'immer',\n  'qs',\n  'lodash',\n  'react',\n  'react-dnd',\n  'react-dnd-html5-backend',\n  'react-dom',\n  'react-error-boundary',\n  'react-helmet',\n  'react-is',\n  'react-intl',\n  'react-query',\n  'react-redux',\n  'react-router-dom',\n  'react-window',\n  'react-select',\n  'redux',\n  'reselect',\n  'styled-components',\n  'yup',\n] as const;\n\n/**\n * @deprecated we will not support aliasing dependencies from V5.\n */\nconst getAdminDependencyAliases = (monorepo?: StrapiMonorepo) =>\n  adminPackageAliases\n    .filter(\n      (moduleName) => !monorepo?.path || (monorepo.path && moduleName !== '@strapi/helper-plugin')\n    )\n    .reduce((acc, moduleName) => {\n      /**\n       * We use `findRoot` instead of `resolveFrom` here because we don't want to\n       * choose a particular file e.g. the CJS version over the ESM because the\n       * bundler should decide this, so insted find-root is more appropriate.\n       *\n       * When we remove these aliases in V5 we can also remove the `find-root` package.\n       */\n      acc[`${moduleName}$`] = findRoot(require.resolve(moduleName));\n      return acc;\n    }, {} as Record<string, string>);\n\n/**\n * The path mappings/aliases used by various tools in the monorepo to map imported modules to\n * source files in order to speed up rebuilding and avoid having a separate watcher process to build\n * from `src` to `lib`.\n *\n * This file is currently read by:\n * - Webpack when running the dev server (only when running in this monorepo)\n */\nconst devAliases: Record<string, string> = {\n  '@strapi/admin/strapi-admin': './packages/core/admin/admin/src',\n  '@strapi/content-releases/strapi-admin': './packages/core/content-releases/admin/src',\n  '@strapi/content-type-builder/strapi-admin': './packages/core/content-type-builder/admin/src',\n  '@strapi/email/strapi-admin': './packages/core/email/admin/src',\n  '@strapi/upload/strapi-admin': './packages/core/upload/admin/src',\n  '@strapi/plugin-color-picker/strapi-admin': './packages/plugins/color-picker/admin/src',\n  '@strapi/plugin-documentation/strapi-admin': './packages/plugins/documentation/admin/src',\n  '@strapi/plugin-graphql/strapi-admin': './packages/plugins/graphql/admin/src',\n  '@strapi/plugin-i18n/strapi-admin': './packages/plugins/i18n/admin/src',\n  '@strapi/plugin-sentry/strapi-admin': './packages/plugins/sentry/admin/src',\n  '@strapi/plugin-users-permissions/strapi-admin': './packages/plugins/users-permissions/admin/src',\n  '@strapi/helper-plugin': './packages/core/helper-plugin/src',\n};\n\nconst getAliases = (cwd: string, monorepo?: StrapiMonorepo) => {\n  const adminAliases = getAdminDependencyAliases(monorepo);\n  const monorepoAliases = monorepo\n    ? Object.fromEntries(\n        Object.entries(devAliases).map(([key, modulePath]) => {\n          return [key, path.join(monorepo.path, modulePath)];\n        })\n      )\n    : {};\n\n  return {\n    ...adminAliases,\n    ...monorepoAliases,\n  };\n};\n\nexport { getAliases };\n","import path from 'path';\nimport readPkgUp from 'read-pkg-up';\n\ninterface StrapiMonorepo {\n  path: string;\n}\n\n/**\n * Load information about the strapi CMS monorepo (if applicable)\n *\n * @internal\n */\nasync function loadStrapiMonorepo(cwd: string): Promise<StrapiMonorepo | undefined> {\n  let p = cwd;\n\n  while (p !== '/') {\n    const readResult = await readPkgUp({ cwd: p });\n\n    if (!readResult) {\n      return undefined;\n    }\n\n    if (readResult.packageJson.isStrapiMonorepo) {\n      return { path: path.dirname(readResult.path) };\n    }\n\n    p = path.dirname(path.dirname(readResult.path));\n  }\n\n  return undefined;\n}\n\nexport { loadStrapiMonorepo };\nexport type { StrapiMonorepo };\n","import browserslistToEsbuild from 'browserslist-to-esbuild';\nimport { ESBuildMinifyPlugin } from 'esbuild-loader';\nimport HtmlWebpackPlugin from 'html-webpack-plugin';\nimport MiniCssExtractPlugin from 'mini-css-extract-plugin';\nimport ForkTsCheckerPlugin from 'fork-ts-checker-webpack-plugin';\nimport { BundleAnalyzerPlugin } from 'webpack-bundle-analyzer';\nimport crypto from 'node:crypto';\nimport path from 'node:path';\nimport { Configuration, DefinePlugin, HotModuleReplacementPlugin } from 'webpack';\nimport ReactRefreshWebpackPlugin from '@pmmmwh/react-refresh-webpack-plugin';\n\nimport { getAliases } from './aliases';\nimport { loadStrapiMonorepo } from '../core/monorepo';\nimport type { BuildContext } from '../createBuildContext';\nimport { loadFile } from '../core/files';\n\nconst resolveBaseConfig = async (ctx: BuildContext) => {\n  const monorepo = await loadStrapiMonorepo(ctx.cwd);\n\n  const target = browserslistToEsbuild(ctx.target);\n\n  return {\n    experiments: {\n      topLevelAwait: true,\n    },\n    entry: {\n      main: [`./${ctx.entry}`],\n    },\n    resolve: {\n      alias: getAliases(ctx.cwd, monorepo),\n      extensions: ['.js', '.jsx', '.react.js', '.ts', '.tsx'],\n    },\n    module: {\n      rules: [\n        {\n          test: /\\.(ts|tsx)$/,\n          loader: require.resolve('esbuild-loader'),\n          options: {\n            loader: 'tsx',\n            target,\n            jsx: 'automatic',\n          },\n        },\n        {\n          test: /\\.(js|jsx|mjs)$/,\n          use: {\n            loader: require.resolve('esbuild-loader'),\n            options: {\n              loader: 'jsx',\n              target,\n              jsx: 'automatic',\n            },\n          },\n        },\n        {\n          test: /\\.m?js/,\n          resolve: {\n            fullySpecified: false,\n          },\n        },\n        {\n          test: /\\.css$/i,\n          use: [require.resolve('style-loader'), require.resolve('css-loader')],\n        },\n        {\n          test: /\\.(svg|eot|otf|ttf|woff|woff2)$/,\n          type: 'asset/resource',\n        },\n        {\n          test: [/\\.bmp$/, /\\.gif$/, /\\.jpe?g$/, /\\.png$/, /\\.ico$/],\n          type: 'asset',\n          parser: {\n            dataUrlCondition: {\n              maxSize: 1000,\n            },\n          },\n        },\n        {\n          test: /\\.(mp4|webm)$/,\n          type: 'asset',\n          parser: {\n            dataUrlCondition: {\n              maxSize: 10000,\n            },\n          },\n        },\n      ],\n    },\n    plugins: [\n      new HtmlWebpackPlugin({\n        inject: true,\n        template: path.resolve(ctx.runtimeDir, 'index.html'),\n      }),\n      new DefinePlugin(\n        Object.entries(ctx.env).reduce<Record<string, string>>((acc, [key, value]) => {\n          acc[`process.env.${key}`] = JSON.stringify(value);\n          return acc;\n        }, {})\n      ),\n      ctx.tsconfig &&\n        new ForkTsCheckerPlugin({\n          typescript: {\n            configFile: ctx.tsconfig.path,\n            configOverwrite: {\n              compilerOptions: {\n                sourceMap: ctx.options.sourcemaps,\n              },\n            },\n          },\n        }),\n    ].filter(Boolean),\n  };\n};\n\nconst resolveDevelopmentConfig = async (ctx: BuildContext): Promise<Configuration> => {\n  const baseConfig = await resolveBaseConfig(ctx);\n\n  return {\n    ...baseConfig,\n    cache: {\n      type: 'filesystem',\n      // version cache when there are changes to aliases\n      buildDependencies: {\n        config: [__filename],\n      },\n      version: crypto\n        .createHash('md5')\n        .update(Object.entries(baseConfig.resolve.alias).join())\n        .digest('hex'),\n    },\n    entry: {\n      ...baseConfig.entry,\n      main: [\n        `${require.resolve('webpack-hot-middleware/client')}?path=/__webpack_hmr`,\n        ...baseConfig.entry.main,\n      ],\n    },\n    stats: 'errors-warnings',\n    mode: 'development',\n    devtool: 'inline-source-map',\n    output: {\n      filename: '[name].js',\n      path: ctx.distPath,\n      publicPath: ctx.basePath,\n    },\n    infrastructureLogging: {\n      level: 'error',\n    },\n    plugins: [\n      ...baseConfig.plugins,\n      new HotModuleReplacementPlugin(),\n      new ReactRefreshWebpackPlugin(),\n    ],\n  };\n};\n\nconst resolveProductionConfig = async (ctx: BuildContext): Promise<Configuration> => {\n  const target = browserslistToEsbuild(ctx.target);\n\n  const baseConfig = await resolveBaseConfig(ctx);\n\n  return {\n    ...baseConfig,\n    stats: 'errors-only',\n    mode: 'production',\n    bail: true,\n    devtool: ctx.options.sourcemaps ? 'source-map' : false,\n    output: {\n      path: ctx.distPath,\n      publicPath: ctx.basePath,\n      // Utilize long-term caching by adding content hashes (not compilation hashes)\n      // to compiled assets for production\n      filename: '[name].[contenthash:8].js',\n      chunkFilename: '[name].[contenthash:8].chunk.js',\n    },\n    optimization: {\n      minimize: ctx.options.minify,\n      minimizer: [\n        new ESBuildMinifyPlugin({\n          target,\n          css: true, // Apply minification to CSS assets\n        }),\n      ],\n      moduleIds: 'deterministic',\n      runtimeChunk: true,\n    },\n    // @ts-expect-error\n    plugins: [\n      ...baseConfig.plugins,\n      new MiniCssExtractPlugin({\n        filename: '[name].[chunkhash].css',\n        chunkFilename: '[name].[chunkhash].chunkhash.css',\n        ignoreOrder: true,\n      }),\n      ctx.options.stats && new BundleAnalyzerPlugin(),\n    ].filter(Boolean),\n  };\n};\n\nconst USER_CONFIGS = ['webpack.config.js', 'webpack.config.mjs', 'webpack.config.ts'];\n\ntype UserWebpackConfig = (config: Configuration, webpack: unknown) => Configuration;\n\nconst getUserConfig = async (ctx: BuildContext): Promise<UserWebpackConfig | undefined> => {\n  for (const file of USER_CONFIGS) {\n    const filePath = path.join(ctx.appDir, 'src', 'admin', file);\n    const configFile = await loadFile(filePath);\n\n    if (configFile) {\n      return configFile;\n    }\n  }\n\n  return undefined;\n};\n\nconst mergeConfigWithUserConfig = async (config: Configuration, ctx: BuildContext) => {\n  const userConfig = await getUserConfig(ctx);\n\n  if (userConfig) {\n    if (typeof userConfig === 'function') {\n      const webpack = await import('webpack');\n      return userConfig(config, webpack);\n    } else {\n      ctx.logger.warn(\n        `You've exported something other than a function from ${path.join(\n          ctx.appDir,\n          'src',\n          'admin',\n          'webpack.config'\n        )}, this will ignored.`\n      );\n    }\n  }\n\n  return config;\n};\n\nexport { resolveProductionConfig, resolveDevelopmentConfig, mergeConfigWithUserConfig };\n","import webpack from 'webpack';\n\nimport { mergeConfigWithUserConfig, resolveProductionConfig } from './config';\nimport { isError } from '../core/errors';\n\nimport type { BuildContext } from '../createBuildContext';\n\nconst build = async (ctx: BuildContext) =>\n  new Promise(async (resolve, reject) => {\n    const config = await resolveProductionConfig(ctx);\n    const finalConfig = await mergeConfigWithUserConfig(config, ctx);\n\n    ctx.logger.debug('Webpack config', finalConfig);\n\n    webpack(finalConfig, (err, stats) => {\n      if (stats) {\n        if (stats.hasErrors()) {\n          ctx.logger.error(\n            stats.toString({\n              chunks: false,\n              colors: true,\n            })\n          );\n\n          reject(false);\n        } else if (ctx.options.stats) {\n          ctx.logger.info(\n            stats.toString({\n              chunks: false,\n              colors: true,\n            })\n          );\n        }\n\n        resolve(true);\n      }\n\n      if (err && isError(err)) {\n        ctx.logger.error(err.message);\n        reject(false);\n      }\n    });\n  });\n\nexport { build };\n","import type { CLIContext } from '@strapi/strapi';\nimport EE from '@strapi/strapi/dist/utils/ee';\nimport * as tsUtils from '@strapi/typescript-utils';\nimport { checkRequiredDependencies } from './core/dependencies';\nimport { getTimer, prettyTime } from './core/timer';\nimport { createBuildContext } from './createBuildContext';\nimport { writeStaticClientFiles } from './staticFiles';\nimport { build as buildWebpack } from './webpack/build';\n\ninterface BuildOptions extends CLIContext {\n  /**\n   * @default false\n   */\n  ignorePrompts?: boolean;\n  /**\n   * Minify the output\n   *\n   * @default true\n   */\n  minify?: boolean;\n  /**\n   * Generate sourcemaps ‚Äì useful for debugging bugs in the admin panel UI.\n   */\n  sourcemaps?: boolean;\n  /**\n   * Print stats for build\n   */\n  stats?: boolean;\n}\n\n/**\n * @example `$ strapi build`\n *\n * @description Builds the admin panel of the strapi application.\n */\nconst build = async ({ logger, cwd, tsconfig, ignorePrompts, ...options }: BuildOptions) => {\n  const timer = getTimer();\n\n  const { didInstall } = await checkRequiredDependencies({ cwd, logger, ignorePrompts }).catch(\n    (err) => {\n      logger.error(err.message);\n      process.exit(1);\n    }\n  );\n\n  if (didInstall) {\n    return;\n  }\n\n  if (tsconfig?.config) {\n    timer.start('compilingTS');\n    const compilingTsSpinner = logger.spinner(`Compiling TS`).start();\n\n    tsUtils.compile(cwd, { configOptions: { ignoreDiagnostics: false } });\n\n    const compilingDuration = timer.end('compilingTS');\n    compilingTsSpinner.text = `Compiling TS (${prettyTime(compilingDuration)})`;\n    compilingTsSpinner.succeed();\n  }\n\n  timer.start('createBuildContext');\n  const contextSpinner = logger.spinner(`Building build context`).start();\n  console.log('');\n\n  const ctx = await createBuildContext({\n    cwd,\n    logger,\n    tsconfig,\n    options,\n  });\n  const contextDuration = timer.end('createBuildContext');\n  contextSpinner.text = `Building build context (${prettyTime(contextDuration)})`;\n  contextSpinner.succeed();\n\n  timer.start('buildAdmin');\n  const buildingSpinner = logger.spinner(`Building admin panel`).start();\n  console.log('');\n\n  try {\n    EE.init(cwd);\n\n    await writeStaticClientFiles(ctx);\n    await buildWebpack(ctx);\n\n    const buildDuration = timer.end('buildAdmin');\n    buildingSpinner.text = `Building admin panel (${prettyTime(buildDuration)})`;\n    buildingSpinner.succeed();\n  } catch (err) {\n    buildingSpinner.fail();\n    throw err;\n  }\n};\n\nexport { build };\nexport type { BuildOptions };\n","import os from 'node:os';\nimport path from 'node:path';\nimport { promisify } from 'node:util';\nimport webpackDevMiddleware from 'webpack-dev-middleware';\nimport webpackHotMiddleware from 'webpack-hot-middleware';\nimport { webpack } from 'webpack';\nimport type { BuildContext } from '../createBuildContext';\nimport { mergeConfigWithUserConfig, resolveDevelopmentConfig } from './config';\nimport { Common, Strapi } from '@strapi/types';\n\ninterface WebpackWatcher {\n  close(): Promise<void>;\n}\n\nconst watch = async (ctx: BuildContext): Promise<WebpackWatcher> => {\n  const config = await resolveDevelopmentConfig(ctx);\n  const finalConfig = await mergeConfigWithUserConfig(config, ctx);\n\n  ctx.logger.debug('Final webpack config:', os.EOL, finalConfig);\n\n  return new Promise<WebpackWatcher>((res) => {\n    const compiler = webpack(finalConfig);\n\n    const devMiddleware = webpackDevMiddleware(compiler);\n\n    // @ts-ignore\n    const hotMiddleware = webpackHotMiddleware(compiler, {\n      log: false,\n      path: '/__webpack_hmr',\n    });\n\n    ctx.strapi.server.app.use((ctx, next) => {\n      return new Promise((resolve, reject) => {\n        hotMiddleware(ctx.req, ctx.res, (err) => {\n          if (err) reject(err);\n          else resolve(next());\n        });\n      });\n    });\n\n    ctx.strapi.server.app.use((context, next) => {\n      // wait for webpack-dev-middleware to signal that the build is ready\n      const ready = new Promise((resolve, reject) => {\n        devMiddleware.waitUntilValid(() => {\n          resolve(true);\n        });\n      });\n      // tell webpack-dev-middleware to handle the request\n      const init = new Promise((resolve) => {\n        devMiddleware(\n          context.req,\n          {\n            // @ts-expect-error\n            end: (content) => {\n              // eslint-disable-next-line no-param-reassign\n              context.body = content;\n              resolve(true);\n            },\n            getHeader: context.get.bind(context),\n            // @ts-expect-error\n            setHeader: context.set.bind(context),\n            locals: context.state,\n          },\n          () => resolve(next())\n        );\n      });\n\n      return Promise.all([ready, init]);\n    });\n\n    const serveAdmin: Common.MiddlewareHandler = async (ctx, next) => {\n      await next();\n\n      if (devMiddleware.context.outputFileSystem.createReadStream) {\n        if (ctx.method !== 'HEAD' && ctx.method !== 'GET') {\n          return;\n        }\n\n        if (ctx.body != null || ctx.status !== 404) {\n          return;\n        }\n\n        const filename = path.resolve(finalConfig.output?.path!, 'index.html');\n        ctx.type = 'html';\n        ctx.body = devMiddleware.context.outputFileSystem.createReadStream(filename);\n      }\n    };\n\n    ctx.strapi.server.routes([\n      {\n        method: 'GET',\n        path: `${ctx.basePath}:path*`,\n        handler: serveAdmin,\n        config: { auth: false },\n      },\n    ]);\n\n    devMiddleware.waitUntilValid(() => {\n      res({\n        async close() {\n          await Promise.all([\n            promisify(devMiddleware.close.bind(devMiddleware))(),\n            hotMiddleware.close(),\n            promisify(compiler.close.bind(compiler))(),\n          ]);\n        },\n      });\n    });\n  });\n};\n\nexport { watch };\nexport type { WebpackWatcher };\n","import type { CLIContext } from '@strapi/strapi';\nimport * as tsUtils from '@strapi/typescript-utils';\nimport { joinBy } from '@strapi/utils';\nimport chokidar from 'chokidar';\nimport fs from 'node:fs/promises';\nimport path from 'node:path';\n\nimport cluster from 'node:cluster';\n\nimport { checkRequiredDependencies } from './core/dependencies';\nimport { getTimer, prettyTime, type TimeMeasurer } from './core/timer';\nimport { createBuildContext } from './createBuildContext';\nimport { build as buildWebpack } from './webpack/build';\nimport { watch as watchWebpack, WebpackWatcher } from './webpack/watch';\n\nimport strapiFactory from '@strapi/strapi';\nimport EE from '@strapi/strapi/dist/utils/ee';\nimport { writeStaticClientFiles } from './staticFiles';\n\ninterface DevelopOptions extends CLIContext {\n  /**\n   * @default false\n   */\n  ignorePrompts?: boolean;\n  polling?: boolean;\n  open?: boolean;\n  watchAdmin?: boolean;\n}\n\n// This method removes all non-admin build files from the dist directory\nconst cleanupDistDirectory = async ({\n  tsconfig,\n  logger,\n  timer,\n}: Pick<DevelopOptions, 'tsconfig' | 'logger'> & { timer: TimeMeasurer }) => {\n  const distDir = tsconfig?.config?.options?.outDir;\n\n  if (\n    !distDir || // we don't have a dist dir\n    (await fs\n      .access(distDir)\n      .then(() => false)\n      .catch(() => true)) // it doesn't exist -- if it does but no access, that will be caught later\n  ) {\n    return;\n  }\n\n  const timerName = 'cleaningDist' + Date.now();\n  timer.start(timerName);\n  const cleaningSpinner = logger.spinner(`Cleaning dist dir ${distDir}`).start();\n\n  try {\n    const dirContent = await fs.readdir(distDir);\n    const validFilenames = dirContent\n      // Ignore the admin build folder\n      .filter((filename) => filename !== 'build');\n    for (const filename of validFilenames) {\n      await fs.rm(path.resolve(distDir, filename), { recursive: true });\n    }\n  } catch (err: unknown) {\n    const generatingDuration = timer.end(timerName);\n    cleaningSpinner.text = `Error cleaning dist dir: ${err} (${prettyTime(generatingDuration)})`;\n    cleaningSpinner?.fail();\n    return;\n  }\n\n  const generatingDuration = timer.end(timerName);\n  cleaningSpinner.text = `Cleaning dist dir (${prettyTime(generatingDuration)})`;\n  cleaningSpinner?.succeed();\n};\n\nconst develop = async ({\n  cwd,\n  polling,\n  logger,\n  tsconfig,\n  ignorePrompts,\n  watchAdmin,\n  ...options\n}: DevelopOptions) => {\n  const timer = getTimer();\n\n  if (cluster.isPrimary) {\n    const { didInstall } = await checkRequiredDependencies({ cwd, logger, ignorePrompts }).catch(\n      (err) => {\n        logger.error(err.message);\n        process.exit(1);\n      }\n    );\n\n    if (didInstall) {\n      return;\n    }\n\n    if (tsconfig?.config) {\n      // Build without diagnostics in case schemas have changed\n      await cleanupDistDirectory({ tsconfig, logger, timer });\n      await tsUtils.compile(cwd, { configOptions: { ignoreDiagnostics: true } });\n    }\n\n    /**\n     * IF we're not watching the admin we're going to build it, this makes\n     * sure that at least the admin is built for users & they can interact\n     * with the application.\n     */\n    if (!watchAdmin) {\n      timer.start('createBuildContext');\n      const contextSpinner = logger.spinner(`Building build context`).start();\n      console.log('');\n\n      const ctx = await createBuildContext({\n        cwd,\n        logger,\n        tsconfig,\n        options,\n      });\n      const contextDuration = timer.end('createBuildContext');\n      contextSpinner.text = `Building build context (${prettyTime(contextDuration)})`;\n      contextSpinner.succeed();\n\n      timer.start('creatingAdmin');\n      const adminSpinner = logger.spinner(`Creating admin`).start();\n\n      EE.init(cwd);\n      await writeStaticClientFiles(ctx);\n      await buildWebpack(ctx);\n\n      const adminDuration = timer.end('creatingAdmin');\n      adminSpinner.text = `Creating admin (${prettyTime(adminDuration)})`;\n      adminSpinner.succeed();\n    }\n\n    cluster.on('message', async (worker, message) => {\n      switch (message) {\n        case 'reload': {\n          if (tsconfig?.config) {\n            // Build without diagnostics in case schemas have changed\n            await cleanupDistDirectory({ tsconfig, logger, timer });\n            await tsUtils.compile(cwd, { configOptions: { ignoreDiagnostics: true } });\n          }\n          logger.debug('cluster has the reload message, sending the worker kill message');\n          worker.send('kill');\n          break;\n        }\n        case 'killed': {\n          logger.debug('cluster has the killed message, forking the cluster');\n          cluster.fork();\n          break;\n        }\n        case 'stop': {\n          process.exit(1);\n          break;\n        }\n        default:\n          break;\n      }\n    });\n\n    cluster.fork();\n  }\n\n  if (cluster.isWorker) {\n    timer.start('loadStrapi');\n    const loadStrapiSpinner = logger.spinner(`Loading Strapi`).start();\n\n    const strapi = strapiFactory({\n      appDir: cwd,\n      distDir: tsconfig?.config.options.outDir ?? '',\n      autoReload: true,\n      serveAdminPanel: !watchAdmin,\n    });\n    let webpackWatcher: WebpackWatcher | undefined;\n\n    /**\n     * If we're watching the admin panel then we're going to attach the watcher\n     * as a strapi middleware.\n     */\n    if (watchAdmin) {\n      timer.start('createBuildContext');\n      const contextSpinner = logger.spinner(`Building build context`).start();\n      console.log('');\n\n      const ctx = await createBuildContext({\n        cwd,\n        logger,\n        strapi,\n        tsconfig,\n        options,\n      });\n      const contextDuration = timer.end('createBuildContext');\n      contextSpinner.text = `Building build context (${prettyTime(contextDuration)})`;\n      contextSpinner.succeed();\n\n      timer.start('creatingAdmin');\n      const adminSpinner = logger.spinner(`Creating admin`).start();\n\n      EE.init(cwd);\n      await writeStaticClientFiles(ctx);\n      webpackWatcher = await watchWebpack(ctx);\n\n      const adminDuration = timer.end('creatingAdmin');\n      adminSpinner.text = `Creating admin (${prettyTime(adminDuration)})`;\n      adminSpinner.succeed();\n    }\n\n    const strapiInstance = await strapi.load();\n\n    const loadStrapiDuration = timer.end('loadStrapi');\n    loadStrapiSpinner.text = `Loading Strapi (${prettyTime(loadStrapiDuration)})`;\n    loadStrapiSpinner.succeed();\n\n    timer.start('generatingTS');\n    const generatingTsSpinner = logger.spinner(`Generating types`).start();\n\n    await tsUtils.generators.generate({\n      strapi: strapiInstance,\n      pwd: cwd,\n      rootDir: undefined,\n      logger: { silent: true, debug: false },\n      artifacts: { contentTypes: true, components: true },\n    });\n\n    const generatingDuration = timer.end('generatingTS');\n    generatingTsSpinner.text = `Generating types (${prettyTime(generatingDuration)})`;\n    generatingTsSpinner.succeed();\n\n    if (tsconfig?.config) {\n      timer.start('compilingTS');\n      const compilingTsSpinner = logger.spinner(`Compiling TS`).start();\n\n      await cleanupDistDirectory({ tsconfig, logger, timer });\n      await tsUtils.compile(cwd, { configOptions: { ignoreDiagnostics: false } });\n\n      const compilingDuration = timer.end('compilingTS');\n      compilingTsSpinner.text = `Compiling TS (${prettyTime(compilingDuration)})`;\n      compilingTsSpinner.succeed();\n    }\n\n    const restart = async () => {\n      if (strapiInstance.reload.isWatching && !strapiInstance.reload.isReloading) {\n        strapiInstance.reload.isReloading = true;\n        strapiInstance.reload();\n      }\n    };\n\n    const watcher = chokidar\n      .watch(cwd, {\n        ignoreInitial: true,\n        usePolling: polling,\n        ignored: [\n          /(^|[/\\\\])\\../, // dot files\n          /tmp/,\n          '**/src/admin/**',\n          '**/src/plugins/**/admin/**',\n          '**/dist/src/plugins/test/admin/**',\n          '**/documentation',\n          '**/documentation/**',\n          '**/node_modules',\n          '**/node_modules/**',\n          '**/plugins.json',\n          '**/build',\n          '**/build/**',\n          '**/index.html',\n          '**/public',\n          '**/public/**',\n          strapiInstance.dirs.static.public,\n          joinBy('/', strapiInstance.dirs.static.public, '**'),\n          '**/*.db*',\n          '**/exports/**',\n          '**/dist/**',\n          '**/*.d.ts',\n          ...strapiInstance.config.get('admin.watchIgnoreFiles', []),\n        ],\n      })\n      .on('add', (path) => {\n        strapiInstance.log.info(`File created: ${path}`);\n        restart();\n      })\n      .on('change', (path) => {\n        strapiInstance.log.info(`File changed: ${path}`);\n        restart();\n      })\n      .on('unlink', (path) => {\n        strapiInstance.log.info(`File deleted: ${path}`);\n        restart();\n      });\n\n    process.on('message', async (message) => {\n      switch (message) {\n        case 'kill': {\n          logger.debug(\n            'child process has the kill message, destroying the strapi instance and sending the killed process message'\n          );\n          await watcher.close();\n\n          await strapiInstance.destroy();\n\n          if (webpackWatcher) {\n            webpackWatcher.close();\n          }\n          process.send?.('killed');\n          break;\n        }\n        default:\n          break;\n      }\n    });\n\n    strapiInstance.start();\n  }\n};\n\nexport { develop };\nexport type { DevelopOptions };\n"],"names":["build","develop","path","fs","env","Document","webpack","buildWebpack","ctx","generatingDuration","watchWebpack"],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"index-49b7e6ff.mjs","sources":["../../_internal/cli/index.ts","../../_internal/node/core/managers.ts","../../_internal/node/core/dependencies.ts","../../_internal/node/core/timer.ts","../../_internal/node/core/files.ts","../../_internal/node/core/env.ts","../../_internal/node/core/errors.ts","../../_internal/node/core/plugins.ts","../../_internal/node/core/admin-customisations.ts","../../_internal/node/createBuildContext.ts","../../admin/src/components/NoJavascript.tsx","../../admin/src/components/DefaultDocument.tsx","../../_internal/node/staticFiles.ts","../../_internal/node/webpack/aliases.ts","../../_internal/node/core/monorepo.ts","../../_internal/node/webpack/config.ts","../../_internal/node/webpack/build.ts","../../_internal/node/build.ts","../../_internal/node/webpack/watch.ts","../../_internal/node/develop.ts"],"sourcesContent":["import type { StrapiCommand } from '@strapi/strapi';\nimport type { BuildCLIOptions } from './commands/build';\nimport type { DevelopCLIOptions } from './commands/develop';\n\n/**\n * `$ strapi build`\n */\nconst build: StrapiCommand = ({ command, ctx }) => {\n  command\n    .command('build')\n    .option('-d, --debug', 'Enable debugging mode with verbose logs', false)\n    .option('--ignore-prompts', 'Ignore all prompts', false)\n    .option('--minify', 'Minify the output', true)\n    .option('--no-optimization', '[deprecated]: use minify instead')\n    .option('--silent', \"Don't log anything\", false)\n    .option('--sourcemap', 'Produce sourcemaps', false)\n    .option('--stats', 'Print build statistics to the console', false)\n    .description('Build the strapi admin app')\n    .action(async (options: BuildCLIOptions) => {\n      const { build } = await import('./commands/build');\n\n      return build({ ...options, ...ctx });\n    });\n};\n\n/**\n * `$ strapi develop`\n */\nconst develop: StrapiCommand = ({ command, ctx }) => {\n  command\n    .command('develop')\n    .alias('dev')\n    .option('-d, --debug', 'Enable debugging mode with verbose logs', false)\n    .option('--silent', \"Don't log anything\", false)\n    .option('--ignore-prompts', 'Ignore all prompts', false)\n    .option('--polling', 'Watch for file changes in network directories', false)\n    .option('--watch-admin', 'Watch the admin panel for hot changes', false)\n    .option(\n      '--no-build',\n      '[deprecated]: there is middleware for the server, it is no longer a separate process'\n    )\n    .option(\n      '--watch-admin',\n      '[deprecated]: there is now middleware for watching, it is no longer a separate process'\n    )\n    .option('--browser <name>', '[deprecated]: use open instead')\n    .option('--open', 'Open the admin in your browser', true)\n    .description('Start your Strapi application in development mode')\n    .action(async (options: DevelopCLIOptions) => {\n      const { develop } = await import('./commands/develop');\n\n      return develop({ ...options, ...ctx });\n    });\n};\n\nexport { build, develop };\n","/**\n * @description Supports the following managers:\n * ‚Äì npm\n * ‚Äì yarn\n * ‚Äì pnpm\n */\nconst getPackageManager = () => {\n  // Yes, the env var is lowercase - it is set by the package managers themselves\n  const agent = process.env.npm_config_user_agent || '';\n\n  if (agent.includes('yarn')) {\n    return 'yarn';\n  }\n\n  if (agent.includes('pnpm')) {\n    return 'pnpm';\n  }\n\n  // Both yarn and pnpm does a `npm/?` thing, thus the slightly different match here\n  // Theoretically not needed since we check for yarn/pnpm above, but in case other\n  // package managers do the same thing, we'll (hopefully) catch them here.\n  if (/^npm\\/\\d/.test(agent)) {\n    return 'npm';\n  }\n\n  return undefined;\n};\n\nexport { getPackageManager };\n","import os from 'node:os';\nimport fs from 'node:fs/promises';\nimport path from 'node:path';\nimport inquirer from 'inquirer';\nimport semver, { SemVer } from 'semver';\nimport resolveFrom from 'resolve-from';\nimport execa, { CommonOptions, ExecaReturnValue } from 'execa';\nimport readPkgUp, { PackageJson } from 'read-pkg-up';\nimport type { BuildOptions } from '../build';\nimport { getPackageManager } from './managers';\n\n/**\n * From V5 this will be imported from the package.json of `@strapi/strapi`.\n */\nconst PEER_DEPS = {\n  react: '^18.0.0',\n  'react-dom': '^18.0.0',\n  'react-router-dom': '^5.2.0',\n  'styled-components': '^5.2.1',\n};\n\ninterface CheckRequiredDependenciesResult {\n  didInstall: boolean;\n}\n\ninterface DepToInstall {\n  name: string;\n  wantedVersion: string;\n  declaredVersion?: never;\n}\n\n/**\n * Checks the user's project that it has declared and installed the required dependencies\n * needed by the Strapi admin project. Whilst generally speaking most modules will be\n * declared by the actual packages there are some packages where you only really want one of\n * and thus they are declared as peer dependencies ‚Äì react / styled-components / etc.\n *\n * If these deps are not installed or declared, then we prompt the user to correct this. In\n * V4 this is not a hard requirement, but in V5 it will be. Might as well get people started now.\n */\nconst checkRequiredDependencies = async ({\n  cwd,\n  logger,\n  ignorePrompts,\n}: Pick<\n  BuildOptions,\n  'cwd' | 'logger' | 'ignorePrompts'\n>): Promise<CheckRequiredDependenciesResult> => {\n  const pkg = await readPkgUp({ cwd });\n\n  if (!pkg) {\n    throw new Error(`Could not find package.json at path: ${cwd}`);\n  }\n\n  logger.debug('Loaded package.json:', os.EOL, pkg.packageJson);\n\n  interface DepToReview {\n    name: string;\n    wantedVersion: string;\n    declaredVersion: string;\n  }\n\n  /**\n   * Run through each of the peer deps and figure out if they need to be\n   * installed or they need their version checked against.\n   */\n  const { install, review } = Object.entries(PEER_DEPS).reduce<{\n    install: DepToInstall[];\n    review: DepToReview[];\n  }>(\n    (acc, [name, version]) => {\n      if (!pkg.packageJson.dependencies) {\n        throw new Error(`Could not find dependencies in package.json at path: ${cwd}`);\n      }\n\n      const declaredVersion = pkg.packageJson.dependencies[name];\n\n      if (!declaredVersion) {\n        acc.install.push({\n          name,\n          wantedVersion: version,\n        });\n      } else {\n        acc.review.push({\n          name,\n          wantedVersion: version,\n          declaredVersion,\n        });\n      }\n\n      return acc;\n    },\n    {\n      install: [],\n      review: [],\n    }\n  );\n\n  if (install.length > 0) {\n    logger.info(\n      'The Strapi admin needs to install the following dependencies:',\n      os.EOL,\n      install.map(({ name, wantedVersion }) => `  - ${name}@${wantedVersion}`).join(os.EOL)\n    );\n\n    /**\n     * temporary until V5 when we _will_ be enforcing these dependencies as required.\n     */\n    if (process.env.NODE_ENV !== 'development' || ignorePrompts) {\n      return { didInstall: false };\n    }\n\n    /**\n     * This prompt can be removed in V5 & therefore the code underneath can be refactored to\n     * only install the deps and return that we installed deps.\n     */\n    const { install: installAns } = await inquirer.prompt({\n      type: 'confirm',\n      name: 'install',\n      default: true,\n      message:\n        'Would you like to install these dependencies now? These are not required but are recommended, from V5 these will be required.',\n    });\n\n    if (installAns) {\n      await installDependencies(install, {\n        cwd,\n        logger,\n      });\n\n      const [file, ...args] = process.argv;\n\n      /**\n       * Re-run the same command after installation e.g. strapi build because the yarn.lock might\n       * not be the same and could break installations. It's not the best solution, but it works.\n       */\n      await execa(file, args, { cwd, stdio: 'inherit' });\n      return { didInstall: true };\n    } else {\n      return { didInstall: false };\n    }\n  }\n\n  if (review.length) {\n    const errors: string[] = [];\n\n    for (const dep of review) {\n      // The version specified in package.json could be incorrect, eg `foo`\n      let minDeclaredVersion: SemVer | null = null;\n      try {\n        minDeclaredVersion = semver.minVersion(dep.declaredVersion);\n      } catch (err) {\n        // Intentional fall-through (variable will be left as null, throwing below)\n      }\n\n      if (!minDeclaredVersion) {\n        errors.push(\n          `The declared dependency, ${dep.name} has an invalid version in package.json: ${dep.declaredVersion}`\n        );\n      } else if (!semver.satisfies(minDeclaredVersion, dep.wantedVersion)) {\n        /**\n         * The delcared version should be semver compatible with our required version\n         * of the dependency. If it's not, we should advise the user to change it.\n         */\n        logger.warn(\n          [\n            `Declared version of ${dep.name} (${minDeclaredVersion}) is not compatible with the version required by Strapi (${dep.wantedVersion}).`,\n            'You may experience issues, we recommend you change this.',\n          ].join(os.EOL)\n        );\n      }\n\n      const installedVersion = await getModuleVersion(dep.name, cwd);\n\n      if (!installedVersion) {\n        /**\n         * TODO: when we know the packageManager we can advise the actual install command.\n         */\n        errors.push(\n          `The declared dependency, ${dep.name} is not installed. You should install before re-running this command`\n        );\n      } else if (!semver.satisfies(installedVersion, dep.wantedVersion)) {\n        logger.warn(\n          [\n            `Declared version of ${dep.name} (${installedVersion}) is not compatible with the version required by Strapi (${dep.wantedVersion}).`,\n            'You may experience issues, we recommend you change this.',\n          ].join(os.EOL)\n        );\n      }\n    }\n\n    if (errors.length > 0 && process.env.NODE_ENV === 'development') {\n      throw new Error(`${os.EOL}- ${errors.join(`${os.EOL}- `)}`);\n    }\n  }\n\n  return { didInstall: false };\n};\n\nconst getModule = async (name: string, cwd: string): Promise<PackageJson | null> => {\n  const modulePackagePath = resolveFrom.silent(cwd, path.join(name, 'package.json'));\n  if (!modulePackagePath) {\n    return null;\n  }\n  const file = await fs.readFile(modulePackagePath, 'utf8').then((res) => JSON.parse(res));\n\n  return file;\n};\n\nconst getModuleVersion = async (name: string, cwd: string): Promise<string | null> => {\n  const pkg = await getModule(name, cwd);\n\n  return pkg?.version || null;\n};\n\nconst installDependencies = async (\n  install: DepToInstall[],\n  { cwd, logger }: Pick<BuildOptions, 'cwd' | 'logger'>\n) => {\n  const packageManager = getPackageManager();\n\n  if (!packageManager) {\n    logger.error(\n      'Could not find a supported package manager, please install the dependencies manually.'\n    );\n    process.exit(1);\n  }\n\n  const execOptions: CommonOptions<'utf8'> = {\n    encoding: 'utf8',\n    cwd,\n    stdio: 'inherit',\n  };\n\n  const packages = install.map(({ name, wantedVersion }) => `${name}@${wantedVersion}`);\n\n  let result: ExecaReturnValue<string> | undefined;\n\n  if (packageManager === 'npm') {\n    const npmArgs = ['install', '--legacy-peer-deps', '--save', ...packages];\n    logger.info(`Running 'npm ${npmArgs.join(' ')}'`);\n    result = await execa('npm', npmArgs, execOptions);\n  } else if (packageManager === 'yarn') {\n    const yarnArgs = ['add', ...packages];\n    logger.info(`Running 'yarn ${yarnArgs.join(' ')}'`);\n    result = await execa('yarn', yarnArgs, execOptions);\n  } else if (packageManager === 'pnpm') {\n    const pnpmArgs = ['add', '--save-prod', ...packages];\n    logger.info(`Running 'pnpm ${pnpmArgs.join(' ')}'`);\n    result = await execa('pnpm', pnpmArgs, execOptions);\n  }\n\n  if (result?.exitCode || result?.failed) {\n    throw new Error('Package installation failed');\n  }\n};\n\nexport { checkRequiredDependencies, getModule };\nexport type { CheckRequiredDependenciesResult, PackageJson };\n","import { performance } from 'perf_hooks';\n\nexport interface TimeMeasurer {\n  start: (name: string) => void;\n  end: (name: string) => number;\n  getTimings: () => Record<string, number>;\n}\n\nexport function getTimer(): TimeMeasurer {\n  const timings: Record<string, number> = {};\n  const startTimes: Record<string, number> = {};\n\n  function start(name: string): void {\n    if (typeof startTimes[name] !== 'undefined') {\n      throw new Error(`Timer \"${name}\" already started, cannot overwrite`);\n    }\n\n    startTimes[name] = performance.now();\n  }\n\n  function end(name: string): number {\n    if (typeof startTimes[name] === 'undefined') {\n      throw new Error(`Timer \"${name}\" never started, cannot end`);\n    }\n\n    timings[name] = performance.now() - startTimes[name];\n    return timings[name];\n  }\n\n  return { start, end, getTimings: () => timings };\n}\n\nexport const prettyTime = (timeInMs: number): string => {\n  return Math.ceil(timeInMs) + 'ms';\n};\n","import path from 'node:path';\nimport { access } from 'node:fs/promises';\nimport { register } from 'esbuild-register/dist/node';\n\n/**\n * @internal\n */\nconst pathExists = async (path: string) => {\n  try {\n    await access(path);\n    return true;\n  } catch (error) {\n    return false;\n  }\n};\n\n/**\n * @internal\n */\nconst loadFile = async (path: string): Promise<undefined | any> => {\n  if (await pathExists(path)) {\n    const esbuildOptions: Parameters<typeof register>[0] = {\n      extensions: ['.js', '.mjs', '.ts'],\n    };\n\n    const { unregister } = register(esbuildOptions);\n\n    // eslint-disable-next-line @typescript-eslint/no-var-requires\n    const mod = require(path);\n\n    unregister();\n\n    /**\n     * handles esm or cjs exporting.\n     */\n    const file = mod?.default || mod || undefined;\n\n    return file;\n  }\n\n  return undefined;\n};\n\n/**\n * @internal\n *\n * @description Converts a system path to a module path mainly for `Windows` systems.\n * where the path separator is `\\` instead of `/`, on linux systems the path separator\n * is identical to the module path separator.\n */\nconst convertSystemPathToModulePath = (sysPath: string) => {\n  if (process.platform === 'win32') {\n    return sysPath.split(path.sep).join(path.posix.sep);\n  } else {\n    return sysPath;\n  }\n};\n\n/**\n * @internal\n *\n * @description Converts a module path to a system path, again largely used for Windows systems.\n * The original use case was plugins where the resolve path was in module format but we want to\n * have it relative to the runtime directory.\n */\nconst convertModulePathToSystemPath = (modulePath: string) => {\n  if (process.platform === 'win32') {\n    return modulePath.split(path.posix.sep).join(path.sep);\n  } else {\n    return modulePath;\n  }\n};\n\nexport { pathExists, loadFile, convertSystemPathToModulePath, convertModulePathToSystemPath };\n","import path from 'node:path';\nimport dotenv from 'dotenv';\nimport { pathExists } from './files';\n\n/**\n * This is the base of _any_ env set for a strapi project,\n * to build a strapi admin panel we require these env variables.\n */\ninterface DefaultEnv {\n  ADMIN_PATH: string;\n  STRAPI_ADMIN_BACKEND_URL: string;\n  STRAPI_TELEMETRY_DISABLED: string;\n}\n\n/**\n * @internal\n *\n * @description Load the .env file if it exists\n */\nconst loadEnv = async (cwd: string) => {\n  const pathToEnv = path.resolve(cwd, '.env');\n\n  if (await pathExists(pathToEnv)) {\n    dotenv.config({ path: pathToEnv });\n  }\n};\n\n/**\n * @internal\n *\n * @description Get all the environment variables that start with `STRAPI_ADMIN_`\n */\nconst getStrapiAdminEnvVars = (defaultEnv: DefaultEnv): Record<string, string> => {\n  return Object.keys(process.env)\n    .filter((key) => key.toUpperCase().startsWith('STRAPI_ADMIN_'))\n    .reduce((acc, key) => {\n      acc[key] = process.env[key] as string;\n\n      return acc;\n    }, defaultEnv as unknown as Record<string, string>);\n};\n\nexport { getStrapiAdminEnvVars, loadEnv };\n","import boxen from 'boxen';\nimport chalk from 'chalk';\nimport os from 'node:os';\n\nconst isError = (err: unknown): err is Error => err instanceof Error;\n\n/**\n * @description Handle unexpected errors. No, but really, your CLI should anticipate error cases.\n * If a user hits an error we don't expect, then we need to flag to them that this is not normal\n * and they should use the `--debug` flag to get more information (assuming you've implemented this\n * in your action).\n */\nconst handleUnexpectedError = (err: unknown) => {\n  console.error(\n    chalk.red(\n      `[ERROR] `,\n      'There seems to be an unexpected error, try again with --debug for more information',\n      os.EOL\n    )\n  );\n\n  if (isError(err) && err.stack) {\n    // eslint-disable-next-line no-console\n    console.log(\n      chalk.red(\n        boxen(err.stack, {\n          padding: 1,\n          align: 'left',\n        })\n      )\n    );\n  }\n\n  process.exit(1);\n};\n\nexport { handleUnexpectedError, isError };\n","import os from 'node:os';\nimport path from 'node:path';\nimport fs from 'node:fs';\nimport camelCase from 'lodash/camelCase';\nimport { env } from '@strapi/utils';\nimport { getModule, PackageJson } from './dependencies';\nimport { convertModulePathToSystemPath, convertSystemPathToModulePath, loadFile } from './files';\nimport { BuildContext } from '../createBuildContext';\nimport { isError } from './errors';\n\ninterface LocalPluginMeta {\n  name: string;\n  /**\n   * camelCased version of the plugin name\n   */\n  importName: string;\n  /**\n   * The path to the plugin, relative to the app's root directory\n   * in system format\n   */\n  path: string;\n  /**\n   * The path to the plugin, relative to the runtime directory\n   * in module format (i.e. with forward slashes) because thats\n   * where it should be used as an import\n   */\n  modulePath: string;\n  type: 'local';\n}\n\ninterface ModulePluginMeta {\n  name: string;\n  /**\n   * camelCased version of the plugin name\n   */\n  importName: string;\n  /**\n   * Modules don't have a path because we never resolve them to their node_modules\n   * because we simply do not require it.\n   */\n  path?: never;\n  /**\n   * The path to the plugin, relative to the app's root directory\n   * in module format (i.e. with forward slashes)\n   */\n  modulePath: string;\n  type: 'module';\n}\n\ntype PluginMeta = LocalPluginMeta | ModulePluginMeta;\n\ninterface StrapiPlugin extends PackageJson {\n  strapi: {\n    description?: string;\n    displayName?: string;\n    kind: 'plugin';\n    name?: string;\n    required?: boolean;\n  };\n}\n\nconst validatePackageHasStrapi = (\n  pkg: PackageJson\n): pkg is PackageJson & { strapi: Record<string, unknown> } =>\n  'strapi' in pkg &&\n  typeof pkg.strapi === 'object' &&\n  !Array.isArray(pkg.strapi) &&\n  pkg.strapi !== null;\n\nconst validatePackageIsPlugin = (pkg: PackageJson): pkg is StrapiPlugin =>\n  validatePackageHasStrapi(pkg) && pkg.strapi.kind === 'plugin';\n\nconst getEnabledPlugins = async ({\n  cwd,\n  logger,\n  runtimeDir,\n  strapi,\n}: Pick<BuildContext, 'cwd' | 'logger' | 'strapi' | 'runtimeDir'>): Promise<\n  Record<string, PluginMeta>\n> => {\n  const plugins: Record<string, PluginMeta> = {};\n\n  /**\n   * This is the list of dependencies that are installed in the user's project.\n   * It will include libraries like \"react\", so we need to collect the ones that\n   * are plugins.\n   */\n  const deps = strapi.config.get('info.dependencies', {});\n\n  logger.debug(\"Dependencies from user's project\", os.EOL, deps);\n\n  for (const dep of Object.keys(deps)) {\n    const pkg = await getModule(dep, cwd);\n\n    if (pkg && validatePackageIsPlugin(pkg)) {\n      const name = pkg.strapi.name || pkg.name;\n\n      if (!name) {\n        /**\n         * Unlikely to happen, but you never know.\n         */\n        throw Error(\n          \"You're trying to import a plugin that doesn't have a name ‚Äì check the package.json of that plugin!\"\n        );\n      }\n\n      plugins[name] = {\n        name,\n        importName: camelCase(name),\n        type: 'module',\n        modulePath: dep,\n      };\n    }\n  }\n\n  const userPluginsFile = await loadUserPluginsFile(strapi.dirs.app.config);\n\n  logger.debug(\"User's plugins file\", os.EOL, userPluginsFile);\n\n  for (const [userPluginName, userPluginConfig] of Object.entries(userPluginsFile)) {\n    if (userPluginConfig.enabled && userPluginConfig.resolve) {\n      const sysPath = convertModulePathToSystemPath(userPluginConfig.resolve);\n      plugins[userPluginName] = {\n        name: userPluginName,\n        importName: camelCase(userPluginName),\n        type: 'local',\n        /**\n         * User plugin paths are resolved from the entry point\n         * of the app, because that's how you import them.\n         */\n        modulePath: convertSystemPathToModulePath(path.relative(runtimeDir, sysPath)),\n        path: sysPath,\n      };\n    }\n  }\n\n  return plugins;\n};\n\nconst PLUGIN_CONFIGS = ['plugins.js', 'plugins.mjs', 'plugins.ts'];\n\ntype UserPluginConfigFile = Record<string, { enabled: boolean; resolve: string }>;\n\nconst loadUserPluginsFile = async (root: string): Promise<UserPluginConfigFile> => {\n  for (const file of PLUGIN_CONFIGS) {\n    const filePath = path.join(root, file);\n    const configFile = await loadFile(filePath);\n\n    if (configFile) {\n      /**\n       * Configs can be a function or they can be just an object!\n       */\n      return typeof configFile === 'function' ? configFile({ env }) : configFile;\n    }\n  }\n\n  return {};\n};\n\nconst getMapOfPluginsWithAdmin = (plugins: Record<string, PluginMeta>) =>\n  Object.values(plugins)\n    .filter((plugin) => {\n      if (!plugin) {\n        return false;\n      }\n\n      /**\n       * There are two ways a plugin should be imported, either it's local to the strapi app,\n       * or it's an actual npm module that's installed and resolved via node_modules.\n       *\n       * We first check if the plugin is local to the strapi app, using a regular `fs.existsSync` because\n       * the pathToPlugin will be relative i.e. `/Users/my-name/strapi-app/src/plugins/my-plugin`.\n       *\n       * If the file doesn't exist well then it's probably a node_module, so instead we use `require.resolve`\n       * which will resolve the path to the module in node_modules. If it fails with the specific code `MODULE_NOT_FOUND`\n       * then it doesn't have an admin part to the package.\n       */\n      try {\n        const isLocalPluginWithLegacyAdminFile =\n          plugin.path && fs.existsSync(path.join(plugin.path, 'strapi-admin.js'));\n\n        if (!isLocalPluginWithLegacyAdminFile) {\n          const isModuleWithFE = require.resolve(`${plugin.modulePath}/strapi-admin`);\n\n          return isModuleWithFE;\n        }\n\n        return isLocalPluginWithLegacyAdminFile;\n      } catch (err) {\n        if (isError(err) && 'code' in err && err.code === 'MODULE_NOT_FOUND') {\n          /**\n           * the plugin does not contain FE code, so we\n           * don't want to import it anyway\n           */\n          return false;\n        }\n\n        throw err;\n      }\n    })\n    .map((plugin) => ({\n      ...plugin,\n      modulePath: `${plugin.modulePath}/strapi-admin`,\n    }));\n\nexport { getEnabledPlugins, getMapOfPluginsWithAdmin };\nexport type { PluginMeta, LocalPluginMeta, ModulePluginMeta };\n","import path from 'node:path';\nimport { convertSystemPathToModulePath, pathExists } from '../core/files';\nimport { BuildContext } from '../createBuildContext';\n\nconst ADMIN_APP_FILES = ['app.js', 'app.mjs', 'app.ts', 'app.jsx', 'app.tsx'];\n\ninterface AdminCustomisations {\n  config?: {\n    locales?: string[];\n  };\n  bootstrap?: Function;\n}\n\ninterface AppFile {\n  /**\n   * The system path to the file\n   */\n  path: string;\n  /**\n   * The module path to the file i.e. how you would import it\n   */\n  modulePath: string;\n}\n\nconst loadUserAppFile = async ({\n  runtimeDir,\n  appDir,\n}: Pick<BuildContext, 'appDir' | 'runtimeDir'>): Promise<AppFile | undefined> => {\n  for (const file of ADMIN_APP_FILES) {\n    const filePath = path.join(appDir, 'src', 'admin', file);\n\n    if (await pathExists(filePath)) {\n      return {\n        path: filePath,\n        modulePath: convertSystemPathToModulePath(path.relative(runtimeDir, filePath)),\n      };\n    }\n  }\n\n  return undefined;\n};\n\nexport { loadUserAppFile };\nexport type { AdminCustomisations, AppFile };\n","import os from 'node:os';\nimport path from 'node:path';\nimport fs from 'node:fs/promises';\nimport browserslist from 'browserslist';\nimport strapiFactory, { CLIContext } from '@strapi/strapi';\nimport { getConfigUrls } from '@strapi/utils';\n\nimport { getStrapiAdminEnvVars, loadEnv } from './core/env';\n\nimport type { BuildOptions } from './build';\nimport { DevelopOptions } from './develop';\nimport { PluginMeta, getEnabledPlugins, getMapOfPluginsWithAdmin } from './core/plugins';\nimport { Strapi, FeaturesService } from '@strapi/types';\nimport { AppFile, loadUserAppFile } from './core/admin-customisations';\n\ninterface BuildContext {\n  /**\n   * The absolute path to the app directory defined by the Strapi instance\n   */\n  appDir: string;\n  /**\n   * If a user is deploying the project under a nested public path, we use\n   * this path so all asset paths will be rewritten accordingly\n   */\n  basePath: string;\n  /**\n   * The customisations defined by the user in their app.js file\n   */\n  customisations?: AppFile;\n  /**\n   * The current working directory\n   */\n  cwd: string;\n  /**\n   * The absolute path to the dist directory\n   */\n  distPath: string;\n  /**\n   * The relative path to the dist directory\n   */\n  distDir: string;\n  /**\n   * The absolute path to the entry file\n   */\n  entry: string;\n  /**\n   * The environment variables to be included in the JS bundle\n   */\n  env: Record<string, string>;\n  /**\n   * Features object with future flags\n   */\n  features?: FeaturesService['config'];\n  logger: CLIContext['logger'];\n  /**\n   * The build options\n   */\n  options: Pick<BuildOptions, 'minify' | 'sourcemaps' | 'stats'> & Pick<DevelopOptions, 'open'>;\n  /**\n   * The plugins to be included in the JS bundle\n   * incl. internal plugins, third party plugins & local plugins\n   */\n  plugins: PluginMeta[];\n  /**\n   * The absolute path to the runtime directory\n   */\n  runtimeDir: string;\n  /**\n   * The Strapi instance\n   */\n  strapi: Strapi;\n  /**\n   * The browserslist target either loaded from the user's workspace or falling back to the default\n   */\n  target: string[];\n  tsconfig?: CLIContext['tsconfig'];\n}\n\ninterface CreateBuildContextArgs extends CLIContext {\n  strapi?: Strapi;\n  options?: BuildContext['options'];\n}\n\nconst DEFAULT_BROWSERSLIST = [\n  'last 3 major versions',\n  'Firefox ESR',\n  'last 2 Opera versions',\n  'not dead',\n];\n\nconst createBuildContext = async ({\n  cwd,\n  logger,\n  tsconfig,\n  strapi,\n  options = {},\n}: CreateBuildContextArgs) => {\n  /**\n   * If you make a new strapi instance when one already exists,\n   * you will overwrite the global and the app will _most likely_\n   * crash and die.\n   */\n  const strapiInstance =\n    strapi ??\n    strapiFactory({\n      // Directories\n      appDir: cwd,\n      distDir: tsconfig?.config.options.outDir ?? '',\n      // Options\n      autoReload: true,\n      serveAdminPanel: false,\n    });\n\n  const { serverUrl, adminPath } = getConfigUrls(strapiInstance.config, true);\n\n  const appDir = strapiInstance.dirs.app.root;\n\n  await loadEnv(cwd);\n\n  const env = getStrapiAdminEnvVars({\n    ADMIN_PATH: adminPath,\n    STRAPI_ADMIN_BACKEND_URL: serverUrl,\n    STRAPI_TELEMETRY_DISABLED: String(strapiInstance.telemetry.isDisabled),\n  });\n\n  const envKeys = Object.keys(env);\n\n  if (envKeys.length > 0) {\n    logger.info(\n      [\n        'Including the following ENV variables as part of the JS bundle:',\n        ...envKeys.map((key) => `    - ${key}`),\n      ].join(os.EOL)\n    );\n  }\n\n  const distPath = path.join(strapiInstance.dirs.dist.root, 'build');\n  const distDir = path.relative(cwd, distPath);\n\n  /**\n   * If the distPath already exists, clean it\n   */\n  try {\n    logger.debug(`Cleaning dist folder: ${distPath}`);\n    await fs.rm(distPath, { recursive: true, force: true });\n    logger.debug('Cleaned dist folder');\n  } catch {\n    // do nothing, it will fail if the folder does not exist\n    logger.debug('There was no dist folder to clean');\n  }\n\n  const runtimeDir = path.join(cwd, '.strapi', 'client');\n  const entry = path.relative(cwd, path.join(runtimeDir, 'app.js'));\n\n  const plugins = await getEnabledPlugins({ cwd, logger, runtimeDir, strapi: strapiInstance });\n\n  logger.debug('Enabled plugins', os.EOL, plugins);\n\n  const pluginsWithFront = getMapOfPluginsWithAdmin(plugins);\n\n  logger.debug('Enabled plugins with FE', os.EOL, plugins);\n\n  const target = browserslist.loadConfig({ path: cwd }) ?? DEFAULT_BROWSERSLIST;\n\n  const customisations = await loadUserAppFile({ appDir, runtimeDir });\n\n  const features = strapiInstance.config.get('features', undefined);\n\n  const buildContext = {\n    appDir,\n    basePath: `${adminPath}/`,\n    customisations,\n    cwd,\n    distDir,\n    distPath,\n    entry,\n    env,\n    logger,\n    options,\n    plugins: pluginsWithFront,\n    runtimeDir,\n    strapi: strapiInstance,\n    target,\n    tsconfig,\n    features,\n  } satisfies BuildContext;\n\n  return buildContext;\n};\n\nexport { createBuildContext };\nexport type { BuildContext, CreateBuildContextArgs };\n","const styles = `\n.strapi--root {\n  position: absolute;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  background: #fff;\n}\n\n.strapi--no-js {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  text-align: center;\n  font-family: helvetica, arial, sans-serif;\n}\n`;\n\n/**\n * @internal\n *\n * @description this belongs to our default document that we render.\n */\nconst NoJavascript = () => {\n  return (\n    <noscript>\n      <div className=\"strapi--root\">\n        <div className=\"strapi--no-js\">\n          <style type=\"text/css\">{styles}</style>\n          <h1>JavaScript disabled</h1>\n          <p>\n            Please <a href=\"https://www.enable-javascript.com/\">enable JavaScript</a> in your\n            browser and reload the page to proceed.\n          </p>\n        </div>\n      </div>\n    </noscript>\n  );\n};\n\nexport { NoJavascript };\n","import { NoJavascript } from './NoJavascript';\n\n/**\n * TODO: add favicons.........\n */\n\nconst globalStyles = `\n  html,\n  body,\n  #strapi {\n    height: 100%;\n  }\n  body {\n    margin: 0;\n    -webkit-font-smoothing: antialiased;\n  }\n`;\n\n/**\n * @internal\n */\nconst DefaultDocument = () => {\n  return (\n    <html lang=\"en\">\n      <head>\n        <meta charSet=\"utf-8\" />\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, viewport-fit=cover\" />\n        <meta name=\"robots\" content=\"noindex\" />\n        <meta name=\"referrer\" content=\"same-origin\" />\n\n        <title>MotorsEra Admin</title>\n        <style>{globalStyles}</style>\n      </head>\n      <body>\n        <div id=\"strapi\" />\n        <NoJavascript />\n      </body>\n    </html>\n  );\n};\n\nexport { DefaultDocument };\n","import fs from 'node:fs/promises';\nimport path from 'node:path';\nimport outdent from 'outdent';\nimport { format } from 'prettier';\nimport { createElement } from 'react';\nimport { renderToStaticMarkup } from 'react-dom/server';\nimport camelCase from 'lodash/camelCase';\nimport { DefaultDocument as Document } from '../../admin/src/components/DefaultDocument';\n\nimport type { BuildContext } from './createBuildContext';\n\nconst getEntryModule = (ctx: BuildContext): string => {\n  const pluginsObject = ctx.plugins\n    .map(({ name, importName }) => `'${name}': ${importName}`)\n    .join(',\\n');\n\n  const pluginsImport = ctx.plugins\n    .map(({ importName, modulePath }) => `import ${importName} from '${modulePath}';`)\n    .join('\\n');\n\n  return outdent`\n        /**\n         * This file was automatically generated by Strapi.\n         * Any modifications made will be discarded.\n         */\n        ${pluginsImport}\n        import { renderAdmin } from \"@strapi/strapi/admin\"\n\n        ${\n          ctx.customisations?.modulePath\n            ? `import customisations from '${ctx.customisations.modulePath}'`\n            : ''\n        }\n\n        renderAdmin(\n          document.getElementById(\"strapi\"),\n          {\n            ${ctx.customisations?.modulePath ? 'customisations,' : ''}\n            ${ctx.features ? `features: ${JSON.stringify(ctx.features)},` : ''}\n            plugins: {\n        ${pluginsObject}\n            }\n        })\n      `;\n};\n\n/**\n * TODO: Here in the future we could add the ability\n * to load a user's Document component?\n */\nconst getDocumentHTML = async ({ logger }: Pick<BuildContext, 'logger'>) => {\n  const result = renderToStaticMarkup(createElement(Document));\n  logger.debug('Rendered the HTML');\n\n  return outdent`<!DOCTYPE html>${result}`;\n};\n\nconst AUTO_GENERATED_WARNING = `\nThis file was automatically generated by Strapi.\nAny modifications made will be discarded.\n`.trim();\n\n/**\n * Because we now auto-generate the index.html file,\n * we should be clear that people _should not_ modify it.\n *\n * @internal\n */\nconst decorateHTMLWithAutoGeneratedWarning = (htmlTemplate: string): string =>\n  htmlTemplate.replace(/<head/, `\\n<!--\\n${AUTO_GENERATED_WARNING}\\n-->\\n<head`);\n\nconst writeStaticClientFiles = async (ctx: BuildContext) => {\n  /**\n   * For everything to work effectively we create a client folder in `.strapi` at the cwd level.\n   * We then use the function we need to \"createAdmin\" as well as generate the Document index.html as well.\n   *\n   * All this links together an imaginary \"src/index\" that then allows vite to correctly build the admin panel.\n   */\n\n  await fs.mkdir(ctx.runtimeDir, { recursive: true });\n  ctx.logger.debug('Created the runtime directory');\n\n  const indexHtml = decorateHTMLWithAutoGeneratedWarning(\n    await getDocumentHTML({ logger: ctx.logger })\n  );\n\n  await fs.writeFile(\n    path.join(ctx.runtimeDir, 'index.html'),\n    format(indexHtml, {\n      parser: 'html',\n    })\n  );\n  ctx.logger.debug('Wrote the index.html file');\n  await fs.writeFile(\n    path.join(ctx.runtimeDir, 'app.js'),\n    format(getEntryModule(ctx), {\n      parser: 'babel',\n    })\n  );\n  ctx.logger.debug('Wrote the app.js file');\n};\n\nexport { writeStaticClientFiles };\n","import path from 'path';\nimport findRoot from 'find-root';\nimport type { StrapiMonorepo } from '../core/monorepo';\n\n/**\n * @deprecated we will not support aliasing dependencies from V5.\n */\nconst adminPackageAliases = [\n  '@strapi/design-system',\n  '@strapi/helper-plugin',\n  '@strapi/icons',\n  'date-fns',\n  'formik',\n  'history',\n  'immer',\n  'qs',\n  'lodash',\n  'react',\n  'react-dnd',\n  'react-dnd-html5-backend',\n  'react-dom',\n  'react-error-boundary',\n  'react-helmet',\n  'react-is',\n  'react-intl',\n  'react-query',\n  'react-redux',\n  'react-router-dom',\n  'react-window',\n  'react-select',\n  'redux',\n  'reselect',\n  'styled-components',\n  'yup',\n] as const;\n\n/**\n * @deprecated we will not support aliasing dependencies from V5.\n */\nconst getAdminDependencyAliases = (monorepo?: StrapiMonorepo) =>\n  adminPackageAliases\n    .filter(\n      (moduleName) => !monorepo?.path || (monorepo.path && moduleName !== '@strapi/helper-plugin')\n    )\n    .reduce((acc, moduleName) => {\n      /**\n       * We use `findRoot` instead of `resolveFrom` here because we don't want to\n       * choose a particular file e.g. the CJS version over the ESM because the\n       * bundler should decide this, so insted find-root is more appropriate.\n       *\n       * When we remove these aliases in V5 we can also remove the `find-root` package.\n       */\n      acc[`${moduleName}$`] = findRoot(require.resolve(moduleName));\n      return acc;\n    }, {} as Record<string, string>);\n\n/**\n * The path mappings/aliases used by various tools in the monorepo to map imported modules to\n * source files in order to speed up rebuilding and avoid having a separate watcher process to build\n * from `src` to `lib`.\n *\n * This file is currently read by:\n * - Webpack when running the dev server (only when running in this monorepo)\n */\nconst devAliases: Record<string, string> = {\n  '@strapi/admin/strapi-admin': './packages/core/admin/admin/src',\n  '@strapi/content-releases/strapi-admin': './packages/core/content-releases/admin/src',\n  '@strapi/content-type-builder/strapi-admin': './packages/core/content-type-builder/admin/src',\n  '@strapi/email/strapi-admin': './packages/core/email/admin/src',\n  '@strapi/upload/strapi-admin': './packages/core/upload/admin/src',\n  '@strapi/plugin-color-picker/strapi-admin': './packages/plugins/color-picker/admin/src',\n  '@strapi/plugin-documentation/strapi-admin': './packages/plugins/documentation/admin/src',\n  '@strapi/plugin-graphql/strapi-admin': './packages/plugins/graphql/admin/src',\n  '@strapi/plugin-i18n/strapi-admin': './packages/plugins/i18n/admin/src',\n  '@strapi/plugin-sentry/strapi-admin': './packages/plugins/sentry/admin/src',\n  '@strapi/plugin-users-permissions/strapi-admin': './packages/plugins/users-permissions/admin/src',\n  '@strapi/helper-plugin': './packages/core/helper-plugin/src',\n};\n\nconst getAliases = (cwd: string, monorepo?: StrapiMonorepo) => {\n  const adminAliases = getAdminDependencyAliases(monorepo);\n  const monorepoAliases = monorepo\n    ? Object.fromEntries(\n        Object.entries(devAliases).map(([key, modulePath]) => {\n          return [key, path.join(monorepo.path, modulePath)];\n        })\n      )\n    : {};\n\n  return {\n    ...adminAliases,\n    ...monorepoAliases,\n  };\n};\n\nexport { getAliases };\n","import path from 'path';\nimport readPkgUp from 'read-pkg-up';\n\ninterface StrapiMonorepo {\n  path: string;\n}\n\n/**\n * Load information about the strapi CMS monorepo (if applicable)\n *\n * @internal\n */\nasync function loadStrapiMonorepo(cwd: string): Promise<StrapiMonorepo | undefined> {\n  let p = cwd;\n\n  while (p !== '/') {\n    const readResult = await readPkgUp({ cwd: p });\n\n    if (!readResult) {\n      return undefined;\n    }\n\n    if (readResult.packageJson.isStrapiMonorepo) {\n      return { path: path.dirname(readResult.path) };\n    }\n\n    p = path.dirname(path.dirname(readResult.path));\n  }\n\n  return undefined;\n}\n\nexport { loadStrapiMonorepo };\nexport type { StrapiMonorepo };\n","import browserslistToEsbuild from 'browserslist-to-esbuild';\nimport { ESBuildMinifyPlugin } from 'esbuild-loader';\nimport HtmlWebpackPlugin from 'html-webpack-plugin';\nimport MiniCssExtractPlugin from 'mini-css-extract-plugin';\nimport ForkTsCheckerPlugin from 'fork-ts-checker-webpack-plugin';\nimport { BundleAnalyzerPlugin } from 'webpack-bundle-analyzer';\nimport crypto from 'node:crypto';\nimport path from 'node:path';\nimport { Configuration, DefinePlugin, HotModuleReplacementPlugin } from 'webpack';\nimport ReactRefreshWebpackPlugin from '@pmmmwh/react-refresh-webpack-plugin';\n\nimport { getAliases } from './aliases';\nimport { loadStrapiMonorepo } from '../core/monorepo';\nimport type { BuildContext } from '../createBuildContext';\nimport { loadFile } from '../core/files';\n\nconst resolveBaseConfig = async (ctx: BuildContext) => {\n  const monorepo = await loadStrapiMonorepo(ctx.cwd);\n\n  const target = browserslistToEsbuild(ctx.target);\n\n  return {\n    experiments: {\n      topLevelAwait: true,\n    },\n    entry: {\n      main: [`./${ctx.entry}`],\n    },\n    resolve: {\n      alias: getAliases(ctx.cwd, monorepo),\n      extensions: ['.js', '.jsx', '.react.js', '.ts', '.tsx'],\n    },\n    module: {\n      rules: [\n        {\n          test: /\\.(ts|tsx)$/,\n          loader: require.resolve('esbuild-loader'),\n          options: {\n            loader: 'tsx',\n            target,\n            jsx: 'automatic',\n          },\n        },\n        {\n          test: /\\.(js|jsx|mjs)$/,\n          use: {\n            loader: require.resolve('esbuild-loader'),\n            options: {\n              loader: 'jsx',\n              target,\n              jsx: 'automatic',\n            },\n          },\n        },\n        {\n          test: /\\.m?js/,\n          resolve: {\n            fullySpecified: false,\n          },\n        },\n        {\n          test: /\\.css$/i,\n          use: [require.resolve('style-loader'), require.resolve('css-loader')],\n        },\n        {\n          test: /\\.(svg|eot|otf|ttf|woff|woff2)$/,\n          type: 'asset/resource',\n        },\n        {\n          test: [/\\.bmp$/, /\\.gif$/, /\\.jpe?g$/, /\\.png$/, /\\.ico$/],\n          type: 'asset',\n          parser: {\n            dataUrlCondition: {\n              maxSize: 1000,\n            },\n          },\n        },\n        {\n          test: /\\.(mp4|webm)$/,\n          type: 'asset',\n          parser: {\n            dataUrlCondition: {\n              maxSize: 10000,\n            },\n          },\n        },\n      ],\n    },\n    plugins: [\n      new HtmlWebpackPlugin({\n        inject: true,\n        template: path.resolve(ctx.runtimeDir, 'index.html'),\n      }),\n      new DefinePlugin(\n        Object.entries(ctx.env).reduce<Record<string, string>>((acc, [key, value]) => {\n          acc[`process.env.${key}`] = JSON.stringify(value);\n          return acc;\n        }, {})\n      ),\n      ctx.tsconfig &&\n        new ForkTsCheckerPlugin({\n          typescript: {\n            configFile: ctx.tsconfig.path,\n            configOverwrite: {\n              compilerOptions: {\n                sourceMap: ctx.options.sourcemaps,\n              },\n            },\n          },\n        }),\n    ].filter(Boolean),\n  };\n};\n\nconst resolveDevelopmentConfig = async (ctx: BuildContext): Promise<Configuration> => {\n  const baseConfig = await resolveBaseConfig(ctx);\n\n  return {\n    ...baseConfig,\n    cache: {\n      type: 'filesystem',\n      // version cache when there are changes to aliases\n      buildDependencies: {\n        config: [__filename],\n      },\n      version: crypto\n        .createHash('md5')\n        .update(Object.entries(baseConfig.resolve.alias).join())\n        .digest('hex'),\n    },\n    entry: {\n      ...baseConfig.entry,\n      main: [\n        `${require.resolve('webpack-hot-middleware/client')}?path=/__webpack_hmr`,\n        ...baseConfig.entry.main,\n      ],\n    },\n    stats: 'errors-warnings',\n    mode: 'development',\n    devtool: 'inline-source-map',\n    output: {\n      filename: '[name].js',\n      path: ctx.distPath,\n      publicPath: ctx.basePath,\n    },\n    infrastructureLogging: {\n      level: 'error',\n    },\n    plugins: [\n      ...baseConfig.plugins,\n      new HotModuleReplacementPlugin(),\n      new ReactRefreshWebpackPlugin(),\n    ],\n  };\n};\n\nconst resolveProductionConfig = async (ctx: BuildContext): Promise<Configuration> => {\n  const target = browserslistToEsbuild(ctx.target);\n\n  const baseConfig = await resolveBaseConfig(ctx);\n\n  return {\n    ...baseConfig,\n    stats: 'errors-only',\n    mode: 'production',\n    bail: true,\n    devtool: ctx.options.sourcemaps ? 'source-map' : false,\n    output: {\n      path: ctx.distPath,\n      publicPath: ctx.basePath,\n      // Utilize long-term caching by adding content hashes (not compilation hashes)\n      // to compiled assets for production\n      filename: '[name].[contenthash:8].js',\n      chunkFilename: '[name].[contenthash:8].chunk.js',\n    },\n    optimization: {\n      minimize: ctx.options.minify,\n      minimizer: [\n        new ESBuildMinifyPlugin({\n          target,\n          css: true, // Apply minification to CSS assets\n        }),\n      ],\n      moduleIds: 'deterministic',\n      runtimeChunk: true,\n    },\n    // @ts-expect-error\n    plugins: [\n      ...baseConfig.plugins,\n      new MiniCssExtractPlugin({\n        filename: '[name].[chunkhash].css',\n        chunkFilename: '[name].[chunkhash].chunkhash.css',\n        ignoreOrder: true,\n      }),\n      ctx.options.stats && new BundleAnalyzerPlugin(),\n    ].filter(Boolean),\n  };\n};\n\nconst USER_CONFIGS = ['webpack.config.js', 'webpack.config.mjs', 'webpack.config.ts'];\n\ntype UserWebpackConfig = (config: Configuration, webpack: unknown) => Configuration;\n\nconst getUserConfig = async (ctx: BuildContext): Promise<UserWebpackConfig | undefined> => {\n  for (const file of USER_CONFIGS) {\n    const filePath = path.join(ctx.appDir, 'src', 'admin', file);\n    const configFile = await loadFile(filePath);\n\n    if (configFile) {\n      return configFile;\n    }\n  }\n\n  return undefined;\n};\n\nconst mergeConfigWithUserConfig = async (config: Configuration, ctx: BuildContext) => {\n  const userConfig = await getUserConfig(ctx);\n\n  if (userConfig) {\n    if (typeof userConfig === 'function') {\n      const webpack = await import('webpack');\n      return userConfig(config, webpack);\n    } else {\n      ctx.logger.warn(\n        `You've exported something other than a function from ${path.join(\n          ctx.appDir,\n          'src',\n          'admin',\n          'webpack.config'\n        )}, this will ignored.`\n      );\n    }\n  }\n\n  return config;\n};\n\nexport { resolveProductionConfig, resolveDevelopmentConfig, mergeConfigWithUserConfig };\n","import webpack from 'webpack';\n\nimport { mergeConfigWithUserConfig, resolveProductionConfig } from './config';\nimport { isError } from '../core/errors';\n\nimport type { BuildContext } from '../createBuildContext';\n\nconst build = async (ctx: BuildContext) =>\n  new Promise(async (resolve, reject) => {\n    const config = await resolveProductionConfig(ctx);\n    const finalConfig = await mergeConfigWithUserConfig(config, ctx);\n\n    ctx.logger.debug('Webpack config', finalConfig);\n\n    webpack(finalConfig, (err, stats) => {\n      if (stats) {\n        if (stats.hasErrors()) {\n          ctx.logger.error(\n            stats.toString({\n              chunks: false,\n              colors: true,\n            })\n          );\n\n          reject(false);\n        } else if (ctx.options.stats) {\n          ctx.logger.info(\n            stats.toString({\n              chunks: false,\n              colors: true,\n            })\n          );\n        }\n\n        resolve(true);\n      }\n\n      if (err && isError(err)) {\n        ctx.logger.error(err.message);\n        reject(false);\n      }\n    });\n  });\n\nexport { build };\n","import type { CLIContext } from '@strapi/strapi';\nimport EE from '@strapi/strapi/dist/utils/ee';\nimport * as tsUtils from '@strapi/typescript-utils';\nimport { checkRequiredDependencies } from './core/dependencies';\nimport { getTimer, prettyTime } from './core/timer';\nimport { createBuildContext } from './createBuildContext';\nimport { writeStaticClientFiles } from './staticFiles';\nimport { build as buildWebpack } from './webpack/build';\n\ninterface BuildOptions extends CLIContext {\n  /**\n   * @default false\n   */\n  ignorePrompts?: boolean;\n  /**\n   * Minify the output\n   *\n   * @default true\n   */\n  minify?: boolean;\n  /**\n   * Generate sourcemaps ‚Äì useful for debugging bugs in the admin panel UI.\n   */\n  sourcemaps?: boolean;\n  /**\n   * Print stats for build\n   */\n  stats?: boolean;\n}\n\n/**\n * @example `$ strapi build`\n *\n * @description Builds the admin panel of the strapi application.\n */\nconst build = async ({ logger, cwd, tsconfig, ignorePrompts, ...options }: BuildOptions) => {\n  const timer = getTimer();\n\n  const { didInstall } = await checkRequiredDependencies({ cwd, logger, ignorePrompts }).catch(\n    (err) => {\n      logger.error(err.message);\n      process.exit(1);\n    }\n  );\n\n  if (didInstall) {\n    return;\n  }\n\n  if (tsconfig?.config) {\n    timer.start('compilingTS');\n    const compilingTsSpinner = logger.spinner(`Compiling TS`).start();\n\n    tsUtils.compile(cwd, { configOptions: { ignoreDiagnostics: false } });\n\n    const compilingDuration = timer.end('compilingTS');\n    compilingTsSpinner.text = `Compiling TS (${prettyTime(compilingDuration)})`;\n    compilingTsSpinner.succeed();\n  }\n\n  timer.start('createBuildContext');\n  const contextSpinner = logger.spinner(`Building build context`).start();\n  console.log('');\n\n  const ctx = await createBuildContext({\n    cwd,\n    logger,\n    tsconfig,\n    options,\n  });\n  const contextDuration = timer.end('createBuildContext');\n  contextSpinner.text = `Building build context (${prettyTime(contextDuration)})`;\n  contextSpinner.succeed();\n\n  timer.start('buildAdmin');\n  const buildingSpinner = logger.spinner(`Building admin panel`).start();\n  console.log('');\n\n  try {\n    EE.init(cwd);\n\n    await writeStaticClientFiles(ctx);\n    await buildWebpack(ctx);\n\n    const buildDuration = timer.end('buildAdmin');\n    buildingSpinner.text = `Building admin panel (${prettyTime(buildDuration)})`;\n    buildingSpinner.succeed();\n  } catch (err) {\n    buildingSpinner.fail();\n    throw err;\n  }\n};\n\nexport { build };\nexport type { BuildOptions };\n","import os from 'node:os';\nimport path from 'node:path';\nimport { promisify } from 'node:util';\nimport webpackDevMiddleware from 'webpack-dev-middleware';\nimport webpackHotMiddleware from 'webpack-hot-middleware';\nimport { webpack } from 'webpack';\nimport type { BuildContext } from '../createBuildContext';\nimport { mergeConfigWithUserConfig, resolveDevelopmentConfig } from './config';\nimport { Common, Strapi } from '@strapi/types';\n\ninterface WebpackWatcher {\n  close(): Promise<void>;\n}\n\nconst watch = async (ctx: BuildContext): Promise<WebpackWatcher> => {\n  const config = await resolveDevelopmentConfig(ctx);\n  const finalConfig = await mergeConfigWithUserConfig(config, ctx);\n\n  ctx.logger.debug('Final webpack config:', os.EOL, finalConfig);\n\n  return new Promise<WebpackWatcher>((res) => {\n    const compiler = webpack(finalConfig);\n\n    const devMiddleware = webpackDevMiddleware(compiler);\n\n    // @ts-ignore\n    const hotMiddleware = webpackHotMiddleware(compiler, {\n      log: false,\n      path: '/__webpack_hmr',\n    });\n\n    ctx.strapi.server.app.use((ctx, next) => {\n      return new Promise((resolve, reject) => {\n        hotMiddleware(ctx.req, ctx.res, (err) => {\n          if (err) reject(err);\n          else resolve(next());\n        });\n      });\n    });\n\n    ctx.strapi.server.app.use((context, next) => {\n      // wait for webpack-dev-middleware to signal that the build is ready\n      const ready = new Promise((resolve, reject) => {\n        devMiddleware.waitUntilValid(() => {\n          resolve(true);\n        });\n      });\n      // tell webpack-dev-middleware to handle the request\n      const init = new Promise((resolve) => {\n        devMiddleware(\n          context.req,\n          {\n            // @ts-expect-error\n            end: (content) => {\n              // eslint-disable-next-line no-param-reassign\n              context.body = content;\n              resolve(true);\n            },\n            getHeader: context.get.bind(context),\n            // @ts-expect-error\n            setHeader: context.set.bind(context),\n            locals: context.state,\n          },\n          () => resolve(next())\n        );\n      });\n\n      return Promise.all([ready, init]);\n    });\n\n    const serveAdmin: Common.MiddlewareHandler = async (ctx, next) => {\n      await next();\n\n      if (devMiddleware.context.outputFileSystem.createReadStream) {\n        if (ctx.method !== 'HEAD' && ctx.method !== 'GET') {\n          return;\n        }\n\n        if (ctx.body != null || ctx.status !== 404) {\n          return;\n        }\n\n        const filename = path.resolve(finalConfig.output?.path!, 'index.html');\n        ctx.type = 'html';\n        ctx.body = devMiddleware.context.outputFileSystem.createReadStream(filename);\n      }\n    };\n\n    ctx.strapi.server.routes([\n      {\n        method: 'GET',\n        path: `${ctx.basePath}:path*`,\n        handler: serveAdmin,\n        config: { auth: false },\n      },\n    ]);\n\n    devMiddleware.waitUntilValid(() => {\n      res({\n        async close() {\n          await Promise.all([\n            promisify(devMiddleware.close.bind(devMiddleware))(),\n            hotMiddleware.close(),\n            promisify(compiler.close.bind(compiler))(),\n          ]);\n        },\n      });\n    });\n  });\n};\n\nexport { watch };\nexport type { WebpackWatcher };\n","import type { CLIContext } from '@strapi/strapi';\nimport * as tsUtils from '@strapi/typescript-utils';\nimport { joinBy } from '@strapi/utils';\nimport chokidar from 'chokidar';\nimport fs from 'node:fs/promises';\nimport path from 'node:path';\n\nimport cluster from 'node:cluster';\n\nimport { checkRequiredDependencies } from './core/dependencies';\nimport { getTimer, prettyTime, type TimeMeasurer } from './core/timer';\nimport { createBuildContext } from './createBuildContext';\nimport { build as buildWebpack } from './webpack/build';\nimport { watch as watchWebpack, WebpackWatcher } from './webpack/watch';\n\nimport strapiFactory from '@strapi/strapi';\nimport EE from '@strapi/strapi/dist/utils/ee';\nimport { writeStaticClientFiles } from './staticFiles';\n\ninterface DevelopOptions extends CLIContext {\n  /**\n   * @default false\n   */\n  ignorePrompts?: boolean;\n  polling?: boolean;\n  open?: boolean;\n  watchAdmin?: boolean;\n}\n\n// This method removes all non-admin build files from the dist directory\nconst cleanupDistDirectory = async ({\n  tsconfig,\n  logger,\n  timer,\n}: Pick<DevelopOptions, 'tsconfig' | 'logger'> & { timer: TimeMeasurer }) => {\n  const distDir = tsconfig?.config?.options?.outDir;\n\n  if (\n    !distDir || // we don't have a dist dir\n    (await fs\n      .access(distDir)\n      .then(() => false)\n      .catch(() => true)) // it doesn't exist -- if it does but no access, that will be caught later\n  ) {\n    return;\n  }\n\n  const timerName = 'cleaningDist' + Date.now();\n  timer.start(timerName);\n  const cleaningSpinner = logger.spinner(`Cleaning dist dir ${distDir}`).start();\n\n  try {\n    const dirContent = await fs.readdir(distDir);\n    const validFilenames = dirContent\n      // Ignore the admin build folder\n      .filter((filename) => filename !== 'build');\n    for (const filename of validFilenames) {\n      await fs.rm(path.resolve(distDir, filename), { recursive: true });\n    }\n  } catch (err: unknown) {\n    const generatingDuration = timer.end(timerName);\n    cleaningSpinner.text = `Error cleaning dist dir: ${err} (${prettyTime(generatingDuration)})`;\n    cleaningSpinner?.fail();\n    return;\n  }\n\n  const generatingDuration = timer.end(timerName);\n  cleaningSpinner.text = `Cleaning dist dir (${prettyTime(generatingDuration)})`;\n  cleaningSpinner?.succeed();\n};\n\nconst develop = async ({\n  cwd,\n  polling,\n  logger,\n  tsconfig,\n  ignorePrompts,\n  watchAdmin,\n  ...options\n}: DevelopOptions) => {\n  const timer = getTimer();\n\n  if (cluster.isPrimary) {\n    const { didInstall } = await checkRequiredDependencies({ cwd, logger, ignorePrompts }).catch(\n      (err) => {\n        logger.error(err.message);\n        process.exit(1);\n      }\n    );\n\n    if (didInstall) {\n      return;\n    }\n\n    if (tsconfig?.config) {\n      // Build without diagnostics in case schemas have changed\n      await cleanupDistDirectory({ tsconfig, logger, timer });\n      await tsUtils.compile(cwd, { configOptions: { ignoreDiagnostics: true } });\n    }\n\n    /**\n     * IF we're not watching the admin we're going to build it, this makes\n     * sure that at least the admin is built for users & they can interact\n     * with the application.\n     */\n    if (!watchAdmin) {\n      timer.start('createBuildContext');\n      const contextSpinner = logger.spinner(`Building build context`).start();\n      console.log('');\n\n      const ctx = await createBuildContext({\n        cwd,\n        logger,\n        tsconfig,\n        options,\n      });\n      const contextDuration = timer.end('createBuildContext');\n      contextSpinner.text = `Building build context (${prettyTime(contextDuration)})`;\n      contextSpinner.succeed();\n\n      timer.start('creatingAdmin');\n      const adminSpinner = logger.spinner(`Creating admin`).start();\n\n      EE.init(cwd);\n      await writeStaticClientFiles(ctx);\n      await buildWebpack(ctx);\n\n      const adminDuration = timer.end('creatingAdmin');\n      adminSpinner.text = `Creating admin (${prettyTime(adminDuration)})`;\n      adminSpinner.succeed();\n    }\n\n    cluster.on('message', async (worker, message) => {\n      switch (message) {\n        case 'reload': {\n          if (tsconfig?.config) {\n            // Build without diagnostics in case schemas have changed\n            await cleanupDistDirectory({ tsconfig, logger, timer });\n            await tsUtils.compile(cwd, { configOptions: { ignoreDiagnostics: true } });\n          }\n          logger.debug('cluster has the reload message, sending the worker kill message');\n          worker.send('kill');\n          break;\n        }\n        case 'killed': {\n          logger.debug('cluster has the killed message, forking the cluster');\n          cluster.fork();\n          break;\n        }\n        case 'stop': {\n          process.exit(1);\n          break;\n        }\n        default:\n          break;\n      }\n    });\n\n    cluster.fork();\n  }\n\n  if (cluster.isWorker) {\n    timer.start('loadStrapi');\n    const loadStrapiSpinner = logger.spinner(`Loading Strapi`).start();\n\n    const strapi = strapiFactory({\n      appDir: cwd,\n      distDir: tsconfig?.config.options.outDir ?? '',\n      autoReload: true,\n      serveAdminPanel: !watchAdmin,\n    });\n    let webpackWatcher: WebpackWatcher | undefined;\n\n    /**\n     * If we're watching the admin panel then we're going to attach the watcher\n     * as a strapi middleware.\n     */\n    if (watchAdmin) {\n      timer.start('createBuildContext');\n      const contextSpinner = logger.spinner(`Building build context`).start();\n      console.log('');\n\n      const ctx = await createBuildContext({\n        cwd,\n        logger,\n        strapi,\n        tsconfig,\n        options,\n      });\n      const contextDuration = timer.end('createBuildContext');\n      contextSpinner.text = `Building build context (${prettyTime(contextDuration)})`;\n      contextSpinner.succeed();\n\n      timer.start('creatingAdmin');\n      const adminSpinner = logger.spinner(`Creating admin`).start();\n\n      EE.init(cwd);\n      await writeStaticClientFiles(ctx);\n      webpackWatcher = await watchWebpack(ctx);\n\n      const adminDuration = timer.end('creatingAdmin');\n      adminSpinner.text = `Creating admin (${prettyTime(adminDuration)})`;\n      adminSpinner.succeed();\n    }\n\n    const strapiInstance = await strapi.load();\n\n    const loadStrapiDuration = timer.end('loadStrapi');\n    loadStrapiSpinner.text = `Loading Strapi (${prettyTime(loadStrapiDuration)})`;\n    loadStrapiSpinner.succeed();\n\n    timer.start('generatingTS');\n    const generatingTsSpinner = logger.spinner(`Generating types`).start();\n\n    await tsUtils.generators.generate({\n      strapi: strapiInstance,\n      pwd: cwd,\n      rootDir: undefined,\n      logger: { silent: true, debug: false },\n      artifacts: { contentTypes: true, components: true },\n    });\n\n    const generatingDuration = timer.end('generatingTS');\n    generatingTsSpinner.text = `Generating types (${prettyTime(generatingDuration)})`;\n    generatingTsSpinner.succeed();\n\n    if (tsconfig?.config) {\n      timer.start('compilingTS');\n      const compilingTsSpinner = logger.spinner(`Compiling TS`).start();\n\n      await cleanupDistDirectory({ tsconfig, logger, timer });\n      await tsUtils.compile(cwd, { configOptions: { ignoreDiagnostics: false } });\n\n      const compilingDuration = timer.end('compilingTS');\n      compilingTsSpinner.text = `Compiling TS (${prettyTime(compilingDuration)})`;\n      compilingTsSpinner.succeed();\n    }\n\n    const restart = async () => {\n      if (strapiInstance.reload.isWatching && !strapiInstance.reload.isReloading) {\n        strapiInstance.reload.isReloading = true;\n        strapiInstance.reload();\n      }\n    };\n\n    const watcher = chokidar\n      .watch(cwd, {\n        ignoreInitial: true,\n        usePolling: polling,\n        ignored: [\n          /(^|[/\\\\])\\../, // dot files\n          /tmp/,\n          '**/src/admin/**',\n          '**/src/plugins/**/admin/**',\n          '**/dist/src/plugins/test/admin/**',\n          '**/documentation',\n          '**/documentation/**',\n          '**/node_modules',\n          '**/node_modules/**',\n          '**/plugins.json',\n          '**/build',\n          '**/build/**',\n          '**/index.html',\n          '**/public',\n          '**/public/**',\n          strapiInstance.dirs.static.public,\n          joinBy('/', strapiInstance.dirs.static.public, '**'),\n          '**/*.db*',\n          '**/exports/**',\n          '**/dist/**',\n          '**/*.d.ts',\n          ...strapiInstance.config.get('admin.watchIgnoreFiles', []),\n        ],\n      })\n      .on('add', (path) => {\n        strapiInstance.log.info(`File created: ${path}`);\n        restart();\n      })\n      .on('change', (path) => {\n        strapiInstance.log.info(`File changed: ${path}`);\n        restart();\n      })\n      .on('unlink', (path) => {\n        strapiInstance.log.info(`File deleted: ${path}`);\n        restart();\n      });\n\n    process.on('message', async (message) => {\n      switch (message) {\n        case 'kill': {\n          logger.debug(\n            'child process has the kill message, destroying the strapi instance and sending the killed process message'\n          );\n          await watcher.close();\n\n          await strapiInstance.destroy();\n\n          if (webpackWatcher) {\n            webpackWatcher.close();\n          }\n          process.send?.('killed');\n          break;\n        }\n        default:\n          break;\n      }\n    });\n\n    strapiInstance.start();\n  }\n};\n\nexport { develop };\nexport type { DevelopOptions };\n"],"names":["build","develop","path","fs","env","Document","webpack","buildWebpack","ctx","generatingDuration","watchWebpack"],"mappings":"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"}
diff --git a/node_modules/@strapi/admin/dist/_chunks/index-4de70b5d.js b/node_modules/@strapi/admin/dist/_chunks/index-4de70b5d.js
index b690e27..163220d 100644
--- a/node_modules/@strapi/admin/dist/_chunks/index-4de70b5d.js
+++ b/node_modules/@strapi/admin/dist/_chunks/index-4de70b5d.js
@@ -107,7 +107,7 @@ const DefaultDocument = () => {
       /* @__PURE__ */ jsxRuntime.jsx("meta", { name: "viewport", content: "width=device-width, initial-scale=1, viewport-fit=cover" }),
       /* @__PURE__ */ jsxRuntime.jsx("meta", { name: "robots", content: "noindex" }),
       /* @__PURE__ */ jsxRuntime.jsx("meta", { name: "referrer", content: "same-origin" }),
-      /* @__PURE__ */ jsxRuntime.jsx("title", { children: "Strapi Admin" }),
+      /* @__PURE__ */ jsxRuntime.jsx("title", { children: "MotorsEra OnBoarding" }),
       /* @__PURE__ */ jsxRuntime.jsx("style", { children: globalStyles })
     ] }),
     /* @__PURE__ */ jsxRuntime.jsxs("body", { children: [
@@ -524,7 +524,7 @@ const Login = ({ children }) => {
         }) }) }),
         /* @__PURE__ */ jsxRuntime.jsx(designSystem.Box, { paddingBottom: 7, children: /* @__PURE__ */ jsxRuntime.jsx(designSystem.Typography, { variant: "epsilon", textColor: "neutral600", children: formatMessage({
           id: "Auth.form.welcome.subtitle",
-          defaultMessage: "Log in to your Strapi account"
+          defaultMessage: "Log in to your MotorsEra account"
         }) }) }),
         mutation.isError && apiError ? /* @__PURE__ */ jsxRuntime.jsx(designSystem.Typography, { id: "global-form-error", role: "alert", tabIndex: -1, textColor: "danger600", children: apiError }) : null
       ] }),
@@ -1158,7 +1158,7 @@ const Register = ({ hasAdmin }) => {
       /* @__PURE__ */ jsxRuntime.jsx(Logo, {}),
       /* @__PURE__ */ jsxRuntime.jsx(designSystem.Typography, { as: "h1", variant: "alpha", textAlign: "center", children: formatMessage({
         id: "Auth.form.welcome.title",
-        defaultMessage: "Welcome to Strapi!"
+        defaultMessage: "Welcome"
       }) }),
       /* @__PURE__ */ jsxRuntime.jsx(designSystem.Typography, { variant: "epsilon", textColor: "neutral600", textAlign: "center", children: formatMessage({
         id: "Auth.form.register.subtitle",
diff --git a/node_modules/@strapi/admin/dist/_chunks/index-4de70b5d.js.map b/node_modules/@strapi/admin/dist/_chunks/index-4de70b5d.js.map
index 5b62889..245b805 100644
--- a/node_modules/@strapi/admin/dist/_chunks/index-4de70b5d.js.map
+++ b/node_modules/@strapi/admin/dist/_chunks/index-4de70b5d.js.map
@@ -1 +1 @@
-{"version":3,"file":"index-4de70b5d.js","sources":["../../admin/src/components/NoJavascript.tsx","../../admin/src/components/DefaultDocument.tsx","../../admin/src/components/PrivateRoute.tsx","../../admin/src/constants.ts","../../admin/src/contexts/configuration.ts","../../admin/src/hooks/useEnterprise.ts","../../admin/src/components/LanguageProvider.tsx","../../admin/src/components/UnauthenticatedLogo.tsx","../../admin/src/layouts/UnauthenticatedLayout.tsx","../../admin/src/pages/Auth/components/FieldActionWrapper.tsx","../../admin/src/pages/Auth/components/Login.tsx","../../admin/src/pages/Auth/components/ForgotPassword.tsx","../../admin/src/pages/Auth/components/ForgotPasswordSuccess.tsx","../../admin/src/pages/Auth/components/Oops.tsx","../../admin/src/components/NpsSurvey.tsx","../../admin/src/pages/Auth/components/Register.tsx","../../admin/src/pages/Auth/components/ResetPassword.tsx","../../admin/src/pages/Auth/constants.ts","../../admin/src/pages/Auth/AuthPage.tsx","../../admin/src/pages/NotFoundPage.tsx","../../admin/src/pages/UseCasePage.tsx","../../admin/src/utils/createRoute.tsx","../../admin/src/App.tsx","../../admin/src/assets/images/logo-strapi-2022.svg","../../admin/src/contexts/admin.ts","../../admin/src/components/ConfigurationProvider.tsx","../../admin/src/components/GuidedTour/Provider.tsx","../../admin/src/contexts/themeToggle.ts","../../admin/src/components/Theme.tsx","../../admin/src/components/ThemeToggleProvider.tsx","../../admin/src/components/Providers.tsx","../../admin/src/core/apis/Components.ts","../../admin/src/core/apis/CustomFields.ts","../../admin/src/core/apis/Fields.ts","../../admin/src/core/apis/Middlewares.ts","../../admin/src/core/apis/Plugin.ts","../../admin/src/core/apis/Reducers.ts","../../admin/src/core/store/hooks.ts","../../admin/src/components/RBACProvider.tsx","../../admin/src/content-manager/hooks/useSyncRbac/constants.js","../../admin/src/content-manager/hooks/useSyncRbac/reducer.js","../../admin/src/content-manager/pages/App/constants.js","../../admin/src/content-manager/pages/App/reducer.js","../../admin/src/content-manager/pages/EditViewLayoutManager/constants.js","../../admin/src/content-manager/pages/EditViewLayoutManager/reducer.js","../../admin/src/content-manager/pages/ListView/constants.js","../../admin/src/content-manager/pages/ListView/reducer.js","../../admin/src/content-manager/sharedReducers/crudReducer/constants.js","../../admin/src/content-manager/sharedReducers/crudReducer/reducer.js","../../admin/src/reducer.ts","../../admin/src/core/store/configure.ts","../../admin/src/core/utils/basename.ts","../../admin/src/core/utils/createHook.ts","../../admin/src/shared/hooks/useInjectionZone.ts","../../admin/src/shared/components/InjectionZone.tsx","../../admin/src/translations/languageNativeNames.ts","../../admin/src/StrapiApp.tsx","../../admin/src/render.ts"],"sourcesContent":["const styles = `\n.strapi--root {\n  position: absolute;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  background: #fff;\n}\n\n.strapi--no-js {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  text-align: center;\n  font-family: helvetica, arial, sans-serif;\n}\n`;\n\n/**\n * @internal\n *\n * @description this belongs to our default document that we render.\n */\nconst NoJavascript = () => {\n  return (\n    <noscript>\n      <div className=\"strapi--root\">\n        <div className=\"strapi--no-js\">\n          <style type=\"text/css\">{styles}</style>\n          <h1>JavaScript disabled</h1>\n          <p>\n            Please <a href=\"https://www.enable-javascript.com/\">enable JavaScript</a> in your\n            browser and reload the page to proceed.\n          </p>\n        </div>\n      </div>\n    </noscript>\n  );\n};\n\nexport { NoJavascript };\n","import { NoJavascript } from './NoJavascript';\n\n/**\n * TODO: add favicons.........\n */\n\nconst globalStyles = `\n  html,\n  body,\n  #strapi {\n    height: 100%;\n  }\n  body {\n    margin: 0;\n    -webkit-font-smoothing: antialiased;\n  }\n`;\n\n/**\n * @internal\n */\nconst DefaultDocument = () => {\n  return (\n    <html lang=\"en\">\n      <head>\n        <meta charSet=\"utf-8\" />\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, viewport-fit=cover\" />\n        <meta name=\"robots\" content=\"noindex\" />\n        <meta name=\"referrer\" content=\"same-origin\" />\n\n        <title>Strapi Admin</title>\n        <style>{globalStyles}</style>\n      </head>\n      <body>\n        <div id=\"strapi\" />\n        <NoJavascript />\n      </body>\n    </html>\n  );\n};\n\nexport { DefaultDocument };\n","import * as React from 'react';\n\nimport { auth } from '@strapi/helper-plugin';\nimport { Redirect, Route, useLocation } from 'react-router-dom';\n\ntype PropsOf<T> = T extends React.ComponentType<infer P> ? P : object;\n\ntype PrivateRouteProps<TComponent extends React.ElementType> = {\n  component: TComponent;\n  path: string;\n} & PropsOf<TComponent>;\n\nconst PrivateRoute = <TComponent extends React.ElementType>({\n  component: Component,\n  path,\n  ...rest\n}: PrivateRouteProps<TComponent>) => {\n  const { pathname, search } = useLocation();\n\n  return (\n    <Route\n      path={path}\n      render={(props) =>\n        auth.getToken() !== null ? (\n          <Component {...rest} {...props} />\n        ) : (\n          <Redirect\n            to={{\n              pathname: '/auth/login',\n              search:\n                pathname !== '/'\n                  ? `?redirectTo=${encodeURIComponent(`${pathname}${search}`)}`\n                  : undefined,\n            }}\n          />\n        )\n      }\n    />\n  );\n};\n\nexport { PrivateRoute };\n","import { StrapiAppSettingLink } from '@strapi/helper-plugin';\n\nexport const ADMIN_PERMISSIONS_CE = {\n  contentManager: {\n    main: [],\n    collectionTypesConfigurations: [\n      {\n        action: 'plugin::content-manager.collection-types.configure-view',\n        subject: null,\n      },\n    ],\n    componentsConfigurations: [\n      {\n        action: 'plugin::content-manager.components.configure-layout',\n        subject: null,\n      },\n    ],\n    singleTypesConfigurations: [\n      {\n        action: 'plugin::content-manager.single-types.configure-view',\n        subject: null,\n      },\n    ],\n  },\n  marketplace: {\n    main: [{ action: 'admin::marketplace.read', subject: null }],\n    read: [{ action: 'admin::marketplace.read', subject: null }],\n  },\n  settings: {\n    roles: {\n      main: [\n        { action: 'admin::roles.create', subject: null },\n        { action: 'admin::roles.update', subject: null },\n        { action: 'admin::roles.read', subject: null },\n        { action: 'admin::roles.delete', subject: null },\n      ],\n      create: [{ action: 'admin::roles.create', subject: null }],\n      delete: [{ action: 'admin::roles.delete', subject: null }],\n      read: [{ action: 'admin::roles.read', subject: null }],\n      update: [{ action: 'admin::roles.update', subject: null }],\n    },\n    users: {\n      main: [\n        { action: 'admin::users.create', subject: null },\n        { action: 'admin::users.read', subject: null },\n        { action: 'admin::users.update', subject: null },\n        { action: 'admin::users.delete', subject: null },\n      ],\n      create: [{ action: 'admin::users.create', subject: null }],\n      delete: [{ action: 'admin::users.delete', subject: null }],\n      read: [{ action: 'admin::users.read', subject: null }],\n      update: [{ action: 'admin::users.update', subject: null }],\n    },\n    webhooks: {\n      main: [\n        { action: 'admin::webhooks.create', subject: null },\n        { action: 'admin::webhooks.read', subject: null },\n        { action: 'admin::webhooks.update', subject: null },\n        { action: 'admin::webhooks.delete', subject: null },\n      ],\n      create: [{ action: 'admin::webhooks.create', subject: null }],\n      delete: [{ action: 'admin::webhooks.delete', subject: null }],\n      read: [\n        { action: 'admin::webhooks.read', subject: null },\n        // NOTE: We need to check with the API\n        { action: 'admin::webhooks.update', subject: null },\n        { action: 'admin::webhooks.delete', subject: null },\n      ],\n      update: [{ action: 'admin::webhooks.update', subject: null }],\n    },\n    'api-tokens': {\n      main: [{ action: 'admin::api-tokens.access', subject: null }],\n      create: [{ action: 'admin::api-tokens.create', subject: null }],\n      delete: [{ action: 'admin::api-tokens.delete', subject: null }],\n      read: [{ action: 'admin::api-tokens.read', subject: null }],\n      update: [{ action: 'admin::api-tokens.update', subject: null }],\n      regenerate: [{ action: 'admin::api-tokens.regenerate', subject: null }],\n    },\n    'transfer-tokens': {\n      main: [{ action: 'admin::transfer.tokens.access', subject: null }],\n      create: [{ action: 'admin::transfer.tokens.create', subject: null }],\n      delete: [{ action: 'admin::transfer.tokens.delete', subject: null }],\n      read: [{ action: 'admin::transfer.tokens.read', subject: null }],\n      update: [{ action: 'admin::transfer.tokens.update', subject: null }],\n      regenerate: [{ action: 'admin::transfer.tokens.regenerate', subject: null }],\n    },\n    'project-settings': {\n      read: [{ action: 'admin::project-settings.read', subject: null }],\n      update: [{ action: 'admin::project-settings.update', subject: null }],\n    },\n  },\n};\n\nexport const HOOKS = {\n  /**\n   * Hook that allows to mutate the displayed headers of the list view table\n   * @constant\n   * @type {string}\n   */\n  INJECT_COLUMN_IN_TABLE: 'Admin/CM/pages/ListView/inject-column-in-table',\n\n  /**\n   * Hook that allows to mutate the CM's collection types links pre-set filters\n   * @constant\n   * @type {string}\n   */\n  MUTATE_COLLECTION_TYPES_LINKS: 'Admin/CM/pages/App/mutate-collection-types-links',\n\n  /**\n   * Hook that allows to mutate the CM's edit view layout\n   * @constant\n   * @type {string}\n   */\n  MUTATE_EDIT_VIEW_LAYOUT: 'Admin/CM/pages/EditView/mutate-edit-view-layout',\n\n  /**\n   * Hook that allows to mutate the CM's single types links pre-set filters\n   * @constant\n   * @type {string}\n   */\n  MUTATE_SINGLE_TYPES_LINKS: 'Admin/CM/pages/App/mutate-single-types-links',\n};\n\nexport const ACTION_SET_APP_RUNTIME_STATUS = 'StrapiAdmin/APP/SET_APP_RUNTIME_STATUS';\nexport const ACTION_SET_ADMIN_PERMISSIONS = 'StrapiAdmin/App/SET_ADMIN_PERMISSIONS';\n\nexport interface SettingsMenuLink extends Omit<StrapiAppSettingLink, 'Component' | 'permissions'> {\n  Component?: never;\n  lockIcon?: boolean;\n}\n\nexport type SettingsMenu = {\n  admin: SettingsMenuLink[];\n  global: SettingsMenuLink[];\n};\n\nexport const SETTINGS_LINKS_CE = (): SettingsMenu => ({\n  global: [\n    {\n      intlLabel: { id: 'Settings.application.title', defaultMessage: 'Overview' },\n      to: '/settings/application-infos',\n      id: '000-application-infos',\n    },\n    {\n      intlLabel: { id: 'Settings.webhooks.title', defaultMessage: 'Webhooks' },\n      to: '/settings/webhooks',\n      id: 'webhooks',\n    },\n    {\n      intlLabel: { id: 'Settings.apiTokens.title', defaultMessage: 'API Tokens' },\n      to: '/settings/api-tokens?sort=name:ASC',\n      id: 'api-tokens',\n    },\n    {\n      intlLabel: { id: 'Settings.transferTokens.title', defaultMessage: 'Transfer Tokens' },\n      to: '/settings/transfer-tokens?sort=name:ASC',\n      id: 'transfer-tokens',\n    },\n    // If the Enterprise feature is not enabled and if the config doesn't disable it, we promote the Enterprise feature by displaying them in the settings menu.\n    // Disable this by adding \"promoteEE: false\" to your `./config/admin.js` file\n    ...(!window.strapi.features.isEnabled(window.strapi.features.SSO) &&\n    window.strapi?.flags?.promoteEE\n      ? [\n          {\n            intlLabel: { id: 'Settings.sso.title', defaultMessage: 'Single Sign-On' },\n            to: '/settings/purchase-single-sign-on',\n            id: 'sso',\n            lockIcon: true,\n          },\n        ]\n      : []),\n\n    ...(!window.strapi.features.isEnabled(window.strapi.features.REVIEW_WORKFLOWS) &&\n    window.strapi?.flags?.promoteEE\n      ? [\n          {\n            intlLabel: {\n              id: 'Settings.review-workflows.page.title',\n              defaultMessage: 'Review Workflows',\n            },\n            to: '/settings/purchase-review-workflows',\n            id: 'review-workflows',\n            lockIcon: true,\n          },\n        ]\n      : []),\n  ],\n\n  admin: [\n    {\n      intlLabel: { id: 'global.roles', defaultMessage: 'Roles' },\n      to: '/settings/roles',\n      id: 'roles',\n    },\n    {\n      intlLabel: { id: 'global.users', defaultMessage: 'Users' },\n      // Init the search params directly\n      to: '/settings/users?pageSize=10&page=1&sort=firstname',\n      id: 'users',\n    },\n    ...(!window.strapi.features.isEnabled(window.strapi.features.AUDIT_LOGS) &&\n    window.strapi?.flags?.promoteEE\n      ? [\n          {\n            intlLabel: { id: 'global.auditLogs', defaultMessage: 'Audit Logs' },\n            to: '/settings/purchase-audit-logs',\n            id: 'auditLogs',\n            lockIcon: true,\n          },\n        ]\n      : []),\n  ],\n});\n","import { createContext } from '@radix-ui/react-context';\n\nexport interface ConfigurationContextValue {\n  logos: {\n    auth: { custom?: string | null; default: string };\n    menu: { custom?: string | null; default: string };\n  };\n  showTutorials: boolean;\n  showReleaseNotification: boolean;\n  updateProjectSettings: (settings: { authLogo?: string; menuLogo?: string }) => void;\n}\n\nconst [ConfigurationContextProvider, useConfigurationContext] =\n  createContext<ConfigurationContextValue>('ConfigurationContext');\n\nconst useConfiguration = () => useConfigurationContext('useConfiguration');\n\nexport { ConfigurationContextProvider, useConfiguration };\n","import * as React from 'react';\n\nimport { useCallbackRef } from '@strapi/helper-plugin';\n\nfunction isEnterprise() {\n  return window.strapi.isEE;\n}\n\nexport interface UseEnterpriseOptions<TCEData, TEEData, TDefaultValue, TCombinedValue> {\n  defaultValue?: TDefaultValue;\n  combine?: (ceData: TCEData, eeData: TEEData) => TCombinedValue;\n  enabled?: boolean;\n}\n\ntype UseEnterpriseReturn<TCEData, TEEData, TDefaultValue, TCombinedValue> =\n  TDefaultValue extends null\n    ? TCEData | TEEData | TCombinedValue | null\n    : TCEData | TEEData | TCombinedValue | TDefaultValue;\n\nexport const useEnterprise = <\n  TCEData,\n  TEEData = TCEData,\n  TCombinedValue = TEEData,\n  TDefaultValue = TCEData | null\n>(\n  ceData: TCEData,\n  eeCallback: () => Promise<TEEData>,\n  opts: UseEnterpriseOptions<TCEData, TEEData, TDefaultValue, TCombinedValue> = {}\n): UseEnterpriseReturn<TCEData, TEEData, TDefaultValue, TCombinedValue> => {\n  const { defaultValue = null, combine = (_ceData, eeData) => eeData, enabled = true } = opts;\n  const eeCallbackRef = useCallbackRef(eeCallback);\n  const combineCallbackRef = useCallbackRef(combine);\n\n  // We have to use a nested object here, because functions (e.g. Components)\n  // can not be stored as value directly\n  const [{ data }, setData] = React.useState<{\n    data: TCEData | TEEData | TDefaultValue | TCombinedValue | null;\n  }>({\n    data: isEnterprise() && enabled ? defaultValue : ceData,\n  });\n\n  React.useEffect(() => {\n    async function importEE() {\n      const eeData = await eeCallbackRef();\n      const combinedValue = combineCallbackRef(ceData, eeData);\n\n      setData({ data: combinedValue ? combinedValue : eeData });\n    }\n\n    if (isEnterprise() && enabled) {\n      importEE();\n    }\n  }, [ceData, eeCallbackRef, combineCallbackRef, enabled]);\n\n  // @ts-expect-error ‚Äì the hook type assertion works in practice. But seems to have issues here...\n  return data;\n};\n","/*\n *\n * LanguageProvider\n *\n * this component connects the redux state language locale to the\n * IntlProvider component and i18n messages (loaded from `app/translations`)\n */\n\nimport * as React from 'react';\n\nimport { createContext } from '@radix-ui/react-context';\nimport defaultsDeep from 'lodash/defaultsDeep';\nimport { IntlProvider } from 'react-intl';\n\n/* -------------------------------------------------------------------------------------------------\n * LocalesContext\n * -----------------------------------------------------------------------------------------------*/\n\ninterface LocalesContextValue {\n  changeLocale: (locale: keyof State['localeNames']) => void;\n  localeNames: Record<string, string>;\n}\n\nconst [LocalesContextProvider, useLocalesContext] =\n  createContext<LocalesContextValue>('LocalesContext');\n\nconst useLocales = () => useLocalesContext('useLocales');\n\n/* -------------------------------------------------------------------------------------------------\n * LanguageProvider\n * -----------------------------------------------------------------------------------------------*/\n\nconst LANGUAGE_LOCAL_STORAGE_KEY = 'strapi-admin-language';\n\ninterface LanguageProviderProps {\n  children: React.ReactNode;\n  localeNames: Record<string, string>;\n  messages: Record<string, Record<string, string>>;\n}\n\nconst LanguageProvider = ({ children, localeNames, messages }: LanguageProviderProps) => {\n  const [{ locale }, dispatch] = React.useReducer<React.Reducer<State, Action>, State>(\n    reducer,\n    initialState,\n    () => {\n      const languageFromLocaleStorage = window.localStorage.getItem(LANGUAGE_LOCAL_STORAGE_KEY);\n      if (languageFromLocaleStorage && localeNames[languageFromLocaleStorage]) {\n        return {\n          locale: languageFromLocaleStorage,\n          localeNames,\n        };\n      } else {\n        return {\n          locale: 'en',\n          localeNames,\n        };\n      }\n    }\n  );\n\n  React.useEffect(() => {\n    // Set user language in local storage.\n    window.localStorage.setItem(LANGUAGE_LOCAL_STORAGE_KEY, locale);\n    document.documentElement.setAttribute('lang', locale);\n  }, [locale]);\n\n  const changeLocale = React.useCallback((locale: keyof State['localeNames']) => {\n    dispatch({\n      type: 'CHANGE_LOCALE',\n      locale,\n    });\n  }, []);\n\n  const appMessages = defaultsDeep(messages[locale], messages.en);\n\n  return (\n    <IntlProvider locale={locale} defaultLocale=\"en\" messages={appMessages} textComponent=\"span\">\n      <LocalesContextProvider changeLocale={changeLocale} localeNames={localeNames}>\n        {children}\n      </LocalesContextProvider>\n    </IntlProvider>\n  );\n};\n\n/* -------------------------------------------------------------------------------------------------\n * Reducer\n * -----------------------------------------------------------------------------------------------*/\n\ninterface State {\n  localeNames: Record<string, string>;\n  locale: keyof State['localeNames'];\n}\n\nconst initialState: State = {\n  localeNames: { en: 'English' },\n  locale: 'en',\n};\n\ninterface ChangeLocaleAction {\n  type: 'CHANGE_LOCALE';\n  locale: keyof State['localeNames'];\n}\n\ntype Action = ChangeLocaleAction;\n\nconst reducer = (state = initialState, action: Action) => {\n  switch (action.type) {\n    case 'CHANGE_LOCALE': {\n      const { locale } = action;\n\n      if (!state.localeNames[locale]) {\n        return state;\n      }\n\n      return { ...state, locale };\n    }\n    default: {\n      return state;\n    }\n  }\n};\n\nexport { LanguageProvider, useLocales, LANGUAGE_LOCAL_STORAGE_KEY };\nexport type { LanguageProviderProps, LocalesContextValue };\n","import styled from 'styled-components';\n\nimport { useConfiguration } from '../contexts/configuration';\n\nconst Img = styled.img`\n  height: ${72 / 16}rem;\n`;\n\nconst Logo = () => {\n  const {\n    logos: { auth },\n  } = useConfiguration();\n\n  return <Img src={auth?.custom ?? auth.default} aria-hidden alt=\"\" />;\n};\n\nexport { Logo };\n","import * as React from 'react';\n\nimport { Box, Flex, SingleSelect, SingleSelectOption } from '@strapi/design-system';\nimport { useIntl } from 'react-intl';\nimport styled from 'styled-components';\n\nimport { useLocales } from '../components/LanguageProvider';\n\nconst Wrapper = styled(Box)`\n  margin: 0 auto;\n  width: 552px;\n`;\n\nexport const Column = styled(Flex)`\n  flex-direction: column;\n`;\n\nconst LocaleToggle = () => {\n  const { changeLocale, localeNames } = useLocales();\n  const { formatMessage, locale } = useIntl();\n\n  return (\n    <SingleSelect\n      aria-label={formatMessage({\n        id: 'global.localeToggle.label',\n        defaultMessage: 'Select interface language',\n      })}\n      value={locale}\n      onChange={(language) => {\n        changeLocale(language as string);\n      }}\n    >\n      {Object.entries(localeNames).map(([language, name]) => (\n        <SingleSelectOption key={language} value={language}>\n          {name}\n        </SingleSelectOption>\n      ))}\n    </SingleSelect>\n  );\n};\n\ninterface LayoutContentProps {\n  children: React.ReactNode;\n}\n\nexport const LayoutContent = ({ children }: LayoutContentProps) => (\n  <Wrapper\n    shadow=\"tableShadow\"\n    hasRadius\n    paddingTop={9}\n    paddingBottom={9}\n    paddingLeft={10}\n    paddingRight={10}\n    background=\"neutral0\"\n  >\n    {children}\n  </Wrapper>\n);\n\ninterface UnauthenticatedLayoutProps {\n  children: React.ReactNode;\n}\n\nexport const UnauthenticatedLayout = ({ children }: UnauthenticatedLayoutProps) => {\n  return (\n    <div>\n      <Flex as=\"header\" justifyContent=\"flex-end\">\n        <Box paddingTop={6} paddingRight={8}>\n          <LocaleToggle />\n        </Box>\n      </Flex>\n      <Box paddingTop={2} paddingBottom={11}>\n        {children}\n      </Box>\n    </div>\n  );\n};\n","import { FieldAction } from '@strapi/design-system';\nimport styled from 'styled-components';\n\nconst FieldActionWrapper = styled(FieldAction)`\n  svg {\n    height: 1rem;\n    width: 1rem;\n    path {\n      fill: ${({ theme }) => theme.colors.neutral600};\n    }\n  }\n`;\n\nexport { FieldActionWrapper };\n","import * as React from 'react';\n\nimport { Box, Button, Checkbox, Flex, Main, TextInput, Typography } from '@strapi/design-system';\nimport { Link } from '@strapi/design-system/v2';\nimport { Form, auth, translatedErrors, useFetchClient, useQuery } from '@strapi/helper-plugin';\nimport { Eye, EyeStriked } from '@strapi/icons';\nimport { Formik } from 'formik';\nimport camelCase from 'lodash/camelCase';\nimport { useIntl } from 'react-intl';\nimport { useMutation } from 'react-query';\nimport { NavLink, useHistory } from 'react-router-dom';\nimport styled from 'styled-components';\nimport * as yup from 'yup';\n\nimport { Login } from '../../../../../shared/contracts/authentication';\nimport { useLocales } from '../../../components/LanguageProvider';\nimport { Logo } from '../../../components/UnauthenticatedLogo';\nimport {\n  UnauthenticatedLayout,\n  Column,\n  LayoutContent,\n} from '../../../layouts/UnauthenticatedLayout';\n\nimport { FieldActionWrapper } from './FieldActionWrapper';\n\nimport type { AxiosError } from 'axios';\n\ninterface LoginProps {\n  children?: React.ReactNode;\n}\n\nconst LOGIN_SCHEMA = yup.object().shape({\n  email: yup.string().email(translatedErrors.email).required(translatedErrors.required),\n  password: yup.string().required(translatedErrors.required),\n  rememberMe: yup.bool().nullable(),\n});\n\nconst Login = ({ children }: LoginProps) => {\n  const [apiError, setApiError] = React.useState<string>();\n  const [passwordShown, setPasswordShown] = React.useState(false);\n  const { formatMessage } = useIntl();\n  const { post } = useFetchClient();\n  const { changeLocale } = useLocales();\n  const query = useQuery();\n  const { push } = useHistory();\n\n  const mutation = useMutation(\n    async (body: Login.Request['body'] & { rememberMe: boolean }) => {\n      const {\n        data: { data },\n      } = await post<Login.Response>('/admin/login', body);\n\n      return { ...data, rememberMe: body.rememberMe };\n    },\n    {\n      onSuccess(data) {\n        if (data) {\n          const { token, user } = data;\n\n          if (user.preferedLanguage) {\n            changeLocale(user.preferedLanguage);\n          }\n\n          auth.setToken(token, data.rememberMe);\n          auth.setUserInfo(user, data.rememberMe);\n\n          const redirectTo = query.get('redirectTo');\n          const redirectUrl = redirectTo ? decodeURIComponent(redirectTo) : '/';\n\n          push(redirectUrl);\n        }\n      },\n      onError(err: AxiosError<{ error: Login.Response['errors'] }>) {\n        const message = err.response?.data?.error?.message ?? 'Something went wrong';\n\n        if (camelCase(message).toLowerCase() === 'usernotactive') {\n          push('/auth/oops');\n          return;\n        }\n\n        setApiError(message);\n      },\n    }\n  );\n\n  return (\n    <UnauthenticatedLayout>\n      <Main>\n        <LayoutContent>\n          <Column>\n            <Logo />\n            <Box paddingTop={6} paddingBottom={1}>\n              <Typography variant=\"alpha\" as=\"h1\">\n                {formatMessage({\n                  id: 'Auth.form.welcome.title',\n                  defaultMessage: 'Welcome!',\n                })}\n              </Typography>\n            </Box>\n            <Box paddingBottom={7}>\n              <Typography variant=\"epsilon\" textColor=\"neutral600\">\n                {formatMessage({\n                  id: 'Auth.form.welcome.subtitle',\n                  defaultMessage: 'Log in to your Strapi account',\n                })}\n              </Typography>\n            </Box>\n            {mutation.isError && apiError ? (\n              <Typography id=\"global-form-error\" role=\"alert\" tabIndex={-1} textColor=\"danger600\">\n                {apiError}\n              </Typography>\n            ) : null}\n          </Column>\n          <Formik\n            enableReinitialize\n            initialValues={{\n              email: '',\n              password: '',\n              rememberMe: false,\n            }}\n            onSubmit={(values) => {\n              mutation.mutate(values);\n            }}\n            validationSchema={LOGIN_SCHEMA}\n            validateOnChange={false}\n          >\n            {({ values, errors, handleChange }) => (\n              <Form>\n                <Flex direction=\"column\" alignItems=\"stretch\" gap={6}>\n                  <TextInput\n                    error={\n                      errors.email\n                        ? formatMessage({\n                            id: errors.email,\n                            defaultMessage: 'This value is required.',\n                          })\n                        : ''\n                    }\n                    value={values.email}\n                    onChange={handleChange}\n                    label={formatMessage({ id: 'Auth.form.email.label', defaultMessage: 'Email' })}\n                    placeholder={formatMessage({\n                      id: 'Auth.form.email.placeholder',\n                      defaultMessage: 'kai@doe.com',\n                    })}\n                    name=\"email\"\n                    required\n                  />\n                  <PasswordInput\n                    error={\n                      errors.password\n                        ? formatMessage({\n                            id: errors.password,\n                            defaultMessage: 'This value is required.',\n                          })\n                        : ''\n                    }\n                    onChange={handleChange}\n                    value={values.password}\n                    label={formatMessage({\n                      id: 'global.password',\n                      defaultMessage: 'Password',\n                    })}\n                    name=\"password\"\n                    type={passwordShown ? 'text' : 'password'}\n                    endAction={\n                      <FieldActionWrapper\n                        onClick={(e) => {\n                          e.stopPropagation();\n                          setPasswordShown((prev) => !prev);\n                        }}\n                        label={formatMessage(\n                          passwordShown\n                            ? {\n                                id: 'Auth.form.password.show-password',\n                                defaultMessage: 'Show password',\n                              }\n                            : {\n                                id: 'Auth.form.password.hide-password',\n                                defaultMessage: 'Hide password',\n                              }\n                        )}\n                      >\n                        {passwordShown ? <Eye /> : <EyeStriked />}\n                      </FieldActionWrapper>\n                    }\n                    required\n                  />\n                  <Checkbox\n                    onValueChange={(checked) => {\n                      handleChange({ target: { value: checked, name: 'rememberMe' } });\n                    }}\n                    value={values.rememberMe}\n                    aria-label=\"rememberMe\"\n                    name=\"rememberMe\"\n                  >\n                    {formatMessage({\n                      id: 'Auth.form.rememberMe.label',\n                      defaultMessage: 'Remember me',\n                    })}\n                  </Checkbox>\n                  <Button fullWidth type=\"submit\">\n                    {formatMessage({ id: 'Auth.form.button.login', defaultMessage: 'Login' })}\n                  </Button>\n                </Flex>\n              </Form>\n            )}\n          </Formik>\n          {children}\n        </LayoutContent>\n        <Flex justifyContent=\"center\">\n          <Box paddingTop={4}>\n            {/* @ts-expect-error ‚Äì error with inferring the props from the as component */}\n            <Link as={NavLink} to=\"/auth/forgot-password\">\n              {formatMessage({\n                id: 'Auth.link.forgot-password',\n                defaultMessage: 'Forgot your password?',\n              })}\n            </Link>\n          </Box>\n        </Flex>\n      </Main>\n    </UnauthenticatedLayout>\n  );\n};\n\nconst PasswordInput = styled(TextInput)`\n  ::-ms-reveal {\n    display: none;\n  }\n`;\n\nexport { Login };\nexport type { LoginProps };\n","import { Box, Button, Flex, Main, TextInput, Typography } from '@strapi/design-system';\nimport { Link } from '@strapi/design-system/v2';\nimport { Form, translatedErrors, useFetchClient } from '@strapi/helper-plugin';\nimport { Formik } from 'formik';\nimport { useIntl } from 'react-intl';\nimport { useMutation } from 'react-query';\nimport { NavLink, useHistory } from 'react-router-dom';\nimport * as yup from 'yup';\n\nimport { ForgotPassword } from '../../../../../shared/contracts/authentication';\nimport { Logo } from '../../../components/UnauthenticatedLogo';\nimport {\n  Column,\n  LayoutContent,\n  UnauthenticatedLayout,\n} from '../../../layouts/UnauthenticatedLayout';\n\nconst ForgotPassword = () => {\n  const { push } = useHistory();\n  const { post } = useFetchClient();\n  const { formatMessage } = useIntl();\n\n  const { mutate, isError } = useMutation(\n    async (body: ForgotPassword.Request['body']) => {\n      await post('/admin/forgot-password', body);\n    },\n    {\n      onSuccess() {\n        push('/auth/forgot-password-success');\n      },\n    }\n  );\n\n  return (\n    <UnauthenticatedLayout>\n      <Main>\n        <LayoutContent>\n          <Column>\n            <Logo />\n            <Box paddingTop={6} paddingBottom={7}>\n              <Typography as=\"h1\" variant=\"alpha\">\n                {formatMessage({\n                  id: 'Auth.form.button.password-recovery',\n                  defaultMessage: 'Password Recovery',\n                })}\n              </Typography>\n            </Box>\n            {isError ? (\n              <Typography id=\"global-form-error\" role=\"alert\" tabIndex={-1} textColor=\"danger600\">\n                {formatMessage({\n                  id: 'notification.error',\n                  defaultMessage: 'An error occurred',\n                })}\n              </Typography>\n            ) : null}\n          </Column>\n          <Formik\n            enableReinitialize\n            initialValues={{\n              email: '',\n            }}\n            onSubmit={(values) => {\n              mutate(values);\n            }}\n            validationSchema={yup.object().shape({\n              email: yup.string().email(translatedErrors.email).required(translatedErrors.required),\n            })}\n            validateOnChange={false}\n          >\n            {({ values, errors, handleChange }) => (\n              <Form>\n                <Flex direction=\"column\" alignItems=\"stretch\" gap={6}>\n                  <TextInput\n                    error={\n                      errors.email\n                        ? formatMessage({\n                            id: errors.email,\n                            defaultMessage: 'This email is invalid.',\n                          })\n                        : ''\n                    }\n                    value={values.email}\n                    onChange={handleChange}\n                    label={formatMessage({ id: 'Auth.form.email.label', defaultMessage: 'Email' })}\n                    placeholder={formatMessage({\n                      id: 'Auth.form.email.placeholder',\n                      defaultMessage: 'kai@doe.com',\n                    })}\n                    name=\"email\"\n                    required\n                  />\n                  <Button type=\"submit\" fullWidth>\n                    {formatMessage({\n                      id: 'Auth.form.button.forgot-password',\n                      defaultMessage: 'Send Email',\n                    })}\n                  </Button>\n                </Flex>\n              </Form>\n            )}\n          </Formik>\n        </LayoutContent>\n        <Flex justifyContent=\"center\">\n          <Box paddingTop={4}>\n            {/* @ts-expect-error ‚Äì error with inferring the props from the as component */}\n            <Link as={NavLink} to=\"/auth/login\">\n              {formatMessage({ id: 'Auth.link.ready', defaultMessage: 'Ready to sign in?' })}\n            </Link>\n          </Box>\n        </Flex>\n      </Main>\n    </UnauthenticatedLayout>\n  );\n};\n\nexport { ForgotPassword };\n","import { Box, Flex, Main, Typography } from '@strapi/design-system';\nimport { Link } from '@strapi/design-system/v2';\nimport { useIntl } from 'react-intl';\nimport { NavLink } from 'react-router-dom';\n\nimport { Logo } from '../../../components/UnauthenticatedLogo';\nimport {\n  Column,\n  LayoutContent,\n  UnauthenticatedLayout,\n} from '../../../layouts/UnauthenticatedLayout';\n\nconst ForgotPasswordSuccess = () => {\n  const { formatMessage } = useIntl();\n\n  return (\n    <UnauthenticatedLayout>\n      <Main>\n        <LayoutContent>\n          <Column>\n            <Logo />\n            <Box paddingTop={6} paddingBottom={7}>\n              <Typography as=\"h1\" variant=\"alpha\">\n                {formatMessage({\n                  id: 'app.containers.AuthPage.ForgotPasswordSuccess.title',\n                  defaultMessage: 'Email sent',\n                })}\n              </Typography>\n            </Box>\n            <Typography>\n              {formatMessage({\n                id: 'app.containers.AuthPage.ForgotPasswordSuccess.text.email',\n                defaultMessage: 'It can take a few minutes to receive your password recovery link.',\n              })}\n            </Typography>\n            <Box paddingTop={4}>\n              <Typography>\n                {formatMessage({\n                  id: 'app.containers.AuthPage.ForgotPasswordSuccess.text.contact-admin',\n                  defaultMessage:\n                    'If you do not receive this link, please contact your administrator.',\n                })}\n              </Typography>\n            </Box>\n          </Column>\n        </LayoutContent>\n        <Flex justifyContent=\"center\">\n          <Box paddingTop={4}>\n            {/* @ts-expect-error ‚Äì error with inferring the props from the as component */}\n            <Link as={NavLink} to=\"/auth/login\">\n              {formatMessage({ id: 'Auth.link.signin', defaultMessage: 'Sign in' })}\n            </Link>\n          </Box>\n        </Flex>\n      </Main>\n    </UnauthenticatedLayout>\n  );\n};\n\nexport { ForgotPasswordSuccess };\n","import { Box, Flex, Main, Typography } from '@strapi/design-system';\nimport { Link } from '@strapi/design-system/v2';\nimport { useQuery } from '@strapi/helper-plugin';\nimport { useIntl } from 'react-intl';\nimport { NavLink } from 'react-router-dom';\n\nimport { Logo } from '../../../components/UnauthenticatedLogo';\nimport {\n  Column,\n  LayoutContent,\n  UnauthenticatedLayout,\n} from '../../../layouts/UnauthenticatedLayout';\n\nconst Oops = () => {\n  const { formatMessage } = useIntl();\n  const query = useQuery();\n\n  const message =\n    query.get('info') ||\n    formatMessage({\n      id: 'Auth.components.Oops.text',\n      defaultMessage: 'Your account has been suspended.',\n    });\n\n  return (\n    <UnauthenticatedLayout>\n      <Main>\n        <LayoutContent>\n          <Column>\n            <Logo />\n            <Box paddingTop={6} paddingBottom={7}>\n              <Typography as=\"h1\" variant=\"alpha\">\n                {formatMessage({ id: 'Auth.components.Oops.title', defaultMessage: 'Oops...' })}\n              </Typography>\n            </Box>\n            <Typography>{message}</Typography>\n            <Box paddingTop={4}>\n              <Typography>\n                {formatMessage({\n                  id: 'Auth.components.Oops.text.admin',\n                  defaultMessage: 'If this is a mistake, please contact your administrator.',\n                })}\n              </Typography>\n            </Box>\n          </Column>\n        </LayoutContent>\n        <Flex justifyContent=\"center\">\n          <Box paddingTop={4}>\n            {/* @ts-expect-error ‚Äì error with inferring the props from the as component */}\n            <Link as={NavLink} to=\"/auth/login\">\n              {formatMessage({ id: 'Auth.link.signin', defaultMessage: 'Sign in' })}\n            </Link>\n          </Box>\n        </Flex>\n      </Main>\n    </UnauthenticatedLayout>\n  );\n};\n\nexport { Oops };\n","import * as React from 'react';\n\nimport {\n  Box,\n  Flex,\n  IconButton,\n  Button,\n  Typography,\n  Textarea,\n  Portal,\n  Field,\n  FieldLabel,\n  FieldInput,\n  VisuallyHidden,\n} from '@strapi/design-system';\nimport { auth, useNotification, useAppInfo, usePersistentState } from '@strapi/helper-plugin';\nimport { Cross } from '@strapi/icons';\nimport { Formik, Form } from 'formik';\nimport { useIntl } from 'react-intl';\nimport { useMutation } from 'react-query';\nimport styled, { useTheme } from 'styled-components';\nimport * as yup from 'yup';\n\nconst FieldWrapper = styled(Field)`\n  height: ${32 / 16}rem;\n  width: ${32 / 16}rem;\n\n  > label,\n  ~ input {\n    display: block;\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n  }\n\n  > label {\n    color: inherit;\n    cursor: pointer;\n    padding: ${({ theme }) => theme.spaces[2]};\n    text-align: center;\n    vertical-align: middle;\n  }\n\n  &:hover,\n  &:focus-within {\n    background-color: ${({ theme }) => theme.colors.neutral0};\n  }\n\n  &:active,\n  &.selected {\n    color: ${({ theme }) => theme.colors.primary700};\n    background-color: ${({ theme }) => theme.colors.neutral0};\n    border-color: ${({ theme }) => theme.colors.primary700};\n  }\n`;\n\nconst delays = {\n  postResponse: 90 * 24 * 60 * 60 * 1000, // 90 days in ms\n  postFirstDismissal: 7 * 24 * 60 * 60 * 1000, // 7 days in ms\n  postSubsequentDismissal: 90 * 24 * 60 * 60 * 1000, // 90 days in ms\n  display: 5 * 60 * 1000, // 5 minutes in ms\n};\n\nconst ratingArray = [...Array(11).keys()];\n\nconst checkIfShouldShowSurvey = (settings: NpsSurveySettings) => {\n  const { enabled, lastResponseDate, firstDismissalDate, lastDismissalDate } = settings;\n\n  // This function goes through all the cases where we'd want to not show the survey:\n  // 1. If the survey is disabled by strapi, abort mission, don't bother checking the other settings.\n  // 2. If the survey is disabled by user, abort mission, don't bother checking the other settings.\n  // 3. If the user has already responded to the survey, check if enough time has passed since the last response.\n  // 4. If the user has dismissed the survey twice or more before, check if enough time has passed since the last dismissal.\n  // 5. If the user has only dismissed the survey once before, check if enough time has passed since the first dismissal.\n  // If none of these cases check out, then we show the survey.\n  // Note that submitting a response resets the dismissal counts.\n  // Checks 4 and 5 should not be reversed, since the first dismissal will also exist if the user has dismissed the survey twice or more before.\n\n  // For users who had created an account before the NPS feature was introduced,\n  // we assume that they would have enabled the NPS feature if they had the chance.\n\n  // Global strapi disable for NSP.\n  if (window.strapi.flags.nps === false) {\n    return false;\n  }\n\n  // User chose not to enable the NPS feature when signing up\n  if (enabled === false) {\n    return false;\n  }\n\n  // The user has already responded to the survey\n  if (lastResponseDate) {\n    const timeSinceLastResponse = Date.now() - new Date(lastResponseDate).getTime();\n\n    if (timeSinceLastResponse >= delays.postResponse) {\n      return true;\n    }\n\n    return false;\n  }\n\n  // The user has dismissed the survey twice or more before\n  if (lastDismissalDate) {\n    const timeSinceLastDismissal = Date.now() - new Date(lastDismissalDate).getTime();\n\n    if (timeSinceLastDismissal >= delays.postSubsequentDismissal) {\n      return true;\n    }\n\n    return false;\n  }\n\n  // The user has only dismissed the survey once before\n  if (firstDismissalDate) {\n    const timeSinceFirstDismissal = Date.now() - new Date(firstDismissalDate).getTime();\n\n    if (timeSinceFirstDismissal >= delays.postFirstDismissal) {\n      return true;\n    }\n\n    return false;\n  }\n\n  // The user has not interacted with the survey before\n  return true;\n};\n\nconst NpsSurvey = () => {\n  const theme = useTheme();\n  const { formatMessage } = useIntl();\n  const { npsSurveySettings, setNpsSurveySettings } = useNpsSurveySettings();\n  const [isFeedbackResponse, setIsFeedbackResponse] = React.useState(false);\n  const toggleNotification = useNotification();\n  const { currentEnvironment, strapiVersion } = useAppInfo();\n\n  interface NpsSurveyMutationBody {\n    email: string;\n    rating: number | null;\n    comment: string;\n    environment?: string;\n    version?: string;\n    license: 'Enterprise' | 'Community';\n  }\n\n  const { mutate, isLoading } = useMutation<unknown, unknown, NpsSurveyMutationBody>(\n    async (form) => {\n      const res = await fetch('https://analytics.strapi.io/submit-nps', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(form),\n      });\n\n      if (!res.ok) {\n        throw new Error('Failed to submit NPS survey');\n      }\n\n      return res;\n    },\n    {\n      onSuccess() {\n        setNpsSurveySettings((settings) => ({\n          ...settings,\n          lastResponseDate: new Date().toString(),\n          firstDismissalDate: null,\n          lastDismissalDate: null,\n        }));\n        setIsFeedbackResponse(true);\n        // Thank you message displayed in the banner should disappear after few seconds.\n        setTimeout(() => {\n          setSurveyIsShown(false);\n        }, 3000);\n      },\n      onError() {\n        toggleNotification({\n          type: 'warning',\n          message: formatMessage({ id: 'notification.error', defaultMessage: 'An error occurred' }),\n        });\n      },\n    }\n  );\n\n  // Only check on first render if the survey should be shown\n  const [surveyIsShown, setSurveyIsShown] = React.useState(\n    checkIfShouldShowSurvey(npsSurveySettings)\n  );\n\n  // Set a cooldown to show the survey when session begins\n  const [displaySurvey, setDisplaySurvey] = React.useState(false);\n\n  React.useEffect(() => {\n    const displayTime = setTimeout(() => {\n      setDisplaySurvey(true);\n    }, delays.display);\n\n    return () => {\n      clearTimeout(displayTime);\n    };\n  }, []);\n\n  if (!displaySurvey) {\n    return null;\n  }\n\n  if (!surveyIsShown) {\n    return null;\n  }\n\n  const handleSubmitResponse = ({\n    npsSurveyRating,\n    npsSurveyFeedback,\n  }: {\n    npsSurveyRating: NpsSurveyMutationBody['rating'];\n    npsSurveyFeedback: NpsSurveyMutationBody['comment'];\n  }) => {\n    const userInfo = auth.getUserInfo();\n    mutate({\n      email: typeof userInfo === 'object' && userInfo !== null ? userInfo.email : '',\n      rating: npsSurveyRating,\n      comment: npsSurveyFeedback,\n      environment: currentEnvironment,\n      version: strapiVersion ?? undefined,\n      license: window.strapi.projectType,\n    });\n  };\n\n  const handleDismiss = () => {\n    setNpsSurveySettings((settings) => {\n      const nextSettings = {\n        ...settings,\n        lastResponseDate: null,\n      };\n\n      if (settings.firstDismissalDate) {\n        // If the user dismisses the survey for the second time\n        nextSettings.lastDismissalDate = new Date().toString();\n      } else {\n        // If the user dismisses the survey for the first time\n        nextSettings.firstDismissalDate = new Date().toString();\n      }\n\n      return nextSettings;\n    });\n\n    setSurveyIsShown(false);\n  };\n\n  return (\n    <Portal>\n      <Formik\n        initialValues={{ npsSurveyFeedback: '', npsSurveyRating: null }}\n        onSubmit={handleSubmitResponse}\n        validationSchema={yup.object({\n          npsSurveyFeedback: yup.string(),\n          npsSurveyRating: yup.number().required(),\n        })}\n      >\n        {({ values, handleChange, setFieldValue }) => (\n          <Form name=\"npsSurveyForm\">\n            <Flex\n              hasRadius\n              direction=\"column\"\n              padding={4}\n              borderColor=\"primary200\"\n              background=\"neutral0\"\n              shadow=\"popupShadow\"\n              position=\"fixed\"\n              bottom={0}\n              left=\"50%\"\n              transform=\"translateX(-50%)\"\n              zIndex={theme.zIndices[2]}\n              width=\"50%\"\n            >\n              {isFeedbackResponse ? (\n                <Typography fontWeight=\"semiBold\">\n                  {formatMessage({\n                    id: 'app.components.NpsSurvey.feedback-response',\n                    defaultMessage: 'Thank you very much for your feedback!',\n                  })}\n                </Typography>\n              ) : (\n                <Box as=\"fieldset\" width=\"100%\">\n                  <Flex justifyContent=\"space-between\" width=\"100%\">\n                    <Box marginLeft=\"auto\" marginRight=\"auto\">\n                      <Typography fontWeight=\"semiBold\" as=\"legend\">\n                        {formatMessage({\n                          id: 'app.components.NpsSurvey.banner-title',\n                          defaultMessage:\n                            'How likely are you to recommend Strapi to a friend or colleague?',\n                        })}\n                      </Typography>\n                    </Box>\n                    <IconButton\n                      onClick={handleDismiss}\n                      aria-label={formatMessage({\n                        id: 'app.components.NpsSurvey.dismiss-survey-label',\n                        defaultMessage: 'Dismiss survey',\n                      })}\n                      icon={<Cross />}\n                    />\n                  </Flex>\n                  <Flex gap={2} marginTop={2} marginBottom={2} justifyContent=\"center\">\n                    <Typography variant=\"pi\" textColor=\"neutral600\">\n                      {formatMessage({\n                        id: 'app.components.NpsSurvey.no-recommendation',\n                        defaultMessage: 'Not at all likely',\n                      })}\n                    </Typography>\n                    {ratingArray.map((number) => {\n                      return (\n                        <FieldWrapper\n                          key={number}\n                          className={values.npsSurveyRating === number ? 'selected' : undefined} // \"selected\" class added when child radio button is checked\n                          hasRadius\n                          background=\"primary100\"\n                          borderColor=\"primary200\"\n                          color=\"primary600\"\n                          position=\"relative\"\n                          cursor=\"pointer\"\n                        >\n                          <FieldLabel htmlFor={`nps-survey-rating-${number}-input`}>\n                            <VisuallyHidden>\n                              <FieldInput\n                                type=\"radio\"\n                                id={`nps-survey-rating-${number}-input`}\n                                name=\"npsSurveyRating\"\n                                checked={values.npsSurveyRating === number}\n                                onChange={(e) =>\n                                  setFieldValue('npsSurveyRating', parseInt(e.target.value, 10))\n                                }\n                                value={number}\n                              />\n                            </VisuallyHidden>\n                            {number}\n                          </FieldLabel>\n                        </FieldWrapper>\n                      );\n                    })}\n                    <Typography variant=\"pi\" textColor=\"neutral600\">\n                      {formatMessage({\n                        id: 'app.components.NpsSurvey.happy-to-recommend',\n                        defaultMessage: 'Extremely likely',\n                      })}\n                    </Typography>\n                  </Flex>\n                  {values.npsSurveyRating !== null && (\n                    <Flex direction=\"column\">\n                      <Box marginTop={2}>\n                        <FieldLabel htmlFor=\"npsSurveyFeedback\" fontWeight=\"semiBold\" fontSize={2}>\n                          {formatMessage({\n                            id: 'app.components.NpsSurvey.feedback-question',\n                            defaultMessage: 'Do you have any suggestion for improvements?',\n                          })}\n                        </FieldLabel>\n                      </Box>\n                      <Box width=\"62%\" marginTop={3} marginBottom={4}>\n                        <Textarea\n                          id=\"npsSurveyFeedback\" // formik element attribute \"id\" should be same as the values key to work\n                          width=\"100%\"\n                          onChange={handleChange}\n                        >\n                          {values.npsSurveyFeedback}\n                        </Textarea>\n                      </Box>\n                      <Button marginBottom={2} type=\"submit\" loading={isLoading}>\n                        {formatMessage({\n                          id: 'app.components.NpsSurvey.submit-feedback',\n                          defaultMessage: 'Submit Feedback',\n                        })}\n                      </Button>\n                    </Flex>\n                  )}\n                </Box>\n              )}\n            </Flex>\n          </Form>\n        )}\n      </Formik>\n    </Portal>\n  );\n};\n\ninterface NpsSurveySettings {\n  enabled: boolean;\n  lastResponseDate: string | null;\n  firstDismissalDate: string | null;\n  lastDismissalDate: string | null;\n}\n\n/**\n * We exported to make it available during admin user registration.\n * Because we only enable the NPS for users who subscribe to the newsletter when signing up\n */\nfunction useNpsSurveySettings() {\n  const [npsSurveySettings, setNpsSurveySettings] = usePersistentState<NpsSurveySettings>(\n    'STRAPI_NPS_SURVEY_SETTINGS',\n    {\n      enabled: true,\n      lastResponseDate: null,\n      firstDismissalDate: null,\n      lastDismissalDate: null,\n    }\n  );\n\n  /**\n   * TODO: should this just be an array so we can alias the `usePersistentState` hook?\n   */\n  return { npsSurveySettings, setNpsSurveySettings };\n}\n\nexport { NpsSurvey, useNpsSurveySettings };\n","import * as React from 'react';\n\nimport {\n  Box,\n  Button,\n  Checkbox,\n  Flex,\n  Grid,\n  GridItem,\n  Main,\n  TextInput,\n  Typography,\n} from '@strapi/design-system';\nimport { Link } from '@strapi/design-system/v2';\nimport {\n  Form,\n  auth,\n  getYupInnerErrors,\n  translatedErrors,\n  useAPIErrorHandler,\n  useFetchClient,\n  useGuidedTour,\n  useNotification,\n  useQuery,\n  useTracking,\n} from '@strapi/helper-plugin';\nimport { Eye, EyeStriked } from '@strapi/icons';\nimport { Formik } from 'formik';\nimport omit from 'lodash/omit';\nimport { MessageDescriptor, useIntl } from 'react-intl';\nimport { useQuery as useReactQuery, useMutation } from 'react-query';\nimport { NavLink, Redirect, useHistory, useRouteMatch } from 'react-router-dom';\nimport styled from 'styled-components';\nimport * as yup from 'yup';\nimport { ValidationError } from 'yup';\n\nimport {\n  Register,\n  RegisterAdmin,\n  RegistrationInfo,\n} from '../../../../../shared/contracts/authentication';\nimport { useNpsSurveySettings } from '../../../components/NpsSurvey';\nimport { Logo } from '../../../components/UnauthenticatedLogo';\nimport { LayoutContent, UnauthenticatedLayout } from '../../../layouts/UnauthenticatedLayout';\nimport { AuthType } from '../constants';\n\nimport { FieldActionWrapper } from './FieldActionWrapper';\n\nimport type { AxiosError } from 'axios';\n\nconst REGISTER_USER_SCHEMA = yup.object().shape({\n  firstname: yup.string().trim().required(translatedErrors.required),\n  lastname: yup.string().nullable(),\n  password: yup\n    .string()\n    .min(8, translatedErrors.minLength)\n    .matches(/[a-z]/, 'components.Input.error.contain.lowercase')\n    .matches(/[A-Z]/, 'components.Input.error.contain.uppercase')\n    .matches(/\\d/, 'components.Input.error.contain.number')\n    .required(translatedErrors.required),\n  confirmPassword: yup\n    .string()\n    .oneOf([yup.ref('password'), null], 'components.Input.error.password.noMatch')\n    .required(translatedErrors.required),\n  registrationToken: yup.string().required(translatedErrors.required),\n});\n\nconst REGISTER_ADMIN_SCHEMA = yup.object().shape({\n  firstname: yup.string().trim().required(translatedErrors.required),\n  lastname: yup.string().nullable(),\n  password: yup\n    .string()\n    .min(8, translatedErrors.minLength)\n    .matches(/[a-z]/, 'components.Input.error.contain.lowercase')\n    .matches(/[A-Z]/, 'components.Input.error.contain.uppercase')\n    .matches(/\\d/, 'components.Input.error.contain.number')\n    .required(translatedErrors.required),\n  email: yup\n    .string()\n    .email(translatedErrors.email)\n    .strict()\n    .lowercase(translatedErrors.lowercase)\n    .required(translatedErrors.required),\n  confirmPassword: yup\n    .string()\n    .oneOf([yup.ref('password'), null], 'components.Input.error.password.noMatch')\n    .required(translatedErrors.required),\n});\n\ninterface RegisterProps {\n  hasAdmin?: boolean;\n}\n\nconst Register = ({ hasAdmin }: RegisterProps) => {\n  const toggleNotification = useNotification();\n  const { push } = useHistory();\n  const [passwordShown, setPasswordShown] = React.useState(false);\n  const [confirmPasswordShown, setConfirmPasswordShown] = React.useState(false);\n  const [submitCount, setSubmitCount] = React.useState(0);\n  const [apiError, setApiError] = React.useState<string>();\n  const { trackUsage } = useTracking();\n  const { formatMessage } = useIntl();\n  const { setSkipped } = useGuidedTour();\n  const query = useQuery();\n  const match = useRouteMatch<{ authType: Extract<AuthType, `register${string}`> }>(\n    '/auth/:authType'\n  );\n  const { formatAPIError } = useAPIErrorHandler();\n  const { get, post } = useFetchClient();\n  const { setNpsSurveySettings } = useNpsSurveySettings();\n\n  const registrationToken = query.get('registrationToken');\n\n  const { data: userInfo } = useReactQuery({\n    queryKey: ['admin', 'registration-info', registrationToken],\n    async queryFn() {\n      const {\n        data: { data },\n      } = await get<RegistrationInfo.Response>(`/admin/registration-info`, {\n        params: {\n          registrationToken,\n        },\n      });\n\n      return data;\n    },\n    enabled: !!registrationToken,\n    initialData: {},\n    onError(err: AxiosError<{ error: Exclude<RegistrationInfo.Response['errors'], undefined> }>) {\n      const message = formatAPIError(err);\n\n      toggleNotification({\n        type: 'warning',\n        message,\n      });\n\n      push(`/auth/oops?info=${encodeURIComponent(message)}`);\n    },\n  });\n\n  const registerAdminMutation = useMutation(\n    async (body: RegisterAdmin.Request['body'] & { news: boolean }) => {\n      const { news, ...restBody } = body;\n      const { data } = await post<RegisterAdmin.Response>('/admin/register-admin', restBody);\n\n      return { ...data.data, news };\n    },\n    {\n      onSuccess(data) {\n        const { token, user, news } = data;\n\n        auth.setToken(token, false);\n        auth.setUserInfo(user, false);\n\n        const { roles } = user;\n\n        if (roles) {\n          const isUserSuperAdmin = roles.find(({ code }) => code === 'strapi-super-admin');\n\n          if (isUserSuperAdmin) {\n            auth.set(false, 'GUIDED_TOUR_SKIPPED', true);\n            setSkipped(false);\n            trackUsage('didLaunchGuidedtour');\n          }\n        }\n\n        if (news) {\n          // Only enable EE survey if user accepted the newsletter\n          setNpsSurveySettings((s) => ({ ...s, enabled: true }));\n\n          push({\n            pathname: '/usecase',\n            search: `?hasAdmin=${true}`,\n          });\n        } else {\n          push('/');\n        }\n      },\n      onError(err: AxiosError<{ error: Exclude<RegisterAdmin.Response['errors'], undefined> }>) {\n        trackUsage('didNotCreateFirstAdmin');\n\n        const error = formatAPIError(err);\n        setApiError(error);\n      },\n    }\n  );\n\n  const registerUserMutation = useMutation(\n    async (body: Register.Request['body'] & { news: boolean }) => {\n      const { news, ...restBody } = body;\n      const { data } = await post<Register.Response>('/admin/register', restBody);\n\n      return { ...data.data, news };\n    },\n    {\n      onSuccess(data) {\n        const { token, user, news } = data;\n\n        auth.setToken(token, false);\n        auth.setUserInfo(user, false);\n\n        if (news) {\n          // Only enable EE survey if user accepted the newsletter\n          setNpsSurveySettings((s) => ({ ...s, enabled: true }));\n\n          push({\n            pathname: '/usecase',\n            search: `?hasAdmin=${hasAdmin}`,\n          });\n        } else {\n          push('/');\n        }\n      },\n      onError(err: AxiosError<{ error: Exclude<RegisterAdmin.Response['errors'], undefined> }>) {\n        trackUsage('didNotCreateFirstAdmin');\n\n        const error = formatAPIError(err);\n        setApiError(error);\n      },\n    }\n  );\n\n  if (\n    !match ||\n    (match.params.authType !== 'register' && match.params.authType !== 'register-admin')\n  ) {\n    return <Redirect to=\"/\" />;\n  }\n\n  const isAdminRegistration = match.params.authType === 'register-admin';\n\n  const schema = isAdminRegistration ? REGISTER_ADMIN_SCHEMA : REGISTER_USER_SCHEMA;\n\n  return (\n    <UnauthenticatedLayout>\n      <LayoutContent>\n        <Flex direction=\"column\" alignItems=\"center\" gap={3}>\n          <Logo />\n\n          <Typography as=\"h1\" variant=\"alpha\" textAlign=\"center\">\n            {formatMessage({\n              id: 'Auth.form.welcome.title',\n              defaultMessage: 'Welcome to Strapi!',\n            })}\n          </Typography>\n          <Typography variant=\"epsilon\" textColor=\"neutral600\" textAlign=\"center\">\n            {formatMessage({\n              id: 'Auth.form.register.subtitle',\n              defaultMessage:\n                'Credentials are only used to authenticate in Strapi. All saved data will be stored in your database.',\n            })}\n          </Typography>\n          {apiError ? (\n            <Typography id=\"global-form-error\" role=\"alert\" tabIndex={-1} textColor=\"danger600\">\n              {apiError}\n            </Typography>\n          ) : null}\n        </Flex>\n        <Formik\n          enableReinitialize\n          initialValues={{\n            firstname: userInfo?.firstname || '',\n            lastname: userInfo?.lastname || '',\n            email: userInfo?.email || '',\n            password: '',\n            confirmPassword: '',\n            registrationToken: registrationToken || undefined,\n            news: false,\n          }}\n          onSubmit={async (data, formik) => {\n            const normalizedData = normalizeData(data);\n\n            try {\n              await schema.validate(normalizedData, { abortEarly: false });\n\n              if (submitCount > 0 && isAdminRegistration) {\n                trackUsage('didSubmitWithErrorsFirstAdmin', { count: submitCount.toString() });\n              }\n\n              if (normalizedData.registrationToken) {\n                registerUserMutation.mutate({\n                  userInfo: omit(normalizedData, [\n                    'registrationToken',\n                    'confirmPassword',\n                    'email',\n                    'news',\n                  ]),\n                  registrationToken: normalizedData.registrationToken,\n                  news: normalizedData.news,\n                });\n              } else {\n                registerAdminMutation.mutate(\n                  omit(normalizedData, ['registrationToken', 'confirmPassword'])\n                );\n              }\n            } catch (err) {\n              if (err instanceof ValidationError) {\n                const errors = getYupInnerErrors(err);\n\n                formik.setErrors(errors);\n              }\n              setSubmitCount(submitCount + 1);\n            }\n          }}\n          validateOnChange={false}\n        >\n          {({ values, errors, handleChange }) => {\n            return (\n              <Form>\n                <Main>\n                  <Flex direction=\"column\" alignItems=\"stretch\" gap={6} marginTop={7}>\n                    <Grid gap={4}>\n                      <GridItem col={6}>\n                        <TextInput\n                          name=\"firstname\"\n                          required\n                          value={values.firstname}\n                          error={\n                            errors.firstname\n                              ? formatMessage(errors.firstname as MessageDescriptor)\n                              : undefined\n                          }\n                          onChange={handleChange}\n                          label={formatMessage({\n                            id: 'Auth.form.firstname.label',\n                            defaultMessage: 'Firstname',\n                          })}\n                        />\n                      </GridItem>\n                      <GridItem col={6}>\n                        <TextInput\n                          name=\"lastname\"\n                          value={values.lastname}\n                          onChange={handleChange}\n                          label={formatMessage({\n                            id: 'Auth.form.lastname.label',\n                            defaultMessage: 'Lastname',\n                          })}\n                        />\n                      </GridItem>\n                    </Grid>\n                    <TextInput\n                      name=\"email\"\n                      disabled={!isAdminRegistration}\n                      value={values.email}\n                      onChange={handleChange}\n                      error={\n                        errors.email ? formatMessage(errors.email as MessageDescriptor) : undefined\n                      }\n                      required\n                      label={formatMessage({\n                        id: 'Auth.form.email.label',\n                        defaultMessage: 'Email',\n                      })}\n                      type=\"email\"\n                    />\n                    <PasswordInput\n                      name=\"password\"\n                      onChange={handleChange}\n                      value={values.password}\n                      error={\n                        errors.password\n                          ? formatMessage(errors.password as MessageDescriptor)\n                          : undefined\n                      }\n                      endAction={\n                        <FieldActionWrapper\n                          onClick={(e) => {\n                            e.preventDefault();\n                            setPasswordShown((prev) => !prev);\n                          }}\n                          label={formatMessage(\n                            passwordShown\n                              ? {\n                                  id: 'Auth.form.password.show-password',\n                                  defaultMessage: 'Show password',\n                                }\n                              : {\n                                  id: 'Auth.form.password.hide-password',\n                                  defaultMessage: 'Hide password',\n                                }\n                          )}\n                        >\n                          {passwordShown ? <Eye /> : <EyeStriked />}\n                        </FieldActionWrapper>\n                      }\n                      hint={formatMessage({\n                        id: 'Auth.form.password.hint',\n                        defaultMessage:\n                          'Must be at least 8 characters, 1 uppercase, 1 lowercase & 1 number',\n                      })}\n                      required\n                      label={formatMessage({\n                        id: 'global.password',\n                        defaultMessage: 'Password',\n                      })}\n                      type={passwordShown ? 'text' : 'password'}\n                    />\n                    <PasswordInput\n                      name=\"confirmPassword\"\n                      onChange={handleChange}\n                      value={values.confirmPassword}\n                      error={\n                        errors.confirmPassword\n                          ? formatMessage(errors.confirmPassword as MessageDescriptor)\n                          : undefined\n                      }\n                      endAction={\n                        <FieldActionWrapper\n                          onClick={(e) => {\n                            e.preventDefault();\n                            setConfirmPasswordShown((prev) => !prev);\n                          }}\n                          label={formatMessage(\n                            confirmPasswordShown\n                              ? {\n                                  id: 'Auth.form.password.show-password',\n                                  defaultMessage: 'Show password',\n                                }\n                              : {\n                                  id: 'Auth.form.password.hide-password',\n                                  defaultMessage: 'Hide password',\n                                }\n                          )}\n                        >\n                          {confirmPasswordShown ? <Eye /> : <EyeStriked />}\n                        </FieldActionWrapper>\n                      }\n                      required\n                      label={formatMessage({\n                        id: 'Auth.form.confirmPassword.label',\n                        defaultMessage: 'Confirm Password',\n                      })}\n                      type={confirmPasswordShown ? 'text' : 'password'}\n                    />\n                    <Checkbox\n                      onValueChange={(checked) => {\n                        handleChange({ target: { value: checked, name: 'news' } });\n                      }}\n                      value={values.news}\n                      name=\"news\"\n                      aria-label=\"news\"\n                    >\n                      {formatMessage(\n                        {\n                          id: 'Auth.form.register.news.label',\n                          defaultMessage:\n                            'Keep me updated about new features & upcoming improvements (by doing this you accept the {terms} and the {policy}).',\n                        },\n                        {\n                          terms: (\n                            <A target=\"_blank\" href=\"https://strapi.io/terms\" rel=\"noreferrer\">\n                              {formatMessage({\n                                id: 'Auth.privacy-policy-agreement.terms',\n                                defaultMessage: 'terms',\n                              })}\n                            </A>\n                          ),\n                          policy: (\n                            <A target=\"_blank\" href=\"https://strapi.io/privacy\" rel=\"noreferrer\">\n                              {formatMessage({\n                                id: 'Auth.privacy-policy-agreement.policy',\n                                defaultMessage: 'policy',\n                              })}\n                            </A>\n                          ),\n                        }\n                      )}\n                    </Checkbox>\n                    <Button fullWidth size=\"L\" type=\"submit\">\n                      {formatMessage({\n                        id: 'Auth.form.button.register',\n                        defaultMessage: \"Let's start\",\n                      })}\n                    </Button>\n                  </Flex>\n                </Main>\n              </Form>\n            );\n          }}\n        </Formik>\n        {match?.params.authType === 'register' && (\n          <Box paddingTop={4}>\n            <Flex justifyContent=\"center\">\n              {/* @ts-expect-error ‚Äì error with inferring the props from the as component */}\n              <Link as={NavLink} to=\"/auth/login\">\n                {formatMessage({\n                  id: 'Auth.link.signin.account',\n                  defaultMessage: 'Already have an account?',\n                })}\n              </Link>\n            </Flex>\n          </Box>\n        )}\n      </LayoutContent>\n    </UnauthenticatedLayout>\n  );\n};\n\ninterface RegisterFormValues {\n  firstname: string;\n  lastname: string;\n  email: string;\n  password: string;\n  confirmPassword: string;\n  registrationToken: string | undefined;\n  news: boolean;\n}\n\ntype StringKeys<T> = {\n  [K in keyof T]: T[K] extends string | undefined ? K : never;\n}[keyof T];\n\n/**\n * @description Trims all values but the password & sets lastName to null if it's a falsey value.\n */\nfunction normalizeData(data: RegisterFormValues) {\n  return Object.entries(data).reduce(\n    (acc, [key, value]) => {\n      type PasswordKeys = Extract<keyof RegisterFormValues, 'password' | 'confirmPassword'>;\n      type RegisterFormStringValues = Exclude<\n        keyof Pick<RegisterFormValues, StringKeys<RegisterFormValues>>,\n        PasswordKeys\n      >;\n\n      if (!['password', 'confirmPassword'].includes(key) && typeof value === 'string') {\n        acc[key as RegisterFormStringValues] = value.trim();\n\n        if (key === 'lastname') {\n          acc[key] = value || undefined;\n        }\n      } else {\n        acc[key as PasswordKeys] = value;\n      }\n\n      return acc;\n    },\n    {} as {\n      firstname: string;\n      lastname: string | undefined;\n      email: string;\n      password: string;\n      confirmPassword: string;\n      registrationToken: string | undefined;\n      news: boolean;\n    }\n  );\n}\n\nconst A = styled.a`\n  color: ${({ theme }) => theme.colors.primary600};\n`;\n\nconst PasswordInput = styled(TextInput)`\n  ::-ms-reveal {\n    display: none;\n  }\n`;\n\nexport { Register };\nexport type { RegisterProps };\n","import * as React from 'react';\n\nimport { Box, Button, Flex, Main, TextInput, Typography } from '@strapi/design-system';\nimport { Link } from '@strapi/design-system/v2';\nimport { Form, auth, translatedErrors, useFetchClient, useQuery } from '@strapi/helper-plugin';\nimport { Eye, EyeStriked } from '@strapi/icons';\nimport { Formik } from 'formik';\nimport { useIntl } from 'react-intl';\nimport { useMutation } from 'react-query';\nimport { NavLink, useHistory } from 'react-router-dom';\nimport styled from 'styled-components';\nimport * as yup from 'yup';\n\nimport { ResetPassword } from '../../../../../shared/contracts/authentication';\nimport { Logo } from '../../../components/UnauthenticatedLogo';\nimport {\n  Column,\n  LayoutContent,\n  UnauthenticatedLayout,\n} from '../../../layouts/UnauthenticatedLayout';\n\nimport { FieldActionWrapper } from './FieldActionWrapper';\n\nconst RESET_PASSWORD_SCHEMA = yup.object().shape({\n  password: yup\n    .string()\n    .min(8, translatedErrors.minLength)\n    .matches(/[a-z]/, 'components.Input.error.contain.lowercase')\n    .matches(/[A-Z]/, 'components.Input.error.contain.uppercase')\n    .matches(/\\d/, 'components.Input.error.contain.number')\n    .required(translatedErrors.required),\n  confirmPassword: yup\n    .string()\n    .oneOf([yup.ref('password'), null], 'components.Input.error.password.noMatch')\n    .required(translatedErrors.required),\n});\n\nconst ResetPassword = () => {\n  const [passwordShown, setPasswordShown] = React.useState(false);\n  const [confirmPasswordShown, setConfirmPasswordShown] = React.useState(false);\n  const { formatMessage } = useIntl();\n  const { post } = useFetchClient();\n  const { push } = useHistory();\n  const query = useQuery();\n\n  const { mutate, isError } = useMutation(\n    async (body: Pick<ResetPassword.Request['body'], 'password'>) => {\n      const {\n        data: { data },\n      } = await post<ResetPassword.Response>('/admin/reset-password', {\n        ...body,\n        resetPasswordToken: query.get('code'),\n      });\n\n      return data;\n    },\n    {\n      onSuccess(data) {\n        if (data) {\n          const { token, user } = data;\n          auth.setToken(token, false);\n          auth.setUserInfo(user, false);\n\n          // Redirect to the homePage\n          push('/');\n        }\n      },\n    }\n  );\n\n  return (\n    <UnauthenticatedLayout>\n      <Main>\n        <LayoutContent>\n          <Column>\n            <Logo />\n            <Box paddingTop={6} paddingBottom={7}>\n              <Typography as=\"h1\" variant=\"alpha\">\n                {formatMessage({\n                  id: 'global.reset-password',\n                  defaultMessage: 'Reset password',\n                })}\n              </Typography>\n            </Box>\n            {isError ? (\n              <Typography id=\"global-form-error\" role=\"alert\" tabIndex={-1} textColor=\"danger600\">\n                {formatMessage({\n                  id: 'notification.error',\n                  defaultMessage: 'An error occurred',\n                })}\n              </Typography>\n            ) : null}\n          </Column>\n          <Formik\n            enableReinitialize\n            initialValues={{\n              password: '',\n              confirmPassword: '',\n            }}\n            onSubmit={(values) => {\n              mutate({ password: values.password });\n            }}\n            validationSchema={RESET_PASSWORD_SCHEMA}\n            validateOnChange={false}\n          >\n            {({ values, errors, handleChange }) => (\n              <Form>\n                <Flex direction=\"column\" alignItems=\"stretch\" gap={6}>\n                  <PasswordInput\n                    name=\"password\"\n                    onChange={handleChange}\n                    value={values.password}\n                    error={\n                      errors.password\n                        ? formatMessage(\n                            {\n                              id: errors.password,\n                              defaultMessage: 'This field is required.',\n                            },\n                            {\n                              min: 8,\n                            }\n                          )\n                        : undefined\n                    }\n                    endAction={\n                      <FieldActionWrapper\n                        onClick={(e) => {\n                          e.preventDefault();\n                          setPasswordShown((prev) => !prev);\n                        }}\n                        label={formatMessage(\n                          passwordShown\n                            ? {\n                                id: 'Auth.form.password.show-password',\n                                defaultMessage: 'Show password',\n                              }\n                            : {\n                                id: 'Auth.form.password.hide-password',\n                                defaultMessage: 'Hide password',\n                              }\n                        )}\n                      >\n                        {passwordShown ? <Eye /> : <EyeStriked />}\n                      </FieldActionWrapper>\n                    }\n                    hint={formatMessage({\n                      id: 'Auth.form.password.hint',\n                      defaultMessage:\n                        'Password must contain at least 8 characters, 1 uppercase, 1 lowercase and 1 number',\n                    })}\n                    required\n                    label={formatMessage({\n                      id: 'global.password',\n                      defaultMessage: 'Password',\n                    })}\n                    type={passwordShown ? 'text' : 'password'}\n                  />\n                  <PasswordInput\n                    name=\"confirmPassword\"\n                    onChange={handleChange}\n                    value={values.confirmPassword}\n                    error={\n                      errors.confirmPassword\n                        ? formatMessage({\n                            id: errors.confirmPassword,\n                            defaultMessage: 'This value is required.',\n                          })\n                        : undefined\n                    }\n                    endAction={\n                      <FieldActionWrapper\n                        onClick={(e) => {\n                          e.preventDefault();\n                          setConfirmPasswordShown((prev) => !prev);\n                        }}\n                        label={formatMessage(\n                          passwordShown\n                            ? {\n                                id: 'Auth.form.password.show-password',\n                                defaultMessage: 'Show password',\n                              }\n                            : {\n                                id: 'Auth.form.password.hide-password',\n                                defaultMessage: 'Hide password',\n                              }\n                        )}\n                      >\n                        {confirmPasswordShown ? <Eye /> : <EyeStriked />}\n                      </FieldActionWrapper>\n                    }\n                    required\n                    label={formatMessage({\n                      id: 'Auth.form.confirmPassword.label',\n                      defaultMessage: 'Confirm Password',\n                    })}\n                    type={confirmPasswordShown ? 'text' : 'password'}\n                  />\n                  <Button fullWidth type=\"submit\">\n                    {formatMessage({\n                      id: 'global.change-password',\n                      defaultMessage: 'Change password',\n                    })}\n                  </Button>\n                </Flex>\n              </Form>\n            )}\n          </Formik>\n        </LayoutContent>\n        <Flex justifyContent=\"center\">\n          <Box paddingTop={4}>\n            {/* @ts-expect-error ‚Äì error with inferring the props from the as component */}\n            <Link as={NavLink} to=\"/auth/login\">\n              {formatMessage({ id: 'Auth.link.ready', defaultMessage: 'Ready to sign in?' })}\n            </Link>\n          </Box>\n        </Flex>\n      </Main>\n    </UnauthenticatedLayout>\n  );\n};\n\nconst PasswordInput = styled(TextInput)`\n  ::-ms-reveal {\n    display: none;\n  }\n`;\n\nexport { ResetPassword };\n","import type { ComponentType } from 'react';\n\nimport { ForgotPassword } from './components/ForgotPassword';\nimport { ForgotPasswordSuccess } from './components/ForgotPasswordSuccess';\nimport { Oops } from './components/Oops';\nimport { Register, RegisterProps } from './components/Register';\nimport { ResetPassword } from './components/ResetPassword';\n\nexport type AuthType =\n  | 'login'\n  | 'register'\n  | 'register-admin'\n  | 'forgot-password'\n  | 'reset-password'\n  | 'forgot-password-success'\n  | 'oops'\n  | 'providers';\n\nexport type FormDictionary = Record<AuthType, ComponentType | ComponentType<RegisterProps>>;\n\nexport const FORMS = {\n  'forgot-password': ForgotPassword,\n  'forgot-password-success': ForgotPasswordSuccess,\n  // the `Component` attribute is set after all forms and CE/EE components are loaded, but since we\n  // are here outside of a React component we can not use the hook directly\n  login: () => null,\n  oops: Oops,\n  register: Register,\n  'register-admin': Register,\n  'reset-password': ResetPassword,\n  providers: () => null,\n} satisfies FormDictionary;\n","import { auth } from '@strapi/helper-plugin';\nimport { Redirect, useHistory, useRouteMatch } from 'react-router-dom';\n\nimport { useEnterprise } from '../../hooks/useEnterprise';\n\nimport { Login as LoginCE } from './components/Login';\nimport { AuthType, FORMS, FormDictionary } from './constants';\n\n/* -------------------------------------------------------------------------------------------------\n * AuthPage\n * -----------------------------------------------------------------------------------------------*/\n\ninterface AuthPageProps {\n  hasAdmin: boolean;\n}\n\nconst AuthPage = ({ hasAdmin }: AuthPageProps) => {\n  const {\n    location: { search },\n  } = useHistory();\n  const match = useRouteMatch<{ authType: AuthType }>('/auth/:authType');\n  const authType = match?.params.authType;\n  const Login = useEnterprise(\n    LoginCE,\n    async () => (await import('../../../../ee/admin/src/pages/AuthPage/components/Login')).LoginEE\n  );\n  const forms = useEnterprise<FormDictionary, Partial<FormDictionary>>(\n    FORMS,\n    async () => (await import('../../../../ee/admin/src/pages/AuthPage/constants')).FORMS,\n    {\n      combine(ceForms, eeForms) {\n        return {\n          ...ceForms,\n          ...eeForms,\n        };\n      },\n      defaultValue: FORMS,\n    }\n  );\n\n  if (!authType || !forms) {\n    return <Redirect to=\"/\" />;\n  }\n\n  const Component = forms[authType];\n\n  // Redirect the user to the login page if\n  // the endpoint does not exist or\n  // there is already an admin user oo\n  // the user is already logged in\n  if (!Component || (hasAdmin && authType === 'register-admin') || auth.getToken()) {\n    return <Redirect to=\"/\" />;\n  }\n\n  // Redirect the user to the register-admin if it is the first user\n  if (!hasAdmin && authType !== 'register-admin') {\n    return (\n      <Redirect\n        to={{\n          pathname: '/auth/register-admin',\n          // Forward the `?redirectTo` from /auth/login\n          // /abc => /auth/login?redirectTo=%2Fabc => /auth/register-admin?redirectTo=%2Fabc\n          search,\n        }}\n      />\n    );\n  }\n\n  if (Login && authType === 'login') {\n    // Assign the component to render for the login form\n    return <Login />;\n  } else if (authType === 'login' && !Login) {\n    // block rendering until the Login EE component is fully loaded\n    return null;\n  }\n\n  return <Component hasAdmin={hasAdmin} />;\n};\n\nexport { AuthPage };\nexport type { AuthPageProps };\n","/**\n * NotFoundPage\n *\n * This is the page we show when the user visits a url that doesn't have a route\n *\n */\nimport {\n  ContentLayout,\n  EmptyStateLayout,\n  HeaderLayout,\n  LinkButton,\n  Main,\n} from '@strapi/design-system';\nimport { useFocusWhenNavigate } from '@strapi/helper-plugin';\nimport { ArrowRight, EmptyPictures } from '@strapi/icons';\nimport { useIntl } from 'react-intl';\n\nexport const NotFoundPage = () => {\n  const { formatMessage } = useIntl();\n  useFocusWhenNavigate();\n\n  return (\n    <Main labelledBy=\"title\">\n      <HeaderLayout\n        id=\"title\"\n        title={formatMessage({\n          id: 'content-manager.pageNotFound',\n          defaultMessage: 'Page not found',\n        })}\n      />\n      <ContentLayout>\n        <EmptyStateLayout\n          action={\n            <LinkButton variant=\"secondary\" endIcon={<ArrowRight />} to=\"/\">\n              {formatMessage({\n                id: 'app.components.NotFoundPage.back',\n                defaultMessage: 'Back to homepage',\n              })}\n            </LinkButton>\n          }\n          content={formatMessage({\n            id: 'app.page.not.found',\n            defaultMessage: \"Oops! We can't seem to find the page you're looging for...\",\n          })}\n          hasRadius\n          icon={<EmptyPictures width=\"10rem\" />}\n          shadow=\"tableShadow\"\n        />\n      </ContentLayout>\n    </Main>\n  );\n};\n","import * as React from 'react';\n\nimport {\n  Box,\n  Button,\n  Flex,\n  Main,\n  Option,\n  Select,\n  TextButton,\n  TextInput,\n  Typography,\n} from '@strapi/design-system';\nimport { auth, pxToRem, useFetchClient, useNotification } from '@strapi/helper-plugin';\nimport { parse } from 'qs';\nimport { useIntl } from 'react-intl';\nimport { useHistory } from 'react-router-dom';\nimport styled from 'styled-components';\n\nimport { Logo } from '../components/UnauthenticatedLogo';\nimport { LayoutContent, UnauthenticatedLayout } from '../layouts/UnauthenticatedLayout';\n\nexport const options = [\n  {\n    intlLabel: {\n      id: 'Usecase.front-end',\n      defaultMessage: 'Front-end developer',\n    },\n    value: 'front_end_developer',\n  },\n  {\n    intlLabel: {\n      id: 'Usecase.back-end',\n      defaultMessage: 'Back-end developer',\n    },\n    value: 'back_end_developer',\n  },\n  {\n    intlLabel: {\n      id: 'Usecase.full-stack',\n      defaultMessage: 'Full-stack developer',\n    },\n    value: 'full_stack_developer',\n  },\n  {\n    intlLabel: {\n      id: 'global.content-manager',\n      defaultMessage: 'Content Manager',\n    },\n    value: 'content_manager',\n  },\n  {\n    intlLabel: {\n      id: 'Usecase.content-creator',\n      defaultMessage: 'Content Creator',\n    },\n    value: 'content_creator',\n  },\n  {\n    intlLabel: {\n      id: 'Usecase.other',\n      defaultMessage: 'Other',\n    },\n    value: 'other',\n  },\n];\n\nconst TypographyCenter = styled(Typography)`\n  text-align: center;\n`;\n\nexport const UseCasePage = () => {\n  const toggleNotification = useNotification();\n  const { push, location } = useHistory();\n  const { formatMessage } = useIntl();\n  const [role, setRole] = React.useState<string | number | null>(null);\n  const [otherRole, setOtherRole] = React.useState('');\n  const { post } = useFetchClient();\n\n  const { firstname, email } = auth.get('userInfo') ?? {};\n  const { hasAdmin } = parse(location?.search, { ignoreQueryPrefix: true });\n  const isOther = role === 'other';\n\n  const handleSubmit = async (event: React.FormEvent, skipPersona: boolean) => {\n    event.preventDefault();\n    try {\n      await post('https://analytics.strapi.io/register', {\n        email,\n        username: firstname,\n        firstAdmin: Boolean(!hasAdmin),\n        persona: {\n          role: skipPersona ? undefined : role,\n          otherRole: skipPersona ? undefined : otherRole,\n        },\n      });\n\n      toggleNotification({\n        type: 'success',\n        message: {\n          id: 'Usecase.notification.success.project-created',\n          defaultMessage: 'Project has been successfully created',\n        },\n      });\n      push('/');\n    } catch (err) {\n      // Silent\n    }\n  };\n\n  return (\n    <UnauthenticatedLayout>\n      <Main labelledBy=\"usecase-title\">\n        <LayoutContent>\n          <form onSubmit={(e) => handleSubmit(e, false)}>\n            <Flex direction=\"column\" paddingBottom={7}>\n              <Logo />\n              <Box paddingTop={6} paddingBottom={1} width={pxToRem(250)}>\n                <TypographyCenter variant=\"alpha\" as=\"h1\" id=\"usecase-title\">\n                  {formatMessage({\n                    id: 'Usecase.title',\n                    defaultMessage: 'Tell us a bit more about yourself',\n                  })}\n                </TypographyCenter>\n              </Box>\n            </Flex>\n            <Flex direction=\"column\" alignItems=\"stretch\" gap={6}>\n              <Select\n                id=\"usecase\"\n                data-testid=\"usecase\"\n                label={formatMessage({\n                  id: 'Usecase.input.work-type',\n                  defaultMessage: 'What type of work do you do?',\n                })}\n                // onClear={() => setRole(null)}\n                // clearLabel={formatMessage({ id: 'clearLabel', defaultMessage: 'Clear' })}\n                onChange={(value) => setRole(value)}\n                value={role}\n              >\n                {options.map(({ intlLabel, value }) => (\n                  <Option key={value} value={value}>\n                    {formatMessage(intlLabel)}\n                  </Option>\n                ))}\n              </Select>\n              {isOther && (\n                <TextInput\n                  name=\"other\"\n                  label={formatMessage({ id: 'Usecase.other', defaultMessage: 'Other' })}\n                  value={otherRole}\n                  onChange={(e) => setOtherRole(e.target.value)}\n                  data-testid=\"other\"\n                />\n              )}\n              <Button type=\"submit\" size=\"L\" fullWidth disabled={!role}>\n                {formatMessage({ id: 'global.finish', defaultMessage: 'Finish' })}\n              </Button>\n            </Flex>\n          </form>\n        </LayoutContent>\n        <Flex justifyContent=\"center\">\n          <Box paddingTop={4}>\n            <TextButton onClick={(event) => handleSubmit(event, true)}>\n              {formatMessage({\n                id: 'Usecase.button.skip',\n                defaultMessage: 'Skip this question',\n              })}\n            </TextButton>\n          </Box>\n        </Flex>\n      </Main>\n    </UnauthenticatedLayout>\n  );\n};\n","/* eslint-disable check-file/filename-naming-convention */\n\nimport * as React from 'react';\n\nimport { LoadingIndicatorPage, MenuItem } from '@strapi/helper-plugin';\nimport { Route } from 'react-router-dom';\n\ninterface LazyCompoProps {\n  loadComponent: Required<MenuItem>['Component'];\n}\n\nconst LazyCompo = ({ loadComponent }: LazyCompoProps) => {\n  const [Compo, setCompo] = React.useState<React.ComponentType | null>(null);\n\n  React.useEffect(() => {\n    const loadCompo = async () => {\n      try {\n        const loadedCompo = await loadComponent();\n\n        // TODO the loaded component provided can currently come from a default or named export\n        // We will move the entire codebase to use named exports only\n        // Until then we support both cases with priority given to the existing default exports\n        if (typeof loadedCompo === 'function') {\n          setCompo(() => loadedCompo);\n        } else if (loadedCompo.default) {\n          setCompo(() => loadedCompo.default!);\n        }\n      } catch (err) {}\n    };\n\n    loadCompo();\n  }, [loadComponent]);\n\n  if (Compo) {\n    return <Compo />;\n  }\n\n  return <LoadingIndicatorPage />;\n};\n\nexport const createRoute = (\n  loadComponent: LazyCompoProps['loadComponent'],\n  to: MenuItem['to'],\n  exact: MenuItem['exact'] = false\n) => {\n  return (\n    <Route\n      render={() => <LazyCompo loadComponent={loadComponent} />}\n      key={to}\n      path={to}\n      exact={exact || false}\n    />\n  );\n};\n","/**\n *\n * App.js\n *\n */\n\nimport * as React from 'react';\n\nimport { SkipToContent } from '@strapi/design-system';\nimport {\n  auth,\n  LoadingIndicatorPage,\n  MenuItem,\n  prefixFileUrlWithBackendUrl,\n  TrackingProvider,\n  useAppInfo,\n  useFetchClient,\n  useNotification,\n} from '@strapi/helper-plugin';\nimport merge from 'lodash/merge';\nimport { useIntl } from 'react-intl';\nimport { useDispatch } from 'react-redux';\nimport { Route, Switch } from 'react-router-dom';\n\nimport { PrivateRoute } from './components/PrivateRoute';\nimport { ADMIN_PERMISSIONS_CE, ACTION_SET_ADMIN_PERMISSIONS } from './constants';\nimport { useConfiguration } from './contexts/configuration';\nimport { useEnterprise } from './hooks/useEnterprise';\nimport { AuthPage } from './pages/Auth/AuthPage';\nimport { NotFoundPage } from './pages/NotFoundPage';\nimport { UseCasePage } from './pages/UseCasePage';\nimport { createRoute } from './utils/createRoute';\n\ntype StrapiRoute = Pick<MenuItem, 'exact' | 'to'> & Required<Pick<MenuItem, 'Component'>>;\n\nconst ROUTES_CE: StrapiRoute[] | null = null;\n\nconst AuthenticatedApp = React.lazy(() =>\n  import('./components/AuthenticatedApp').then((mod) => ({ default: mod.AuthenticatedApp }))\n);\n\nexport const App = () => {\n  const adminPermissions = useEnterprise(\n    ADMIN_PERMISSIONS_CE,\n    async () => (await import('../../ee/admin/src/constants')).ADMIN_PERMISSIONS_EE,\n    {\n      combine(cePermissions, eePermissions) {\n        // the `settings` NS e.g. are deep nested objects, that need a deep merge\n        return merge({}, cePermissions, eePermissions);\n      },\n\n      defaultValue: ADMIN_PERMISSIONS_CE,\n    }\n  );\n  const routes = useEnterprise(\n    ROUTES_CE,\n    async () => (await import('../../ee/admin/src/constants')).ROUTES_EE,\n    {\n      defaultValue: [],\n    }\n  );\n  const toggleNotification = useNotification();\n  const { updateProjectSettings } = useConfiguration();\n  const { formatMessage } = useIntl();\n  const [{ isLoading, hasAdmin, uuid, deviceId }, setState] = React.useState({\n    isLoading: true,\n    deviceId: undefined,\n    hasAdmin: false,\n    uuid: false,\n  });\n  const dispatch = useDispatch();\n  const appInfo = useAppInfo();\n  const { get, post } = useFetchClient();\n\n  const authRoutes = React.useMemo(() => {\n    if (!routes) {\n      return null;\n    }\n\n    return routes.map(({ to, Component, exact }) => createRoute(Component, to, exact));\n  }, [routes]);\n\n  const [telemetryProperties, setTelemetryProperties] = React.useState(undefined);\n\n  React.useEffect(() => {\n    dispatch({ type: ACTION_SET_ADMIN_PERMISSIONS, payload: adminPermissions });\n  }, [adminPermissions, dispatch]);\n\n  React.useEffect(() => {\n    const currentToken = auth.getToken();\n\n    const renewToken = async () => {\n      try {\n        const {\n          data: {\n            data: { token },\n          },\n        } = await post('/admin/renew-token', { token: currentToken });\n        auth.updateToken(token);\n      } catch (err) {\n        // Refresh app\n        auth.clearAppStorage();\n        window.location.reload();\n      }\n    };\n\n    if (currentToken) {\n      renewToken();\n    }\n  }, [post]);\n\n  React.useEffect(() => {\n    const getData = async () => {\n      try {\n        const {\n          data: {\n            data: { hasAdmin, uuid, menuLogo, authLogo },\n          },\n        } = await get(`/admin/init`);\n\n        updateProjectSettings({\n          menuLogo: prefixFileUrlWithBackendUrl(menuLogo),\n          authLogo: prefixFileUrlWithBackendUrl(authLogo),\n        });\n\n        if (uuid) {\n          const {\n            data: { data: properties },\n          } = await get(`/admin/telemetry-properties`, {\n            // NOTE: needed because the interceptors of the fetchClient redirect to /login when receive a 401 and it would end up in an infinite loop when the user doesn't have a session.\n            validateStatus: (status) => status < 500,\n          });\n\n          setTelemetryProperties(properties);\n\n          try {\n            const event = 'didInitializeAdministration';\n            await post(\n              'https://analytics.strapi.io/api/v2/track',\n              {\n                // This event is anonymous\n                event,\n                userId: '',\n                deviceId,\n                eventPropeties: {},\n                userProperties: { environment: appInfo.currentEnvironment },\n                groupProperties: { ...properties, projectId: uuid },\n              },\n              {\n                headers: {\n                  'X-Strapi-Event': event,\n                },\n              }\n            );\n          } catch (e) {\n            // Silent.\n          }\n        }\n\n        setState({ isLoading: false, hasAdmin, uuid, deviceId });\n      } catch (err) {\n        toggleNotification({\n          type: 'warning',\n          message: { id: 'app.containers.App.notification.error.init' },\n        });\n      }\n    };\n\n    getData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [toggleNotification, updateProjectSettings]);\n\n  const trackingInfo = React.useMemo(\n    () => ({\n      uuid,\n      telemetryProperties,\n      deviceId,\n    }),\n    [uuid, telemetryProperties, deviceId]\n  );\n\n  if (isLoading) {\n    return <LoadingIndicatorPage />;\n  }\n\n  return (\n    <React.Suspense fallback={<LoadingIndicatorPage />}>\n      <SkipToContent>\n        {formatMessage({ id: 'skipToContent', defaultMessage: 'Skip to content' })}\n      </SkipToContent>\n      <TrackingProvider value={trackingInfo}>\n        <Switch>\n          {authRoutes}\n          <Route\n            path=\"/auth/:authType\"\n            render={(routerProps) => <AuthPage {...routerProps} hasAdmin={hasAdmin} />}\n            exact\n          />\n          <PrivateRoute path=\"/usecase\" component={UseCasePage} />\n          <PrivateRoute path=\"/\" component={AuthenticatedApp} />\n          <Route path=\"\" component={NotFoundPage} />\n        </Switch>\n      </TrackingProvider>\n    </React.Suspense>\n  );\n};\n","export default \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAwIiBoZWlnaHQ9IjgwMCIgdmlld0JveD0iMCAwIDgwMCA4MDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8cGF0aCBkPSJNMzkgMjgyYzAtMTE4IDAtMTc2LjkgMzYuNi0yMTMuNUMxMTIuMiAzMiAxNzEuMSAzMiAyODguOSAzMmgyMjEuMmMxMTcuOCAwIDE3Ni43IDAgMjEzLjMgMzYuNkM3NjAgMTA1LjIgNzYwIDE2NC4xIDc2MCAyODEuOXYyMjEuMmMwIDExNy44IDAgMTc2LjctMzYuNiAyMTMuM0M2ODYuOCA3NTMgNjI3LjkgNzUzIDUxMC4xIDc1M0gyODguOWMtMTE3LjggMC0xNzYuNyAwLTIxMy4zLTM2LjZDMzkgNjc5LjggMzkgNjIwLjkgMzkgNTAzLjFWMjgxLjlaIiBmaWxsPSIjNDk0NUZGIi8+CiAgICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTUzNi40IDI1MC43SDI5My43djEyMy44aDEyMy44djEyMy43aDEyMy44VjI1NS41YzAtMi42LTIuMi00LjgtNC45LTQuOFoiIGZpbGw9IiNmZmYiLz4KICAgIDxwYXRoIGZpbGw9IiNmZmYiIGQ9Ik00MTIuNyAzNzQuNWg0Ljh2NC44aC00Ljh6Ii8+CiAgICA8cGF0aCBkPSJNMjkzLjggMzc0LjVoMTE5YzIuNiAwIDQuOCAyLjEgNC44IDQuOHYxMTloLTExOWE0LjggNC44IDAgMCAxLTQuOC00Ljl2LTExOVoiIGZpbGw9IiM5NTkzRkYiLz4KICAgIDxwYXRoIGQ9Ik00MTcuNSA0OTguMmgxMjMuOEw0MjEuNiA2MThhMi40IDIuNCAwIDAgMS00LTEuN3YtMTE4Wk0yOTMuOCAzNzQuNWgtMTE4YTIuNCAyLjQgMCAwIDEtMS43LTQuMWwxMTkuNy0xMTkuN3YxMjMuOFoiIGZpbGw9IiM5NTkzRkYiLz4KPC9zdmc+Cg==\"","import { createContext } from '@radix-ui/react-context';\n\nimport type { StrapiApp } from '../StrapiApp';\ninterface AdminContextValue {\n  getAdminInjectedComponents: StrapiApp['getAdminInjectedComponents'];\n}\n\nconst [AdminContextProvider, useAdminContext] = createContext<AdminContextValue>('AdminContext');\n\nconst useAdmin = () => useAdminContext('useAdmin');\n\nexport { AdminContextProvider, useAdmin };\nexport type { AdminContextValue };\n","import * as React from 'react';\n\nimport { ConfigurationContextProvider, ConfigurationContextValue } from '../contexts/configuration';\n\ninterface ConfigurationProviderProps {\n  children: React.ReactNode;\n  authLogo: string;\n  menuLogo: string;\n  showReleaseNotification?: boolean;\n  showTutorials?: boolean;\n}\n\ntype LogoKeys = keyof ConfigurationContextValue['logos'];\n\nconst ConfigurationProvider = ({\n  children,\n  authLogo: defaultAuthLogo,\n  menuLogo: defaultMenuLogo,\n  showReleaseNotification = false,\n  showTutorials = false,\n}: ConfigurationProviderProps) => {\n  const [{ menuLogo, authLogo }, setLogos] = React.useState<{\n    [_Key in `${LogoKeys}Logo`]?: ConfigurationContextValue['logos'][LogoKeys]['custom'];\n  }>({\n    menuLogo: null,\n    authLogo: null,\n  });\n\n  const updateProjectSettings: ConfigurationContextValue['updateProjectSettings'] =\n    React.useCallback(\n      ({ menuLogo, authLogo }) => {\n        setLogos({\n          menuLogo: menuLogo || defaultMenuLogo,\n          authLogo: authLogo || defaultAuthLogo,\n        });\n      },\n      [defaultAuthLogo, defaultMenuLogo]\n    );\n\n  return (\n    <ConfigurationContextProvider\n      updateProjectSettings={updateProjectSettings}\n      showReleaseNotification={showReleaseNotification}\n      showTutorials={showTutorials}\n      logos={{\n        menu: { custom: menuLogo, default: defaultMenuLogo },\n        auth: { custom: authLogo, default: defaultAuthLogo },\n      }}\n    >\n      {children}\n    </ConfigurationContextProvider>\n  );\n};\n\nexport { ConfigurationProvider };\nexport type { ConfigurationProviderProps };\n","import * as React from 'react';\n\nimport {\n  GuidedTourContextValue,\n  GuidedTourProvider as GuidedTourProviderComponent,\n  GuidedTourSectionKey,\n  GuidedTourStep,\n  GuidedTourStepKey,\n  auth,\n} from '@strapi/helper-plugin';\nimport produce from 'immer';\nimport get from 'lodash/get';\nimport set from 'lodash/set';\n\n/* -------------------------------------------------------------------------------------------------\n * GuidedTourProvider\n * -----------------------------------------------------------------------------------------------*/\n\ninterface GuidedTourProviderProps {\n  children: React.ReactNode;\n}\n\nconst GuidedTourProvider = ({ children }: GuidedTourProviderProps) => {\n  const [{ currentStep, guidedTourState, isGuidedTourVisible, isSkipped }, dispatch] =\n    React.useReducer(reducer, initialState, initialiseState);\n\n  const setCurrentStep = (step: SetCurrentStepAction['step']) => {\n    // if step is null it is intentional, we need to dispatch it\n    if (step !== null) {\n      const isStepAlreadyDone = get(guidedTourState, step);\n      const [sectionName, stepName] = step.split('.') as [GuidedTourSectionKey, GuidedTourStepKey];\n      const sectionArray = Object.entries(guidedTourState[sectionName]);\n\n      const currentStepIndex = sectionArray.findIndex(([key]) => key === stepName);\n      const previousSteps = sectionArray.slice(0, currentStepIndex);\n\n      const isStepToShow = previousSteps.every(([, sectionValue]) => sectionValue);\n\n      if (isStepAlreadyDone || isSkipped || !isStepToShow) {\n        return null;\n      }\n    }\n\n    auth.set(null, 'GUIDED_TOUR_CURRENT_STEP', true);\n\n    return dispatch({\n      type: 'SET_CURRENT_STEP',\n      step,\n    });\n  };\n\n  const setGuidedTourVisibility = (value: SetGuidedTourVisibilityAction['value']) => {\n    dispatch({\n      type: 'SET_GUIDED_TOUR_VISIBILITY',\n      value,\n    });\n  };\n\n  const setStepState = (currentStep: GuidedTourStep, value: SetStepStateAction['value']) => {\n    addCompletedStep(currentStep);\n\n    dispatch({\n      type: 'SET_STEP_STATE',\n      currentStep,\n      value,\n    });\n  };\n\n  const startSection = (sectionName: GuidedTourSectionKey) => {\n    const sectionSteps = guidedTourState[sectionName];\n\n    if (sectionSteps) {\n      const guidedTourArray = Object.entries(guidedTourState);\n\n      // Find current section position in the guidedTourArray\n      // Get only previous sections based on current section position\n      const currentSectionIndex = guidedTourArray.findIndex(([key]) => key === sectionName);\n      const previousSections = guidedTourArray.slice(0, currentSectionIndex);\n\n      // Check if every steps from previous section are done\n      const isSectionToShow = previousSections.every(([, sectionValue]) =>\n        Object.values(sectionValue).every(Boolean)\n      );\n\n      const [firstStep] = Object.keys(sectionSteps) as [GuidedTourStepKey];\n      const isFirstStepDone = sectionSteps[firstStep];\n\n      if (isSectionToShow && !currentStep && !isFirstStepDone) {\n        setCurrentStep(`${sectionName}.${firstStep}`);\n      }\n    }\n  };\n\n  const setSkipped = (value: SetSkippedAction['value']) => {\n    auth.set(value, 'GUIDED_TOUR_SKIPPED', true);\n\n    dispatch({\n      type: 'SET_SKIPPED',\n      value,\n    });\n  };\n\n  return (\n    <GuidedTourProviderComponent\n      guidedTourState={guidedTourState}\n      currentStep={currentStep}\n      setCurrentStep={setCurrentStep}\n      setGuidedTourVisibility={setGuidedTourVisibility}\n      setSkipped={setSkipped}\n      setStepState={setStepState}\n      startSection={startSection}\n      isGuidedTourVisible={isGuidedTourVisible}\n      isSkipped={isSkipped}\n    >\n      {children}\n    </GuidedTourProviderComponent>\n  );\n};\n\ntype State = Pick<\n  GuidedTourContextValue,\n  'guidedTourState' | 'currentStep' | 'isGuidedTourVisible' | 'isSkipped'\n>;\n\nconst initialState = {\n  currentStep: null,\n  guidedTourState: {\n    contentTypeBuilder: {\n      create: false,\n      success: false,\n    },\n    contentManager: {\n      create: false,\n      success: false,\n    },\n    apiTokens: {\n      create: false,\n      success: false,\n    },\n  },\n  isGuidedTourVisible: false,\n  isSkipped: false,\n} satisfies State;\n\ninterface SetCurrentStepAction {\n  type: 'SET_CURRENT_STEP';\n  step: GuidedTourStep | null;\n}\n\ninterface SetStepStateAction {\n  type: 'SET_STEP_STATE';\n  currentStep: GuidedTourStep;\n  value: boolean;\n}\n\ninterface SetSkippedAction {\n  type: 'SET_SKIPPED';\n  value: boolean;\n}\n\ninterface SetGuidedTourVisibilityAction {\n  type: 'SET_GUIDED_TOUR_VISIBILITY';\n  value: boolean;\n}\n\ntype Action =\n  | SetCurrentStepAction\n  | SetStepStateAction\n  | SetSkippedAction\n  | SetGuidedTourVisibilityAction;\n\nconst reducer: React.Reducer<State, Action> = (state: State = initialState, action: Action) =>\n  produce(state, (draftState) => {\n    switch (action.type) {\n      case 'SET_CURRENT_STEP': {\n        draftState.currentStep = action.step;\n        break;\n      }\n      case 'SET_STEP_STATE': {\n        const [section, step] = action.currentStep.split('.') as [\n          GuidedTourSectionKey,\n          GuidedTourStepKey\n        ];\n        draftState.guidedTourState[section][step] = action.value;\n        break;\n      }\n      case 'SET_SKIPPED': {\n        draftState.isSkipped = action.value;\n        break;\n      }\n      case 'SET_GUIDED_TOUR_VISIBILITY': {\n        draftState.isGuidedTourVisible = action.value;\n        break;\n      }\n      default: {\n        return draftState;\n      }\n    }\n  });\n\nconst initialiseState = (initialState: State) => {\n  const copyInitialState = { ...initialState };\n  const guidedTourLocaleStorage = auth.get('GUIDED_TOUR_COMPLETED_STEPS');\n  const currentStepLocaleStorage = auth.get('GUIDED_TOUR_CURRENT_STEP');\n  const skippedLocaleStorage = auth.get('GUIDED_TOUR_SKIPPED');\n\n  if (Array.isArray(guidedTourLocaleStorage)) {\n    guidedTourLocaleStorage.forEach((step) => {\n      const [sectionName, stepName] = step.split('.');\n      set(copyInitialState, ['guidedTourState', sectionName, stepName], true);\n    });\n  }\n\n  // if current step when initializing mark it as done\n  if (currentStepLocaleStorage) {\n    const [sectionName, stepName] = currentStepLocaleStorage.split('.') as [\n      GuidedTourSectionKey,\n      GuidedTourStepKey\n    ];\n    set(copyInitialState, ['guidedTourState', sectionName, stepName], true);\n\n    addCompletedStep(currentStepLocaleStorage as GuidedTourStep);\n\n    auth.set(null, 'GUIDED_TOUR_CURRENT_STEP', true);\n  }\n\n  if (skippedLocaleStorage !== null) {\n    set(copyInitialState, 'isSkipped', skippedLocaleStorage);\n  }\n\n  return copyInitialState;\n};\n\n/**\n * @description Add a completed step to the local storage if it does not already exist.\n */\nconst addCompletedStep = (completedStep: GuidedTourStep) => {\n  const currentSteps = auth.get('GUIDED_TOUR_COMPLETED_STEPS') ?? [];\n\n  if (!Array.isArray(currentSteps)) {\n    return;\n  }\n\n  const isAlreadyStored = currentSteps.includes(completedStep);\n\n  if (isAlreadyStored) {\n    return;\n  }\n\n  auth.set([...currentSteps, completedStep], 'GUIDED_TOUR_COMPLETED_STEPS', true);\n};\n\nexport { GuidedTourProvider };\n","import { createContext } from '@radix-ui/react-context';\nimport { DefaultTheme } from 'styled-components';\n\ntype ThemeName = 'light' | 'dark' | 'system';\ntype NonSystemThemeName = Exclude<ThemeName, 'system'>;\n\ninterface ThemeToggleContextContextValue {\n  currentTheme?: ThemeName;\n  onChangeTheme?: (nextTheme: ThemeName) => void;\n  themes?: {\n    dark: DefaultTheme;\n    light: DefaultTheme;\n  };\n  systemTheme?: NonSystemThemeName;\n}\n\nconst [ThemeToggleContextProvider, useThemeToggleContext] =\n  createContext<ThemeToggleContextContextValue>('ThemeToggleContext');\n\nconst useThemeToggle = () => useThemeToggleContext('useThemeToggle');\n\nexport { ThemeToggleContextProvider, useThemeToggle };\nexport type { ThemeName, NonSystemThemeName, ThemeToggleContextContextValue };\n","import * as React from 'react';\n\nimport { DesignSystemProvider } from '@strapi/design-system';\nimport { useIntl } from 'react-intl';\nimport { createGlobalStyle } from 'styled-components';\n\nimport { useThemeToggle } from '../contexts/themeToggle';\n\ninterface ThemeProps {\n  children: React.ReactNode;\n}\n\nconst Theme = ({ children }: ThemeProps) => {\n  const { currentTheme, themes, systemTheme } = useThemeToggle();\n  const { locale } = useIntl();\n\n  const computedThemeName = currentTheme === 'system' ? systemTheme : currentTheme;\n\n  return (\n    <DesignSystemProvider\n      locale={locale}\n      /**\n       * TODO: could we make this neater i.e. by setting up the context to throw\n       * if it can't find it, that way the type is always fully defined and we're\n       * not checking it all the time...\n       */\n      theme={themes?.[computedThemeName || 'light']}\n    >\n      {children}\n      <GlobalStyle />\n    </DesignSystemProvider>\n  );\n};\n\nconst GlobalStyle = createGlobalStyle`\n  body {\n    background: ${({ theme }) => theme.colors.neutral100};\n  }\n`;\n\nexport { Theme };\n","import * as React from 'react';\n\nimport { DefaultTheme } from 'styled-components';\n\nimport { ThemeToggleContextProvider, ThemeName, NonSystemThemeName } from '../contexts/themeToggle';\n\nconst THEME_KEY = 'STRAPI_THEME';\n\nconst getDefaultTheme = () => {\n  const persistedTheme = localStorage.getItem(THEME_KEY) as ThemeName | null;\n\n  return persistedTheme || 'system';\n};\n\ninterface ThemeToggleProviderProps {\n  children: React.ReactNode;\n  themes: {\n    light: DefaultTheme;\n    dark: DefaultTheme;\n  };\n}\n\nconst ThemeToggleProvider = ({ children, themes }: ThemeToggleProviderProps) => {\n  const [currentTheme, setCurrentTheme] = React.useState<ThemeName>(getDefaultTheme());\n  const [systemTheme, setSystemTheme] = React.useState<NonSystemThemeName>();\n\n  const handleChangeTheme = React.useCallback(\n    (nextTheme: ThemeName) => {\n      setCurrentTheme(nextTheme);\n      localStorage.setItem(THEME_KEY, nextTheme);\n    },\n    [setCurrentTheme]\n  );\n\n  // Listen to changes in the system theme\n  React.useEffect(() => {\n    const themeWatcher = window.matchMedia('(prefers-color-scheme: dark)');\n    setSystemTheme(themeWatcher.matches ? 'dark' : 'light');\n\n    const listener = (event: MediaQueryListEvent) => {\n      setSystemTheme(event.matches ? 'dark' : 'light');\n    };\n    themeWatcher.addEventListener('change', listener);\n\n    // Remove listener on cleanup\n    return () => {\n      themeWatcher.removeEventListener('change', listener);\n    };\n  }, []);\n\n  return (\n    <ThemeToggleContextProvider\n      currentTheme={currentTheme}\n      onChangeTheme={handleChangeTheme}\n      themes={themes}\n      systemTheme={systemTheme}\n    >\n      {children}\n    </ThemeToggleContextProvider>\n  );\n};\n\nexport { ThemeToggleProvider };\nexport type { ThemeToggleProviderProps };\n","import * as React from 'react';\n\nimport {\n  AutoReloadOverlayBlockerProvider,\n  CustomFieldsProvider,\n  CustomFieldsProviderProps,\n  LibraryProvider,\n  LibraryProviderProps,\n  NotificationsProvider,\n  OverlayBlockerProvider,\n  StrapiAppProvider,\n  StrapiAppProviderProps,\n} from '@strapi/helper-plugin';\nimport { QueryClient, QueryClientProvider } from 'react-query';\nimport { Provider } from 'react-redux';\n\nimport { AdminContextProvider, AdminContextValue } from '../contexts/admin';\n\nimport { ConfigurationProvider, ConfigurationProviderProps } from './ConfigurationProvider';\nimport { GuidedTourProvider } from './GuidedTour/Provider';\nimport { LanguageProvider, LanguageProviderProps } from './LanguageProvider';\nimport { Theme } from './Theme';\nimport { ThemeToggleProvider, ThemeToggleProviderProps } from './ThemeToggleProvider';\n\nimport type { Store } from '../core/store/configure';\n\nconst queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      refetchOnWindowFocus: false,\n    },\n  },\n});\n\ninterface ProvidersProps\n  extends Pick<ThemeToggleProviderProps, 'themes'>,\n    Pick<LanguageProviderProps, 'messages' | 'localeNames'>,\n    Pick<\n      ConfigurationProviderProps,\n      'authLogo' | 'menuLogo' | 'showReleaseNotification' | 'showTutorials'\n    >,\n    Pick<AdminContextValue, 'getAdminInjectedComponents'>,\n    Pick<CustomFieldsProviderProps, 'customFields'>,\n    Pick<LibraryProviderProps, 'components' | 'fields'>,\n    Pick<\n      StrapiAppProviderProps,\n      | 'getPlugin'\n      | 'menu'\n      | 'plugins'\n      | 'runHookParallel'\n      | 'runHookSeries'\n      | 'runHookWaterfall'\n      | 'settings'\n    > {\n  children: React.ReactNode;\n  store: Store;\n}\n\nconst Providers = ({\n  authLogo,\n  children,\n  components,\n  customFields,\n  fields,\n  getAdminInjectedComponents,\n  getPlugin,\n  localeNames,\n  menu,\n  menuLogo,\n  messages,\n  plugins,\n  runHookParallel,\n  runHookSeries,\n  runHookWaterfall,\n  settings,\n  showReleaseNotification,\n  showTutorials,\n  store,\n  themes,\n}: ProvidersProps) => {\n  return (\n    <LanguageProvider messages={messages} localeNames={localeNames}>\n      <ThemeToggleProvider themes={themes}>\n        <Theme>\n          <QueryClientProvider client={queryClient}>\n            <Provider store={store}>\n              <AdminContextProvider getAdminInjectedComponents={getAdminInjectedComponents}>\n                <ConfigurationProvider\n                  authLogo={authLogo}\n                  menuLogo={menuLogo}\n                  showReleaseNotification={showReleaseNotification}\n                  showTutorials={showTutorials}\n                >\n                  <StrapiAppProvider\n                    getPlugin={getPlugin}\n                    menu={menu}\n                    plugins={plugins}\n                    runHookParallel={runHookParallel}\n                    runHookWaterfall={runHookWaterfall}\n                    runHookSeries={runHookSeries}\n                    settings={settings}\n                  >\n                    <LibraryProvider components={components} fields={fields}>\n                      <CustomFieldsProvider customFields={customFields}>\n                        <AutoReloadOverlayBlockerProvider>\n                          <OverlayBlockerProvider>\n                            <GuidedTourProvider>\n                              <NotificationsProvider>{children}</NotificationsProvider>\n                            </GuidedTourProvider>\n                          </OverlayBlockerProvider>\n                        </AutoReloadOverlayBlockerProvider>\n                      </CustomFieldsProvider>\n                    </LibraryProvider>\n                  </StrapiAppProvider>\n                </ConfigurationProvider>\n              </AdminContextProvider>\n            </Provider>\n          </QueryClientProvider>\n        </Theme>\n      </ThemeToggleProvider>\n    </LanguageProvider>\n  );\n};\n\nexport { Providers };\n","/* eslint-disable check-file/filename-naming-convention */\nimport * as React from 'react';\n\nimport invariant from 'invariant';\n\nexport interface Component {\n  name: string;\n  Component: React.ComponentType;\n}\n\nexport class Components {\n  components: Record<Component['name'], Component['Component']>;\n\n  constructor() {\n    this.components = {};\n  }\n\n  add(component: Component) {\n    const { name, Component } = component;\n\n    invariant(Component, 'A Component must be provided');\n    invariant(name, 'A name must be provided');\n    invariant(this.components[name] === undefined, 'A similar field already exists');\n\n    this.components[name] = Component;\n  }\n}\n","/* eslint-disable check-file/filename-naming-convention */\nimport invariant from 'invariant';\n\nimport type {\n  CustomField,\n  CustomFieldOption,\n  CustomFieldOptionSection,\n  CustomFieldUID,\n} from '@strapi/helper-plugin';\n\nconst ALLOWED_TYPES = [\n  'biginteger',\n  'boolean',\n  'date',\n  'datetime',\n  'decimal',\n  'email',\n  'enumeration',\n  'float',\n  'integer',\n  'json',\n  'password',\n  'richtext',\n  'string',\n  'text',\n  'time',\n  'uid',\n] as const;\n\nconst ALLOWED_ROOT_LEVEL_OPTIONS = [\n  'min',\n  'minLength',\n  'max',\n  'maxLength',\n  'required',\n  'regex',\n  'enum',\n  'unique',\n  'private',\n  'default',\n] as const;\n\nexport class CustomFields {\n  customFields: Record<CustomFieldUID, CustomField>;\n\n  constructor() {\n    this.customFields = {};\n  }\n\n  register(customFields: CustomField | CustomField[]) {\n    if (Array.isArray(customFields)) {\n      // If several custom fields are passed, register them one by one\n      customFields.forEach((customField) => {\n        this.register(customField);\n      });\n    } else {\n      // Handle individual custom field\n      const { name, pluginId, type, intlLabel, intlDescription, components, options } =\n        customFields;\n\n      // Ensure required attributes are provided\n      invariant(name, 'A name must be provided');\n      invariant(type, 'A type must be provided');\n      invariant(intlLabel, 'An intlLabel must be provided');\n      invariant(intlDescription, 'An intlDescription must be provided');\n      invariant(components, 'A components object must be provided');\n      invariant(components.Input, 'An Input component must be provided');\n\n      // Ensure the type is valid\n      invariant(\n        ALLOWED_TYPES.includes(type),\n        `Custom field type: '${type}' is not a valid Strapi type or it can't be used with a Custom Field`\n      );\n\n      // Ensure name has no special characters\n      const isValidObjectKey = /^(?![0-9])[a-zA-Z0-9$_-]+$/g;\n      invariant(\n        isValidObjectKey.test(name),\n        `Custom field name: '${name}' is not a valid object key`\n      );\n\n      // Ensure options have valid name paths\n      const allFormOptions = [...(options?.base || []), ...(options?.advanced || [])];\n\n      if (allFormOptions.length) {\n        const optionPathValidations = allFormOptions.reduce(optionsValidationReducer, []);\n\n        optionPathValidations.forEach(({ isValidOptionPath, errorMessage }) => {\n          invariant(isValidOptionPath, errorMessage);\n        });\n      }\n\n      // When no plugin is specified, default to the global namespace\n      const uid: CustomFieldUID = pluginId ? `plugin::${pluginId}.${name}` : `global::${name}`;\n\n      // Ensure the uid is unique\n      const uidAlreadyUsed = Object.prototype.hasOwnProperty.call(this.customFields, uid);\n      invariant(!uidAlreadyUsed, `Custom field: '${uid}' has already been registered`);\n\n      this.customFields[uid] = customFields;\n    }\n  }\n\n  getAll() {\n    return this.customFields;\n  }\n\n  get(uid: CustomFieldUID): CustomField | undefined {\n    return this.customFields[uid];\n  }\n}\n\ninterface OptionValidation {\n  isValidOptionPath: boolean;\n  errorMessage: string;\n}\n\nconst optionsValidationReducer = (\n  acc: OptionValidation[],\n  option: CustomFieldOptionSection | CustomFieldOption\n): OptionValidation[] => {\n  if ('items' in option) {\n    return option.items.reduce(optionsValidationReducer, acc);\n  }\n\n  if (!option.name) {\n    acc.push({\n      isValidOptionPath: false,\n      errorMessage: \"The 'name' property is required on an options object\",\n    });\n  } else {\n    acc.push({\n      isValidOptionPath:\n        option.name.startsWith('options') || ALLOWED_ROOT_LEVEL_OPTIONS.includes(option.name),\n      errorMessage: `'${option.name}' must be prefixed with 'options.'`,\n    });\n  }\n\n  return acc;\n};\n","/* eslint-disable check-file/filename-naming-convention */\nimport * as React from 'react';\n\nimport invariant from 'invariant';\n\nexport interface Field {\n  type: string;\n  Component: React.ComponentType;\n}\n\nexport class Fields {\n  fields: Record<Field['type'], Field['Component']>;\n\n  constructor() {\n    this.fields = {};\n  }\n\n  add(field: Field) {\n    const { type, Component } = field;\n\n    invariant(Component, 'A Component must be provided');\n    invariant(type, 'A type must be provided');\n\n    this.fields[type] = Component;\n  }\n}\n","/* eslint-disable check-file/filename-naming-convention */\nimport { Middleware } from '@reduxjs/toolkit';\n\nimport { RootState } from '../store/configure';\n\ntype TypedMiddleware = () => Middleware<object, RootState>;\n\nclass Middlewares {\n  middlewares: Array<TypedMiddleware>;\n\n  constructor() {\n    this.middlewares = [];\n  }\n\n  add(middleware: TypedMiddleware) {\n    this.middlewares.push(middleware);\n  }\n}\n\nexport { Middlewares, TypedMiddleware as Middleware };\n","/* eslint-disable check-file/filename-naming-convention */\nimport { Plugin as IPlugin } from '@strapi/helper-plugin';\n\nexport interface PluginConfig\n  extends Pick<IPlugin, 'apis' | 'initializer' | 'injectionZones' | 'isReady' | 'name'> {\n  id: string;\n}\n\nexport class Plugin implements IPlugin {\n  apis: PluginConfig['apis'];\n  initializer: PluginConfig['initializer'];\n  injectionZones: PluginConfig['injectionZones'];\n  isReady: PluginConfig['isReady'];\n  name: PluginConfig['name'];\n  pluginId: PluginConfig['id'];\n\n  constructor(pluginConf: PluginConfig) {\n    this.apis = pluginConf.apis || {};\n    this.initializer = pluginConf.initializer || null;\n    this.injectionZones = pluginConf.injectionZones || {};\n    this.isReady = pluginConf.isReady !== undefined ? pluginConf.isReady : true;\n    this.name = pluginConf.name;\n    this.pluginId = pluginConf.id;\n  }\n\n  getInjectedComponents(containerName: string, blockName: string) {\n    try {\n      return this.injectionZones[containerName][blockName] || [];\n    } catch (err) {\n      console.error('Cannot get injected component', err);\n\n      return [];\n    }\n  }\n\n  injectComponent(\n    containerName: string,\n    blockName: string,\n    component: ReturnType<IPlugin['getInjectedComponents']>[number]\n  ) {\n    try {\n      this.injectionZones[containerName][blockName].push(component);\n    } catch (err) {\n      console.error('Cannot inject component', err);\n    }\n  }\n}\n","/* eslint-disable check-file/filename-naming-convention */\n\nimport { Reducer, ReducersMapObject } from '@reduxjs/toolkit';\n\ninterface ReducerConstructorArgs {\n  appReducers?: ReducersMapObject;\n}\n\nexport class Reducers {\n  reducers: ReducersMapObject;\n\n  constructor({ appReducers = {} }: ReducerConstructorArgs = {}) {\n    this.reducers = { ...appReducers };\n  }\n\n  add(reducerName: string, reducer: Reducer) {\n    this.reducers[reducerName] = reducer;\n  }\n}\n","import { createSelector, Selector } from '@reduxjs/toolkit';\nimport { useDispatch, useStore, TypedUseSelectorHook, useSelector } from 'react-redux';\n\nimport type { RootState, Store } from './configure';\n\ntype AppDispatch = Store['dispatch'];\n\nconst useTypedDispatch: () => AppDispatch = useDispatch;\nconst useTypedStore = useStore as () => Store;\nconst useTypedSelector: TypedUseSelectorHook<RootState> = useSelector;\n\nconst createTypedSelector = <TResult>(selector: Selector<RootState, TResult>) =>\n  createSelector((state: RootState) => state, selector);\n\nexport { useTypedDispatch, useTypedStore, useTypedSelector, createTypedSelector };\n","import * as React from 'react';\n\nimport {\n  LoadingIndicatorPage,\n  Permission,\n  RBACContext,\n  RBACContextValue,\n} from '@strapi/helper-plugin';\nimport produce from 'immer';\n\nimport { useTypedSelector, useTypedDispatch } from '../core/store/hooks';\n\n/* -------------------------------------------------------------------------------------------------\n * RBACProvider\n * -----------------------------------------------------------------------------------------------*/\n\ninterface RBACProviderProps {\n  children: React.ReactNode;\n  permissions: Permission[];\n  refetchPermissions: RBACContextValue['refetchPermissions'];\n}\n\nconst RBACProvider = ({ children, permissions, refetchPermissions }: RBACProviderProps) => {\n  const allPermissions = useTypedSelector((state) => state.rbacProvider.allPermissions);\n\n  const dispatch = useTypedDispatch();\n\n  React.useEffect(() => {\n    dispatch(setPermissionsAction(permissions));\n\n    return () => {\n      dispatch(resetStoreAction());\n    };\n  }, [permissions, dispatch]);\n\n  if (!allPermissions) {\n    return <LoadingIndicatorPage />;\n  }\n\n  return (\n    <RBACContext.Provider value={{ allPermissions, refetchPermissions }}>\n      {children}\n    </RBACContext.Provider>\n  );\n};\n\n/* -------------------------------------------------------------------------------------------------\n * RBACReducer\n * -----------------------------------------------------------------------------------------------*/\n\ninterface RBACState {\n  allPermissions: null | Permission[];\n  collectionTypesRelatedPermissions: Record<string, Record<string, Permission[]>>;\n}\n\nconst initialState = {\n  allPermissions: null,\n  collectionTypesRelatedPermissions: {},\n};\n\nconst RESET_STORE = 'StrapiAdmin/RBACProvider/RESET_STORE';\nconst SET_PERMISSIONS = 'StrapiAdmin/RBACProvider/SET_PERMISSIONS';\n\ninterface ResetStoreAction {\n  type: typeof RESET_STORE;\n}\n\nconst resetStoreAction = (): ResetStoreAction => ({ type: RESET_STORE });\n\ninterface SetPermissionsAction {\n  type: typeof SET_PERMISSIONS;\n  permissions: Permission[];\n}\n\nconst setPermissionsAction = (\n  permissions: SetPermissionsAction['permissions']\n): SetPermissionsAction => ({\n  type: SET_PERMISSIONS,\n  permissions,\n});\n\ntype Actions = ResetStoreAction | SetPermissionsAction;\n\nconst RBACReducer = (state: RBACState = initialState, action: Actions) =>\n  produce(state, (draftState) => {\n    switch (action.type) {\n      case SET_PERMISSIONS: {\n        draftState.allPermissions = action.permissions;\n        draftState.collectionTypesRelatedPermissions = action.permissions\n          .filter((perm) => perm.subject)\n          .reduce<Record<string, Record<string, Permission[]>>>((acc, current) => {\n            const { subject, action } = current;\n\n            if (!subject) return acc;\n\n            if (!acc[subject]) {\n              acc[subject] = {};\n            }\n\n            acc[subject] = acc[subject][action]\n              ? { ...acc[subject], [action]: [...acc[subject][action], current] }\n              : { ...acc[subject], [action]: [current] };\n\n            return acc;\n          }, {});\n        break;\n      }\n      case RESET_STORE: {\n        return initialState;\n      }\n      default:\n        return state;\n    }\n  });\n\nexport { RBACProvider, RBACReducer, resetStoreAction, setPermissionsAction };\nexport type {\n  RBACState,\n  Actions,\n  RBACProviderProps,\n  ResetStoreAction,\n  SetPermissionsAction,\n  Permission,\n};\n","export const SET_PERMISSIONS = 'ContentManager/RBACManager/SET_PERMISSIONS';\nexport const RESET_PERMISSIONS = 'ContentManager/RBACManager/RESET_PERMISSIONS';\n","/**\n *\n * RBACManager reducer\n */\n\nimport produce from 'immer';\n\nimport { RESET_PERMISSIONS, SET_PERMISSIONS } from './constants';\n\nexport const initialState = {\n  permissions: null,\n};\n\nconst rbacManagerReducer = (state = initialState, action) =>\n  // eslint-disable-next-line consistent-return\n  produce(state, (draftState) => {\n    switch (action.type) {\n      case SET_PERMISSIONS: {\n        draftState.permissions = Object.entries(action.permissions).reduce((acc, current) => {\n          return [...acc, ...current[1]];\n        }, []);\n        break;\n      }\n      case RESET_PERMISSIONS: {\n        draftState.permissions = null;\n        break;\n      }\n      default:\n        return draftState;\n    }\n  });\n\nexport default rbacManagerReducer;\n","export const GET_INIT_DATA = 'ContentManager/App/GET_INIT_DATA';\nexport const RESET_INIT_DATA = 'ContentManager/App/RESET_INIT_DATA';\nexport const SET_INIT_DATA = 'ContentManager/App/SET_INIT_DATA';\n","/**\n *\n * main reducer\n */\n/* eslint-disable consistent-return */\nimport produce from 'immer';\n\nimport { GET_INIT_DATA, RESET_INIT_DATA, SET_INIT_DATA } from './constants';\n\nconst initialState = {\n  components: [],\n  status: 'loading',\n  models: [],\n  collectionTypeLinks: [],\n  singleTypeLinks: [],\n};\n\n/**\n * Known as content-manager_app in the redux store\n */\nconst mainReducer = (state = initialState, action) =>\n  produce(state, (draftState) => {\n    switch (action.type) {\n      case GET_INIT_DATA: {\n        draftState.status = 'loading';\n        break;\n      }\n      case RESET_INIT_DATA: {\n        return initialState;\n      }\n      case SET_INIT_DATA: {\n        draftState.collectionTypeLinks = action.data.authorizedCollectionTypeLinks.filter(\n          ({ isDisplayed }) => isDisplayed\n        );\n        draftState.singleTypeLinks = action.data.authorizedSingleTypeLinks.filter(\n          ({ isDisplayed }) => isDisplayed\n        );\n        draftState.components = action.data.components;\n        draftState.models = action.data.contentTypeSchemas;\n        draftState.fieldSizes = action.data.fieldSizes;\n        draftState.status = 'resolved';\n        break;\n      }\n      default:\n        return draftState;\n    }\n  });\n\nexport default mainReducer;\nexport { initialState };\n","export const SET_LAYOUT = 'ContentManager/EditViewLayoutManager/SET_LAYOUT';\nexport const RESET_PROPS = 'ContentManager/EditViewLayoutManager/RESET_PROPS';\n","/**\n *\n * EditViewLayoutManager reducer\n */\n\nimport produce from 'immer';\n\nimport { RESET_PROPS, SET_LAYOUT } from './constants';\n\nexport const initialState = {\n  currentLayout: null,\n};\n\nconst editViewManagerReducer = (state = initialState, action) =>\n  // eslint-disable-next-line consistent-return\n  produce(state, (draftState) => {\n    switch (action.type) {\n      case RESET_PROPS: {\n        draftState.currentLayout = null;\n        break;\n      }\n      case SET_LAYOUT: {\n        draftState.currentLayout = action.layout;\n        break;\n      }\n      default:\n        return draftState;\n    }\n  });\n\nexport default editViewManagerReducer;\n","export const GET_DATA = 'ContentManager/ListView/GET_DATA';\nexport const GET_DATA_SUCCEEDED = 'ContentManager/ListView/GET_DATA_SUCCEEDED';\nexport const RESET_PROPS = 'ContentManager/ListView/RESET_PROPS';\nexport const ON_CHANGE_LIST_HEADERS = 'ContentManager/ListView/ON_CHANGE_LIST_HEADERS ';\nexport const ON_RESET_LIST_HEADERS = 'ContentManager/ListView/ON_RESET_LIST_HEADERS ';\nexport const SET_LIST_LAYOUT = 'ContentManager/ListView/SET_LIST_LAYOUT ';\n","/**\n *\n * listView reducer\n */\n\nimport produce from 'immer';\nimport get from 'lodash/get';\n\nimport {\n  GET_DATA,\n  GET_DATA_SUCCEEDED,\n  ON_CHANGE_LIST_HEADERS,\n  ON_RESET_LIST_HEADERS,\n  RESET_PROPS,\n  SET_LIST_LAYOUT,\n} from './constants';\n\nexport const initialState = {\n  data: [],\n  isLoading: true,\n  contentType: {},\n  components: [],\n  initialDisplayedHeaders: [],\n  displayedHeaders: [],\n  pagination: {\n    total: 0,\n  },\n};\n\nconst listViewReducer = (state = initialState, action) =>\n  // eslint-disable-next-line consistent-return\n  produce(state, (draftState) => {\n    switch (action.type) {\n      case GET_DATA: {\n        return {\n          ...initialState,\n          contentType: state.contentType,\n          components: state.components,\n          initialDisplayedHeaders: state.initialDisplayedHeaders,\n          displayedHeaders: state.displayedHeaders,\n        };\n      }\n\n      case GET_DATA_SUCCEEDED: {\n        draftState.pagination = action.pagination;\n        draftState.data = action.data;\n        draftState.isLoading = false;\n        break;\n      }\n\n      case ON_CHANGE_LIST_HEADERS: {\n        const {\n          target: { name, value },\n        } = action;\n\n        if (!value) {\n          const { metadatas, attributes, uid } = state.contentType;\n          const metas = metadatas[name].list;\n          const header = {\n            name,\n            fieldSchema: attributes[name],\n            metadatas: metas,\n            key: `__${name}_key__`,\n          };\n\n          switch (attributes[name].type) {\n            case 'component': {\n              const componentName = attributes[name].component;\n              const mainFieldName = get(\n                state,\n                ['components', componentName, 'settings', 'mainField'],\n                null\n              );\n              const mainFieldAttribute = get(state, [\n                'components',\n                componentName,\n                'attributes',\n                mainFieldName,\n              ]);\n\n              draftState.displayedHeaders.push({\n                ...header,\n                metadatas: {\n                  ...metas,\n                  mainField: {\n                    ...mainFieldAttribute,\n                    name: mainFieldName,\n                  },\n                },\n              });\n              break;\n            }\n\n            case 'relation':\n              draftState.displayedHeaders.push({\n                ...header,\n                queryInfos: {\n                  defaultParams: {},\n                  endPoint: `collection-types/${uid}`,\n                },\n              });\n              break;\n\n            default:\n              draftState.displayedHeaders.push(header);\n          }\n        } else {\n          draftState.displayedHeaders = state.displayedHeaders.filter(\n            (header) => header.name !== name\n          );\n        }\n\n        break;\n      }\n      case ON_RESET_LIST_HEADERS: {\n        draftState.displayedHeaders = state.initialDisplayedHeaders;\n        break;\n      }\n      case RESET_PROPS: {\n        return initialState;\n      }\n      case SET_LIST_LAYOUT: {\n        const { contentType, components, displayedHeaders } = action;\n\n        draftState.contentType = contentType;\n        draftState.components = components;\n        draftState.displayedHeaders = displayedHeaders;\n        draftState.initialDisplayedHeaders = displayedHeaders;\n\n        break;\n      }\n      default:\n        return draftState;\n    }\n  });\n\nexport default listViewReducer;\n","export const GET_DATA = 'ContentManager/CrudReducer/GET_DATA';\nexport const GET_DATA_SUCCEEDED = 'ContentManager/CrudReducer/GET_DATA_SUCCEEDED';\nexport const INIT_FORM = 'ContentManager/CrudReducer/INIT_FORM';\nexport const RESET_PROPS = 'ContentManager/CrudReducer/RESET_PROPS';\nexport const SET_DATA_STRUCTURES = 'ContentManager/CrudReducer/SET_DATA_STRUCTURES';\nexport const SET_STATUS = 'ContentManager/CrudReducer/SET_STATUS';\nexport const SUBMIT_SUCCEEDED = 'ContentManager/CrudReducer/SUBMIT_SUCCEEDED';\nexport const CLEAR_SET_MODIFIED_DATA_ONLY =\n  'ContentManager/CrudReducer/CLEAR_SET_MODIFIED_DATA_ONLY';\n","/* eslint-disable consistent-return */\nimport produce from 'immer';\n\n// NOTE: instead of creating a shared reducer here, we could also create a hook\n// that returns the dispatch and the state, however it will mess with the linter\n// and force us to either disable the linter for the hooks dependencies array rule or\n// require us to add the dispatch to the array which is not wanted. This refacto does not require us to\n// to do any of this.\nimport {\n  CLEAR_SET_MODIFIED_DATA_ONLY,\n  GET_DATA,\n  GET_DATA_SUCCEEDED,\n  INIT_FORM,\n  RESET_PROPS,\n  SET_DATA_STRUCTURES,\n  SET_STATUS,\n  SUBMIT_SUCCEEDED,\n} from './constants';\n\nconst crudInitialState = {\n  componentsDataStructure: {},\n  contentTypeDataStructure: {},\n  isLoading: true,\n  data: null,\n  status: 'resolved',\n  setModifiedDataOnly: false,\n};\n\nconst crudReducer = (state = crudInitialState, action) =>\n  produce(state, (draftState) => {\n    switch (action.type) {\n      case GET_DATA: {\n        draftState.isLoading = true;\n        draftState.data = null;\n        break;\n      }\n      case GET_DATA_SUCCEEDED: {\n        draftState.isLoading = false;\n        draftState.data = action.data;\n        draftState.setModifiedDataOnly = action.setModifiedDataOnly ?? false;\n        break;\n      }\n      case INIT_FORM: {\n        if (action.data) {\n          draftState.isLoading = false;\n          draftState.data = action.data;\n\n          break;\n        }\n\n        draftState.isLoading = false;\n        draftState.data = state.contentTypeDataStructure;\n        break;\n      }\n      case RESET_PROPS: {\n        return crudInitialState;\n      }\n      case SET_DATA_STRUCTURES: {\n        draftState.componentsDataStructure = action.componentsDataStructure;\n        draftState.contentTypeDataStructure = action.contentTypeDataStructure;\n        break;\n      }\n      case SET_STATUS: {\n        draftState.status = action.status;\n        break;\n      }\n      case SUBMIT_SUCCEEDED: {\n        draftState.data = action.data;\n        break;\n      }\n      case CLEAR_SET_MODIFIED_DATA_ONLY: {\n        draftState.setModifiedDataOnly = false;\n        break;\n      }\n      default:\n        return draftState;\n    }\n  });\n\nexport default crudReducer;\nexport { crudInitialState };\n","import produce from 'immer';\n\nimport { ACTION_SET_APP_RUNTIME_STATUS, ACTION_SET_ADMIN_PERMISSIONS } from './constants';\nimport { PermissionMap } from './types/permissions';\n\ninterface State {\n  status: 'init' | 'runtime';\n  permissions: Partial<PermissionMap>;\n}\n\nconst initialState = {\n  permissions: {},\n  status: 'init',\n} satisfies State;\n\ninterface SetAppRuntimeStatusAction {\n  type: typeof ACTION_SET_APP_RUNTIME_STATUS;\n}\n\ninterface SetAdminPermissionsAction {\n  type: typeof ACTION_SET_ADMIN_PERMISSIONS;\n  payload: Record<string, unknown>;\n}\n\ntype Action = SetAppRuntimeStatusAction | SetAdminPermissionsAction;\n\nconst reducer = (state: State = initialState, action: Action) =>\n  /* eslint-disable-next-line consistent-return */\n  produce(state, (draftState) => {\n    switch (action.type) {\n      case ACTION_SET_APP_RUNTIME_STATUS: {\n        draftState.status = 'runtime';\n        break;\n      }\n\n      case ACTION_SET_ADMIN_PERMISSIONS: {\n        draftState.permissions = action.payload;\n        break;\n      }\n\n      default:\n        return draftState;\n    }\n  });\n\nexport { reducer, initialState };\nexport type { State, Action, SetAppRuntimeStatusAction, SetAdminPermissionsAction };\n","import {\n  configureStore,\n  StoreEnhancer,\n  Middleware,\n  Reducer,\n  combineReducers,\n} from '@reduxjs/toolkit';\n\nimport { RBACReducer } from '../../components/RBACProvider';\n// @ts-expect-error no types, yet.\nimport rbacManagerReducer from '../../content-manager/hooks/useSyncRbac/reducer';\n// @ts-expect-error no types, yet.\nimport cmAppReducer from '../../content-manager/pages/App/reducer';\n// @ts-expect-error no types, yet.\nimport editViewLayoutManagerReducer from '../../content-manager/pages/EditViewLayoutManager/reducer';\n// @ts-expect-error no types, yet.\nimport listViewReducer from '../../content-manager/pages/ListView/reducer';\n// @ts-expect-error no types, yet.\nimport editViewCrudReducer from '../../content-manager/sharedReducers/crudReducer/reducer';\nimport { reducer as appReducer } from '../../reducer';\n\n/**\n * @description Static reducers are ones we know, they live in the admin package.\n */\nconst staticReducers = {\n  admin_app: appReducer,\n  rbacProvider: RBACReducer,\n  'content-manager_app': cmAppReducer,\n  'content-manager_listView': listViewReducer,\n  'content-manager_rbacManager': rbacManagerReducer,\n  'content-manager_editViewLayoutManager': editViewLayoutManagerReducer,\n  'content-manager_editViewCrudReducer': editViewCrudReducer,\n} as const;\n\nconst injectReducerStoreEnhancer: (appReducers: Record<string, Reducer>) => StoreEnhancer =\n  (appReducers) =>\n  (next) =>\n  (...args) => {\n    const store = next(...args);\n\n    const asyncReducers: Record<string, Reducer> = {};\n\n    return {\n      ...store,\n      asyncReducers,\n      injectReducer: (key: string, asyncReducer: Reducer) => {\n        asyncReducers[key] = asyncReducer;\n        store.replaceReducer(\n          // @ts-expect-error we dynamically add reducers which makes the types uncomfortable.\n          combineReducers({\n            ...appReducers,\n            ...asyncReducers,\n          })\n        );\n      },\n    };\n  };\n\n/**\n * @description This is the main store configuration function, injected Reducers use our legacy app.addReducer API,\n * which we're trying to phase out. App Middlewares could potentially be improved...?\n */\nconst configureStoreImpl = (\n  appMiddlewares: Array<() => Middleware> = [],\n  injectedReducers: Record<string, Reducer> = {}\n) => {\n  const coreReducers = { ...staticReducers, ...injectedReducers } as const;\n\n  const store = configureStore({\n    reducer: coreReducers,\n    devTools: process.env.NODE_ENV !== 'production',\n    middleware: (getDefaultMiddleware) => [\n      ...getDefaultMiddleware(),\n      ...appMiddlewares.map((m) => m()),\n    ],\n    enhancers: [injectReducerStoreEnhancer(coreReducers)],\n  });\n\n  return store;\n};\n\ntype Store = ReturnType<typeof configureStoreImpl> & {\n  asyncReducers: Record<string, Reducer>;\n  injectReducer: (key: string, asyncReducer: Reducer) => void;\n};\n\ntype RootState = ReturnType<Store['getState']>;\n\nexport { configureStoreImpl as configureStore };\nexport type { RootState, Store };\n","export const getBasename = () => (process.env.ADMIN_PATH ?? '').replace(window.location.origin, '');\n","/* eslint-disable no-await-in-loop */\n/* eslint-disable no-restricted-syntax */\n\nexport type Handler = (...args: any[]) => any;\n\nexport const createHook = () => {\n  const _handlers: Handler[] = [];\n\n  return {\n    register(fn: Handler) {\n      _handlers.push(fn);\n    },\n    delete(handler: Handler) {\n      _handlers.splice(_handlers.indexOf(handler), 1);\n    },\n    runWaterfall<T>(args: T, store?: any) {\n      return _handlers.reduce((acc, fn) => fn(acc, store), args);\n    },\n    async runWaterfallAsync<T>(args: T, store?: any) {\n      let result = args;\n\n      for (const fn of _handlers) {\n        result = await fn(result, store);\n      }\n\n      return result;\n    },\n    runSeries<T extends any[]>(...args: T) {\n      return _handlers.map((fn) => fn(...args));\n    },\n    async runSeriesAsync<T extends any[]>(...args: T) {\n      const result = [];\n\n      for (const fn of _handlers) {\n        result.push(await fn(...args));\n      }\n\n      return result;\n    },\n    runParallel<T extends any[]>(...args: T) {\n      return Promise.all(\n        _handlers.map((fn) => {\n          return fn(...args);\n        })\n      );\n    },\n  };\n};\n","import { useAdmin } from '../../contexts/admin';\nimport {\n  InjectionZoneArea,\n  InjectionZoneBlock,\n  InjectionZoneContainer,\n  InjectionZoneModule,\n} from '../components/InjectionZone';\n\nexport const useInjectionZone = (area: InjectionZoneArea) => {\n  const { getAdminInjectedComponents } = useAdmin();\n\n  const [moduleName, page, position] = area.split('.') as [\n    InjectionZoneModule,\n    InjectionZoneContainer,\n    InjectionZoneBlock\n  ];\n\n  return getAdminInjectedComponents(moduleName, page, position);\n};\n","import * as React from 'react';\n\nimport { useInjectionZone } from '../hooks/useInjectionZone';\n\nconst INJECTION_ZONES = {\n  admin: {\n    // Temporary injection zone, support for the react-tour plugin in foodadvisor\n    tutorials: {\n      links: [],\n    },\n  },\n  contentManager: {\n    editView: { informations: [], 'right-links': [] },\n    listView: {\n      actions: [],\n      deleteModalAdditionalInfos: [],\n      publishModalAdditionalInfos: [],\n      unpublishModalAdditionalInfos: [],\n    },\n  },\n} satisfies InjectionZones;\n\ninterface InjectionZoneComponent {\n  Component: React.ComponentType;\n  name: string;\n  // TODO: in theory this could receive and forward any React component prop\n  // but in practice there only seems to be once instance, where `slug` is\n  // forwarded. The type needs to become either more generic or we disallow\n  // prop spreading and offer a different way to access context data.\n  slug: string;\n}\n\ninterface InjectionZones {\n  admin: {\n    tutorials: {\n      links: InjectionZoneComponent[];\n    };\n  };\n  contentManager: {\n    editView: {\n      informations: InjectionZoneComponent[];\n      'right-links': InjectionZoneComponent[];\n    };\n    listView: {\n      actions: InjectionZoneComponent[];\n      deleteModalAdditionalInfos: InjectionZoneComponent[];\n      publishModalAdditionalInfos: InjectionZoneComponent[];\n      unpublishModalAdditionalInfos: InjectionZoneComponent[];\n    };\n  };\n}\n\ntype InjectionZoneArea =\n  | 'admin.tutorials.links'\n  | 'contentManager.editView.informations'\n  | 'contentManager.editView.right-links'\n  | 'contentManager.listView.actions'\n  | 'contentManager.listView.unpublishModalAdditionalInfos'\n  | 'contentManager.listView.deleteModalAdditionalInfos'\n  | 'contentManager.listView.publishModalAdditionalInfos'\n  | 'contentManager.listView.deleteModalAdditionalInfos';\n\ntype InjectionZoneModule = InjectionZoneArea extends `${infer Word}.${string}` ? Word : never;\ntype InjectionZoneContainer = InjectionZoneArea extends `${string}.${infer Word}.${string}`\n  ? Word\n  : never;\ntype InjectionZoneBlock = InjectionZoneArea extends `${string}.${string}.${infer Word}`\n  ? Word\n  : never;\n\nconst InjectionZone = ({ area, ...props }: { area: InjectionZoneArea }) => {\n  const components = useInjectionZone(area);\n\n  return components.map((component) => <component.Component key={component.name} {...props} />);\n};\n\nexport { InjectionZone, INJECTION_ZONES };\n\nexport type {\n  InjectionZoneArea,\n  InjectionZoneComponent,\n  InjectionZones,\n  InjectionZoneModule,\n  InjectionZoneContainer,\n  InjectionZoneBlock,\n};\n","export const languageNativeNames = {\n  ar: 'ÿßŸÑÿπÿ±ÿ®Ÿäÿ©',\n  ca: 'Catal√†',\n  cs: 'ƒåe≈°tina',\n  de: 'Deutsch',\n  dk: 'Dansk',\n  en: 'English',\n  es: 'Espa√±ol',\n  eu: 'Euskara',\n  fr: 'Fran√ßais',\n  gu: 'Gujarati',\n  he: '◊¢◊ë◊®◊ô◊™',\n  hu: 'Magyar',\n  id: 'Indonesian',\n  it: 'Italiano',\n  ja: 'Êó•Êú¨Ë™û',\n  ko: 'ÌïúÍµ≠Ïñ¥',\n  ml: 'Malayalam',\n  ms: 'Melayu',\n  nl: 'Nederlands',\n  no: 'Norwegian',\n  pl: 'Polski',\n  'pt-BR': 'Portugu√™s (Brasil)',\n  pt: 'Portugu√™s (Portugal)',\n  ru: '–†—É—Å—Å–∫–∏–π',\n  sk: 'Slovenƒçina',\n  sv: 'Swedish',\n  th: '‡πÑ‡∏ó‡∏¢',\n  tr: 'T√ºrk√ße',\n  uk: '–£–∫—Ä–∞—ó–Ω—Å—å–∫–∞',\n  vi: 'Ti·∫øng Vi·ªát',\n  'zh-Hans': '‰∏≠Êñá (ÁÆÄ‰Ωì)',\n  zh: '‰∏≠Êñá (ÁπÅÈ´î)',\n  sa: '‡§∏‡§Ç‡§∏‡•ç‡§ï‡•É‡§§',\n  hi: '‡§π‡§ø‡§®‡•ç‡§¶‡•Ä',\n} as const;\n","import { ReducersMapObject } from '@reduxjs/toolkit';\nimport { darkTheme, lightTheme } from '@strapi/design-system';\nimport { MenuItem, StrapiAppSetting, StrapiAppSettingLink } from '@strapi/helper-plugin';\nimport invariant from 'invariant';\nimport isFunction from 'lodash/isFunction';\nimport merge from 'lodash/merge';\nimport pick from 'lodash/pick';\nimport { Helmet } from 'react-helmet';\nimport { BrowserRouter } from 'react-router-dom';\nimport { DefaultTheme } from 'styled-components';\n\nimport { App } from './App';\nimport Logo from './assets/images/logo-strapi-2022.svg';\nimport { LANGUAGE_LOCAL_STORAGE_KEY } from './components/LanguageProvider';\nimport { Providers } from './components/Providers';\nimport { HOOKS } from './constants';\nimport { Components, Component } from './core/apis/Components';\nimport { CustomFields } from './core/apis/CustomFields';\nimport { Field, Fields } from './core/apis/Fields';\nimport { Middleware, Middlewares } from './core/apis/Middlewares';\nimport { Plugin, PluginConfig } from './core/apis/Plugin';\nimport { Reducers } from './core/apis/Reducers';\nimport { Store, configureStore } from './core/store/configure';\nimport { getBasename } from './core/utils/basename';\nimport { Handler, createHook } from './core/utils/createHook';\nimport {\n  INJECTION_ZONES,\n  InjectionZoneBlock,\n  InjectionZoneComponent,\n  InjectionZoneContainer,\n  InjectionZoneModule,\n  InjectionZones,\n} from './shared/components/InjectionZone';\nimport { languageNativeNames } from './translations/languageNativeNames';\n\nconst {\n  INJECT_COLUMN_IN_TABLE,\n  MUTATE_COLLECTION_TYPES_LINKS,\n  MUTATE_EDIT_VIEW_LAYOUT,\n  MUTATE_SINGLE_TYPES_LINKS,\n} = HOOKS;\n\ninterface StrapiAppConstructorArgs extends Partial<Pick<StrapiApp, 'appPlugins'>> {\n  adminConfig?: {\n    config?: StrapiApp['customConfigurations'];\n    bootstrap?: StrapiApp['customBootstrapConfiguration'];\n  };\n}\n\ninterface StrapiAppPlugin {\n  bootstrap: (\n    args: Pick<\n      StrapiApp,\n      | 'addSettingsLink'\n      | 'addSettingsLinks'\n      | 'getPlugin'\n      | 'injectContentManagerComponent'\n      | 'injectAdminComponent'\n      | 'registerHook'\n    >\n  ) => void;\n  register: (app: StrapiApp) => void;\n  registerTrads: (args: {\n    locales: string[];\n  }) => Promise<{ data: Record<string, string>; locale: string }[]>;\n}\n\nclass StrapiApp {\n  admin: {\n    injectionZones: InjectionZones;\n  };\n  appPlugins: Record<string, StrapiAppPlugin>;\n  configurations: {\n    authLogo: string;\n    head: { favicon: string };\n    locales: string[];\n    menuLogo: string;\n    notifications: { releases: boolean };\n    themes: { light: DefaultTheme; dark: DefaultTheme };\n    translations: Record<string, Record<string, string>>;\n    tutorials: boolean;\n  };\n  customBootstrapConfiguration: unknown;\n  customConfigurations: {\n    auth?: { logo: string };\n    head?: { favicon: string };\n    locales?: string[];\n    menu?: { logo: string };\n    notifications?: { releases: boolean };\n    theme?: { light: DefaultTheme; dark: DefaultTheme };\n    translations?: Record<string, unknown>;\n    tutorials?: boolean;\n  };\n  customFields: CustomFields;\n  hooksDict: Record<string, ReturnType<typeof createHook>>;\n  library: {\n    components: Components;\n    fields: Fields;\n  };\n  menu: MenuItem[];\n  middlewares: Middlewares;\n  plugins: Record<string, Plugin>;\n  reducers: Reducers;\n  settings: Record<string, StrapiAppSetting>;\n  translations: StrapiApp['configurations']['translations'];\n\n  constructor({ adminConfig, appPlugins }: StrapiAppConstructorArgs = {}) {\n    this.customConfigurations = adminConfig?.config ?? {};\n    this.customBootstrapConfiguration = adminConfig?.bootstrap;\n    this.configurations = {\n      authLogo: Logo,\n      head: { favicon: '' },\n      locales: ['en'],\n      menuLogo: Logo,\n      notifications: { releases: true },\n      themes: { light: lightTheme, dark: darkTheme },\n      translations: {},\n      tutorials: true,\n    };\n    this.appPlugins = appPlugins || {};\n    this.library = {\n      components: new Components(),\n      fields: new Fields(),\n    };\n    this.middlewares = new Middlewares();\n    this.plugins = {};\n    this.reducers = new Reducers();\n    this.translations = {};\n    this.hooksDict = {};\n    this.admin = {\n      injectionZones: INJECTION_ZONES,\n    };\n    this.customFields = new CustomFields();\n    this.menu = [];\n    this.settings = {\n      global: {\n        id: 'global',\n        intlLabel: {\n          id: 'Settings.global',\n          defaultMessage: 'Global Settings',\n        },\n        links: [],\n      },\n    };\n  }\n\n  addComponents = (components: Component | Component[]) => {\n    if (Array.isArray(components)) {\n      components.map((compo) => this.library.components.add(compo));\n    } else {\n      this.library.components.add(components);\n    }\n  };\n\n  addCorePluginMenuLink = (link: MenuItem) => {\n    const stringifiedLink = JSON.stringify(link);\n\n    invariant(link.to, `link.to should be defined for ${stringifiedLink}`);\n    invariant(\n      typeof link.to === 'string',\n      `Expected link.to to be a string instead received ${typeof link.to}`\n    );\n    invariant(\n      ['/plugins/content-type-builder', '/plugins/upload'].includes(link.to),\n      'This method is not available for your plugin'\n    );\n    invariant(\n      link.intlLabel?.id && link.intlLabel?.defaultMessage,\n      `link.intlLabel.id & link.intlLabel.defaultMessage for ${stringifiedLink}`\n    );\n\n    this.menu.push(link);\n  };\n\n  addFields = (fields: Field | Field[]) => {\n    if (Array.isArray(fields)) {\n      fields.map((field) => this.library.fields.add(field));\n    } else {\n      this.library.fields.add(fields);\n    }\n  };\n\n  addMenuLink = (link: MenuItem) => {\n    const stringifiedLink = JSON.stringify(link);\n\n    invariant(link.to, `link.to should be defined for ${stringifiedLink}`);\n    invariant(\n      typeof link.to === 'string',\n      `Expected link.to to be a string instead received ${typeof link.to}`\n    );\n    invariant(\n      link.intlLabel?.id && link.intlLabel?.defaultMessage,\n      `link.intlLabel.id & link.intlLabel.defaultMessage for ${stringifiedLink}`\n    );\n    invariant(\n      link.Component && typeof link.Component === 'function',\n      `link.Component should be a valid React Component`\n    );\n    invariant(\n      link.icon && typeof link.icon === 'function',\n      `link.Icon should be a valid React Component`\n    );\n\n    this.menu.push(link);\n  };\n\n  addMiddlewares = (middlewares: Middleware[]) => {\n    middlewares.forEach((middleware) => {\n      this.middlewares.add(middleware);\n    });\n  };\n\n  addReducers = (reducers: ReducersMapObject) => {\n    Object.keys(reducers).forEach((reducerName) => {\n      this.reducers.add(reducerName, reducers[reducerName]);\n    });\n  };\n\n  addSettingsLink = (sectionId: keyof StrapiApp['settings'], link: StrapiAppSettingLink) => {\n    invariant(this.settings[sectionId], 'The section does not exist');\n\n    const stringifiedLink = JSON.stringify(link);\n\n    invariant(link.id, `link.id should be defined for ${stringifiedLink}`);\n    invariant(\n      link.intlLabel?.id && link.intlLabel?.defaultMessage,\n      `link.intlLabel.id & link.intlLabel.defaultMessage for ${stringifiedLink}`\n    );\n    invariant(link.to, `link.to should be defined for ${stringifiedLink}`);\n    invariant(\n      link.Component && typeof link.Component === 'function',\n      `link.Component should be a valid React Component`\n    );\n\n    this.settings[sectionId].links.push(link);\n  };\n\n  addSettingsLinks = (sectionId: keyof StrapiApp['settings'], links: StrapiAppSettingLink[]) => {\n    invariant(this.settings[sectionId], 'The section does not exist');\n    invariant(Array.isArray(links), 'TypeError expected links to be an array');\n\n    links.forEach((link) => {\n      this.addSettingsLink(sectionId, link);\n    });\n  };\n\n  async bootstrap() {\n    Object.keys(this.appPlugins).forEach((plugin) => {\n      const bootstrap = this.appPlugins[plugin].bootstrap;\n\n      if (bootstrap) {\n        bootstrap({\n          addSettingsLink: this.addSettingsLink,\n          addSettingsLinks: this.addSettingsLinks,\n          getPlugin: this.getPlugin,\n          injectContentManagerComponent: this.injectContentManagerComponent,\n          injectAdminComponent: this.injectAdminComponent,\n          registerHook: this.registerHook,\n        });\n      }\n    });\n\n    if (isFunction(this.customBootstrapConfiguration)) {\n      this.customBootstrapConfiguration({\n        addComponents: this.addComponents,\n        addFields: this.addFields,\n        addMenuLink: this.addMenuLink,\n        addReducers: this.addReducers,\n        addSettingsLink: this.addSettingsLink,\n        addSettingsLinks: this.addSettingsLinks,\n        getPlugin: this.getPlugin,\n        injectContentManagerComponent: this.injectContentManagerComponent,\n        injectAdminComponent: this.injectAdminComponent,\n        registerHook: this.registerHook,\n      });\n    }\n  }\n\n  bootstrapAdmin = async () => {\n    await this.createCustomConfigurations();\n\n    this.createHook(INJECT_COLUMN_IN_TABLE);\n    this.createHook(MUTATE_COLLECTION_TYPES_LINKS);\n    this.createHook(MUTATE_SINGLE_TYPES_LINKS);\n    this.createHook(MUTATE_EDIT_VIEW_LAYOUT);\n\n    return Promise.resolve();\n  };\n\n  createCustomConfigurations = async () => {\n    if (this.customConfigurations?.locales) {\n      this.configurations.locales = [\n        'en',\n        ...(this.customConfigurations.locales?.filter((loc) => loc !== 'en') || []),\n      ];\n    }\n\n    if (this.customConfigurations?.auth?.logo) {\n      this.configurations.authLogo = this.customConfigurations.auth.logo;\n    }\n\n    if (this.customConfigurations?.menu?.logo) {\n      this.configurations.menuLogo = this.customConfigurations.menu.logo;\n    }\n\n    if (this.customConfigurations?.head?.favicon) {\n      this.configurations.head.favicon = this.customConfigurations.head.favicon;\n    }\n\n    if (this.customConfigurations?.theme) {\n      const darkTheme = this.customConfigurations.theme.dark;\n      const lightTheme = this.customConfigurations.theme.light;\n\n      if (!darkTheme && !lightTheme) {\n        console.warn(\n          `[deprecated] In future versions, Strapi will stop supporting this theme customization syntax. The theme configuration accepts a light and a dark key to customize each theme separately. See https://docs.strapi.io/developer-docs/latest/development/admin-customization.html#theme-extension.`\n        );\n        merge(this.configurations.themes.light, this.customConfigurations.theme);\n      }\n\n      if (lightTheme) merge(this.configurations.themes.light, lightTheme);\n\n      if (darkTheme) merge(this.configurations.themes.dark, darkTheme);\n    }\n\n    if (this.customConfigurations?.notifications?.releases !== undefined) {\n      this.configurations.notifications.releases = this.customConfigurations.notifications.releases;\n    }\n\n    if (this.customConfigurations?.tutorials !== undefined) {\n      this.configurations.tutorials = this.customConfigurations.tutorials;\n    }\n  };\n\n  createHook = (name: string) => {\n    this.hooksDict[name] = createHook();\n  };\n\n  createSettingSection = (section: StrapiAppSetting, links: StrapiAppSettingLink[]) => {\n    invariant(section.id, 'section.id should be defined');\n    invariant(\n      section.intlLabel?.id && section.intlLabel?.defaultMessage,\n      'section.intlLabel should be defined'\n    );\n\n    invariant(Array.isArray(links), 'TypeError expected links to be an array');\n    invariant(this.settings[section.id] === undefined, 'A similar section already exists');\n\n    this.settings[section.id] = { ...section, links: [] };\n\n    links.forEach((link) => {\n      this.addSettingsLink(section.id, link);\n    });\n  };\n\n  createStore = () => {\n    const store = configureStore(this.middlewares.middlewares, this.reducers.reducers);\n\n    return store as Store;\n  };\n\n  getAdminInjectedComponents = (\n    moduleName: InjectionZoneModule,\n    containerName: InjectionZoneContainer,\n    blockName: InjectionZoneBlock\n  ): InjectionZoneComponent[] => {\n    try {\n      // @ts-expect-error ‚Äì we have a catch block so if you don't pass it correctly we still return an array.\n      return this.admin.injectionZones[moduleName][containerName][blockName] || [];\n    } catch (err) {\n      console.error('Cannot get injected component', err);\n\n      return [];\n    }\n  };\n\n  getPlugin = (pluginId: PluginConfig['id']) => {\n    return this.plugins[pluginId];\n  };\n\n  async initialize() {\n    Object.keys(this.appPlugins).forEach((plugin) => {\n      this.appPlugins[plugin].register(this);\n    });\n  }\n\n  injectContentManagerComponent = <TContainerName extends keyof InjectionZones['contentManager']>(\n    containerName: TContainerName,\n    blockName: keyof InjectionZones['contentManager'][TContainerName],\n    component: InjectionZoneComponent\n  ) => {\n    invariant(\n      this.admin.injectionZones.contentManager[containerName]?.[blockName],\n      `The ${containerName} ${String(blockName)} zone is not defined in the content manager`\n    );\n    invariant(component, 'A Component must be provided');\n\n    // @ts-expect-error ‚Äì we've alredy checked above that the block exists.\n    this.admin.injectionZones.contentManager[containerName][blockName].push(component);\n  };\n\n  injectAdminComponent = <TContainerName extends keyof InjectionZones['admin']>(\n    containerName: TContainerName,\n    blockName: keyof InjectionZones['admin'][TContainerName],\n    component: InjectionZoneComponent\n  ) => {\n    invariant(\n      this.admin.injectionZones.admin[containerName]?.[blockName],\n      `The ${containerName} ${String(blockName)} zone is not defined in the admin`\n    );\n    invariant(component, 'A Component must be provided');\n\n    // @ts-expect-error ‚Äì we've alredy checked above that the block exists.\n    this.admin.injectionZones.admin[containerName][blockName].push(component);\n  };\n\n  /**\n   * Load the admin translations\n   * @returns {Object} The imported admin translations\n   */\n  async loadAdminTrads() {\n    const arrayOfPromises = this.configurations.locales.map((locale) => {\n      return import(`./translations/${locale}.json`)\n        .then(({ default: data }) => {\n          return { data, locale };\n        })\n        .catch(() => {\n          return { data: null, locale };\n        });\n    });\n    const adminLocales = await Promise.all(arrayOfPromises);\n\n    const translations = adminLocales.reduce<{ [locale: string]: Record<string, string> }>(\n      (acc, current) => {\n        if (current.data) {\n          acc[current.locale] = current.data;\n        }\n\n        return acc;\n      },\n      {}\n    );\n\n    return translations;\n  }\n\n  /**\n   * Load the application's translations and merged the custom translations\n   * with the default ones.\n   *\n   */\n  async loadTrads() {\n    const adminTranslations = await this.loadAdminTrads();\n\n    const arrayOfPromises = Object.keys(this.appPlugins)\n      .map((plugin) => {\n        const registerTrads = this.appPlugins[plugin].registerTrads;\n\n        if (registerTrads) {\n          return registerTrads({ locales: this.configurations.locales });\n        }\n\n        return null;\n      })\n      .filter((a) => a);\n\n    type Translation = Awaited<ReturnType<StrapiAppPlugin['registerTrads']>>[number];\n\n    const pluginsTrads = (await Promise.all(arrayOfPromises)) as Array<Translation[]>;\n    const mergedTrads = pluginsTrads.reduce<{ [locale: string]: Translation['data'] }>(\n      (acc, currentPluginTrads) => {\n        const pluginTrads = currentPluginTrads.reduce<{ [locale: string]: Translation['data'] }>(\n          (acc1, current) => {\n            acc1[current.locale] = current.data;\n\n            return acc1;\n          },\n          {}\n        );\n\n        Object.keys(pluginTrads).forEach((locale) => {\n          acc[locale] = { ...acc[locale], ...pluginTrads[locale] };\n        });\n\n        return acc;\n      },\n      {}\n    );\n\n    const translations = this.configurations.locales.reduce<{\n      [locale: string]: Translation['data'];\n    }>((acc, current) => {\n      acc[current] = {\n        ...adminTranslations[current],\n        ...(mergedTrads[current] || {}),\n        ...(this.customConfigurations?.translations?.[current] ?? {}),\n      };\n\n      return acc;\n    }, {});\n\n    this.configurations.translations = translations;\n\n    return Promise.resolve();\n  }\n\n  registerHook = (name: string, fn: Handler) => {\n    invariant(\n      this.hooksDict[name],\n      `The hook ${name} is not defined. You are trying to register a hook that does not exist in the application.`\n    );\n    this.hooksDict[name].register(fn);\n  };\n\n  registerPlugin = (pluginConf: PluginConfig) => {\n    const plugin = new Plugin(pluginConf);\n\n    this.plugins[plugin.pluginId] = plugin;\n  };\n\n  runHookSeries = (name: string, asynchronous = false) =>\n    asynchronous ? this.hooksDict[name].runSeriesAsync() : this.hooksDict[name].runSeries();\n\n  runHookWaterfall = (\n    name: string,\n    initialValue: unknown,\n    asynchronous = false,\n    store?: unknown\n  ) => {\n    return asynchronous\n      ? this.hooksDict[name].runWaterfallAsync(initialValue, store)\n      : this.hooksDict[name].runWaterfall(initialValue, store);\n  };\n\n  runHookParallel = (name: string) => this.hooksDict[name].runParallel();\n\n  render() {\n    const store = this.createStore();\n    const localeNames = pick(languageNativeNames, this.configurations.locales || []);\n\n    const {\n      components: { components },\n      fields: { fields },\n    } = this.library;\n\n    return (\n      <Providers\n        authLogo={this.configurations.authLogo}\n        components={components}\n        fields={fields}\n        customFields={this.customFields}\n        localeNames={localeNames}\n        getAdminInjectedComponents={this.getAdminInjectedComponents}\n        getPlugin={this.getPlugin}\n        messages={this.configurations.translations}\n        menu={this.menu}\n        menuLogo={this.configurations.menuLogo}\n        plugins={this.plugins}\n        runHookParallel={this.runHookParallel}\n        runHookWaterfall={(name, initialValue, async = false) => {\n          return this.runHookWaterfall(name, initialValue, async, store);\n        }}\n        runHookSeries={this.runHookSeries}\n        themes={this.configurations.themes}\n        settings={this.settings}\n        showTutorials={this.configurations.tutorials}\n        showReleaseNotification={this.configurations.notifications.releases}\n        store={store}\n      >\n        <Helmet\n          htmlAttributes={{ lang: localStorage.getItem(LANGUAGE_LOCAL_STORAGE_KEY) || 'en' }}\n        />\n        <BrowserRouter basename={getBasename()}>\n          <App />\n        </BrowserRouter>\n      </Providers>\n    );\n  }\n}\n\nexport { StrapiApp, StrapiAppConstructorArgs };\n","/* eslint-disable no-undef */\nimport { getFetchClient } from '@strapi/helper-plugin';\nimport { createRoot } from 'react-dom/client';\n\nimport { StrapiApp, StrapiAppConstructorArgs } from './StrapiApp';\n\nimport type { FeaturesService } from '@strapi/types';\n\ninterface RenderAdminArgs {\n  customisations: StrapiAppConstructorArgs['adminConfig'];\n  plugins: StrapiAppConstructorArgs['appPlugins'];\n  features?: FeaturesService['config'];\n}\n\nconst renderAdmin = async (\n  mountNode: HTMLElement | null,\n  { plugins, customisations, features }: RenderAdminArgs\n) => {\n  if (!mountNode) {\n    throw new Error('[@strapi/admin]: Could not find the root element to mount the admin app');\n  }\n\n  window.strapi = {\n    /**\n     * This ENV variable is passed from the strapi instance, by default no url is set\n     * in the config and therefore the instance returns you an empty string so URLs are relative.\n     *\n     * To ensure that the backendURL is always set, we use the window.location.origin as a fallback.\n     */\n    backendURL: process.env.STRAPI_ADMIN_BACKEND_URL || window.location.origin,\n    isEE: false,\n    telemetryDisabled: process.env.STRAPI_TELEMETRY_DISABLED === 'true' ? true : false,\n    future: {\n      isEnabled: (name: keyof FeaturesService['config']) => {\n        return features?.future?.[name] === true;\n      },\n    },\n    // @ts-expect-error ‚Äì there's pollution from the global scope of Node.\n    features: {\n      SSO: 'sso',\n      AUDIT_LOGS: 'audit-logs',\n      REVIEW_WORKFLOWS: 'review-workflows',\n      /**\n       * If we don't get the license then we know it's not EE\n       * so no feature is enabled.\n       */\n      isEnabled: () => false,\n    },\n    projectType: 'Community',\n    flags: {\n      nps: false,\n      promoteEE: true,\n    },\n  };\n\n  const { get } = getFetchClient();\n\n  interface ProjectType extends Pick<Window['strapi'], 'flags'> {\n    isEE: boolean;\n    features: {\n      name: string;\n    }[];\n  }\n\n  try {\n    const {\n      data: {\n        data: { isEE, features, flags },\n      },\n    } = await get<{ data: ProjectType }>('/admin/project-type');\n\n    window.strapi.isEE = isEE;\n    window.strapi.flags = flags;\n    window.strapi.features = {\n      ...window.strapi.features,\n      isEnabled: (featureName) => features.some((feature) => feature.name === featureName),\n    };\n    window.strapi.projectType = isEE ? 'Enterprise' : 'Community';\n  } catch (err) {\n    /**\n     * If this fails, we simply don't activate any EE features.\n     * Should we warn clearer in the UI?\n     */\n    console.error(err);\n  }\n\n  const app = new StrapiApp({\n    adminConfig: customisations,\n    appPlugins: plugins,\n  });\n\n  await app.bootstrapAdmin();\n  await app.initialize();\n  await app.bootstrap();\n  await app.loadTrads();\n\n  createRoot(mountNode).render(app.render());\n\n  if (\n    typeof module !== 'undefined' &&\n    module &&\n    'hot' in module &&\n    typeof module.hot === 'object' &&\n    module.hot !== null &&\n    'accept' in module.hot &&\n    typeof module.hot.accept === 'function'\n  ) {\n    module.hot.accept();\n  }\n};\n\nexport { renderAdmin };\nexport type { RenderAdminArgs };\n"],"names":["jsx","jsxs","useLocation","Route","auth","Redirect","createContext","useCallbackRef","React","reducer","initialState","locale","defaultsDeep","IntlProvider","styled","Box","Flex","useIntl","SingleSelect","SingleSelectOption","FieldAction","yup","translatedErrors","useFetchClient","useQuery","useHistory","useMutation","camelCase","Main","Typography","Formik","Form","TextInput","PasswordInput","Eye","EyeStriked","Checkbox","Button","Link","NavLink","Field","useTheme","useNotification","useAppInfo","Portal","IconButton","Cross","FieldLabel","VisuallyHidden","FieldInput","Textarea","usePersistentState","useTracking","useGuidedTour","useRouteMatch","useAPIErrorHandler","get","useReactQuery","formik","omit","ValidationError","getYupInnerErrors","Grid","GridItem","Login","LoginCE","useFocusWhenNavigate","HeaderLayout","ContentLayout","EmptyStateLayout","LinkButton","ArrowRight","EmptyPictures","parse","pxToRem","Select","Option","TextButton","LoadingIndicatorPage","merge","useDispatch","hasAdmin","uuid","prefixFileUrlWithBackendUrl","SkipToContent","TrackingProvider","Switch","menuLogo","authLogo","currentStep","GuidedTourProviderComponent","produce","set","DesignSystemProvider","createGlobalStyle","QueryClient","QueryClientProvider","Provider","StrapiAppProvider","LibraryProvider","CustomFieldsProvider","AutoReloadOverlayBlockerProvider","OverlayBlockerProvider","NotificationsProvider","invariant","options","useStore","useSelector","createSelector","RBACContext","SET_PERMISSIONS","action","RESET_PROPS","GET_DATA","GET_DATA_SUCCEEDED","appReducer","cmAppReducer","editViewLayoutManagerReducer","editViewCrudReducer","combineReducers","configureStore","Logo","lightTheme","darkTheme","isFunction","pick","Helmet","BrowserRouter","getFetchClient","features","createRoot"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,MAAM,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAyBf,MAAM,eAAe,MAAM;AAEvB,SAAAA,2BAAAA,IAAC,cACC,UAACA,2BAAA,IAAA,OAAA,EAAI,WAAU,gBACb,UAAAC,2BAAAA,KAAC,OAAI,EAAA,WAAU,iBACb,UAAA;AAAA,IAACD,2BAAA,IAAA,SAAA,EAAM,MAAK,YAAY,UAAO,QAAA;AAAA,IAC/BA,2BAAAA,IAAC,QAAG,UAAmB,sBAAA,CAAA;AAAA,oCACtB,KAAE,EAAA,UAAA;AAAA,MAAA;AAAA,MACOA,2BAAA,IAAA,KAAA,EAAE,MAAK,sCAAqC,UAAiB,qBAAA;AAAA,MAAI;AAAA,IAAA,GAE3E;AAAA,EAAA,GACF,GACF,EACF,CAAA;AAEJ;AClCA,MAAM,eAAe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAerB,MAAM,kBAAkB,MAAM;AAE1B,SAAAC,2BAAA,KAAC,QAAK,EAAA,MAAK,MACT,UAAA;AAAA,IAAAA,gCAAC,QACC,EAAA,UAAA;AAAA,MAACD,2BAAAA,IAAA,QAAA,EAAK,SAAQ,QAAQ,CAAA;AAAA,MACrBA,2BAAA,IAAA,QAAA,EAAK,MAAK,YAAW,SAAQ,2DAA0D;AAAA,MACvFA,2BAAA,IAAA,QAAA,EAAK,MAAK,UAAS,SAAQ,WAAU;AAAA,MACrCA,2BAAA,IAAA,QAAA,EAAK,MAAK,YAAW,SAAQ,eAAc;AAAA,MAE5CA,2BAAAA,IAAC,WAAM,UAAY,eAAA,CAAA;AAAA,MACnBA,2BAAAA,IAAC,WAAO,UAAa,aAAA,CAAA;AAAA,IAAA,GACvB;AAAA,oCACC,QACC,EAAA,UAAA;AAAA,MAACA,2BAAAA,IAAA,OAAA,EAAI,IAAG,SAAS,CAAA;AAAA,qCAChB,cAAa,EAAA;AAAA,IAAA,GAChB;AAAA,EACF,EAAA,CAAA;AAEJ;;;;;;;;;;AC3BA,MAAM,eAAe,CAAuC;AAAA,EAC1D,WAAW;AAAA,EACX;AAAA,EACA,GAAG;AACL,MAAqC;AACnC,QAAM,EAAE,UAAU,OAAO,IAAIE,eAAY,YAAA;AAGvC,SAAAF,2BAAA;AAAA,IAACG,eAAA;AAAA,IAAA;AAAA,MACC;AAAA,MACA,QAAQ,CAAC,UACPC,kBAAK,SAAS,MAAM,OAClBJ,+BAAC,WAAW,EAAA,GAAG,MAAO,GAAG,OAAO,IAEhCA,2BAAA;AAAA,QAACK,eAAA;AAAA,QAAA;AAAA,UACC,IAAI;AAAA,YACF,UAAU;AAAA,YACV,QACE,aAAa,MACT,eAAe,mBAAmB,GAAG,QAAQ,GAAG,MAAM,EAAE,CAAC,KACzD;AAAA,UACR;AAAA,QAAA;AAAA,MACF;AAAA,IAAA;AAAA,EAAA;AAKV;ACrCO,MAAM,uBAAuB;AAAA,EAClC,gBAAgB;AAAA,IACd,MAAM,CAAC;AAAA,IACP,+BAA+B;AAAA,MAC7B;AAAA,QACE,QAAQ;AAAA,QACR,SAAS;AAAA,MACX;AAAA,IACF;AAAA,IACA,0BAA0B;AAAA,MACxB;AAAA,QACE,QAAQ;AAAA,QACR,SAAS;AAAA,MACX;AAAA,IACF;AAAA,IACA,2BAA2B;AAAA,MACzB;AAAA,QACE,QAAQ;AAAA,QACR,SAAS;AAAA,MACX;AAAA,IACF;AAAA,EACF;AAAA,EACA,aAAa;AAAA,IACX,MAAM,CAAC,EAAE,QAAQ,2BAA2B,SAAS,MAAM;AAAA,IAC3D,MAAM,CAAC,EAAE,QAAQ,2BAA2B,SAAS,MAAM;AAAA,EAC7D;AAAA,EACA,UAAU;AAAA,IACR,OAAO;AAAA,MACL,MAAM;AAAA,QACJ,EAAE,QAAQ,uBAAuB,SAAS,KAAK;AAAA,QAC/C,EAAE,QAAQ,uBAAuB,SAAS,KAAK;AAAA,QAC/C,EAAE,QAAQ,qBAAqB,SAAS,KAAK;AAAA,QAC7C,EAAE,QAAQ,uBAAuB,SAAS,KAAK;AAAA,MACjD;AAAA,MACA,QAAQ,CAAC,EAAE,QAAQ,uBAAuB,SAAS,MAAM;AAAA,MACzD,QAAQ,CAAC,EAAE,QAAQ,uBAAuB,SAAS,MAAM;AAAA,MACzD,MAAM,CAAC,EAAE,QAAQ,qBAAqB,SAAS,MAAM;AAAA,MACrD,QAAQ,CAAC,EAAE,QAAQ,uBAAuB,SAAS,MAAM;AAAA,IAC3D;AAAA,IACA,OAAO;AAAA,MACL,MAAM;AAAA,QACJ,EAAE,QAAQ,uBAAuB,SAAS,KAAK;AAAA,QAC/C,EAAE,QAAQ,qBAAqB,SAAS,KAAK;AAAA,QAC7C,EAAE,QAAQ,uBAAuB,SAAS,KAAK;AAAA,QAC/C,EAAE,QAAQ,uBAAuB,SAAS,KAAK;AAAA,MACjD;AAAA,MACA,QAAQ,CAAC,EAAE,QAAQ,uBAAuB,SAAS,MAAM;AAAA,MACzD,QAAQ,CAAC,EAAE,QAAQ,uBAAuB,SAAS,MAAM;AAAA,MACzD,MAAM,CAAC,EAAE,QAAQ,qBAAqB,SAAS,MAAM;AAAA,MACrD,QAAQ,CAAC,EAAE,QAAQ,uBAAuB,SAAS,MAAM;AAAA,IAC3D;AAAA,IACA,UAAU;AAAA,MACR,MAAM;AAAA,QACJ,EAAE,QAAQ,0BAA0B,SAAS,KAAK;AAAA,QAClD,EAAE,QAAQ,wBAAwB,SAAS,KAAK;AAAA,QAChD,EAAE,QAAQ,0BAA0B,SAAS,KAAK;AAAA,QAClD,EAAE,QAAQ,0BAA0B,SAAS,KAAK;AAAA,MACpD;AAAA,MACA,QAAQ,CAAC,EAAE,QAAQ,0BAA0B,SAAS,MAAM;AAAA,MAC5D,QAAQ,CAAC,EAAE,QAAQ,0BAA0B,SAAS,MAAM;AAAA,MAC5D,MAAM;AAAA,QACJ,EAAE,QAAQ,wBAAwB,SAAS,KAAK;AAAA;AAAA,QAEhD,EAAE,QAAQ,0BAA0B,SAAS,KAAK;AAAA,QAClD,EAAE,QAAQ,0BAA0B,SAAS,KAAK;AAAA,MACpD;AAAA,MACA,QAAQ,CAAC,EAAE,QAAQ,0BAA0B,SAAS,MAAM;AAAA,IAC9D;AAAA,IACA,cAAc;AAAA,MACZ,MAAM,CAAC,EAAE,QAAQ,4BAA4B,SAAS,MAAM;AAAA,MAC5D,QAAQ,CAAC,EAAE,QAAQ,4BAA4B,SAAS,MAAM;AAAA,MAC9D,QAAQ,CAAC,EAAE,QAAQ,4BAA4B,SAAS,MAAM;AAAA,MAC9D,MAAM,CAAC,EAAE,QAAQ,0BAA0B,SAAS,MAAM;AAAA,MAC1D,QAAQ,CAAC,EAAE,QAAQ,4BAA4B,SAAS,MAAM;AAAA,MAC9D,YAAY,CAAC,EAAE,QAAQ,gCAAgC,SAAS,MAAM;AAAA,IACxE;AAAA,IACA,mBAAmB;AAAA,MACjB,MAAM,CAAC,EAAE,QAAQ,iCAAiC,SAAS,MAAM;AAAA,MACjE,QAAQ,CAAC,EAAE,QAAQ,iCAAiC,SAAS,MAAM;AAAA,MACnE,QAAQ,CAAC,EAAE,QAAQ,iCAAiC,SAAS,MAAM;AAAA,MACnE,MAAM,CAAC,EAAE,QAAQ,+BAA+B,SAAS,MAAM;AAAA,MAC/D,QAAQ,CAAC,EAAE,QAAQ,iCAAiC,SAAS,MAAM;AAAA,MACnE,YAAY,CAAC,EAAE,QAAQ,qCAAqC,SAAS,MAAM;AAAA,IAC7E;AAAA,IACA,oBAAoB;AAAA,MAClB,MAAM,CAAC,EAAE,QAAQ,gCAAgC,SAAS,MAAM;AAAA,MAChE,QAAQ,CAAC,EAAE,QAAQ,kCAAkC,SAAS,MAAM;AAAA,IACtE;AAAA,EACF;AACF;AAEO,MAAM,QAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAMnB,wBAAwB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOxB,+BAA+B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAO/B,yBAAyB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOzB,2BAA2B;AAC7B;AAEO,MAAM,gCAAgC;AACtC,MAAM,+BAA+B;AAYrC,MAAM,oBAAoB,OAAqB;AAAA,EACpD,QAAQ;AAAA,IACN;AAAA,MACE,WAAW,EAAE,IAAI,8BAA8B,gBAAgB,WAAW;AAAA,MAC1E,IAAI;AAAA,MACJ,IAAI;AAAA,IACN;AAAA,IACA;AAAA,MACE,WAAW,EAAE,IAAI,2BAA2B,gBAAgB,WAAW;AAAA,MACvE,IAAI;AAAA,MACJ,IAAI;AAAA,IACN;AAAA,IACA;AAAA,MACE,WAAW,EAAE,IAAI,4BAA4B,gBAAgB,aAAa;AAAA,MAC1E,IAAI;AAAA,MACJ,IAAI;AAAA,IACN;AAAA,IACA;AAAA,MACE,WAAW,EAAE,IAAI,iCAAiC,gBAAgB,kBAAkB;AAAA,MACpF,IAAI;AAAA,MACJ,IAAI;AAAA,IACN;AAAA;AAAA;AAAA,IAGA,GAAI,CAAC,OAAO,OAAO,SAAS,UAAU,OAAO,OAAO,SAAS,GAAG,KAChE,OAAO,QAAQ,OAAO,YAClB;AAAA,MACE;AAAA,QACE,WAAW,EAAE,IAAI,sBAAsB,gBAAgB,iBAAiB;AAAA,QACxE,IAAI;AAAA,QACJ,IAAI;AAAA,QACJ,UAAU;AAAA,MACZ;AAAA,IAAA,IAEF,CAAC;AAAA,IAEL,GAAI,CAAC,OAAO,OAAO,SAAS,UAAU,OAAO,OAAO,SAAS,gBAAgB,KAC7E,OAAO,QAAQ,OAAO,YAClB;AAAA,MACE;AAAA,QACE,WAAW;AAAA,UACT,IAAI;AAAA,UACJ,gBAAgB;AAAA,QAClB;AAAA,QACA,IAAI;AAAA,QACJ,IAAI;AAAA,QACJ,UAAU;AAAA,MACZ;AAAA,IAAA,IAEF,CAAC;AAAA,EACP;AAAA,EAEA,OAAO;AAAA,IACL;AAAA,MACE,WAAW,EAAE,IAAI,gBAAgB,gBAAgB,QAAQ;AAAA,MACzD,IAAI;AAAA,MACJ,IAAI;AAAA,IACN;AAAA,IACA;AAAA,MACE,WAAW,EAAE,IAAI,gBAAgB,gBAAgB,QAAQ;AAAA;AAAA,MAEzD,IAAI;AAAA,MACJ,IAAI;AAAA,IACN;AAAA,IACA,GAAI,CAAC,OAAO,OAAO,SAAS,UAAU,OAAO,OAAO,SAAS,UAAU,KACvE,OAAO,QAAQ,OAAO,YAClB;AAAA,MACE;AAAA,QACE,WAAW,EAAE,IAAI,oBAAoB,gBAAgB,aAAa;AAAA,QAClE,IAAI;AAAA,QACJ,IAAI;AAAA,QACJ,UAAU;AAAA,MACZ;AAAA,IAAA,IAEF,CAAC;AAAA,EACP;AACF;ACxMA,MAAM,CAAC,8BAA8B,uBAAuB,IAC1DC,2BAAyC,sBAAsB;AAE3D,MAAA,mBAAmB,MAAM,wBAAwB,kBAAkB;ACXzE,SAAS,eAAe;AACtB,SAAO,OAAO,OAAO;AACvB;AAaO,MAAM,gBAAgB,CAM3B,QACA,YACA,OAA8E,CAAA,MACL;AACnE,QAAA,EAAE,eAAe,MAAM,UAAU,CAAC,SAAS,WAAW,QAAQ,UAAU,KAAA,IAAS;AACjF,QAAA,gBAAgBC,4BAAe,UAAU;AACzC,QAAA,qBAAqBA,4BAAe,OAAO;AAIjD,QAAM,CAAC,EAAE,QAAQ,OAAO,IAAIC,iBAAM,SAE/B;AAAA,IACD,MAAM,aAAA,KAAkB,UAAU,eAAe;AAAA,EAAA,CAClD;AAEDA,mBAAM,UAAU,MAAM;AACpB,mBAAe,WAAW;AAClB,YAAA,SAAS,MAAM;AACf,YAAA,gBAAgB,mBAAmB,QAAQ,MAAM;AAEvD,cAAQ,EAAE,MAAM,gBAAgB,gBAAgB,OAAQ,CAAA;AAAA,IAC1D;AAEI,QAAA,kBAAkB,SAAS;AACpB;IACX;AAAA,KACC,CAAC,QAAQ,eAAe,oBAAoB,OAAO,CAAC;AAGhD,SAAA;AACT;ACjCA,MAAM,CAAC,wBAAwB,iBAAiB,IAC9CF,2BAAmC,gBAAgB;AAE/C,MAAA,aAAa,MAAM,kBAAkB,YAAY;AAMvD,MAAM,6BAA6B;AAQnC,MAAM,mBAAmB,CAAC,EAAE,UAAU,aAAa,eAAsC;AACvF,QAAM,CAAC,EAAE,OAAA,GAAU,QAAQ,IAAIE,iBAAM;AAAA,IACnCC;AAAAA,IACAC;AAAAA,IACA,MAAM;AACJ,YAAM,4BAA4B,OAAO,aAAa,QAAQ,0BAA0B;AACpF,UAAA,6BAA6B,YAAY,yBAAyB,GAAG;AAChE,eAAA;AAAA,UACL,QAAQ;AAAA,UACR;AAAA,QAAA;AAAA,MACF,OACK;AACE,eAAA;AAAA,UACL,QAAQ;AAAA,UACR;AAAA,QAAA;AAAA,MAEJ;AAAA,IACF;AAAA,EAAA;AAGFF,mBAAM,UAAU,MAAM;AAEb,WAAA,aAAa,QAAQ,4BAA4B,MAAM;AACrD,aAAA,gBAAgB,aAAa,QAAQ,MAAM;AAAA,EAAA,GACnD,CAAC,MAAM,CAAC;AAEX,QAAM,eAAeA,iBAAM,YAAY,CAACG,YAAuC;AACpE,aAAA;AAAA,MACP,MAAM;AAAA,MACN,QAAAA;AAAAA,IAAA,CACD;AAAA,EACH,GAAG,CAAE,CAAA;AAEL,QAAM,cAAcC,sBAAAA,QAAa,SAAS,MAAM,GAAG,SAAS,EAAE;AAE9D,SACGZ,2BAAA,IAAAa,UAAA,cAAA,EAAa,QAAgB,eAAc,MAAK,UAAU,aAAa,eAAc,QACpF,UAACb,2BAAAA,IAAA,wBAAA,EAAuB,cAA4B,aACjD,UACH,EACF,CAAA;AAEJ;AAWA,MAAMU,iBAAsB;AAAA,EAC1B,aAAa,EAAE,IAAI,UAAU;AAAA,EAC7B,QAAQ;AACV;AASA,MAAMD,YAAU,CAAC,QAAQC,gBAAc,WAAmB;AACxD,UAAQ,OAAO,MAAM;AAAA,IACnB,KAAK,iBAAiB;AACd,YAAA,EAAE,OAAW,IAAA;AAEnB,UAAI,CAAC,MAAM,YAAY,MAAM,GAAG;AACvB,eAAA;AAAA,MACT;AAEO,aAAA,EAAE,GAAG,OAAO;IACrB;AAAA,IACA,SAAS;AACA,aAAA;AAAA,IACT;AAAA,EACF;AACF;ACpHA,MAAM,MAAMI,gBAAO,QAAA;AAAA,YACP,KAAK,EAAE;AAAA;AAGnB,MAAM,OAAO,MAAM;AACX,QAAA;AAAA,IACJ,OAAO,EAAE,KAAK;AAAA,MACZ,iBAAiB;AAEd,SAAAd,2BAAA,IAAC,KAAI,EAAA,KAAK,MAAM,UAAU,KAAK,SAAS,eAAW,MAAC,KAAI,GAAG,CAAA;AACpE;ACNA,MAAM,UAAUc,gBAAAA,QAAOC,aAAAA,GAAG;AAAA;AAAA;AAAA;AAKb,MAAA,SAASD,gBAAAA,QAAOE,aAAAA,IAAI;AAAA;AAAA;AAIjC,MAAM,eAAe,MAAM;AACzB,QAAM,EAAE,cAAc,YAAY,IAAI,WAAW;AACjD,QAAM,EAAE,eAAe,OAAO,IAAIC,UAAQ,QAAA;AAGxC,SAAAjB,2BAAA;AAAA,IAACkB,aAAA;AAAA,IAAA;AAAA,MACC,cAAY,cAAc;AAAA,QACxB,IAAI;AAAA,QACJ,gBAAgB;AAAA,MAAA,CACjB;AAAA,MACD,OAAO;AAAA,MACP,UAAU,CAAC,aAAa;AACtB,qBAAa,QAAkB;AAAA,MACjC;AAAA,MAEC,iBAAO,QAAQ,WAAW,EAAE,IAAI,CAAC,CAAC,UAAU,IAAI,qCAC9CC,aAAAA,oBAAkC,EAAA,OAAO,UACvC,UAAA,KAAA,GADsB,QAEzB,CACD;AAAA,IAAA;AAAA,EAAA;AAGP;AAMO,MAAM,gBAAgB,CAAC,EAAE,SAAA,MAC9BnB,2BAAA;AAAA,EAAC;AAAA,EAAA;AAAA,IACC,QAAO;AAAA,IACP,WAAS;AAAA,IACT,YAAY;AAAA,IACZ,eAAe;AAAA,IACf,aAAa;AAAA,IACb,cAAc;AAAA,IACd,YAAW;AAAA,IAEV;AAAA,EAAA;AACH;AAOK,MAAM,wBAAwB,CAAC,EAAE,eAA2C;AACjF,yCACG,OACC,EAAA,UAAA;AAAA,IAAAA,+BAACgB,aAAAA,MAAK,EAAA,IAAG,UAAS,gBAAe,YAC/B,UAAChB,2BAAAA,IAAAe,aAAA,KAAA,EAAI,YAAY,GAAG,cAAc,GAChC,UAACf,2BAAA,IAAA,cAAA,CAAA,CAAa,EAChB,CAAA,GACF;AAAA,mCACCe,aAAI,KAAA,EAAA,YAAY,GAAG,eAAe,IAChC,UACH;AAAA,EACF,EAAA,CAAA;AAEJ;ACzEA,MAAM,qBAAqBD,gBAAAA,QAAOM,aAAAA,WAAW;AAAA;AAAA;AAAA;AAAA;AAAA,cAK/B,CAAC,EAAE,MAAA,MAAY,MAAM,OAAO,UAAU;AAAA;AAAA;AAAA;ACuBpD,MAAM,eAAeC,eAAI,OAAO,EAAE,MAAM;AAAA,EACtC,OAAOA,eAAI,OAAA,EAAS,MAAMC,8BAAiB,KAAK,EAAE,SAASA,aAAA,iBAAiB,QAAQ;AAAA,EACpF,UAAUD,eAAI,OAAA,EAAS,SAASC,aAAAA,iBAAiB,QAAQ;AAAA,EACzD,YAAYD,eAAI,KAAK,EAAE,SAAS;AAClC,CAAC;AAED,MAAM,QAAQ,CAAC,EAAE,eAA2B;AAC1C,QAAM,CAAC,UAAU,WAAW,IAAIb,iBAAM,SAAiB;AACvD,QAAM,CAAC,eAAe,gBAAgB,IAAIA,iBAAM,SAAS,KAAK;AACxD,QAAA,EAAE,kBAAkBS,UAAAA;AACpB,QAAA,EAAE,SAASM,aAAAA;AACX,QAAA,EAAE,iBAAiB;AACzB,QAAM,QAAQC,aAAAA;AACR,QAAA,EAAE,SAASC,eAAAA;AAEjB,QAAM,WAAWC,WAAA;AAAA,IACf,OAAO,SAA0D;AACzD,YAAA;AAAA,QACJ,MAAM,EAAE,KAAK;AAAA,MACX,IAAA,MAAM,KAAqB,gBAAgB,IAAI;AAEnD,aAAO,EAAE,GAAG,MAAM,YAAY,KAAK,WAAW;AAAA,IAChD;AAAA,IACA;AAAA,MACE,UAAU,MAAM;AACd,YAAI,MAAM;AACF,gBAAA,EAAE,OAAO,KAAS,IAAA;AAExB,cAAI,KAAK,kBAAkB;AACzB,yBAAa,KAAK,gBAAgB;AAAA,UACpC;AAEKtB,uBAAAA,KAAA,SAAS,OAAO,KAAK,UAAU;AAC/BA,uBAAAA,KAAA,YAAY,MAAM,KAAK,UAAU;AAEhC,gBAAA,aAAa,MAAM,IAAI,YAAY;AACzC,gBAAM,cAAc,aAAa,mBAAmB,UAAU,IAAI;AAElE,eAAK,WAAW;AAAA,QAClB;AAAA,MACF;AAAA,MACA,QAAQ,KAAsD;AAC5D,cAAM,UAAU,IAAI,UAAU,MAAM,OAAO,WAAW;AAEtD,YAAIuB,mBAAU,QAAA,OAAO,EAAE,YAAA,MAAkB,iBAAiB;AACxD,eAAK,YAAY;AACjB;AAAA,QACF;AAEA,oBAAY,OAAO;AAAA,MACrB;AAAA,IACF;AAAA,EAAA;AAIA,SAAA3B,2BAAAA,IAAC,uBACC,EAAA,UAAAC,2BAAAA,KAAC2B,aAAAA,MACC,EAAA,UAAA;AAAA,IAAA3B,gCAAC,eACC,EAAA,UAAA;AAAA,MAAAA,gCAAC,QACC,EAAA,UAAA;AAAA,QAAAD,2BAAA,IAAC,MAAK,EAAA;AAAA,QACLA,2BAAA,IAAAe,aAAA,KAAA,EAAI,YAAY,GAAG,eAAe,GACjC,UAACf,2BAAA,IAAA6B,aAAA,YAAA,EAAW,SAAQ,SAAQ,IAAG,MAC5B,UAAc,cAAA;AAAA,UACb,IAAI;AAAA,UACJ,gBAAgB;AAAA,QAAA,CACjB,GACH,EACF,CAAA;AAAA,QACA7B,2BAAAA,IAACe,aAAAA,KAAI,EAAA,eAAe,GAClB,UAAAf,2BAAA,IAAC6B,2BAAW,SAAQ,WAAU,WAAU,cACrC,UAAc,cAAA;AAAA,UACb,IAAI;AAAA,UACJ,gBAAgB;AAAA,QAAA,CACjB,GACH,EACF,CAAA;AAAA,QACC,SAAS,WAAW,WACnB7B,2BAAAA,IAAC6B,aAAAA,cAAW,IAAG,qBAAoB,MAAK,SAAQ,UAAU,IAAI,WAAU,aACrE,mBACH,CAAA,IACE;AAAA,MAAA,GACN;AAAA,MACA7B,2BAAA;AAAA,QAAC8B,OAAA;AAAA,QAAA;AAAA,UACC,oBAAkB;AAAA,UAClB,eAAe;AAAA,YACb,OAAO;AAAA,YACP,UAAU;AAAA,YACV,YAAY;AAAA,UACd;AAAA,UACA,UAAU,CAAC,WAAW;AACpB,qBAAS,OAAO,MAAM;AAAA,UACxB;AAAA,UACA,kBAAkB;AAAA,UAClB,kBAAkB;AAAA,UAEjB,UAAC,CAAA,EAAE,QAAQ,QAAQ,mBAClB9B,2BAAA,IAAC+B,aACC,MAAA,EAAA,UAAA9B,2BAAA,KAACe,qBAAK,WAAU,UAAS,YAAW,WAAU,KAAK,GACjD,UAAA;AAAA,YAAAhB,2BAAA;AAAA,cAACgC,aAAA;AAAA,cAAA;AAAA,gBACC,OACE,OAAO,QACH,cAAc;AAAA,kBACZ,IAAI,OAAO;AAAA,kBACX,gBAAgB;AAAA,gBACjB,CAAA,IACD;AAAA,gBAEN,OAAO,OAAO;AAAA,gBACd,UAAU;AAAA,gBACV,OAAO,cAAc,EAAE,IAAI,yBAAyB,gBAAgB,SAAS;AAAA,gBAC7E,aAAa,cAAc;AAAA,kBACzB,IAAI;AAAA,kBACJ,gBAAgB;AAAA,gBAAA,CACjB;AAAA,gBACD,MAAK;AAAA,gBACL,UAAQ;AAAA,cAAA;AAAA,YACV;AAAA,YACAhC,2BAAA;AAAA,cAACiC;AAAAA,cAAA;AAAA,gBACC,OACE,OAAO,WACH,cAAc;AAAA,kBACZ,IAAI,OAAO;AAAA,kBACX,gBAAgB;AAAA,gBACjB,CAAA,IACD;AAAA,gBAEN,UAAU;AAAA,gBACV,OAAO,OAAO;AAAA,gBACd,OAAO,cAAc;AAAA,kBACnB,IAAI;AAAA,kBACJ,gBAAgB;AAAA,gBAAA,CACjB;AAAA,gBACD,MAAK;AAAA,gBACL,MAAM,gBAAgB,SAAS;AAAA,gBAC/B,WACEjC,2BAAA;AAAA,kBAAC;AAAA,kBAAA;AAAA,oBACC,SAAS,CAAC,MAAM;AACd,wBAAE,gBAAgB;AACD,uCAAA,CAAC,SAAS,CAAC,IAAI;AAAA,oBAClC;AAAA,oBACA,OAAO;AAAA,sBACL,gBACI;AAAA,wBACE,IAAI;AAAA,wBACJ,gBAAgB;AAAA,sBAAA,IAElB;AAAA,wBACE,IAAI;AAAA,wBACJ,gBAAgB;AAAA,sBAClB;AAAA,oBACN;AAAA,oBAEC,UAAgB,gBAAAA,2BAAAA,IAACkC,MAAI,KAAA,CAAA,CAAA,mCAAMC,MAAW,YAAA,EAAA;AAAA,kBAAA;AAAA,gBACzC;AAAA,gBAEF,UAAQ;AAAA,cAAA;AAAA,YACV;AAAA,YACAnC,2BAAA;AAAA,cAACoC,aAAA;AAAA,cAAA;AAAA,gBACC,eAAe,CAAC,YAAY;AACb,+BAAA,EAAE,QAAQ,EAAE,OAAO,SAAS,MAAM,gBAAgB;AAAA,gBACjE;AAAA,gBACA,OAAO,OAAO;AAAA,gBACd,cAAW;AAAA,gBACX,MAAK;AAAA,gBAEJ,UAAc,cAAA;AAAA,kBACb,IAAI;AAAA,kBACJ,gBAAgB;AAAA,gBAAA,CACjB;AAAA,cAAA;AAAA,YACH;AAAA,YACCpC,2BAAA,IAAAqC,aAAA,QAAA,EAAO,WAAS,MAAC,MAAK,UACpB,UAAc,cAAA,EAAE,IAAI,0BAA0B,gBAAgB,QAAA,CAAS,EAC1E,CAAA;AAAA,UAAA,EAAA,CACF,EACF,CAAA;AAAA,QAAA;AAAA,MAEJ;AAAA,MACC;AAAA,IAAA,GACH;AAAA,IACCrC,+BAAAgB,aAAAA,MAAA,EAAK,gBAAe,UACnB,yCAACD,kBAAI,EAAA,YAAY,GAEf,UAAAf,2BAAA,IAACsC,GAAK,MAAA,EAAA,IAAIC,eAAS,SAAA,IAAG,yBACnB,UAAc,cAAA;AAAA,MACb,IAAI;AAAA,MACJ,gBAAgB;AAAA,IAAA,CACjB,EACH,CAAA,EACF,CAAA,GACF;AAAA,EAAA,EACF,CAAA,EACF,CAAA;AAEJ;AAEA,MAAMN,kBAAgBnB,gBAAAA,QAAOkB,aAAAA,SAAS;AAAA;AAAA;AAAA;AAAA;ACjNtC,MAAM,iBAAiB,MAAM;AACrB,QAAA,EAAE,SAASP,eAAAA;AACX,QAAA,EAAE,SAASF,aAAAA;AACX,QAAA,EAAE,kBAAkBN,UAAAA;AAEpB,QAAA,EAAE,QAAQ,QAAA,IAAYS,WAAA;AAAA,IAC1B,OAAO,SAAyC;AACxC,YAAA,KAAK,0BAA0B,IAAI;AAAA,IAC3C;AAAA,IACA;AAAA,MACE,YAAY;AACV,aAAK,+BAA+B;AAAA,MACtC;AAAA,IACF;AAAA,EAAA;AAIA,SAAA1B,2BAAAA,IAAC,uBACC,EAAA,UAAAC,2BAAAA,KAAC2B,aAAAA,MACC,EAAA,UAAA;AAAA,IAAA3B,gCAAC,eACC,EAAA,UAAA;AAAA,MAAAA,gCAAC,QACC,EAAA,UAAA;AAAA,QAAAD,2BAAA,IAAC,MAAK,EAAA;AAAA,QACLA,2BAAA,IAAAe,aAAA,KAAA,EAAI,YAAY,GAAG,eAAe,GACjC,UAACf,2BAAA,IAAA6B,aAAA,YAAA,EAAW,IAAG,MAAK,SAAQ,SACzB,UAAc,cAAA;AAAA,UACb,IAAI;AAAA,UACJ,gBAAgB;AAAA,QAAA,CACjB,GACH,EACF,CAAA;AAAA,QACC,UACE7B,2BAAAA,IAAA6B,aAAAA,YAAA,EAAW,IAAG,qBAAoB,MAAK,SAAQ,UAAU,IAAI,WAAU,aACrE,UAAc,cAAA;AAAA,UACb,IAAI;AAAA,UACJ,gBAAgB;AAAA,QAAA,CACjB,GACH,IACE;AAAA,MAAA,GACN;AAAA,MACA7B,2BAAA;AAAA,QAAC8B,OAAA;AAAA,QAAA;AAAA,UACC,oBAAkB;AAAA,UAClB,eAAe;AAAA,YACb,OAAO;AAAA,UACT;AAAA,UACA,UAAU,CAAC,WAAW;AACpB,mBAAO,MAAM;AAAA,UACf;AAAA,UACA,kBAAkBT,eAAI,OAAO,EAAE,MAAM;AAAA,YACnC,OAAOA,eAAI,OAAA,EAAS,MAAMC,8BAAiB,KAAK,EAAE,SAASA,aAAA,iBAAiB,QAAQ;AAAA,UAAA,CACrF;AAAA,UACD,kBAAkB;AAAA,UAEjB,UAAC,CAAA,EAAE,QAAQ,QAAQ,mBAClBtB,2BAAA,IAAC+B,aACC,MAAA,EAAA,UAAA9B,2BAAA,KAACe,qBAAK,WAAU,UAAS,YAAW,WAAU,KAAK,GACjD,UAAA;AAAA,YAAAhB,2BAAA;AAAA,cAACgC,aAAA;AAAA,cAAA;AAAA,gBACC,OACE,OAAO,QACH,cAAc;AAAA,kBACZ,IAAI,OAAO;AAAA,kBACX,gBAAgB;AAAA,gBACjB,CAAA,IACD;AAAA,gBAEN,OAAO,OAAO;AAAA,gBACd,UAAU;AAAA,gBACV,OAAO,cAAc,EAAE,IAAI,yBAAyB,gBAAgB,SAAS;AAAA,gBAC7E,aAAa,cAAc;AAAA,kBACzB,IAAI;AAAA,kBACJ,gBAAgB;AAAA,gBAAA,CACjB;AAAA,gBACD,MAAK;AAAA,gBACL,UAAQ;AAAA,cAAA;AAAA,YACV;AAAA,2CACCK,aAAAA,QAAO,EAAA,MAAK,UAAS,WAAS,MAC5B,UAAc,cAAA;AAAA,cACb,IAAI;AAAA,cACJ,gBAAgB;AAAA,YACjB,CAAA,GACH;AAAA,UAAA,EAAA,CACF,EACF,CAAA;AAAA,QAAA;AAAA,MAEJ;AAAA,IAAA,GACF;AAAA,IACArC,2BAAAA,IAACgB,aAAAA,QAAK,gBAAe,UACnB,yCAACD,aAAI,KAAA,EAAA,YAAY,GAEf,UAAAf,2BAAAA,IAACsC,GAAAA,MAAK,EAAA,IAAIC,eAAAA,SAAS,IAAG,eACnB,UAAc,cAAA,EAAE,IAAI,mBAAmB,gBAAgB,oBAAoB,CAAC,EAC/E,CAAA,EAAA,CACF,EACF,CAAA;AAAA,EAAA,EACF,CAAA,EACF,CAAA;AAEJ;ACrGA,MAAM,wBAAwB,MAAM;AAC5B,QAAA,EAAE,kBAAkBtB,UAAAA;AAGxB,SAAAjB,2BAAAA,IAAC,uBACC,EAAA,UAAAC,2BAAAA,KAAC2B,aAAAA,MACC,EAAA,UAAA;AAAA,IAAC5B,2BAAA,IAAA,eAAA,EACC,0CAAC,QACC,EAAA,UAAA;AAAA,MAAAA,2BAAA,IAAC,MAAK,EAAA;AAAA,MACLA,2BAAA,IAAAe,aAAA,KAAA,EAAI,YAAY,GAAG,eAAe,GACjC,UAACf,2BAAA,IAAA6B,aAAA,YAAA,EAAW,IAAG,MAAK,SAAQ,SACzB,UAAc,cAAA;AAAA,QACb,IAAI;AAAA,QACJ,gBAAgB;AAAA,MAAA,CACjB,GACH,EACF,CAAA;AAAA,MACA7B,2BAAAA,IAAC6B,2BACE,UAAc,cAAA;AAAA,QACb,IAAI;AAAA,QACJ,gBAAgB;AAAA,MACjB,CAAA,GACH;AAAA,qCACCd,aAAAA,KAAI,EAAA,YAAY,GACf,UAAAf,2BAAAA,IAAC6B,2BACE,UAAc,cAAA;AAAA,QACb,IAAI;AAAA,QACJ,gBACE;AAAA,MAAA,CACH,GACH,EACF,CAAA;AAAA,IAAA,EAAA,CACF,EACF,CAAA;AAAA,IACA7B,2BAAAA,IAACgB,aAAAA,QAAK,gBAAe,UACnB,yCAACD,aAAI,KAAA,EAAA,YAAY,GAEf,UAAAf,2BAAAA,IAACsC,GAAAA,MAAK,EAAA,IAAIC,eAAAA,SAAS,IAAG,eACnB,UAAc,cAAA,EAAE,IAAI,oBAAoB,gBAAgB,UAAU,CAAC,EACtE,CAAA,EAAA,CACF,EACF,CAAA;AAAA,EAAA,EACF,CAAA,EACF,CAAA;AAEJ;AC5CA,MAAM,OAAO,MAAM;AACX,QAAA,EAAE,kBAAkBtB,UAAAA;AAC1B,QAAM,QAAQO,aAAAA;AAEd,QAAM,UACJ,MAAM,IAAI,MAAM,KAChB,cAAc;AAAA,IACZ,IAAI;AAAA,IACJ,gBAAgB;AAAA,EAAA,CACjB;AAGD,SAAAxB,2BAAAA,IAAC,uBACC,EAAA,UAAAC,2BAAAA,KAAC2B,aAAAA,MACC,EAAA,UAAA;AAAA,IAAC5B,2BAAA,IAAA,eAAA,EACC,0CAAC,QACC,EAAA,UAAA;AAAA,MAAAA,2BAAA,IAAC,MAAK,EAAA;AAAA,MACNA,2BAAAA,IAACe,oBAAI,YAAY,GAAG,eAAe,GACjC,UAAAf,2BAAAA,IAAC6B,2BAAW,IAAG,MAAK,SAAQ,SACzB,UAAA,cAAc,EAAE,IAAI,8BAA8B,gBAAgB,WAAW,GAChF,EACF,CAAA;AAAA,MACA7B,2BAAAA,IAAC6B,2BAAY,UAAQ,QAAA,CAAA;AAAA,qCACpBd,aAAAA,KAAI,EAAA,YAAY,GACf,UAAAf,2BAAAA,IAAC6B,2BACE,UAAc,cAAA;AAAA,QACb,IAAI;AAAA,QACJ,gBAAgB;AAAA,MAAA,CACjB,GACH,EACF,CAAA;AAAA,IAAA,EAAA,CACF,EACF,CAAA;AAAA,IACA7B,2BAAAA,IAACgB,aAAAA,QAAK,gBAAe,UACnB,yCAACD,aAAI,KAAA,EAAA,YAAY,GAEf,UAAAf,2BAAAA,IAACsC,GAAAA,MAAK,EAAA,IAAIC,eAAAA,SAAS,IAAG,eACnB,UAAc,cAAA,EAAE,IAAI,oBAAoB,gBAAgB,UAAU,CAAC,EACtE,CAAA,EAAA,CACF,EACF,CAAA;AAAA,EAAA,EACF,CAAA,EACF,CAAA;AAEJ;AClCA,MAAM,eAAezB,gBAAAA,QAAO0B,aAAAA,KAAK;AAAA,YACrB,KAAK,EAAE;AAAA,WACR,KAAK,EAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAeH,CAAC,EAAE,YAAY,MAAM,OAAO,CAAC,CAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAOrB,CAAC,EAAE,MAAA,MAAY,MAAM,OAAO,QAAQ;AAAA;AAAA;AAAA;AAAA;AAAA,aAK/C,CAAC,EAAE,MAAA,MAAY,MAAM,OAAO,UAAU;AAAA,wBAC3B,CAAC,EAAE,MAAA,MAAY,MAAM,OAAO,QAAQ;AAAA,oBACxC,CAAC,EAAE,MAAA,MAAY,MAAM,OAAO,UAAU;AAAA;AAAA;AAI1D,MAAM,SAAS;AAAA,EACb,cAAc,KAAK,KAAK,KAAK,KAAK;AAAA;AAAA,EAClC,oBAAoB,IAAI,KAAK,KAAK,KAAK;AAAA;AAAA,EACvC,yBAAyB,KAAK,KAAK,KAAK,KAAK;AAAA;AAAA,EAC7C,SAAS,IAAI,KAAK;AAAA;AACpB;AAEA,MAAM,cAAc,CAAC,GAAG,MAAM,EAAE,EAAE,KAAM,CAAA;AAExC,MAAM,0BAA0B,CAAC,aAAgC;AAC/D,QAAM,EAAE,SAAS,kBAAkB,oBAAoB,sBAAsB;AAgB7E,MAAI,OAAO,OAAO,MAAM,QAAQ,OAAO;AAC9B,WAAA;AAAA,EACT;AAGA,MAAI,YAAY,OAAO;AACd,WAAA;AAAA,EACT;AAGA,MAAI,kBAAkB;AACd,UAAA,wBAAwB,KAAK,IAAI,IAAI,IAAI,KAAK,gBAAgB,EAAE;AAElE,QAAA,yBAAyB,OAAO,cAAc;AACzC,aAAA;AAAA,IACT;AAEO,WAAA;AAAA,EACT;AAGA,MAAI,mBAAmB;AACf,UAAA,yBAAyB,KAAK,IAAI,IAAI,IAAI,KAAK,iBAAiB,EAAE;AAEpE,QAAA,0BAA0B,OAAO,yBAAyB;AACrD,aAAA;AAAA,IACT;AAEO,WAAA;AAAA,EACT;AAGA,MAAI,oBAAoB;AAChB,UAAA,0BAA0B,KAAK,IAAI,IAAI,IAAI,KAAK,kBAAkB,EAAE;AAEtE,QAAA,2BAA2B,OAAO,oBAAoB;AACjD,aAAA;AAAA,IACT;AAEO,WAAA;AAAA,EACT;AAGO,SAAA;AACT;AAEA,MAAM,YAAY,MAAM;AACtB,QAAM,QAAQC,OAAAA;AACR,QAAA,EAAE,kBAAkBxB,UAAAA;AAC1B,QAAM,EAAE,mBAAmB,qBAAqB,IAAI,qBAAqB;AACzE,QAAM,CAAC,oBAAoB,qBAAqB,IAAIT,iBAAM,SAAS,KAAK;AACxE,QAAM,qBAAqBkC,aAAAA;AAC3B,QAAM,EAAE,oBAAoB,cAAc,IAAIC,aAAW,WAAA;AAWnD,QAAA,EAAE,QAAQ,UAAA,IAAcjB,WAAA;AAAA,IAC5B,OAAO,SAAS;AACR,YAAA,MAAM,MAAM,MAAM,0CAA0C;AAAA,QAChE,QAAQ;AAAA,QACR,SAAS;AAAA,UACP,gBAAgB;AAAA,QAClB;AAAA,QACA,MAAM,KAAK,UAAU,IAAI;AAAA,MAAA,CAC1B;AAEG,UAAA,CAAC,IAAI,IAAI;AACL,cAAA,IAAI,MAAM,6BAA6B;AAAA,MAC/C;AAEO,aAAA;AAAA,IACT;AAAA,IACA;AAAA,MACE,YAAY;AACV,6BAAqB,CAAC,cAAc;AAAA,UAClC,GAAG;AAAA,UACH,mBAAkB,oBAAI,KAAK,GAAE,SAAS;AAAA,UACtC,oBAAoB;AAAA,UACpB,mBAAmB;AAAA,QACnB,EAAA;AACF,8BAAsB,IAAI;AAE1B,mBAAW,MAAM;AACf,2BAAiB,KAAK;AAAA,WACrB,GAAI;AAAA,MACT;AAAA,MACA,UAAU;AACW,2BAAA;AAAA,UACjB,MAAM;AAAA,UACN,SAAS,cAAc,EAAE,IAAI,sBAAsB,gBAAgB,qBAAqB;AAAA,QAAA,CACzF;AAAA,MACH;AAAA,IACF;AAAA,EAAA;AAIF,QAAM,CAAC,eAAe,gBAAgB,IAAIlB,iBAAM;AAAA,IAC9C,wBAAwB,iBAAiB;AAAA,EAAA;AAI3C,QAAM,CAAC,eAAe,gBAAgB,IAAIA,iBAAM,SAAS,KAAK;AAE9DA,mBAAM,UAAU,MAAM;AACd,UAAA,cAAc,WAAW,MAAM;AACnC,uBAAiB,IAAI;AAAA,IAAA,GACpB,OAAO,OAAO;AAEjB,WAAO,MAAM;AACX,mBAAa,WAAW;AAAA,IAAA;AAAA,EAE5B,GAAG,CAAE,CAAA;AAEL,MAAI,CAAC,eAAe;AACX,WAAA;AAAA,EACT;AAEA,MAAI,CAAC,eAAe;AACX,WAAA;AAAA,EACT;AAEA,QAAM,uBAAuB,CAAC;AAAA,IAC5B;AAAA,IACA;AAAA,EAAA,MAII;AACE,UAAA,WAAWJ,kBAAK;AACf,WAAA;AAAA,MACL,OAAO,OAAO,aAAa,YAAY,aAAa,OAAO,SAAS,QAAQ;AAAA,MAC5E,QAAQ;AAAA,MACR,SAAS;AAAA,MACT,aAAa;AAAA,MACb,SAAS,iBAAiB;AAAA,MAC1B,SAAS,OAAO,OAAO;AAAA,IAAA,CACxB;AAAA,EAAA;AAGH,QAAM,gBAAgB,MAAM;AAC1B,yBAAqB,CAAC,aAAa;AACjC,YAAM,eAAe;AAAA,QACnB,GAAG;AAAA,QACH,kBAAkB;AAAA,MAAA;AAGpB,UAAI,SAAS,oBAAoB;AAE/B,qBAAa,qBAAoB,oBAAI,KAAK,GAAE,SAAS;AAAA,MAAA,OAChD;AAEL,qBAAa,sBAAqB,oBAAI,KAAK,GAAE,SAAS;AAAA,MACxD;AAEO,aAAA;AAAA,IAAA,CACR;AAED,qBAAiB,KAAK;AAAA,EAAA;AAGxB,wCACGwC,aAAAA,QACC,EAAA,UAAA5C,2BAAA;AAAA,IAAC8B,OAAA;AAAA,IAAA;AAAA,MACC,eAAe,EAAE,mBAAmB,IAAI,iBAAiB,KAAK;AAAA,MAC9D,UAAU;AAAA,MACV,kBAAkBT,eAAI,OAAO;AAAA,QAC3B,mBAAmBA,eAAI,OAAO;AAAA,QAC9B,iBAAiBA,eAAI,OAAO,EAAE,SAAS;AAAA,MAAA,CACxC;AAAA,MAEA,UAAA,CAAC,EAAE,QAAQ,cAAc,cACxB,MAAArB,+BAAC+B,OAAAA,MAAK,EAAA,MAAK,iBACT,UAAA/B,2BAAA;AAAA,QAACgB,aAAA;AAAA,QAAA;AAAA,UACC,WAAS;AAAA,UACT,WAAU;AAAA,UACV,SAAS;AAAA,UACT,aAAY;AAAA,UACZ,YAAW;AAAA,UACX,QAAO;AAAA,UACP,UAAS;AAAA,UACT,QAAQ;AAAA,UACR,MAAK;AAAA,UACL,WAAU;AAAA,UACV,QAAQ,MAAM,SAAS,CAAC;AAAA,UACxB,OAAM;AAAA,UAEL,UACC,qBAAAhB,2BAAAA,IAAC6B,aAAW,YAAA,EAAA,YAAW,YACpB,UAAc,cAAA;AAAA,YACb,IAAI;AAAA,YACJ,gBAAgB;AAAA,UAAA,CACjB,EACH,CAAA,IAEA5B,2BAAA,KAACc,oBAAI,IAAG,YAAW,OAAM,QACvB,UAAA;AAAA,YAAAd,2BAAA,KAACe,aAAK,MAAA,EAAA,gBAAe,iBAAgB,OAAM,QACzC,UAAA;AAAA,cAAChB,2BAAA,IAAAe,aAAA,KAAA,EAAI,YAAW,QAAO,aAAY,QACjC,UAACf,2BAAA,IAAA6B,aAAA,YAAA,EAAW,YAAW,YAAW,IAAG,UAClC,UAAc,cAAA;AAAA,gBACb,IAAI;AAAA,gBACJ,gBACE;AAAA,cAAA,CACH,GACH,EACF,CAAA;AAAA,cACA7B,2BAAA;AAAA,gBAAC6C,aAAA;AAAA,gBAAA;AAAA,kBACC,SAAS;AAAA,kBACT,cAAY,cAAc;AAAA,oBACxB,IAAI;AAAA,oBACJ,gBAAgB;AAAA,kBAAA,CACjB;AAAA,kBACD,qCAAOC,MAAM,OAAA,EAAA;AAAA,gBAAA;AAAA,cACf;AAAA,YAAA,GACF;AAAA,YACA7C,2BAAAA,KAACe,qBAAK,KAAK,GAAG,WAAW,GAAG,cAAc,GAAG,gBAAe,UAC1D,UAAA;AAAA,cAAAhB,+BAAC6B,aAAAA,YAAW,EAAA,SAAQ,MAAK,WAAU,cAChC,UAAc,cAAA;AAAA,gBACb,IAAI;AAAA,gBACJ,gBAAgB;AAAA,cACjB,CAAA,GACH;AAAA,cACC,YAAY,IAAI,CAAC,WAAW;AAEzB,uBAAA7B,2BAAA;AAAA,kBAAC;AAAA,kBAAA;AAAA,oBAEC,WAAW,OAAO,oBAAoB,SAAS,aAAa;AAAA,oBAC5D,WAAS;AAAA,oBACT,YAAW;AAAA,oBACX,aAAY;AAAA,oBACZ,OAAM;AAAA,oBACN,UAAS;AAAA,oBACT,QAAO;AAAA,oBAEP,UAACC,2BAAAA,KAAA8C,aAAA,YAAA,EAAW,SAAS,qBAAqB,MAAM,UAC9C,UAAA;AAAA,sBAAA/C,+BAACgD,aAAAA,gBACC,EAAA,UAAAhD,2BAAA;AAAA,wBAACiD,aAAA;AAAA,wBAAA;AAAA,0BACC,MAAK;AAAA,0BACL,IAAI,qBAAqB,MAAM;AAAA,0BAC/B,MAAK;AAAA,0BACL,SAAS,OAAO,oBAAoB;AAAA,0BACpC,UAAU,CAAC,MACT,cAAc,mBAAmB,SAAS,EAAE,OAAO,OAAO,EAAE,CAAC;AAAA,0BAE/D,OAAO;AAAA,wBAAA;AAAA,sBAAA,GAEX;AAAA,sBACC;AAAA,oBAAA,GACH;AAAA,kBAAA;AAAA,kBAvBK;AAAA,gBAAA;AAAA,cAwBP,CAEH;AAAA,6CACApB,aAAAA,YAAW,EAAA,SAAQ,MAAK,WAAU,cAChC,UAAc,cAAA;AAAA,gBACb,IAAI;AAAA,gBACJ,gBAAgB;AAAA,cACjB,CAAA,GACH;AAAA,YAAA,GACF;AAAA,YACC,OAAO,oBAAoB,QACzB5B,2BAAA,KAAAe,aAAA,MAAA,EAAK,WAAU,UACd,UAAA;AAAA,cAAChB,2BAAA,IAAAe,aAAA,KAAA,EAAI,WAAW,GACd,UAACf,2BAAAA,IAAA+C,aAAA,YAAA,EAAW,SAAQ,qBAAoB,YAAW,YAAW,UAAU,GACrE,UAAc,cAAA;AAAA,gBACb,IAAI;AAAA,gBACJ,gBAAgB;AAAA,cAAA,CACjB,GACH,EACF,CAAA;AAAA,6CACChC,aAAAA,KAAI,EAAA,OAAM,OAAM,WAAW,GAAG,cAAc,GAC3C,UAAAf,2BAAA;AAAA,gBAACkD,aAAA;AAAA,gBAAA;AAAA,kBACC,IAAG;AAAA,kBACH,OAAM;AAAA,kBACN,UAAU;AAAA,kBAET,UAAO,OAAA;AAAA,gBAAA;AAAA,cAAA,GAEZ;AAAA,cACAlD,2BAAAA,IAACqC,uBAAO,cAAc,GAAG,MAAK,UAAS,SAAS,WAC7C,UAAc,cAAA;AAAA,gBACb,IAAI;AAAA,gBACJ,gBAAgB;AAAA,cACjB,CAAA,GACH;AAAA,YAAA,GACF;AAAA,UAAA,GAEJ;AAAA,QAAA;AAAA,MAAA,GAGN;AAAA,IAAA;AAAA,EAGN,EAAA,CAAA;AAEJ;AAaA,SAAS,uBAAuB;AACxB,QAAA,CAAC,mBAAmB,oBAAoB,IAAIc,aAAA;AAAA,IAChD;AAAA,IACA;AAAA,MACE,SAAS;AAAA,MACT,kBAAkB;AAAA,MAClB,oBAAoB;AAAA,MACpB,mBAAmB;AAAA,IACrB;AAAA,EAAA;AAMK,SAAA,EAAE,mBAAmB;AAC9B;AC1WA,MAAM,uBAAuB9B,eAAI,OAAO,EAAE,MAAM;AAAA,EAC9C,WAAWA,eAAI,OAAO,EAAE,OAAO,SAASC,8BAAiB,QAAQ;AAAA,EACjE,UAAUD,eAAI,OAAO,EAAE,SAAS;AAAA,EAChC,UAAUA,eACP,OAAO,EACP,IAAI,GAAGC,aAAAA,iBAAiB,SAAS,EACjC,QAAQ,SAAS,0CAA0C,EAC3D,QAAQ,SAAS,0CAA0C,EAC3D,QAAQ,MAAM,uCAAuC,EACrD,SAASA,aAAA,iBAAiB,QAAQ;AAAA,EACrC,iBAAiBD,eACd,OAAA,EACA,MAAM,CAACA,eAAI,IAAI,UAAU,GAAG,IAAI,GAAG,yCAAyC,EAC5E,SAASC,aAAAA,iBAAiB,QAAQ;AAAA,EACrC,mBAAmBD,eAAI,OAAA,EAAS,SAASC,aAAAA,iBAAiB,QAAQ;AACpE,CAAC;AAED,MAAM,wBAAwBD,eAAI,OAAO,EAAE,MAAM;AAAA,EAC/C,WAAWA,eAAI,OAAO,EAAE,OAAO,SAASC,8BAAiB,QAAQ;AAAA,EACjE,UAAUD,eAAI,OAAO,EAAE,SAAS;AAAA,EAChC,UAAUA,eACP,OAAO,EACP,IAAI,GAAGC,aAAAA,iBAAiB,SAAS,EACjC,QAAQ,SAAS,0CAA0C,EAC3D,QAAQ,SAAS,0CAA0C,EAC3D,QAAQ,MAAM,uCAAuC,EACrD,SAASA,aAAA,iBAAiB,QAAQ;AAAA,EACrC,OAAOD,eACJ,OAAA,EACA,MAAMC,aAAAA,iBAAiB,KAAK,EAC5B,OAAO,EACP,UAAUA,aAAAA,iBAAiB,SAAS,EACpC,SAASA,8BAAiB,QAAQ;AAAA,EACrC,iBAAiBD,eACd,OAAA,EACA,MAAM,CAACA,eAAI,IAAI,UAAU,GAAG,IAAI,GAAG,yCAAyC,EAC5E,SAASC,aAAAA,iBAAiB,QAAQ;AACvC,CAAC;AAMD,MAAM,WAAW,CAAC,EAAE,eAA8B;AAChD,QAAM,qBAAqBoB,aAAAA;AACrB,QAAA,EAAE,SAASjB,eAAAA;AACjB,QAAM,CAAC,eAAe,gBAAgB,IAAIjB,iBAAM,SAAS,KAAK;AAC9D,QAAM,CAAC,sBAAsB,uBAAuB,IAAIA,iBAAM,SAAS,KAAK;AAC5E,QAAM,CAAC,aAAa,cAAc,IAAIA,iBAAM,SAAS,CAAC;AACtD,QAAM,CAAC,UAAU,WAAW,IAAIA,iBAAM,SAAiB;AACjD,QAAA,EAAE,eAAe4C,aAAAA;AACjB,QAAA,EAAE,kBAAkBnC,UAAAA;AACpB,QAAA,EAAE,eAAeoC,aAAAA;AACvB,QAAM,QAAQ7B,aAAAA;AACd,QAAM,QAAQ8B,eAAA;AAAA,IACZ;AAAA,EAAA;AAEI,QAAA,EAAE,mBAAmBC,aAAAA;AAC3B,QAAM,EAAE,KAAAC,MAAK,KAAK,IAAIjC,aAAe,eAAA;AAC/B,QAAA,EAAE,yBAAyB;AAE3B,QAAA,oBAAoB,MAAM,IAAI,mBAAmB;AAEvD,QAAM,EAAE,MAAM,SAAS,IAAIkC,oBAAc;AAAA,IACvC,UAAU,CAAC,SAAS,qBAAqB,iBAAiB;AAAA,IAC1D,MAAM,UAAU;AACR,YAAA;AAAA,QACJ,MAAM,EAAE,KAAK;AAAA,MAAA,IACX,MAAMD,KAA+B,4BAA4B;AAAA,QACnE,QAAQ;AAAA,UACN;AAAA,QACF;AAAA,MAAA,CACD;AAEM,aAAA;AAAA,IACT;AAAA,IACA,SAAS,CAAC,CAAC;AAAA,IACX,aAAa,CAAC;AAAA,IACd,QAAQ,KAAqF;AACrF,YAAA,UAAU,eAAe,GAAG;AAEf,yBAAA;AAAA,QACjB,MAAM;AAAA,QACN;AAAA,MAAA,CACD;AAED,WAAK,mBAAmB,mBAAmB,OAAO,CAAC,EAAE;AAAA,IACvD;AAAA,EAAA,CACD;AAED,QAAM,wBAAwB9B,WAAA;AAAA,IAC5B,OAAO,SAA4D;AACjE,YAAM,EAAE,MAAM,GAAG,SAAA,IAAa;AAC9B,YAAM,EAAE,KAAK,IAAI,MAAM,KAA6B,yBAAyB,QAAQ;AAErF,aAAO,EAAE,GAAG,KAAK,MAAM,KAAK;AAAA,IAC9B;AAAA,IACA;AAAA,MACE,UAAU,MAAM;AACd,cAAM,EAAE,OAAO,MAAM,KAAA,IAAS;AAEzBtB,qBAAAA,KAAA,SAAS,OAAO,KAAK;AACrBA,qBAAAA,KAAA,YAAY,MAAM,KAAK;AAEtB,cAAA,EAAE,MAAU,IAAA;AAElB,YAAI,OAAO;AACH,gBAAA,mBAAmB,MAAM,KAAK,CAAC,EAAE,WAAW,SAAS,oBAAoB;AAE/E,cAAI,kBAAkB;AACfA,yBAAAA,KAAA,IAAI,OAAO,uBAAuB,IAAI;AAC3C,uBAAW,KAAK;AAChB,uBAAW,qBAAqB;AAAA,UAClC;AAAA,QACF;AAEA,YAAI,MAAM;AAER,+BAAqB,CAAC,OAAO,EAAE,GAAG,GAAG,SAAS,KAAO,EAAA;AAEhD,eAAA;AAAA,YACH,UAAU;AAAA,YACV,QAAQ,aAAa,IAAI;AAAA,UAAA,CAC1B;AAAA,QAAA,OACI;AACL,eAAK,GAAG;AAAA,QACV;AAAA,MACF;AAAA,MACA,QAAQ,KAAkF;AACxF,mBAAW,wBAAwB;AAE7B,cAAA,QAAQ,eAAe,GAAG;AAChC,oBAAY,KAAK;AAAA,MACnB;AAAA,IACF;AAAA,EAAA;AAGF,QAAM,uBAAuBsB,WAAA;AAAA,IAC3B,OAAO,SAAuD;AAC5D,YAAM,EAAE,MAAM,GAAG,SAAA,IAAa;AAC9B,YAAM,EAAE,KAAK,IAAI,MAAM,KAAwB,mBAAmB,QAAQ;AAE1E,aAAO,EAAE,GAAG,KAAK,MAAM,KAAK;AAAA,IAC9B;AAAA,IACA;AAAA,MACE,UAAU,MAAM;AACd,cAAM,EAAE,OAAO,MAAM,KAAA,IAAS;AAEzBtB,qBAAAA,KAAA,SAAS,OAAO,KAAK;AACrBA,qBAAAA,KAAA,YAAY,MAAM,KAAK;AAE5B,YAAI,MAAM;AAER,+BAAqB,CAAC,OAAO,EAAE,GAAG,GAAG,SAAS,KAAO,EAAA;AAEhD,eAAA;AAAA,YACH,UAAU;AAAA,YACV,QAAQ,aAAa,QAAQ;AAAA,UAAA,CAC9B;AAAA,QAAA,OACI;AACL,eAAK,GAAG;AAAA,QACV;AAAA,MACF;AAAA,MACA,QAAQ,KAAkF;AACxF,mBAAW,wBAAwB;AAE7B,cAAA,QAAQ,eAAe,GAAG;AAChC,oBAAY,KAAK;AAAA,MACnB;AAAA,IACF;AAAA,EAAA;AAIA,MAAA,CAAC,SACA,MAAM,OAAO,aAAa,cAAc,MAAM,OAAO,aAAa,kBACnE;AACO,WAAAJ,2BAAA,IAACK,eAAS,UAAA,EAAA,IAAG,IAAI,CAAA;AAAA,EAC1B;AAEM,QAAA,sBAAsB,MAAM,OAAO,aAAa;AAEhD,QAAA,SAAS,sBAAsB,wBAAwB;AAG3D,SAAAL,2BAAAA,IAAC,uBACC,EAAA,UAAAC,2BAAAA,KAAC,eACC,EAAA,UAAA;AAAA,IAAAA,gCAACe,aAAAA,QAAK,WAAU,UAAS,YAAW,UAAS,KAAK,GAChD,UAAA;AAAA,MAAAhB,2BAAA,IAAC,MAAK,EAAA;AAAA,MAENA,2BAAAA,IAAC6B,2BAAW,IAAG,MAAK,SAAQ,SAAQ,WAAU,UAC3C,UAAc,cAAA;AAAA,QACb,IAAI;AAAA,QACJ,gBAAgB;AAAA,MACjB,CAAA,GACH;AAAA,MACA7B,2BAAAA,IAAC6B,2BAAW,SAAQ,WAAU,WAAU,cAAa,WAAU,UAC5D,UAAc,cAAA;AAAA,QACb,IAAI;AAAA,QACJ,gBACE;AAAA,MACH,CAAA,GACH;AAAA,MACC,WACC7B,2BAAA,IAAC6B,aAAW,YAAA,EAAA,IAAG,qBAAoB,MAAK,SAAQ,UAAU,IAAI,WAAU,aACrE,UAAA,SACH,CAAA,IACE;AAAA,IAAA,GACN;AAAA,IACA7B,2BAAA;AAAA,MAAC8B,OAAA;AAAA,MAAA;AAAA,QACC,oBAAkB;AAAA,QAClB,eAAe;AAAA,UACb,WAAW,UAAU,aAAa;AAAA,UAClC,UAAU,UAAU,YAAY;AAAA,UAChC,OAAO,UAAU,SAAS;AAAA,UAC1B,UAAU;AAAA,UACV,iBAAiB;AAAA,UACjB,mBAAmB,qBAAqB;AAAA,UACxC,MAAM;AAAA,QACR;AAAA,QACA,UAAU,OAAO,MAAM4B,YAAW;AAC1B,gBAAA,iBAAiB,cAAc,IAAI;AAErC,cAAA;AACF,kBAAM,OAAO,SAAS,gBAAgB,EAAE,YAAY,OAAO;AAEvD,gBAAA,cAAc,KAAK,qBAAqB;AAC1C,yBAAW,iCAAiC,EAAE,OAAO,YAAY,YAAY;AAAA,YAC/E;AAEA,gBAAI,eAAe,mBAAmB;AACpC,mCAAqB,OAAO;AAAA,gBAC1B,UAAUC,sBAAK,gBAAgB;AAAA,kBAC7B;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,gBAAA,CACD;AAAA,gBACD,mBAAmB,eAAe;AAAA,gBAClC,MAAM,eAAe;AAAA,cAAA,CACtB;AAAA,YAAA,OACI;AACiB,oCAAA;AAAA,gBACpBA,cAAAA,QAAK,gBAAgB,CAAC,qBAAqB,iBAAiB,CAAC;AAAA,cAAA;AAAA,YAEjE;AAAA,mBACO,KAAK;AACZ,gBAAI,eAAeC,IAAAA,iBAAiB;AAC5B,oBAAA,SAASC,+BAAkB,GAAG;AAEpC,cAAAH,QAAO,UAAU,MAAM;AAAA,YACzB;AACA,2BAAe,cAAc,CAAC;AAAA,UAChC;AAAA,QACF;AAAA,QACA,kBAAkB;AAAA,QAEjB,UAAC,CAAA,EAAE,QAAQ,QAAQ,mBAAmB;AACrC,iBACG1D,2BAAA,IAAA+B,aAAA,MAAA,EACC,UAAC/B,2BAAA,IAAA4B,mBAAA,EACC,UAAC3B,gCAAAe,aAAAA,MAAA,EAAK,WAAU,UAAS,YAAW,WAAU,KAAK,GAAG,WAAW,GAC/D,UAAA;AAAA,YAACf,2BAAAA,KAAA6D,aAAAA,MAAA,EAAK,KAAK,GACT,UAAA;AAAA,cAAC9D,2BAAAA,IAAA+D,aAAAA,UAAA,EAAS,KAAK,GACb,UAAA/D,2BAAA;AAAA,gBAACgC,aAAA;AAAA,gBAAA;AAAA,kBACC,MAAK;AAAA,kBACL,UAAQ;AAAA,kBACR,OAAO,OAAO;AAAA,kBACd,OACE,OAAO,YACH,cAAc,OAAO,SAA8B,IACnD;AAAA,kBAEN,UAAU;AAAA,kBACV,OAAO,cAAc;AAAA,oBACnB,IAAI;AAAA,oBACJ,gBAAgB;AAAA,kBAAA,CACjB;AAAA,gBAAA;AAAA,cAAA,GAEL;AAAA,cACAhC,2BAAAA,IAAC+D,aAAAA,UAAS,EAAA,KAAK,GACb,UAAA/D,2BAAA;AAAA,gBAACgC,aAAA;AAAA,gBAAA;AAAA,kBACC,MAAK;AAAA,kBACL,OAAO,OAAO;AAAA,kBACd,UAAU;AAAA,kBACV,OAAO,cAAc;AAAA,oBACnB,IAAI;AAAA,oBACJ,gBAAgB;AAAA,kBAAA,CACjB;AAAA,gBAAA;AAAA,cAAA,GAEL;AAAA,YAAA,GACF;AAAA,YACAhC,2BAAA;AAAA,cAACgC,aAAA;AAAA,cAAA;AAAA,gBACC,MAAK;AAAA,gBACL,UAAU,CAAC;AAAA,gBACX,OAAO,OAAO;AAAA,gBACd,UAAU;AAAA,gBACV,OACE,OAAO,QAAQ,cAAc,OAAO,KAA0B,IAAI;AAAA,gBAEpE,UAAQ;AAAA,gBACR,OAAO,cAAc;AAAA,kBACnB,IAAI;AAAA,kBACJ,gBAAgB;AAAA,gBAAA,CACjB;AAAA,gBACD,MAAK;AAAA,cAAA;AAAA,YACP;AAAA,YACAhC,2BAAA;AAAA,cAACiC;AAAAA,cAAA;AAAA,gBACC,MAAK;AAAA,gBACL,UAAU;AAAA,gBACV,OAAO,OAAO;AAAA,gBACd,OACE,OAAO,WACH,cAAc,OAAO,QAA6B,IAClD;AAAA,gBAEN,WACEjC,2BAAA;AAAA,kBAAC;AAAA,kBAAA;AAAA,oBACC,SAAS,CAAC,MAAM;AACd,wBAAE,eAAe;AACA,uCAAA,CAAC,SAAS,CAAC,IAAI;AAAA,oBAClC;AAAA,oBACA,OAAO;AAAA,sBACL,gBACI;AAAA,wBACE,IAAI;AAAA,wBACJ,gBAAgB;AAAA,sBAAA,IAElB;AAAA,wBACE,IAAI;AAAA,wBACJ,gBAAgB;AAAA,sBAClB;AAAA,oBACN;AAAA,oBAEC,UAAgB,gBAAAA,2BAAAA,IAACkC,MAAI,KAAA,CAAA,CAAA,mCAAMC,MAAW,YAAA,EAAA;AAAA,kBAAA;AAAA,gBACzC;AAAA,gBAEF,MAAM,cAAc;AAAA,kBAClB,IAAI;AAAA,kBACJ,gBACE;AAAA,gBAAA,CACH;AAAA,gBACD,UAAQ;AAAA,gBACR,OAAO,cAAc;AAAA,kBACnB,IAAI;AAAA,kBACJ,gBAAgB;AAAA,gBAAA,CACjB;AAAA,gBACD,MAAM,gBAAgB,SAAS;AAAA,cAAA;AAAA,YACjC;AAAA,YACAnC,2BAAA;AAAA,cAACiC;AAAAA,cAAA;AAAA,gBACC,MAAK;AAAA,gBACL,UAAU;AAAA,gBACV,OAAO,OAAO;AAAA,gBACd,OACE,OAAO,kBACH,cAAc,OAAO,eAAoC,IACzD;AAAA,gBAEN,WACEjC,2BAAA;AAAA,kBAAC;AAAA,kBAAA;AAAA,oBACC,SAAS,CAAC,MAAM;AACd,wBAAE,eAAe;AACO,8CAAA,CAAC,SAAS,CAAC,IAAI;AAAA,oBACzC;AAAA,oBACA,OAAO;AAAA,sBACL,uBACI;AAAA,wBACE,IAAI;AAAA,wBACJ,gBAAgB;AAAA,sBAAA,IAElB;AAAA,wBACE,IAAI;AAAA,wBACJ,gBAAgB;AAAA,sBAClB;AAAA,oBACN;AAAA,oBAEC,UAAuB,uBAAAA,2BAAAA,IAACkC,MAAI,KAAA,CAAA,CAAA,mCAAMC,MAAW,YAAA,EAAA;AAAA,kBAAA;AAAA,gBAChD;AAAA,gBAEF,UAAQ;AAAA,gBACR,OAAO,cAAc;AAAA,kBACnB,IAAI;AAAA,kBACJ,gBAAgB;AAAA,gBAAA,CACjB;AAAA,gBACD,MAAM,uBAAuB,SAAS;AAAA,cAAA;AAAA,YACxC;AAAA,YACAnC,2BAAA;AAAA,cAACoC,aAAA;AAAA,cAAA;AAAA,gBACC,eAAe,CAAC,YAAY;AACb,+BAAA,EAAE,QAAQ,EAAE,OAAO,SAAS,MAAM,UAAU;AAAA,gBAC3D;AAAA,gBACA,OAAO,OAAO;AAAA,gBACd,MAAK;AAAA,gBACL,cAAW;AAAA,gBAEV,UAAA;AAAA,kBACC;AAAA,oBACE,IAAI;AAAA,oBACJ,gBACE;AAAA,kBACJ;AAAA,kBACA;AAAA,oBACE,sCACG,GAAE,EAAA,QAAO,UAAS,MAAK,2BAA0B,KAAI,cACnD,UAAc,cAAA;AAAA,sBACb,IAAI;AAAA,sBACJ,gBAAgB;AAAA,oBACjB,CAAA,GACH;AAAA,oBAEF,uCACG,GAAE,EAAA,QAAO,UAAS,MAAK,6BAA4B,KAAI,cACrD,UAAc,cAAA;AAAA,sBACb,IAAI;AAAA,sBACJ,gBAAgB;AAAA,oBACjB,CAAA,GACH;AAAA,kBAEJ;AAAA,gBACF;AAAA,cAAA;AAAA,YACF;AAAA,YACApC,2BAAAA,IAACqC,uBAAO,WAAS,MAAC,MAAK,KAAI,MAAK,UAC7B,UAAc,cAAA;AAAA,cACb,IAAI;AAAA,cACJ,gBAAgB;AAAA,YACjB,CAAA,GACH;AAAA,UAAA,GACF,GACF,EACF,CAAA;AAAA,QAEJ;AAAA,MAAA;AAAA,IACF;AAAA,IACC,OAAO,OAAO,aAAa,cACzBrC,2BAAA,IAAAe,kBAAA,EAAI,YAAY,GACf,UAAAf,2BAAA,IAACgB,aAAK,MAAA,EAAA,gBAAe,UAEnB,UAAChB,2BAAA,IAAAsC,SAAA,EAAK,IAAIC,eAAAA,SAAS,IAAG,eACnB,UAAc,cAAA;AAAA,MACb,IAAI;AAAA,MACJ,gBAAgB;AAAA,IAAA,CACjB,EACH,CAAA,EACF,CAAA,GACF;AAAA,EAAA,EAEJ,CAAA,EACF,CAAA;AAEJ;AAmBA,SAAS,cAAc,MAA0B;AACxC,SAAA,OAAO,QAAQ,IAAI,EAAE;AAAA,IAC1B,CAAC,KAAK,CAAC,KAAK,KAAK,MAAM;AAOjB,UAAA,CAAC,CAAC,YAAY,iBAAiB,EAAE,SAAS,GAAG,KAAK,OAAO,UAAU,UAAU;AAC3E,YAAA,GAA+B,IAAI,MAAM,KAAK;AAElD,YAAI,QAAQ,YAAY;AAClB,cAAA,GAAG,IAAI,SAAS;AAAA,QACtB;AAAA,MAAA,OACK;AACL,YAAI,GAAmB,IAAI;AAAA,MAC7B;AAEO,aAAA;AAAA,IACT;AAAA,IACA,CAAC;AAAA,EAAA;AAUL;AAEA,MAAM,IAAIzB,gBAAO,QAAA;AAAA,WACN,CAAC,EAAE,MAAA,MAAY,MAAM,OAAO,UAAU;AAAA;AAGjD,MAAMmB,kBAAgBnB,gBAAAA,QAAOkB,aAAAA,SAAS;AAAA;AAAA;AAAA;AAAA;AClhBtC,MAAM,wBAAwBX,eAAI,OAAO,EAAE,MAAM;AAAA,EAC/C,UAAUA,eACP,OAAO,EACP,IAAI,GAAGC,aAAAA,iBAAiB,SAAS,EACjC,QAAQ,SAAS,0CAA0C,EAC3D,QAAQ,SAAS,0CAA0C,EAC3D,QAAQ,MAAM,uCAAuC,EACrD,SAASA,aAAA,iBAAiB,QAAQ;AAAA,EACrC,iBAAiBD,eACd,OAAA,EACA,MAAM,CAACA,eAAI,IAAI,UAAU,GAAG,IAAI,GAAG,yCAAyC,EAC5E,SAASC,aAAAA,iBAAiB,QAAQ;AACvC,CAAC;AAED,MAAM,gBAAgB,MAAM;AAC1B,QAAM,CAAC,eAAe,gBAAgB,IAAId,iBAAM,SAAS,KAAK;AAC9D,QAAM,CAAC,sBAAsB,uBAAuB,IAAIA,iBAAM,SAAS,KAAK;AACtE,QAAA,EAAE,kBAAkBS,UAAAA;AACpB,QAAA,EAAE,SAASM,aAAAA;AACX,QAAA,EAAE,SAASE,eAAAA;AACjB,QAAM,QAAQD,aAAAA;AAER,QAAA,EAAE,QAAQ,QAAA,IAAYE,WAAA;AAAA,IAC1B,OAAO,SAA0D;AACzD,YAAA;AAAA,QACJ,MAAM,EAAE,KAAK;AAAA,MAAA,IACX,MAAM,KAA6B,yBAAyB;AAAA,QAC9D,GAAG;AAAA,QACH,oBAAoB,MAAM,IAAI,MAAM;AAAA,MAAA,CACrC;AAEM,aAAA;AAAA,IACT;AAAA,IACA;AAAA,MACE,UAAU,MAAM;AACd,YAAI,MAAM;AACF,gBAAA,EAAE,OAAO,KAAS,IAAA;AACnBtB,uBAAAA,KAAA,SAAS,OAAO,KAAK;AACrBA,uBAAAA,KAAA,YAAY,MAAM,KAAK;AAG5B,eAAK,GAAG;AAAA,QACV;AAAA,MACF;AAAA,IACF;AAAA,EAAA;AAIA,SAAAJ,2BAAAA,IAAC,uBACC,EAAA,UAAAC,2BAAAA,KAAC2B,aAAAA,MACC,EAAA,UAAA;AAAA,IAAA3B,gCAAC,eACC,EAAA,UAAA;AAAA,MAAAA,gCAAC,QACC,EAAA,UAAA;AAAA,QAAAD,2BAAA,IAAC,MAAK,EAAA;AAAA,QACLA,2BAAA,IAAAe,aAAA,KAAA,EAAI,YAAY,GAAG,eAAe,GACjC,UAACf,2BAAA,IAAA6B,aAAA,YAAA,EAAW,IAAG,MAAK,SAAQ,SACzB,UAAc,cAAA;AAAA,UACb,IAAI;AAAA,UACJ,gBAAgB;AAAA,QAAA,CACjB,GACH,EACF,CAAA;AAAA,QACC,UACE7B,2BAAAA,IAAA6B,aAAAA,YAAA,EAAW,IAAG,qBAAoB,MAAK,SAAQ,UAAU,IAAI,WAAU,aACrE,UAAc,cAAA;AAAA,UACb,IAAI;AAAA,UACJ,gBAAgB;AAAA,QAAA,CACjB,GACH,IACE;AAAA,MAAA,GACN;AAAA,MACA7B,2BAAA;AAAA,QAAC8B,OAAA;AAAA,QAAA;AAAA,UACC,oBAAkB;AAAA,UAClB,eAAe;AAAA,YACb,UAAU;AAAA,YACV,iBAAiB;AAAA,UACnB;AAAA,UACA,UAAU,CAAC,WAAW;AACpB,mBAAO,EAAE,UAAU,OAAO,SAAU,CAAA;AAAA,UACtC;AAAA,UACA,kBAAkB;AAAA,UAClB,kBAAkB;AAAA,UAEjB,UAAC,CAAA,EAAE,QAAQ,QAAQ,mBAClB9B,2BAAA,IAAC+B,aACC,MAAA,EAAA,UAAA9B,2BAAA,KAACe,qBAAK,WAAU,UAAS,YAAW,WAAU,KAAK,GACjD,UAAA;AAAA,YAAAhB,2BAAA;AAAA,cAAC;AAAA,cAAA;AAAA,gBACC,MAAK;AAAA,gBACL,UAAU;AAAA,gBACV,OAAO,OAAO;AAAA,gBACd,OACE,OAAO,WACH;AAAA,kBACE;AAAA,oBACE,IAAI,OAAO;AAAA,oBACX,gBAAgB;AAAA,kBAClB;AAAA,kBACA;AAAA,oBACE,KAAK;AAAA,kBACP;AAAA,gBAEF,IAAA;AAAA,gBAEN,WACEA,2BAAA;AAAA,kBAAC;AAAA,kBAAA;AAAA,oBACC,SAAS,CAAC,MAAM;AACd,wBAAE,eAAe;AACA,uCAAA,CAAC,SAAS,CAAC,IAAI;AAAA,oBAClC;AAAA,oBACA,OAAO;AAAA,sBACL,gBACI;AAAA,wBACE,IAAI;AAAA,wBACJ,gBAAgB;AAAA,sBAAA,IAElB;AAAA,wBACE,IAAI;AAAA,wBACJ,gBAAgB;AAAA,sBAClB;AAAA,oBACN;AAAA,oBAEC,UAAgB,gBAAAA,2BAAAA,IAACkC,MAAI,KAAA,CAAA,CAAA,mCAAMC,MAAW,YAAA,EAAA;AAAA,kBAAA;AAAA,gBACzC;AAAA,gBAEF,MAAM,cAAc;AAAA,kBAClB,IAAI;AAAA,kBACJ,gBACE;AAAA,gBAAA,CACH;AAAA,gBACD,UAAQ;AAAA,gBACR,OAAO,cAAc;AAAA,kBACnB,IAAI;AAAA,kBACJ,gBAAgB;AAAA,gBAAA,CACjB;AAAA,gBACD,MAAM,gBAAgB,SAAS;AAAA,cAAA;AAAA,YACjC;AAAA,YACAnC,2BAAA;AAAA,cAAC;AAAA,cAAA;AAAA,gBACC,MAAK;AAAA,gBACL,UAAU;AAAA,gBACV,OAAO,OAAO;AAAA,gBACd,OACE,OAAO,kBACH,cAAc;AAAA,kBACZ,IAAI,OAAO;AAAA,kBACX,gBAAgB;AAAA,gBACjB,CAAA,IACD;AAAA,gBAEN,WACEA,2BAAA;AAAA,kBAAC;AAAA,kBAAA;AAAA,oBACC,SAAS,CAAC,MAAM;AACd,wBAAE,eAAe;AACO,8CAAA,CAAC,SAAS,CAAC,IAAI;AAAA,oBACzC;AAAA,oBACA,OAAO;AAAA,sBACL,gBACI;AAAA,wBACE,IAAI;AAAA,wBACJ,gBAAgB;AAAA,sBAAA,IAElB;AAAA,wBACE,IAAI;AAAA,wBACJ,gBAAgB;AAAA,sBAClB;AAAA,oBACN;AAAA,oBAEC,UAAuB,uBAAAA,2BAAAA,IAACkC,MAAI,KAAA,CAAA,CAAA,mCAAMC,MAAW,YAAA,EAAA;AAAA,kBAAA;AAAA,gBAChD;AAAA,gBAEF,UAAQ;AAAA,gBACR,OAAO,cAAc;AAAA,kBACnB,IAAI;AAAA,kBACJ,gBAAgB;AAAA,gBAAA,CACjB;AAAA,gBACD,MAAM,uBAAuB,SAAS;AAAA,cAAA;AAAA,YACxC;AAAA,2CACCE,aAAAA,QAAO,EAAA,WAAS,MAAC,MAAK,UACpB,UAAc,cAAA;AAAA,cACb,IAAI;AAAA,cACJ,gBAAgB;AAAA,YACjB,CAAA,GACH;AAAA,UAAA,EAAA,CACF,EACF,CAAA;AAAA,QAAA;AAAA,MAEJ;AAAA,IAAA,GACF;AAAA,IACArC,2BAAAA,IAACgB,aAAAA,QAAK,gBAAe,UACnB,yCAACD,aAAI,KAAA,EAAA,YAAY,GAEf,UAAAf,2BAAAA,IAACsC,GAAAA,MAAK,EAAA,IAAIC,eAAAA,SAAS,IAAG,eACnB,UAAc,cAAA,EAAE,IAAI,mBAAmB,gBAAgB,oBAAoB,CAAC,EAC/E,CAAA,EAAA,CACF,EACF,CAAA;AAAA,EAAA,EACF,CAAA,EACF,CAAA;AAEJ;AAEA,MAAM,gBAAgBzB,gBAAAA,QAAOkB,aAAAA,SAAS;AAAA;AAAA;AAAA;AAAA;AC1M/B,MAAM,QAAQ;AAAA,EACnB,mBAAmB;AAAA,EACnB,2BAA2B;AAAA;AAAA;AAAA,EAG3B,OAAO,MAAM;AAAA,EACb,MAAM;AAAA,EACN,UAAU;AAAA,EACV,kBAAkB;AAAA,EAClB,kBAAkB;AAAA,EAClB,WAAW,MAAM;AACnB;ACfA,MAAM,WAAW,CAAC,EAAE,eAA8B;AAC1C,QAAA;AAAA,IACJ,UAAU,EAAE,OAAO;AAAA,MACjBP,eAAW,WAAA;AACT,QAAA,QAAQ6B,6BAAsC,iBAAiB;AAC/D,QAAA,WAAW,OAAO,OAAO;AAC/B,QAAMU,UAAQ;AAAA,IACZC;AAAAA,IACA,aAAa,MAAM,qCAAO,qBAA0D,CAAA,GAAG;AAAA,EAAA;AAEzF,QAAM,QAAQ;AAAA,IACZ;AAAA,IACA,aAAa,MAAM,qCAAO,yBAAmD,CAAA,GAAG;AAAA,IAChF;AAAA,MACE,QAAQ,SAAS,SAAS;AACjB,eAAA;AAAA,UACL,GAAG;AAAA,UACH,GAAG;AAAA,QAAA;AAAA,MAEP;AAAA,MACA,cAAc;AAAA,IAChB;AAAA,EAAA;AAGE,MAAA,CAAC,YAAY,CAAC,OAAO;AAChB,WAAAjE,2BAAA,IAACK,eAAS,UAAA,EAAA,IAAG,IAAI,CAAA;AAAA,EAC1B;AAEM,QAAA,YAAY,MAAM,QAAQ;AAMhC,MAAI,CAAC,aAAc,YAAY,aAAa,oBAAqBD,aAAAA,KAAK,YAAY;AACzE,WAAAJ,2BAAA,IAACK,eAAS,UAAA,EAAA,IAAG,IAAI,CAAA;AAAA,EAC1B;AAGI,MAAA,CAAC,YAAY,aAAa,kBAAkB;AAE5C,WAAAL,2BAAA;AAAA,MAACK,eAAA;AAAA,MAAA;AAAA,QACC,IAAI;AAAA,UACF,UAAU;AAAA;AAAA;AAAA,UAGV;AAAA,QACF;AAAA,MAAA;AAAA,IAAA;AAAA,EAGN;AAEI,MAAA2D,WAAS,aAAa,SAAS;AAEjC,0CAAQA,SAAM,CAAA,CAAA;AAAA,EACL,WAAA,aAAa,WAAW,CAACA,SAAO;AAElC,WAAA;AAAA,EACT;AAEO,SAAAhE,+BAAC,aAAU,SAAoB,CAAA;AACxC;AC5DO,MAAM,eAAe,MAAM;AAC1B,QAAA,EAAE,kBAAkBiB,UAAAA;AACLiD,eAAAA;AAGnB,SAAAjE,2BAAA,KAAC2B,aAAK,MAAA,EAAA,YAAW,SACf,UAAA;AAAA,IAAA5B,2BAAA;AAAA,MAACmE,aAAA;AAAA,MAAA;AAAA,QACC,IAAG;AAAA,QACH,OAAO,cAAc;AAAA,UACnB,IAAI;AAAA,UACJ,gBAAgB;AAAA,QAAA,CACjB;AAAA,MAAA;AAAA,IACH;AAAA,mCACCC,aAAAA,eACC,EAAA,UAAApE,2BAAA;AAAA,MAACqE,aAAA;AAAA,MAAA;AAAA,QACC,QACGrE,2BAAAA,IAAAsE,aAAAA,YAAA,EAAW,SAAQ,aAAY,SAAStE,2BAAA,IAACuE,MAAW,YAAA,CAAA,CAAA,GAAI,IAAG,KACzD,UAAc,cAAA;AAAA,UACb,IAAI;AAAA,UACJ,gBAAgB;AAAA,QACjB,CAAA,GACH;AAAA,QAEF,SAAS,cAAc;AAAA,UACrB,IAAI;AAAA,UACJ,gBAAgB;AAAA,QAAA,CACjB;AAAA,QACD,WAAS;AAAA,QACT,MAAMvE,2BAAAA,IAACwE,MAAAA,eAAc,EAAA,OAAM,QAAQ,CAAA;AAAA,QACnC,QAAO;AAAA,MAAA;AAAA,IAAA,GAEX;AAAA,EACF,EAAA,CAAA;AAEJ;;;;;AC7BO,MAAM,UAAU;AAAA,EACrB;AAAA,IACE,WAAW;AAAA,MACT,IAAI;AAAA,MACJ,gBAAgB;AAAA,IAClB;AAAA,IACA,OAAO;AAAA,EACT;AAAA,EACA;AAAA,IACE,WAAW;AAAA,MACT,IAAI;AAAA,MACJ,gBAAgB;AAAA,IAClB;AAAA,IACA,OAAO;AAAA,EACT;AAAA,EACA;AAAA,IACE,WAAW;AAAA,MACT,IAAI;AAAA,MACJ,gBAAgB;AAAA,IAClB;AAAA,IACA,OAAO;AAAA,EACT;AAAA,EACA;AAAA,IACE,WAAW;AAAA,MACT,IAAI;AAAA,MACJ,gBAAgB;AAAA,IAClB;AAAA,IACA,OAAO;AAAA,EACT;AAAA,EACA;AAAA,IACE,WAAW;AAAA,MACT,IAAI;AAAA,MACJ,gBAAgB;AAAA,IAClB;AAAA,IACA,OAAO;AAAA,EACT;AAAA,EACA;AAAA,IACE,WAAW;AAAA,MACT,IAAI;AAAA,MACJ,gBAAgB;AAAA,IAClB;AAAA,IACA,OAAO;AAAA,EACT;AACF;AAEA,MAAM,mBAAmB1D,gBAAAA,QAAOe,aAAAA,UAAU;AAAA;AAAA;AAInC,MAAM,cAAc,MAAM;AAC/B,QAAM,qBAAqBa,aAAAA;AAC3B,QAAM,EAAE,MAAM,SAAS,IAAIjB,eAAW,WAAA;AAChC,QAAA,EAAE,kBAAkBR,UAAAA;AAC1B,QAAM,CAAC,MAAM,OAAO,IAAIT,iBAAM,SAAiC,IAAI;AACnE,QAAM,CAAC,WAAW,YAAY,IAAIA,iBAAM,SAAS,EAAE;AAC7C,QAAA,EAAE,SAASe,aAAAA;AAEX,QAAA,EAAE,WAAW,MAAM,IAAInB,kBAAK,IAAI,UAAU,KAAK;AAC/C,QAAA,EAAE,SAAa,IAAAqE,SAAM,UAAU,QAAQ,EAAE,mBAAmB,KAAA,CAAM;AACxE,QAAM,UAAU,SAAS;AAEnB,QAAA,eAAe,OAAO,OAAwB,gBAAyB;AAC3E,UAAM,eAAe;AACjB,QAAA;AACF,YAAM,KAAK,wCAAwC;AAAA,QACjD;AAAA,QACA,UAAU;AAAA,QACV,YAAY,QAAQ,CAAC,QAAQ;AAAA,QAC7B,SAAS;AAAA,UACP,MAAM,cAAc,SAAY;AAAA,UAChC,WAAW,cAAc,SAAY;AAAA,QACvC;AAAA,MAAA,CACD;AAEkB,yBAAA;AAAA,QACjB,MAAM;AAAA,QACN,SAAS;AAAA,UACP,IAAI;AAAA,UACJ,gBAAgB;AAAA,QAClB;AAAA,MAAA,CACD;AACD,WAAK,GAAG;AAAA,aACD,KAAK;AAAA,IAEd;AAAA,EAAA;AAGF,SACGzE,2BAAA,IAAA,uBAAA,EACC,UAACC,2BAAAA,KAAA2B,aAAAA,MAAA,EAAK,YAAW,iBACf,UAAA;AAAA,IAAC5B,2BAAAA,IAAA,eAAA,EACC,0CAAC,QAAK,EAAA,UAAU,CAAC,MAAM,aAAa,GAAG,KAAK,GAC1C,UAAA;AAAA,MAAAC,2BAAA,KAACe,aAAK,MAAA,EAAA,WAAU,UAAS,eAAe,GACtC,UAAA;AAAA,QAAAhB,2BAAA,IAAC,MAAK,EAAA;AAAA,uCACLe,aAAAA,KAAI,EAAA,YAAY,GAAG,eAAe,GAAG,OAAO2D,qBAAQ,GAAG,GACtD,UAAA1E,2BAAAA,IAAC,oBAAiB,SAAQ,SAAQ,IAAG,MAAK,IAAG,iBAC1C,UAAc,cAAA;AAAA,UACb,IAAI;AAAA,UACJ,gBAAgB;AAAA,QAAA,CACjB,GACH,EACF,CAAA;AAAA,MAAA,GACF;AAAA,sCACCgB,aAAAA,MAAK,EAAA,WAAU,UAAS,YAAW,WAAU,KAAK,GACjD,UAAA;AAAA,QAAAhB,2BAAA;AAAA,UAAC2E,aAAA;AAAA,UAAA;AAAA,YACC,IAAG;AAAA,YACH,eAAY;AAAA,YACZ,OAAO,cAAc;AAAA,cACnB,IAAI;AAAA,cACJ,gBAAgB;AAAA,YAAA,CACjB;AAAA,YAGD,UAAU,CAAC,UAAU,QAAQ,KAAK;AAAA,YAClC,OAAO;AAAA,YAEN,UAAQ,QAAA,IAAI,CAAC,EAAE,WAAW,MAAM,MAC9B3E,2BAAA,IAAA4E,aAAA,QAAA,EAAmB,OACjB,UAAA,cAAc,SAAS,EAAA,GADb,KAEb,CACD;AAAA,UAAA;AAAA,QACH;AAAA,QACC,WACC5E,2BAAA;AAAA,UAACgC,aAAA;AAAA,UAAA;AAAA,YACC,MAAK;AAAA,YACL,OAAO,cAAc,EAAE,IAAI,iBAAiB,gBAAgB,SAAS;AAAA,YACrE,OAAO;AAAA,YACP,UAAU,CAAC,MAAM,aAAa,EAAE,OAAO,KAAK;AAAA,YAC5C,eAAY;AAAA,UAAA;AAAA,QACd;AAAA,uCAEDK,aAAAA,QAAO,EAAA,MAAK,UAAS,MAAK,KAAI,WAAS,MAAC,UAAU,CAAC,MACjD,wBAAc,EAAE,IAAI,iBAAiB,gBAAgB,SAAU,CAAA,GAClE;AAAA,MAAA,GACF;AAAA,IAAA,EAAA,CACF,EACF,CAAA;AAAA,mCACCrB,aAAAA,MAAK,EAAA,gBAAe,UACnB,UAAAhB,2BAAAA,IAACe,oBAAI,YAAY,GACf,UAACf,2BAAAA,IAAA6E,aAAA,YAAA,EAAW,SAAS,CAAC,UAAU,aAAa,OAAO,IAAI,GACrD,UAAc,cAAA;AAAA,MACb,IAAI;AAAA,MACJ,gBAAgB;AAAA,IAAA,CACjB,EACH,CAAA,EACF,CAAA,GACF;AAAA,EAAA,EACF,CAAA,EACF,CAAA;AAEJ;ACjKA,MAAM,YAAY,CAAC,EAAE,oBAAoC;AACvD,QAAM,CAAC,OAAO,QAAQ,IAAIrE,iBAAM,SAAqC,IAAI;AAEzEA,mBAAM,UAAU,MAAM;AACpB,UAAM,YAAY,YAAY;AACxB,UAAA;AACI,cAAA,cAAc,MAAM;AAKtB,YAAA,OAAO,gBAAgB,YAAY;AACrC,mBAAS,MAAM,WAAW;AAAA,QAAA,WACjB,YAAY,SAAS;AACrB,mBAAA,MAAM,YAAY,OAAQ;AAAA,QACrC;AAAA,eACO,KAAK;AAAA,MAAC;AAAA,IAAA;AAGP;EAAA,GACT,CAAC,aAAa,CAAC;AAElB,MAAI,OAAO;AACT,0CAAQ,OAAM,CAAA,CAAA;AAAA,EAChB;AAEA,wCAAQsE,mCAAqB,CAAA,CAAA;AAC/B;AAEO,MAAM,cAAc,CACzB,eACA,IACA,QAA2B,UACxB;AAED,SAAA9E,2BAAA;AAAA,IAACG,eAAA;AAAA,IAAA;AAAA,MACC,QAAQ,MAAOH,2BAAA,IAAA,WAAA,EAAU,cAA8B,CAAA;AAAA,MAEvD,MAAM;AAAA,MACN,OAAO,SAAS;AAAA,IAAA;AAAA,IAFX;AAAA,EAAA;AAKX;AClBA,MAAM,YAAkC;AAExC,MAAM,mBAAmBQ,iBAAM;AAAA,EAAK,MAClC,QAAO,QAAA,EAAA,KAAA,MAAA,QAAA,gCAA+B,mCAAE,KAAK,CAAC,SAAS,EAAE,SAAS,IAAI,iBAAA,EAAmB;AAC3F;AAEO,MAAM,MAAM,MAAM;AACvB,QAAM,mBAAmB;AAAA,IACvB;AAAA,IACA,aAAa,MAAM,qCAAO,yBAA8B,CAAA,GAAG;AAAA,IAC3D;AAAA,MACE,QAAQ,eAAe,eAAe;AAEpC,eAAOuE,uBAAM,CAAA,GAAI,eAAe,aAAa;AAAA,MAC/C;AAAA,MAEA,cAAc;AAAA,IAChB;AAAA,EAAA;AAEF,QAAM,SAAS;AAAA,IACb;AAAA,IACA,aAAa,MAAM,qCAAO,yBAA8B,CAAA,GAAG;AAAA,IAC3D;AAAA,MACE,cAAc,CAAC;AAAA,IACjB;AAAA,EAAA;AAEF,QAAM,qBAAqBrC,aAAAA;AACrB,QAAA,EAAE,0BAA0B;AAC5B,QAAA,EAAE,kBAAkBzB,UAAAA;AACpB,QAAA,CAAC,EAAE,WAAW,UAAU,MAAM,YAAY,QAAQ,IAAIT,iBAAM,SAAS;AAAA,IACzE,WAAW;AAAA,IACX,UAAU;AAAA,IACV,UAAU;AAAA,IACV,MAAM;AAAA,EAAA,CACP;AACD,QAAM,WAAWwE,WAAAA;AACjB,QAAM,UAAUrC,aAAAA;AAChB,QAAM,EAAE,KAAAa,MAAK,KAAK,IAAIjC,aAAe,eAAA;AAE/B,QAAA,aAAaf,iBAAM,QAAQ,MAAM;AACrC,QAAI,CAAC,QAAQ;AACJ,aAAA;AAAA,IACT;AAEA,WAAO,OAAO,IAAI,CAAC,EAAE,IAAI,WAAW,MAAM,MAAM,YAAY,WAAW,IAAI,KAAK,CAAC;AAAA,EAAA,GAChF,CAAC,MAAM,CAAC;AAEX,QAAM,CAAC,qBAAqB,sBAAsB,IAAIA,iBAAM,SAAS,MAAS;AAE9EA,mBAAM,UAAU,MAAM;AACpB,aAAS,EAAE,MAAM,8BAA8B,SAAS,iBAAkB,CAAA;AAAA,EAAA,GACzE,CAAC,kBAAkB,QAAQ,CAAC;AAE/BA,mBAAM,UAAU,MAAM;AACd,UAAA,eAAeJ,kBAAK;AAE1B,UAAM,aAAa,YAAY;AACzB,UAAA;AACI,cAAA;AAAA,UACJ,MAAM;AAAA,YACJ,MAAM,EAAE,MAAM;AAAA,UAChB;AAAA,QAAA,IACE,MAAM,KAAK,sBAAsB,EAAE,OAAO,aAAc,CAAA;AAC5DA,0BAAK,YAAY,KAAK;AAAA,eACf,KAAK;AAEZA,qBAAA,KAAK,gBAAgB;AACrB,eAAO,SAAS;MAClB;AAAA,IAAA;AAGF,QAAI,cAAc;AACL;IACb;AAAA,EAAA,GACC,CAAC,IAAI,CAAC;AAETI,mBAAM,UAAU,MAAM;AACpB,UAAM,UAAU,YAAY;AACtB,UAAA;AACI,cAAA;AAAA,UACJ,MAAM;AAAA,YACJ,MAAM,EAAE,UAAAyE,WAAU,MAAAC,OAAM,UAAU,SAAS;AAAA,UAC7C;AAAA,QACF,IAAI,MAAM1B,KAAI,aAAa;AAEL,8BAAA;AAAA,UACpB,UAAU2B,yCAA4B,QAAQ;AAAA,UAC9C,UAAUA,yCAA4B,QAAQ;AAAA,QAAA,CAC/C;AAED,YAAID,OAAM;AACF,gBAAA;AAAA,YACJ,MAAM,EAAE,MAAM,WAAW;AAAA,UAAA,IACvB,MAAM1B,KAAI,+BAA+B;AAAA;AAAA,YAE3C,gBAAgB,CAAC,WAAW,SAAS;AAAA,UAAA,CACtC;AAED,iCAAuB,UAAU;AAE7B,cAAA;AACF,kBAAM,QAAQ;AACR,kBAAA;AAAA,cACJ;AAAA,cACA;AAAA;AAAA,gBAEE;AAAA,gBACA,QAAQ;AAAA,gBACR;AAAA,gBACA,gBAAgB,CAAC;AAAA,gBACjB,gBAAgB,EAAE,aAAa,QAAQ,mBAAmB;AAAA,gBAC1D,iBAAiB,EAAE,GAAG,YAAY,WAAW0B,MAAK;AAAA,cACpD;AAAA,cACA;AAAA,gBACE,SAAS;AAAA,kBACP,kBAAkB;AAAA,gBACpB;AAAA,cACF;AAAA,YAAA;AAAA,mBAEK,GAAG;AAAA,UAEZ;AAAA,QACF;AAES,iBAAA,EAAE,WAAW,OAAO,UAAAD,WAAU,MAAAC,OAAM,UAAU;AAAA,eAChD,KAAK;AACO,2BAAA;AAAA,UACjB,MAAM;AAAA,UACN,SAAS,EAAE,IAAI,6CAA6C;AAAA,QAAA,CAC7D;AAAA,MACH;AAAA,IAAA;AAGM;EAAA,GAEP,CAAC,oBAAoB,qBAAqB,CAAC;AAE9C,QAAM,eAAe1E,iBAAM;AAAA,IACzB,OAAO;AAAA,MACL;AAAA,MACA;AAAA,MACA;AAAA,IAAA;AAAA,IAEF,CAAC,MAAM,qBAAqB,QAAQ;AAAA,EAAA;AAGtC,MAAI,WAAW;AACb,0CAAQsE,mCAAqB,CAAA,CAAA;AAAA,EAC/B;AAEA,yCACGtE,iBAAM,UAAN,EAAe,UAAUR,2BAAAA,IAAC8E,qCAAqB,GAC9C,UAAA;AAAA,IAAC9E,2BAAAA,IAAAoF,aAAA,eAAA,EACE,wBAAc,EAAE,IAAI,iBAAiB,gBAAgB,kBAAmB,CAAA,GAC3E;AAAA,IACCpF,+BAAAqF,aAAAA,kBAAA,EAAiB,OAAO,cACvB,0CAACC,uBACE,EAAA,UAAA;AAAA,MAAA;AAAA,MACDtF,2BAAA;AAAA,QAACG,eAAA;AAAA,QAAA;AAAA,UACC,MAAK;AAAA,UACL,QAAQ,CAAC,+CAAiB,UAAU,EAAA,GAAG,aAAa,UAAoB;AAAA,UACxE,OAAK;AAAA,QAAA;AAAA,MACP;AAAA,MACCH,2BAAA,IAAA,cAAA,EAAa,MAAK,YAAW,WAAW,aAAa;AAAA,MACrDA,2BAAA,IAAA,cAAA,EAAa,MAAK,KAAI,WAAW,kBAAkB;AAAA,MACnDA,2BAAA,IAAAG,eAAA,OAAA,EAAM,MAAK,IAAG,WAAW,cAAc;AAAA,IAAA,EAAA,CAC1C,EACF,CAAA;AAAA,EACF,EAAA,CAAA;AAEJ;AC7MA,MAAe,aAAA;ACOf,MAAM,CAAC,sBAAsB,eAAe,IAAIG,2BAAiC,cAAc;AAE/F,MAAM,WAAW,MAAM,gBAAgB,UAAU;ACKjD,MAAM,wBAAwB,CAAC;AAAA,EAC7B;AAAA,EACA,UAAU;AAAA,EACV,UAAU;AAAA,EACV,0BAA0B;AAAA,EAC1B,gBAAgB;AAClB,MAAkC;AAC1B,QAAA,CAAC,EAAE,UAAU,SAAA,GAAY,QAAQ,IAAIE,iBAAM,SAE9C;AAAA,IACD,UAAU;AAAA,IACV,UAAU;AAAA,EAAA,CACX;AAED,QAAM,wBACJA,iBAAM;AAAA,IACJ,CAAC,EAAE,UAAA+E,WAAU,UAAAC,gBAAe;AACjB,eAAA;AAAA,QACP,UAAUD,aAAY;AAAA,QACtB,UAAUC,aAAY;AAAA,MAAA,CACvB;AAAA,IACH;AAAA,IACA,CAAC,iBAAiB,eAAe;AAAA,EAAA;AAInC,SAAAxF,2BAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC;AAAA,MACA;AAAA,MACA;AAAA,MACA,OAAO;AAAA,QACL,MAAM,EAAE,QAAQ,UAAU,SAAS,gBAAgB;AAAA,QACnD,MAAM,EAAE,QAAQ,UAAU,SAAS,gBAAgB;AAAA,MACrD;AAAA,MAEC;AAAA,IAAA;AAAA,EAAA;AAGP;AC9BA,MAAM,qBAAqB,CAAC,EAAE,eAAwC;AACpE,QAAM,CAAC,EAAE,aAAa,iBAAiB,qBAAqB,UAAa,GAAA,QAAQ,IAC/EQ,iBAAM,WAAWC,WAASC,gBAAc,eAAe;AAEnD,QAAA,iBAAiB,CAAC,SAAuC;AAE7D,QAAI,SAAS,MAAM;AACX,YAAA,oBAAoB8C,aAAAA,QAAI,iBAAiB,IAAI;AACnD,YAAM,CAAC,aAAa,QAAQ,IAAI,KAAK,MAAM,GAAG;AAC9C,YAAM,eAAe,OAAO,QAAQ,gBAAgB,WAAW,CAAC;AAE1D,YAAA,mBAAmB,aAAa,UAAU,CAAC,CAAC,GAAG,MAAM,QAAQ,QAAQ;AAC3E,YAAM,gBAAgB,aAAa,MAAM,GAAG,gBAAgB;AAEtD,YAAA,eAAe,cAAc,MAAM,CAAC,CAAA,EAAG,YAAY,MAAM,YAAY;AAEvE,UAAA,qBAAqB,aAAa,CAAC,cAAc;AAC5C,eAAA;AAAA,MACT;AAAA,IACF;AAEKpD,iBAAAA,KAAA,IAAI,MAAM,4BAA4B,IAAI;AAE/C,WAAO,SAAS;AAAA,MACd,MAAM;AAAA,MACN;AAAA,IAAA,CACD;AAAA,EAAA;AAGG,QAAA,0BAA0B,CAAC,UAAkD;AACxE,aAAA;AAAA,MACP,MAAM;AAAA,MACN;AAAA,IAAA,CACD;AAAA,EAAA;AAGG,QAAA,eAAe,CAACqF,cAA6B,UAAuC;AACxF,qBAAiBA,YAAW;AAEnB,aAAA;AAAA,MACP,MAAM;AAAA,MACN,aAAAA;AAAAA,MACA;AAAA,IAAA,CACD;AAAA,EAAA;AAGG,QAAA,eAAe,CAAC,gBAAsC;AACpD,UAAA,eAAe,gBAAgB,WAAW;AAEhD,QAAI,cAAc;AACV,YAAA,kBAAkB,OAAO,QAAQ,eAAe;AAIhD,YAAA,sBAAsB,gBAAgB,UAAU,CAAC,CAAC,GAAG,MAAM,QAAQ,WAAW;AACpF,YAAM,mBAAmB,gBAAgB,MAAM,GAAG,mBAAmB;AAGrE,YAAM,kBAAkB,iBAAiB;AAAA,QAAM,CAAC,CAAA,EAAG,YAAY,MAC7D,OAAO,OAAO,YAAY,EAAE,MAAM,OAAO;AAAA,MAAA;AAG3C,YAAM,CAAC,SAAS,IAAI,OAAO,KAAK,YAAY;AACtC,YAAA,kBAAkB,aAAa,SAAS;AAE9C,UAAI,mBAAmB,CAAC,eAAe,CAAC,iBAAiB;AACvD,uBAAe,GAAG,WAAW,IAAI,SAAS,EAAE;AAAA,MAC9C;AAAA,IACF;AAAA,EAAA;AAGI,QAAA,aAAa,CAAC,UAAqC;AAClDrF,iBAAAA,KAAA,IAAI,OAAO,uBAAuB,IAAI;AAElC,aAAA;AAAA,MACP,MAAM;AAAA,MACN;AAAA,IAAA,CACD;AAAA,EAAA;AAID,SAAAJ,2BAAA;AAAA,IAAC0F,aAAA;AAAA,IAAA;AAAA,MACC;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MAEC;AAAA,IAAA;AAAA,EAAA;AAGP;AAOA,MAAMhF,iBAAe;AAAA,EACnB,aAAa;AAAA,EACb,iBAAiB;AAAA,IACf,oBAAoB;AAAA,MAClB,QAAQ;AAAA,MACR,SAAS;AAAA,IACX;AAAA,IACA,gBAAgB;AAAA,MACd,QAAQ;AAAA,MACR,SAAS;AAAA,IACX;AAAA,IACA,WAAW;AAAA,MACT,QAAQ;AAAA,MACR,SAAS;AAAA,IACX;AAAA,EACF;AAAA,EACA,qBAAqB;AAAA,EACrB,WAAW;AACb;AA6BA,MAAMD,YAAwC,CAAC,QAAeC,gBAAc,WAC1EiF,yBAAQ,OAAO,CAAC,eAAe;AAC7B,UAAQ,OAAO,MAAM;AAAA,IACnB,KAAK,oBAAoB;AACvB,iBAAW,cAAc,OAAO;AAChC;AAAA,IACF;AAAA,IACA,KAAK,kBAAkB;AACrB,YAAM,CAAC,SAAS,IAAI,IAAI,OAAO,YAAY,MAAM,GAAG;AAIpD,iBAAW,gBAAgB,OAAO,EAAE,IAAI,IAAI,OAAO;AACnD;AAAA,IACF;AAAA,IACA,KAAK,eAAe;AAClB,iBAAW,YAAY,OAAO;AAC9B;AAAA,IACF;AAAA,IACA,KAAK,8BAA8B;AACjC,iBAAW,sBAAsB,OAAO;AACxC;AAAA,IACF;AAAA,IACA,SAAS;AACA,aAAA;AAAA,IACT;AAAA,EACF;AACF,CAAC;AAEH,MAAM,kBAAkB,CAACjF,kBAAwB;AACzC,QAAA,mBAAmB,EAAE,GAAGA;AACxB,QAAA,0BAA0BN,aAAAA,KAAK,IAAI,6BAA6B;AAChE,QAAA,2BAA2BA,aAAAA,KAAK,IAAI,0BAA0B;AAC9D,QAAA,uBAAuBA,aAAAA,KAAK,IAAI,qBAAqB;AAEvD,MAAA,MAAM,QAAQ,uBAAuB,GAAG;AAClB,4BAAA,QAAQ,CAAC,SAAS;AACxC,YAAM,CAAC,aAAa,QAAQ,IAAI,KAAK,MAAM,GAAG;AAC9CwF,mBAAA,QAAI,kBAAkB,CAAC,mBAAmB,aAAa,QAAQ,GAAG,IAAI;AAAA,IAAA,CACvE;AAAA,EACH;AAGA,MAAI,0BAA0B;AAC5B,UAAM,CAAC,aAAa,QAAQ,IAAI,yBAAyB,MAAM,GAAG;AAIlEA,iBAAA,QAAI,kBAAkB,CAAC,mBAAmB,aAAa,QAAQ,GAAG,IAAI;AAEtE,qBAAiB,wBAA0C;AAEtDxF,iBAAAA,KAAA,IAAI,MAAM,4BAA4B,IAAI;AAAA,EACjD;AAEA,MAAI,yBAAyB,MAAM;AAC7BwF,iBAAAA,QAAA,kBAAkB,aAAa,oBAAoB;AAAA,EACzD;AAEO,SAAA;AACT;AAKA,MAAM,mBAAmB,CAAC,kBAAkC;AAC1D,QAAM,eAAexF,aAAA,KAAK,IAAI,6BAA6B,KAAK,CAAA;AAEhE,MAAI,CAAC,MAAM,QAAQ,YAAY,GAAG;AAChC;AAAA,EACF;AAEM,QAAA,kBAAkB,aAAa,SAAS,aAAa;AAE3D,MAAI,iBAAiB;AACnB;AAAA,EACF;AAEAA,eAAA,KAAK,IAAI,CAAC,GAAG,cAAc,aAAa,GAAG,+BAA+B,IAAI;AAChF;AC1OA,MAAM,CAAC,4BAA4B,qBAAqB,IACtDE,2BAA8C,oBAAoB;AAE9D,MAAA,iBAAiB,MAAM,sBAAsB,gBAAgB;ACPnE,MAAM,QAAQ,CAAC,EAAE,eAA2B;AAC1C,QAAM,EAAE,cAAc,QAAQ,gBAAgB,eAAe;AACvD,QAAA,EAAE,WAAWW,UAAAA;AAEb,QAAA,oBAAoB,iBAAiB,WAAW,cAAc;AAGlE,SAAAhB,2BAAA;AAAA,IAAC4F,aAAA;AAAA,IAAA;AAAA,MACC;AAAA,MAMA,OAAO,SAAS,qBAAqB,OAAO;AAAA,MAE3C,UAAA;AAAA,QAAA;AAAA,uCACA,aAAY,EAAA;AAAA,MAAA;AAAA,IAAA;AAAA,EAAA;AAGnB;AAEA,MAAM,cAAcC,OAAAA;AAAAA;AAAAA,kBAEF,CAAC,EAAE,MAAA,MAAY,MAAM,OAAO,UAAU;AAAA;AAAA;AC9BxD,MAAM,YAAY;AAElB,MAAM,kBAAkB,MAAM;AACtB,QAAA,iBAAiB,aAAa,QAAQ,SAAS;AAErD,SAAO,kBAAkB;AAC3B;AAUA,MAAM,sBAAsB,CAAC,EAAE,UAAU,aAAuC;AAC9E,QAAM,CAAC,cAAc,eAAe,IAAItF,iBAAM,SAAoB,iBAAiB;AACnF,QAAM,CAAC,aAAa,cAAc,IAAIA,iBAAM,SAA6B;AAEzE,QAAM,oBAAoBA,iBAAM;AAAA,IAC9B,CAAC,cAAyB;AACxB,sBAAgB,SAAS;AACZ,mBAAA,QAAQ,WAAW,SAAS;AAAA,IAC3C;AAAA,IACA,CAAC,eAAe;AAAA,EAAA;AAIlBA,mBAAM,UAAU,MAAM;AACd,UAAA,eAAe,OAAO,WAAW,8BAA8B;AACtD,mBAAA,aAAa,UAAU,SAAS,OAAO;AAEhD,UAAA,WAAW,CAAC,UAA+B;AAChC,qBAAA,MAAM,UAAU,SAAS,OAAO;AAAA,IAAA;AAEpC,iBAAA,iBAAiB,UAAU,QAAQ;AAGhD,WAAO,MAAM;AACE,mBAAA,oBAAoB,UAAU,QAAQ;AAAA,IAAA;AAAA,EAEvD,GAAG,CAAE,CAAA;AAGH,SAAAR,2BAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC;AAAA,MACA,eAAe;AAAA,MACf;AAAA,MACA;AAAA,MAEC;AAAA,IAAA;AAAA,EAAA;AAGP;AClCA,MAAM,cAAc,IAAI+F,WAAAA,YAAY;AAAA,EAClC,gBAAgB;AAAA,IACd,SAAS;AAAA,MACP,sBAAsB;AAAA,IACxB;AAAA,EACF;AACF,CAAC;AA0BD,MAAM,YAAY,CAAC;AAAA,EACjB;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,MAAsB;AACpB,wCACG,kBAAiB,EAAA,UAAoB,aACpC,UAAC/F,2BAAAA,IAAA,qBAAA,EAAoB,QACnB,UAACA,2BAAAA,IAAA,OAAA,EACC,UAACA,+BAAAgG,WAAAA,qBAAA,EAAoB,QAAQ,aAC3B,UAAAhG,2BAAA,IAACiG,uBAAS,OACR,UAAAjG,2BAAAA,IAAC,wBAAqB,4BACpB,UAAAA,2BAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MAEA,UAAAA,2BAAA;AAAA,QAACkG,aAAA;AAAA,QAAA;AAAA,UACC;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UAEA,UAAAlG,2BAAA,IAACmG,gCAAgB,YAAwB,QACvC,yCAACC,aAAAA,sBAAqB,EAAA,cACpB,yCAACC,aACC,kCAAA,EAAA,UAAArG,2BAAAA,IAACsG,aAAAA,0BACC,UAACtG,2BAAA,IAAA,oBAAA,EACC,yCAACuG,aAAAA,uBAAuB,EAAA,SAAA,CAAS,GACnC,EACF,CAAA,EAAA,CACF,GACF,EACF,CAAA;AAAA,QAAA;AAAA,MACF;AAAA,IAAA;AAAA,EAAA,EAEJ,CAAA,EACF,CAAA,EACF,CAAA,EACF,CAAA,EACF,CAAA,EACF,CAAA;AAEJ;AChHO,MAAM,WAAW;AAAA,EACtB;AAAA,EAEA,cAAc;AACZ,SAAK,aAAa;EACpB;AAAA,EAEA,IAAI,WAAsB;AAClB,UAAA,EAAE,MAAM,UAAc,IAAA;AAE5BC,+BAAU,WAAW,8BAA8B;AACnDA,+BAAU,MAAM,yBAAyB;AACzCA,uBAAA,QAAU,KAAK,WAAW,IAAI,MAAM,QAAW,gCAAgC;AAE1E,SAAA,WAAW,IAAI,IAAI;AAAA,EAC1B;AACF;AChBA,MAAM,gBAAgB;AAAA,EACpB;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF;AAEA,MAAM,6BAA6B;AAAA,EACjC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF;AAEO,MAAM,aAAa;AAAA,EACxB;AAAA,EAEA,cAAc;AACZ,SAAK,eAAe;EACtB;AAAA,EAEA,SAAS,cAA2C;AAC9C,QAAA,MAAM,QAAQ,YAAY,GAAG;AAElB,mBAAA,QAAQ,CAAC,gBAAgB;AACpC,aAAK,SAAS,WAAW;AAAA,MAAA,CAC1B;AAAA,IAAA,OACI;AAEC,YAAA,EAAE,MAAM,UAAU,MAAM,WAAW,iBAAiB,YAAY,SAAAC,SACpE,IAAA;AAGFD,iCAAU,MAAM,yBAAyB;AACzCA,iCAAU,MAAM,yBAAyB;AACzCA,iCAAU,WAAW,+BAA+B;AACpDA,iCAAU,iBAAiB,qCAAqC;AAChEA,iCAAU,YAAY,sCAAsC;AAClDA,yBAAAA,QAAA,WAAW,OAAO,qCAAqC;AAGjEA,yBAAA;AAAA,QACE,cAAc,SAAS,IAAI;AAAA,QAC3B,uBAAuB,IAAI;AAAA,MAAA;AAI7B,YAAM,mBAAmB;AACzBA,yBAAA;AAAA,QACE,iBAAiB,KAAK,IAAI;AAAA,QAC1B,uBAAuB,IAAI;AAAA,MAAA;AAIvB,YAAA,iBAAiB,CAAC,GAAIC,UAAS,QAAQ,CAAC,GAAI,GAAIA,UAAS,YAAY,CAAA,CAAG;AAE9E,UAAI,eAAe,QAAQ;AACzB,cAAM,wBAAwB,eAAe,OAAO,0BAA0B,CAAE,CAAA;AAEhF,8BAAsB,QAAQ,CAAC,EAAE,mBAAmB,mBAAmB;AACrED,qCAAU,mBAAmB,YAAY;AAAA,QAAA,CAC1C;AAAA,MACH;AAGM,YAAA,MAAsB,WAAW,WAAW,QAAQ,IAAI,IAAI,KAAK,WAAW,IAAI;AAGtF,YAAM,iBAAiB,OAAO,UAAU,eAAe,KAAK,KAAK,cAAc,GAAG;AAClFA,yBAAA,QAAU,CAAC,gBAAgB,kBAAkB,GAAG,+BAA+B;AAE1E,WAAA,aAAa,GAAG,IAAI;AAAA,IAC3B;AAAA,EACF;AAAA,EAEA,SAAS;AACP,WAAO,KAAK;AAAA,EACd;AAAA,EAEA,IAAI,KAA8C;AACzC,WAAA,KAAK,aAAa,GAAG;AAAA,EAC9B;AACF;AAOA,MAAM,2BAA2B,CAC/B,KACA,WACuB;AACvB,MAAI,WAAW,QAAQ;AACrB,WAAO,OAAO,MAAM,OAAO,0BAA0B,GAAG;AAAA,EAC1D;AAEI,MAAA,CAAC,OAAO,MAAM;AAChB,QAAI,KAAK;AAAA,MACP,mBAAmB;AAAA,MACnB,cAAc;AAAA,IAAA,CACf;AAAA,EAAA,OACI;AACL,QAAI,KAAK;AAAA,MACP,mBACE,OAAO,KAAK,WAAW,SAAS,KAAK,2BAA2B,SAAS,OAAO,IAAI;AAAA,MACtF,cAAc,IAAI,OAAO,IAAI;AAAA,IAAA,CAC9B;AAAA,EACH;AAEO,SAAA;AACT;ACjIO,MAAM,OAAO;AAAA,EAClB;AAAA,EAEA,cAAc;AACZ,SAAK,SAAS;EAChB;AAAA,EAEA,IAAI,OAAc;AACV,UAAA,EAAE,MAAM,UAAc,IAAA;AAE5BA,+BAAU,WAAW,8BAA8B;AACnDA,+BAAU,MAAM,yBAAyB;AAEpC,SAAA,OAAO,IAAI,IAAI;AAAA,EACtB;AACF;AClBA,MAAM,YAAY;AAAA,EAChB;AAAA,EAEA,cAAc;AACZ,SAAK,cAAc;EACrB;AAAA,EAEA,IAAI,YAA6B;AAC1B,SAAA,YAAY,KAAK,UAAU;AAAA,EAClC;AACF;ACTO,MAAM,OAA0B;AAAA,EACrC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EAEA,YAAY,YAA0B;AAC/B,SAAA,OAAO,WAAW,QAAQ,CAAA;AAC1B,SAAA,cAAc,WAAW,eAAe;AACxC,SAAA,iBAAiB,WAAW,kBAAkB,CAAA;AACnD,SAAK,UAAU,WAAW,YAAY,SAAY,WAAW,UAAU;AACvE,SAAK,OAAO,WAAW;AACvB,SAAK,WAAW,WAAW;AAAA,EAC7B;AAAA,EAEA,sBAAsB,eAAuB,WAAmB;AAC1D,QAAA;AACF,aAAO,KAAK,eAAe,aAAa,EAAE,SAAS,KAAK,CAAA;AAAA,aACjD,KAAK;AACJ,cAAA,MAAM,iCAAiC,GAAG;AAElD,aAAO;IACT;AAAA,EACF;AAAA,EAEA,gBACE,eACA,WACA,WACA;AACI,QAAA;AACF,WAAK,eAAe,aAAa,EAAE,SAAS,EAAE,KAAK,SAAS;AAAA,aACrD,KAAK;AACJ,cAAA,MAAM,2BAA2B,GAAG;AAAA,IAC9C;AAAA,EACF;AACF;ACtCO,MAAM,SAAS;AAAA,EACpB;AAAA,EAEA,YAAY,EAAE,cAAc,CAAG,EAAA,IAA4B,CAAA,GAAI;AACxD,SAAA,WAAW,EAAE,GAAG;EACvB;AAAA,EAEA,IAAI,aAAqB/F,UAAkB;AACpC,SAAA,SAAS,WAAW,IAAIA;AAAA,EAC/B;AACF;ACXA,MAAM,mBAAsCuE,WAAA;AAC5C,MAAM,gBAAgB0B,WAAA;AACtB,MAAM,mBAAoDC,WAAA;AAE1D,MAAM,sBAAsB,CAAU,aACpCC,QAAAA,eAAe,CAAC,UAAqB,OAAO,QAAQ;ACUtD,MAAM,eAAe,CAAC,EAAE,UAAU,aAAa,yBAA4C;AACzF,QAAM,iBAAiB,iBAAiB,CAAC,UAAU,MAAM,aAAa,cAAc;AAEpF,QAAM,WAAW;AAEjBpG,mBAAM,UAAU,MAAM;AACX,aAAA,qBAAqB,WAAW,CAAC;AAE1C,WAAO,MAAM;AACX,eAAS,kBAAkB;AAAA,IAAA;AAAA,EAC7B,GACC,CAAC,aAAa,QAAQ,CAAC;AAE1B,MAAI,CAAC,gBAAgB;AACnB,0CAAQsE,mCAAqB,CAAA,CAAA;AAAA,EAC/B;AAGE,SAAA9E,2BAAA,IAAC6G,yBAAY,UAAZ,EAAqB,OAAO,EAAE,gBAAgB,mBAAmB,GAC/D,SACH,CAAA;AAEJ;AAWA,MAAMnG,iBAAe;AAAA,EACnB,gBAAgB;AAAA,EAChB,mCAAmC,CAAC;AACtC;AAEA,MAAM,cAAc;AACpB,MAAMoG,oBAAkB;AAMxB,MAAM,mBAAmB,OAAyB,EAAE,MAAM,YAAY;AAOtE,MAAM,uBAAuB,CAC3B,iBAC0B;AAAA,EAC1B,MAAMA;AAAAA,EACN;AACF;AAIA,MAAM,cAAc,CAAC,QAAmBpG,gBAAc,WACpDiF,yBAAQ,OAAO,CAAC,eAAe;AAC7B,UAAQ,OAAO,MAAM;AAAA,IACnB,KAAKmB,mBAAiB;AACpB,iBAAW,iBAAiB,OAAO;AACnC,iBAAW,oCAAoC,OAAO,YACnD,OAAO,CAAC,SAAS,KAAK,OAAO,EAC7B,OAAqD,CAAC,KAAK,YAAY;AACtE,cAAM,EAAE,SAAS,QAAAC,QAAAA,IAAW;AAE5B,YAAI,CAAC;AAAgB,iBAAA;AAEjB,YAAA,CAAC,IAAI,OAAO,GAAG;AACb,cAAA,OAAO,IAAI;QACjB;AAEA,YAAI,OAAO,IAAI,IAAI,OAAO,EAAEA,OAAM,IAC9B,EAAE,GAAG,IAAI,OAAO,GAAG,CAACA,OAAM,GAAG,CAAC,GAAG,IAAI,OAAO,EAAEA,OAAM,GAAG,OAAO,MAC9D,EAAE,GAAG,IAAI,OAAO,GAAG,CAACA,OAAM,GAAG,CAAC,OAAO,EAAE;AAEpC,eAAA;AAAA,MACT,GAAG,CAAE,CAAA;AACP;AAAA,IACF;AAAA,IACA,KAAK,aAAa;AACT,aAAArG;AAAAA,IACT;AAAA,IACA;AACS,aAAA;AAAA,EACX;AACF,CAAC;ACjHI,MAAM,kBAAkB;AACxB,MAAM,oBAAoB;ACQ1B,MAAMA,iBAAe;AAAA,EAC1B,aAAa;AACf;AAEA,MAAM,qBAAqB,CAAC,QAAQA,gBAAc;AAAA;AAAA,EAEhDiF,yBAAQ,OAAO,CAAC,eAAe;AAC7B,YAAQ,OAAO,MAAM;AAAA,MACnB,KAAK,iBAAiB;AACT,mBAAA,cAAc,OAAO,QAAQ,OAAO,WAAW,EAAE,OAAO,CAAC,KAAK,YAAY;AACnF,iBAAO,CAAC,GAAG,KAAK,GAAG,QAAQ,CAAC,CAAC;AAAA,QAC/B,GAAG,CAAE,CAAA;AACL;AAAA,MACF;AAAA,MACA,KAAK,mBAAmB;AACtB,mBAAW,cAAc;AACzB;AAAA,MACF;AAAA,MACA;AACS,eAAA;AAAA,IACX;AAAA,EAAA,CACD;AAAA;AC9BI,MAAM,gBAAgB;AACtB,MAAM,kBAAkB;AACxB,MAAM,gBAAgB;ACO7B,MAAMjF,iBAAe;AAAA,EACnB,YAAY,CAAC;AAAA,EACb,QAAQ;AAAA,EACR,QAAQ,CAAC;AAAA,EACT,qBAAqB,CAAC;AAAA,EACtB,iBAAiB,CAAC;AACpB;AAKA,MAAM,cAAc,CAAC,QAAQA,gBAAc,WACzCiF,yBAAQ,OAAO,CAAC,eAAe;AAC7B,UAAQ,OAAO,MAAM;AAAA,IACnB,KAAK,eAAe;AAClB,iBAAW,SAAS;AACpB;AAAA,IACF;AAAA,IACA,KAAK,iBAAiB;AACb,aAAAjF;AAAAA,IACT;AAAA,IACA,KAAK,eAAe;AACP,iBAAA,sBAAsB,OAAO,KAAK,8BAA8B;AAAA,QACzE,CAAC,EAAE,YAAA,MAAkB;AAAA,MAAA;AAEZ,iBAAA,kBAAkB,OAAO,KAAK,0BAA0B;AAAA,QACjE,CAAC,EAAE,YAAA,MAAkB;AAAA,MAAA;AAEZ,iBAAA,aAAa,OAAO,KAAK;AACzB,iBAAA,SAAS,OAAO,KAAK;AACrB,iBAAA,aAAa,OAAO,KAAK;AACpC,iBAAW,SAAS;AACpB;AAAA,IACF;AAAA,IACA;AACS,aAAA;AAAA,EACX;AACF,CAAC;AC9CI,MAAM,aAAa;AACnB,MAAMsG,gBAAc;ACQpB,MAAMtG,iBAAe;AAAA,EAC1B,eAAe;AACjB;AAEA,MAAM,yBAAyB,CAAC,QAAQA,gBAAc;AAAA;AAAA,EAEpDiF,yBAAQ,OAAO,CAAC,eAAe;AAC7B,YAAQ,OAAO,MAAM;AAAA,MACnB,KAAKqB,eAAa;AAChB,mBAAW,gBAAgB;AAC3B;AAAA,MACF;AAAA,MACA,KAAK,YAAY;AACf,mBAAW,gBAAgB,OAAO;AAClC;AAAA,MACF;AAAA,MACA;AACS,eAAA;AAAA,IACX;AAAA,EAAA,CACD;AAAA;AC5BI,MAAMC,aAAW;AACjB,MAAMC,uBAAqB;AAC3B,MAAMF,gBAAc;AACpB,MAAM,yBAAyB;AAC/B,MAAM,wBAAwB;AAC9B,MAAM,kBAAkB;ACYxB,MAAMtG,iBAAe;AAAA,EAC1B,MAAM,CAAC;AAAA,EACP,WAAW;AAAA,EACX,aAAa,CAAC;AAAA,EACd,YAAY,CAAC;AAAA,EACb,yBAAyB,CAAC;AAAA,EAC1B,kBAAkB,CAAC;AAAA,EACnB,YAAY;AAAA,IACV,OAAO;AAAA,EACT;AACF;AAEA,MAAM,kBAAkB,CAAC,QAAQA,gBAAc;AAAA;AAAA,EAE7CiF,yBAAQ,OAAO,CAAC,eAAe;AAC7B,YAAQ,OAAO,MAAM;AAAA,MACnB,KAAKsB,YAAU;AACN,eAAA;AAAA,UACL,GAAGvG;AAAAA,UACH,aAAa,MAAM;AAAA,UACnB,YAAY,MAAM;AAAA,UAClB,yBAAyB,MAAM;AAAA,UAC/B,kBAAkB,MAAM;AAAA,QAAA;AAAA,MAE5B;AAAA,MAEA,KAAKwG,sBAAoB;AACvB,mBAAW,aAAa,OAAO;AAC/B,mBAAW,OAAO,OAAO;AACzB,mBAAW,YAAY;AACvB;AAAA,MACF;AAAA,MAEA,KAAK,wBAAwB;AACrB,cAAA;AAAA,UACJ,QAAQ,EAAE,MAAM,MAAM;AAAA,QACpB,IAAA;AAEJ,YAAI,CAAC,OAAO;AACV,gBAAM,EAAE,WAAW,YAAY,IAAA,IAAQ,MAAM;AACvC,gBAAA,QAAQ,UAAU,IAAI,EAAE;AAC9B,gBAAM,SAAS;AAAA,YACb;AAAA,YACA,aAAa,WAAW,IAAI;AAAA,YAC5B,WAAW;AAAA,YACX,KAAK,KAAK,IAAI;AAAA,UAAA;AAGR,kBAAA,WAAW,IAAI,EAAE,MAAM;AAAA,YAC7B,KAAK,aAAa;AACV,oBAAA,gBAAgB,WAAW,IAAI,EAAE;AACvC,oBAAM,gBAAgB1D,aAAA;AAAA,gBACpB;AAAA,gBACA,CAAC,cAAc,eAAe,YAAY,WAAW;AAAA,gBACrD;AAAA,cAAA;AAEI,oBAAA,qBAAqBA,qBAAI,OAAO;AAAA,gBACpC;AAAA,gBACA;AAAA,gBACA;AAAA,gBACA;AAAA,cAAA,CACD;AAED,yBAAW,iBAAiB,KAAK;AAAA,gBAC/B,GAAG;AAAA,gBACH,WAAW;AAAA,kBACT,GAAG;AAAA,kBACH,WAAW;AAAA,oBACT,GAAG;AAAA,oBACH,MAAM;AAAA,kBACR;AAAA,gBACF;AAAA,cAAA,CACD;AACD;AAAA,YACF;AAAA,YAEA,KAAK;AACH,yBAAW,iBAAiB,KAAK;AAAA,gBAC/B,GAAG;AAAA,gBACH,YAAY;AAAA,kBACV,eAAe,CAAC;AAAA,kBAChB,UAAU,oBAAoB,GAAG;AAAA,gBACnC;AAAA,cAAA,CACD;AACD;AAAA,YAEF;AACa,yBAAA,iBAAiB,KAAK,MAAM;AAAA,UAC3C;AAAA,QAAA,OACK;AACM,qBAAA,mBAAmB,MAAM,iBAAiB;AAAA,YACnD,CAAC,WAAW,OAAO,SAAS;AAAA,UAAA;AAAA,QAEhC;AAEA;AAAA,MACF;AAAA,MACA,KAAK,uBAAuB;AAC1B,mBAAW,mBAAmB,MAAM;AACpC;AAAA,MACF;AAAA,MACA,KAAKwD,eAAa;AACT,eAAAtG;AAAAA,MACT;AAAA,MACA,KAAK,iBAAiB;AACpB,cAAM,EAAE,aAAa,YAAY,iBAAA,IAAqB;AAEtD,mBAAW,cAAc;AACzB,mBAAW,aAAa;AACxB,mBAAW,mBAAmB;AAC9B,mBAAW,0BAA0B;AAErC;AAAA,MACF;AAAA,MACA;AACS,eAAA;AAAA,IACX;AAAA,EAAA,CACD;AAAA;ACtII,MAAM,WAAW;AACjB,MAAM,qBAAqB;AAC3B,MAAM,YAAY;AAClB,MAAM,cAAc;AACpB,MAAM,sBAAsB;AAC5B,MAAM,aAAa;AACnB,MAAM,mBAAmB;AACzB,MAAM,+BACX;ACWF,MAAM,mBAAmB;AAAA,EACvB,yBAAyB,CAAC;AAAA,EAC1B,0BAA0B,CAAC;AAAA,EAC3B,WAAW;AAAA,EACX,MAAM;AAAA,EACN,QAAQ;AAAA,EACR,qBAAqB;AACvB;AAEM,MAAA,cAAc,CAAC,QAAQ,kBAAkB,WAC7CiF,yBAAQ,OAAO,CAAC,eAAe;AAC7B,UAAQ,OAAO,MAAM;AAAA,IACnB,KAAK,UAAU;AACb,iBAAW,YAAY;AACvB,iBAAW,OAAO;AAClB;AAAA,IACF;AAAA,IACA,KAAK,oBAAoB;AACvB,iBAAW,YAAY;AACvB,iBAAW,OAAO,OAAO;AACd,iBAAA,sBAAsB,OAAO,uBAAuB;AAC/D;AAAA,IACF;AAAA,IACA,KAAK,WAAW;AACd,UAAI,OAAO,MAAM;AACf,mBAAW,YAAY;AACvB,mBAAW,OAAO,OAAO;AAEzB;AAAA,MACF;AAEA,iBAAW,YAAY;AACvB,iBAAW,OAAO,MAAM;AACxB;AAAA,IACF;AAAA,IACA,KAAK,aAAa;AACT,aAAA;AAAA,IACT;AAAA,IACA,KAAK,qBAAqB;AACxB,iBAAW,0BAA0B,OAAO;AAC5C,iBAAW,2BAA2B,OAAO;AAC7C;AAAA,IACF;AAAA,IACA,KAAK,YAAY;AACf,iBAAW,SAAS,OAAO;AAC3B;AAAA,IACF;AAAA,IACA,KAAK,kBAAkB;AACrB,iBAAW,OAAO,OAAO;AACzB;AAAA,IACF;AAAA,IACA,KAAK,8BAA8B;AACjC,iBAAW,sBAAsB;AACjC;AAAA,IACF;AAAA,IACA;AACS,aAAA;AAAA,EACX;AACF,CAAC;ACnEH,MAAM,eAAe;AAAA,EACnB,aAAa,CAAC;AAAA,EACd,QAAQ;AACV;AAaA,MAAM,UAAU,CAAC,QAAe,cAAc;AAAA;AAAA,EAE5CA,yBAAQ,OAAO,CAAC,eAAe;AAC7B,YAAQ,OAAO,MAAM;AAAA,MACnB,KAAK,+BAA+B;AAClC,mBAAW,SAAS;AACpB;AAAA,MACF;AAAA,MAEA,KAAK,8BAA8B;AACjC,mBAAW,cAAc,OAAO;AAChC;AAAA,MACF;AAAA,MAEA;AACS,eAAA;AAAA,IACX;AAAA,EAAA,CACD;AAAA;ACnBH,MAAM,iBAAiB;AAAA,EACrB,WAAWwB;AAAAA,EACX,cAAc;AAAA,EACd,uBAAuBC;AAAAA,EACvB,4BAA4B;AAAA,EAC5B,+BAA+B;AAAA,EAC/B,yCAAyCC;AAAAA,EACzC,uCAAuCC;AACzC;AAEA,MAAM,6BACJ,CAAC,gBACD,CAAC,SACD,IAAI,SAAS;AACL,QAAA,QAAQ,KAAK,GAAG,IAAI;AAE1B,QAAM,gBAAyC,CAAA;AAExC,SAAA;AAAA,IACL,GAAG;AAAA,IACH;AAAA,IACA,eAAe,CAAC,KAAa,iBAA0B;AACrD,oBAAc,GAAG,IAAI;AACf,YAAA;AAAA;AAAA,QAEJC,wBAAgB;AAAA,UACd,GAAG;AAAA,UACH,GAAG;AAAA,QAAA,CACJ;AAAA,MAAA;AAAA,IAEL;AAAA,EAAA;AAEJ;AAMF,MAAM,qBAAqB,CACzB,iBAA0C,IAC1C,mBAA4C,CAAA,MACzC;AACH,QAAM,eAAe,EAAE,GAAG,gBAAgB,GAAG,iBAAiB;AAE9D,QAAM,QAAQC,QAAAA,eAAe;AAAA,IAC3B,SAAS;AAAA,IACT,UAAU,QAAQ,IAAI,aAAa;AAAA,IACnC,YAAY,CAAC,yBAAyB;AAAA,MACpC,GAAG,qBAAqB;AAAA,MACxB,GAAG,eAAe,IAAI,CAAC,MAAM,GAAG;AAAA,IAClC;AAAA,IACA,WAAW,CAAC,2BAA2B,YAAY,CAAC;AAAA,EAAA,CACrD;AAEM,SAAA;AACT;AC/Ea,MAAA,cAAc,OAAO,QAAQ,IAAI,cAAc,IAAI,QAAQ,OAAO,SAAS,QAAQ,EAAE;ACK3F,MAAM,aAAa,MAAM;AAC9B,QAAM,YAAuB,CAAA;AAEtB,SAAA;AAAA,IACL,SAAS,IAAa;AACpB,gBAAU,KAAK,EAAE;AAAA,IACnB;AAAA,IACA,OAAO,SAAkB;AACvB,gBAAU,OAAO,UAAU,QAAQ,OAAO,GAAG,CAAC;AAAA,IAChD;AAAA,IACA,aAAgB,MAAS,OAAa;AAC7B,aAAA,UAAU,OAAO,CAAC,KAAK,OAAO,GAAG,KAAK,KAAK,GAAG,IAAI;AAAA,IAC3D;AAAA,IACA,MAAM,kBAAqB,MAAS,OAAa;AAC/C,UAAI,SAAS;AAEb,iBAAW,MAAM,WAAW;AACjB,iBAAA,MAAM,GAAG,QAAQ,KAAK;AAAA,MACjC;AAEO,aAAA;AAAA,IACT;AAAA,IACA,aAA8B,MAAS;AACrC,aAAO,UAAU,IAAI,CAAC,OAAO,GAAG,GAAG,IAAI,CAAC;AAAA,IAC1C;AAAA,IACA,MAAM,kBAAmC,MAAS;AAChD,YAAM,SAAS,CAAA;AAEf,iBAAW,MAAM,WAAW;AAC1B,eAAO,KAAK,MAAM,GAAG,GAAG,IAAI,CAAC;AAAA,MAC/B;AAEO,aAAA;AAAA,IACT;AAAA,IACA,eAAgC,MAAS;AACvC,aAAO,QAAQ;AAAA,QACb,UAAU,IAAI,CAAC,OAAO;AACb,iBAAA,GAAG,GAAG,IAAI;AAAA,QAAA,CAClB;AAAA,MAAA;AAAA,IAEL;AAAA,EAAA;AAEJ;ACvCa,MAAA,mBAAmB,CAAC,SAA4B;AACrD,QAAA,EAAE,+BAA+B;AAEvC,QAAM,CAAC,YAAY,MAAM,QAAQ,IAAI,KAAK,MAAM,GAAG;AAM5C,SAAA,2BAA2B,YAAY,MAAM,QAAQ;AAC9D;ACdA,MAAM,kBAAkB;AAAA,EACtB,OAAO;AAAA;AAAA,IAEL,WAAW;AAAA,MACT,OAAO,CAAC;AAAA,IACV;AAAA,EACF;AAAA,EACA,gBAAgB;AAAA,IACd,UAAU,EAAE,cAAc,IAAI,eAAe,CAAA,EAAG;AAAA,IAChD,UAAU;AAAA,MACR,SAAS,CAAC;AAAA,MACV,4BAA4B,CAAC;AAAA,MAC7B,6BAA6B,CAAC;AAAA,MAC9B,+BAA+B,CAAC;AAAA,IAClC;AAAA,EACF;AACF;AAkDA,MAAM,gBAAgB,CAAC,EAAE,MAAM,GAAG,YAAyC;AACnE,QAAA,aAAa,iBAAiB,IAAI;AAExC,SAAO,WAAW,IAAI,CAAC,cAAexH,2BAAA,IAAA,UAAU,WAAV,EAA0C,GAAG,MAAA,GAApB,UAAU,IAAiB,CAAE;AAC9F;AC1EO,MAAM,sBAAsB;AAAA,EACjC,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,SAAS;AAAA,EACT,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,WAAW;AAAA,EACX,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AACN;ACAA,MAAM;AAAA,EACJ;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,IAAI;AA2BJ,MAAM,UAAU;AAAA,EACd;AAAA,EAGA;AAAA,EACA;AAAA,EAUA;AAAA,EACA;AAAA,EAUA;AAAA,EACA;AAAA,EACA;AAAA,EAIA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EAEA,YAAY,EAAE,aAAa,WAAW,IAA8B,CAAA,GAAI;AACjE,SAAA,uBAAuB,aAAa,UAAU,CAAA;AACnD,SAAK,+BAA+B,aAAa;AACjD,SAAK,iBAAiB;AAAA,MACpB,UAAUyH;AAAAA,MACV,MAAM,EAAE,SAAS,GAAG;AAAA,MACpB,SAAS,CAAC,IAAI;AAAA,MACd,UAAUA;AAAAA,MACV,eAAe,EAAE,UAAU,KAAK;AAAA,MAChC,QAAQ,EAAE,OAAOC,yBAAY,MAAMC,aAAAA,UAAU;AAAA,MAC7C,cAAc,CAAC;AAAA,MACf,WAAW;AAAA,IAAA;AAER,SAAA,aAAa,cAAc;AAChC,SAAK,UAAU;AAAA,MACb,YAAY,IAAI,WAAW;AAAA,MAC3B,QAAQ,IAAI,OAAO;AAAA,IAAA;AAEhB,SAAA,cAAc,IAAI;AACvB,SAAK,UAAU;AACV,SAAA,WAAW,IAAI;AACpB,SAAK,eAAe;AACpB,SAAK,YAAY;AACjB,SAAK,QAAQ;AAAA,MACX,gBAAgB;AAAA,IAAA;AAEb,SAAA,eAAe,IAAI;AACxB,SAAK,OAAO;AACZ,SAAK,WAAW;AAAA,MACd,QAAQ;AAAA,QACN,IAAI;AAAA,QACJ,WAAW;AAAA,UACT,IAAI;AAAA,UACJ,gBAAgB;AAAA,QAClB;AAAA,QACA,OAAO,CAAC;AAAA,MACV;AAAA,IAAA;AAAA,EAEJ;AAAA,EAEA,gBAAgB,CAAC,eAAwC;AACnD,QAAA,MAAM,QAAQ,UAAU,GAAG;AAClB,iBAAA,IAAI,CAAC,UAAU,KAAK,QAAQ,WAAW,IAAI,KAAK,CAAC;AAAA,IAAA,OACvD;AACA,WAAA,QAAQ,WAAW,IAAI,UAAU;AAAA,IACxC;AAAA,EAAA;AAAA,EAGF,wBAAwB,CAAC,SAAmB;AACpC,UAAA,kBAAkB,KAAK,UAAU,IAAI;AAE3CnB,uBAAA,QAAU,KAAK,IAAI,iCAAiC,eAAe,EAAE;AACrEA,uBAAA;AAAA,MACE,OAAO,KAAK,OAAO;AAAA,MACnB,oDAAoD,OAAO,KAAK,EAAE;AAAA,IAAA;AAEpEA,uBAAA;AAAA,MACE,CAAC,iCAAiC,iBAAiB,EAAE,SAAS,KAAK,EAAE;AAAA,MACrE;AAAA,IAAA;AAEFA,uBAAA;AAAA,MACE,KAAK,WAAW,MAAM,KAAK,WAAW;AAAA,MACtC,yDAAyD,eAAe;AAAA,IAAA;AAGrE,SAAA,KAAK,KAAK,IAAI;AAAA,EAAA;AAAA,EAGrB,YAAY,CAAC,WAA4B;AACnC,QAAA,MAAM,QAAQ,MAAM,GAAG;AAClB,aAAA,IAAI,CAAC,UAAU,KAAK,QAAQ,OAAO,IAAI,KAAK,CAAC;AAAA,IAAA,OAC/C;AACA,WAAA,QAAQ,OAAO,IAAI,MAAM;AAAA,IAChC;AAAA,EAAA;AAAA,EAGF,cAAc,CAAC,SAAmB;AAC1B,UAAA,kBAAkB,KAAK,UAAU,IAAI;AAE3CA,uBAAA,QAAU,KAAK,IAAI,iCAAiC,eAAe,EAAE;AACrEA,uBAAA;AAAA,MACE,OAAO,KAAK,OAAO;AAAA,MACnB,oDAAoD,OAAO,KAAK,EAAE;AAAA,IAAA;AAEpEA,uBAAA;AAAA,MACE,KAAK,WAAW,MAAM,KAAK,WAAW;AAAA,MACtC,yDAAyD,eAAe;AAAA,IAAA;AAE1EA,uBAAA;AAAA,MACE,KAAK,aAAa,OAAO,KAAK,cAAc;AAAA,MAC5C;AAAA,IAAA;AAEFA,uBAAA;AAAA,MACE,KAAK,QAAQ,OAAO,KAAK,SAAS;AAAA,MAClC;AAAA,IAAA;AAGG,SAAA,KAAK,KAAK,IAAI;AAAA,EAAA;AAAA,EAGrB,iBAAiB,CAAC,gBAA8B;AAClC,gBAAA,QAAQ,CAAC,eAAe;AAC7B,WAAA,YAAY,IAAI,UAAU;AAAA,IAAA,CAChC;AAAA,EAAA;AAAA,EAGH,cAAc,CAAC,aAAgC;AAC7C,WAAO,KAAK,QAAQ,EAAE,QAAQ,CAAC,gBAAgB;AAC7C,WAAK,SAAS,IAAI,aAAa,SAAS,WAAW,CAAC;AAAA,IAAA,CACrD;AAAA,EAAA;AAAA,EAGH,kBAAkB,CAAC,WAAwC,SAA+B;AACxFA,uBAAAA,QAAU,KAAK,SAAS,SAAS,GAAG,4BAA4B;AAE1D,UAAA,kBAAkB,KAAK,UAAU,IAAI;AAE3CA,uBAAA,QAAU,KAAK,IAAI,iCAAiC,eAAe,EAAE;AACrEA,uBAAA;AAAA,MACE,KAAK,WAAW,MAAM,KAAK,WAAW;AAAA,MACtC,yDAAyD,eAAe;AAAA,IAAA;AAE1EA,uBAAA,QAAU,KAAK,IAAI,iCAAiC,eAAe,EAAE;AACrEA,uBAAA;AAAA,MACE,KAAK,aAAa,OAAO,KAAK,cAAc;AAAA,MAC5C;AAAA,IAAA;AAGF,SAAK,SAAS,SAAS,EAAE,MAAM,KAAK,IAAI;AAAA,EAAA;AAAA,EAG1C,mBAAmB,CAAC,WAAwC,UAAkC;AAC5FA,uBAAAA,QAAU,KAAK,SAAS,SAAS,GAAG,4BAA4B;AAChEA,uBAAAA,QAAU,MAAM,QAAQ,KAAK,GAAG,yCAAyC;AAEnE,UAAA,QAAQ,CAAC,SAAS;AACjB,WAAA,gBAAgB,WAAW,IAAI;AAAA,IAAA,CACrC;AAAA,EAAA;AAAA,EAGH,MAAM,YAAY;AAChB,WAAO,KAAK,KAAK,UAAU,EAAE,QAAQ,CAAC,WAAW;AAC/C,YAAM,YAAY,KAAK,WAAW,MAAM,EAAE;AAE1C,UAAI,WAAW;AACH,kBAAA;AAAA,UACR,iBAAiB,KAAK;AAAA,UACtB,kBAAkB,KAAK;AAAA,UACvB,WAAW,KAAK;AAAA,UAChB,+BAA+B,KAAK;AAAA,UACpC,sBAAsB,KAAK;AAAA,UAC3B,cAAc,KAAK;AAAA,QAAA,CACpB;AAAA,MACH;AAAA,IAAA,CACD;AAEG,QAAAoB,oBAAA,QAAW,KAAK,4BAA4B,GAAG;AACjD,WAAK,6BAA6B;AAAA,QAChC,eAAe,KAAK;AAAA,QACpB,WAAW,KAAK;AAAA,QAChB,aAAa,KAAK;AAAA,QAClB,aAAa,KAAK;AAAA,QAClB,iBAAiB,KAAK;AAAA,QACtB,kBAAkB,KAAK;AAAA,QACvB,WAAW,KAAK;AAAA,QAChB,+BAA+B,KAAK;AAAA,QACpC,sBAAsB,KAAK;AAAA,QAC3B,cAAc,KAAK;AAAA,MAAA,CACpB;AAAA,IACH;AAAA,EACF;AAAA,EAEA,iBAAiB,YAAY;AAC3B,UAAM,KAAK;AAEX,SAAK,WAAW,sBAAsB;AACtC,SAAK,WAAW,6BAA6B;AAC7C,SAAK,WAAW,yBAAyB;AACzC,SAAK,WAAW,uBAAuB;AAEvC,WAAO,QAAQ;EAAQ;AAAA,EAGzB,6BAA6B,YAAY;AACnC,QAAA,KAAK,sBAAsB,SAAS;AACtC,WAAK,eAAe,UAAU;AAAA,QAC5B;AAAA,QACA,GAAI,KAAK,qBAAqB,SAAS,OAAO,CAAC,QAAQ,QAAQ,IAAI,KAAK,CAAC;AAAA,MAAA;AAAA,IAE7E;AAEI,QAAA,KAAK,sBAAsB,MAAM,MAAM;AACzC,WAAK,eAAe,WAAW,KAAK,qBAAqB,KAAK;AAAA,IAChE;AAEI,QAAA,KAAK,sBAAsB,MAAM,MAAM;AACzC,WAAK,eAAe,WAAW,KAAK,qBAAqB,KAAK;AAAA,IAChE;AAEI,QAAA,KAAK,sBAAsB,MAAM,SAAS;AAC5C,WAAK,eAAe,KAAK,UAAU,KAAK,qBAAqB,KAAK;AAAA,IACpE;AAEI,QAAA,KAAK,sBAAsB,OAAO;AAC9BD,YAAAA,aAAY,KAAK,qBAAqB,MAAM;AAC5CD,YAAAA,cAAa,KAAK,qBAAqB,MAAM;AAE/C,UAAA,CAACC,cAAa,CAACD,aAAY;AACrB,gBAAA;AAAA,UACN;AAAA,QAAA;AAEF3C,+BAAM,KAAK,eAAe,OAAO,OAAO,KAAK,qBAAqB,KAAK;AAAA,MACzE;AAEI2C,UAAAA;AAAY3C,uBAAA,QAAM,KAAK,eAAe,OAAO,OAAO2C,WAAU;AAE9DC,UAAAA;AAAW5C,uBAAA,QAAM,KAAK,eAAe,OAAO,MAAM4C,UAAS;AAAA,IACjE;AAEA,QAAI,KAAK,sBAAsB,eAAe,aAAa,QAAW;AACpE,WAAK,eAAe,cAAc,WAAW,KAAK,qBAAqB,cAAc;AAAA,IACvF;AAEI,QAAA,KAAK,sBAAsB,cAAc,QAAW;AACjD,WAAA,eAAe,YAAY,KAAK,qBAAqB;AAAA,IAC5D;AAAA,EAAA;AAAA,EAGF,aAAa,CAAC,SAAiB;AACxB,SAAA,UAAU,IAAI,IAAI,WAAW;AAAA,EAAA;AAAA,EAGpC,uBAAuB,CAAC,SAA2B,UAAkC;AACzEnB,uBAAAA,QAAA,QAAQ,IAAI,8BAA8B;AACpDA,uBAAA;AAAA,MACE,QAAQ,WAAW,MAAM,QAAQ,WAAW;AAAA,MAC5C;AAAA,IAAA;AAGFA,uBAAAA,QAAU,MAAM,QAAQ,KAAK,GAAG,yCAAyC;AACzEA,+BAAU,KAAK,SAAS,QAAQ,EAAE,MAAM,QAAW,kCAAkC;AAEhF,SAAA,SAAS,QAAQ,EAAE,IAAI,EAAE,GAAG,SAAS,OAAO,CAAA;AAE3C,UAAA,QAAQ,CAAC,SAAS;AACjB,WAAA,gBAAgB,QAAQ,IAAI,IAAI;AAAA,IAAA,CACtC;AAAA,EAAA;AAAA,EAGH,cAAc,MAAM;AAClB,UAAM,QAAQgB,mBAAe,KAAK,YAAY,aAAa,KAAK,SAAS,QAAQ;AAE1E,WAAA;AAAA,EAAA;AAAA,EAGT,6BAA6B,CAC3B,YACA,eACA,cAC6B;AACzB,QAAA;AAEK,aAAA,KAAK,MAAM,eAAe,UAAU,EAAE,aAAa,EAAE,SAAS,KAAK;aACnE,KAAK;AACJ,cAAA,MAAM,iCAAiC,GAAG;AAElD,aAAO;IACT;AAAA,EAAA;AAAA,EAGF,YAAY,CAAC,aAAiC;AACrC,WAAA,KAAK,QAAQ,QAAQ;AAAA,EAAA;AAAA,EAG9B,MAAM,aAAa;AACjB,WAAO,KAAK,KAAK,UAAU,EAAE,QAAQ,CAAC,WAAW;AAC/C,WAAK,WAAW,MAAM,EAAE,SAAS,IAAI;AAAA,IAAA,CACtC;AAAA,EACH;AAAA,EAEA,gCAAgC,CAC9B,eACA,WACA,cACG;AACHhB,uBAAA;AAAA,MACE,KAAK,MAAM,eAAe,eAAe,aAAa,IAAI,SAAS;AAAA,MACnE,OAAO,aAAa,IAAI,OAAO,SAAS,CAAC;AAAA,IAAA;AAE3CA,+BAAU,WAAW,8BAA8B;AAG9C,SAAA,MAAM,eAAe,eAAe,aAAa,EAAE,SAAS,EAAE,KAAK,SAAS;AAAA,EAAA;AAAA,EAGnF,uBAAuB,CACrB,eACA,WACA,cACG;AACHA,uBAAA;AAAA,MACE,KAAK,MAAM,eAAe,MAAM,aAAa,IAAI,SAAS;AAAA,MAC1D,OAAO,aAAa,IAAI,OAAO,SAAS,CAAC;AAAA,IAAA;AAE3CA,+BAAU,WAAW,8BAA8B;AAG9C,SAAA,MAAM,eAAe,MAAM,aAAa,EAAE,SAAS,EAAE,KAAK,SAAS;AAAA,EAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAO1E,MAAM,iBAAiB;AACrB,UAAM,kBAAkB,KAAK,eAAe,QAAQ,IAAI,CAAC,WAAW;AAC3D,aAAA,8mGAAA,kBAAA,MAAA,OAAA,EACJ,KAAK,CAAC,EAAE,SAAS,WAAW;AACpB,eAAA,EAAE,MAAM;MAAO,CACvB,EACA,MAAM,MAAM;AACJ,eAAA,EAAE,MAAM,MAAM;MAAO,CAC7B;AAAA,IAAA,CACJ;AACD,UAAM,eAAe,MAAM,QAAQ,IAAI,eAAe;AAEtD,UAAM,eAAe,aAAa;AAAA,MAChC,CAAC,KAAK,YAAY;AAChB,YAAI,QAAQ,MAAM;AACZ,cAAA,QAAQ,MAAM,IAAI,QAAQ;AAAA,QAChC;AAEO,eAAA;AAAA,MACT;AAAA,MACA,CAAC;AAAA,IAAA;AAGI,WAAA;AAAA,EACT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOA,MAAM,YAAY;AACV,UAAA,oBAAoB,MAAM,KAAK;AAE/B,UAAA,kBAAkB,OAAO,KAAK,KAAK,UAAU,EAChD,IAAI,CAAC,WAAW;AACf,YAAM,gBAAgB,KAAK,WAAW,MAAM,EAAE;AAE9C,UAAI,eAAe;AACjB,eAAO,cAAc,EAAE,SAAS,KAAK,eAAe,SAAS;AAAA,MAC/D;AAEO,aAAA;AAAA,IACR,CAAA,EACA,OAAO,CAAC,MAAM,CAAC;AAIlB,UAAM,eAAgB,MAAM,QAAQ,IAAI,eAAe;AACvD,UAAM,cAAc,aAAa;AAAA,MAC/B,CAAC,KAAK,uBAAuB;AAC3B,cAAM,cAAc,mBAAmB;AAAA,UACrC,CAAC,MAAM,YAAY;AACZ,iBAAA,QAAQ,MAAM,IAAI,QAAQ;AAExB,mBAAA;AAAA,UACT;AAAA,UACA,CAAC;AAAA,QAAA;AAGH,eAAO,KAAK,WAAW,EAAE,QAAQ,CAAC,WAAW;AACvC,cAAA,MAAM,IAAI,EAAE,GAAG,IAAI,MAAM,GAAG,GAAG,YAAY,MAAM;QAAE,CACxD;AAEM,eAAA;AAAA,MACT;AAAA,MACA,CAAC;AAAA,IAAA;AAGH,UAAM,eAAe,KAAK,eAAe,QAAQ,OAE9C,CAAC,KAAK,YAAY;AACnB,UAAI,OAAO,IAAI;AAAA,QACb,GAAG,kBAAkB,OAAO;AAAA,QAC5B,GAAI,YAAY,OAAO,KAAK,CAAC;AAAA,QAC7B,GAAI,KAAK,sBAAsB,eAAe,OAAO,KAAK,CAAC;AAAA,MAAA;AAGtD,aAAA;AAAA,IACT,GAAG,CAAE,CAAA;AAEL,SAAK,eAAe,eAAe;AAEnC,WAAO,QAAQ;EACjB;AAAA,EAEA,eAAe,CAAC,MAAc,OAAgB;AAC5CA,uBAAA;AAAA,MACE,KAAK,UAAU,IAAI;AAAA,MACnB,YAAY,IAAI;AAAA,IAAA;AAElB,SAAK,UAAU,IAAI,EAAE,SAAS,EAAE;AAAA,EAAA;AAAA,EAGlC,iBAAiB,CAAC,eAA6B;AACvC,UAAA,SAAS,IAAI,OAAO,UAAU;AAE/B,SAAA,QAAQ,OAAO,QAAQ,IAAI;AAAA,EAAA;AAAA,EAGlC,gBAAgB,CAAC,MAAc,eAAe,UAC5C,eAAe,KAAK,UAAU,IAAI,EAAE,eAAmB,IAAA,KAAK,UAAU,IAAI,EAAE;EAE9E,mBAAmB,CACjB,MACA,cACA,eAAe,OACf,UACG;AACH,WAAO,eACH,KAAK,UAAU,IAAI,EAAE,kBAAkB,cAAc,KAAK,IAC1D,KAAK,UAAU,IAAI,EAAE,aAAa,cAAc,KAAK;AAAA,EAAA;AAAA,EAG3D,kBAAkB,CAAC,SAAiB,KAAK,UAAU,IAAI,EAAE;EAEzD,SAAS;AACD,UAAA,QAAQ,KAAK;AACnB,UAAM,cAAcqB,cAAAA,QAAK,qBAAqB,KAAK,eAAe,WAAW,CAAA,CAAE;AAEzE,UAAA;AAAA,MACJ,YAAY,EAAE,WAAW;AAAA,MACzB,QAAQ,EAAE,OAAO;AAAA,IAAA,IACf,KAAK;AAGP,WAAA5H,2BAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,UAAU,KAAK,eAAe;AAAA,QAC9B;AAAA,QACA;AAAA,QACA,cAAc,KAAK;AAAA,QACnB;AAAA,QACA,4BAA4B,KAAK;AAAA,QACjC,WAAW,KAAK;AAAA,QAChB,UAAU,KAAK,eAAe;AAAA,QAC9B,MAAM,KAAK;AAAA,QACX,UAAU,KAAK,eAAe;AAAA,QAC9B,SAAS,KAAK;AAAA,QACd,iBAAiB,KAAK;AAAA,QACtB,kBAAkB,CAAC,MAAM,cAAc,QAAQ,UAAU;AACvD,iBAAO,KAAK,iBAAiB,MAAM,cAAc,OAAO,KAAK;AAAA,QAC/D;AAAA,QACA,eAAe,KAAK;AAAA,QACpB,QAAQ,KAAK,eAAe;AAAA,QAC5B,UAAU,KAAK;AAAA,QACf,eAAe,KAAK,eAAe;AAAA,QACnC,yBAAyB,KAAK,eAAe,cAAc;AAAA,QAC3D;AAAA,QAEA,UAAA;AAAA,UAAAD,2BAAA;AAAA,YAAC8H,YAAA;AAAA,YAAA;AAAA,cACC,gBAAgB,EAAE,MAAM,aAAa,QAAQ,0BAA0B,KAAK,KAAK;AAAA,YAAA;AAAA,UACnF;AAAA,yCACCC,eAAAA,eAAc,EAAA,UAAU,eACvB,UAAA/H,+BAAC,MAAI,CAAA,GACP;AAAA,QAAA;AAAA,MAAA;AAAA,IAAA;AAAA,EAGN;AACF;ACpjBA,MAAM,cAAc,OAClB,WACA,EAAE,SAAS,gBAAgB,eACxB;AACH,MAAI,CAAC,WAAW;AACR,UAAA,IAAI,MAAM,yEAAyE;AAAA,EAC3F;AAEA,SAAO,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAOd,YAAY,QAAQ,IAAI,4BAA4B,OAAO,SAAS;AAAA,IACpE,MAAM;AAAA,IACN,mBAAmB,QAAQ,IAAI,8BAA8B,SAAS,OAAO;AAAA,IAC7E,QAAQ;AAAA,MACN,WAAW,CAAC,SAA0C;AAC7C,eAAA,UAAU,SAAS,IAAI,MAAM;AAAA,MACtC;AAAA,IACF;AAAA;AAAA,IAEA,UAAU;AAAA,MACR,KAAK;AAAA,MACL,YAAY;AAAA,MACZ,kBAAkB;AAAA;AAAA;AAAA;AAAA;AAAA,MAKlB,WAAW,MAAM;AAAA,IACnB;AAAA,IACA,aAAa;AAAA,IACb,OAAO;AAAA,MACL,KAAK;AAAA,MACL,WAAW;AAAA,IACb;AAAA,EAAA;AAGI,QAAA,EAAE,KAAAwD,SAAQwE,aAAAA;AASZ,MAAA;AACI,UAAA;AAAA,MACJ,MAAM;AAAA,QACJ,MAAM,EAAE,MAAM,UAAAC,WAAU,MAAM;AAAA,MAChC;AAAA,IAAA,IACE,MAAMzE,KAA2B,qBAAqB;AAE1D,WAAO,OAAO,OAAO;AACrB,WAAO,OAAO,QAAQ;AACtB,WAAO,OAAO,WAAW;AAAA,MACvB,GAAG,OAAO,OAAO;AAAA,MACjB,WAAW,CAAC,gBAAgByE,UAAS,KAAK,CAAC,YAAY,QAAQ,SAAS,WAAW;AAAA,IAAA;AAE9E,WAAA,OAAO,cAAc,OAAO,eAAe;AAAA,WAC3C,KAAK;AAKZ,YAAQ,MAAM,GAAG;AAAA,EACnB;AAEM,QAAA,MAAM,IAAI,UAAU;AAAA,IACxB,aAAa;AAAA,IACb,YAAY;AAAA,EAAA,CACb;AAED,QAAM,IAAI;AACV,QAAM,IAAI;AACV,QAAM,IAAI;AACV,QAAM,IAAI;AAEVC,SAAA,WAAW,SAAS,EAAE,OAAO,IAAI,OAAQ,CAAA;AAGvC,MAAA,OAAO,WAAW,eAClB,UACA,SAAS,UACT,OAAO,OAAO,QAAQ,YACtB,OAAO,QAAQ,QACf,YAAY,OAAO,OACnB,OAAO,OAAO,IAAI,WAAW,YAC7B;AACA,WAAO,IAAI;EACb;AACF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}
\ No newline at end of file
+{"version":3,"file":"index-4de70b5d.js","sources":["../../admin/src/components/NoJavascript.tsx","../../admin/src/components/DefaultDocument.tsx","../../admin/src/components/PrivateRoute.tsx","../../admin/src/constants.ts","../../admin/src/contexts/configuration.ts","../../admin/src/hooks/useEnterprise.ts","../../admin/src/components/LanguageProvider.tsx","../../admin/src/components/UnauthenticatedLogo.tsx","../../admin/src/layouts/UnauthenticatedLayout.tsx","../../admin/src/pages/Auth/components/FieldActionWrapper.tsx","../../admin/src/pages/Auth/components/Login.tsx","../../admin/src/pages/Auth/components/ForgotPassword.tsx","../../admin/src/pages/Auth/components/ForgotPasswordSuccess.tsx","../../admin/src/pages/Auth/components/Oops.tsx","../../admin/src/components/NpsSurvey.tsx","../../admin/src/pages/Auth/components/Register.tsx","../../admin/src/pages/Auth/components/ResetPassword.tsx","../../admin/src/pages/Auth/constants.ts","../../admin/src/pages/Auth/AuthPage.tsx","../../admin/src/pages/NotFoundPage.tsx","../../admin/src/pages/UseCasePage.tsx","../../admin/src/utils/createRoute.tsx","../../admin/src/App.tsx","../../admin/src/assets/images/logo-strapi-2022.svg","../../admin/src/contexts/admin.ts","../../admin/src/components/ConfigurationProvider.tsx","../../admin/src/components/GuidedTour/Provider.tsx","../../admin/src/contexts/themeToggle.ts","../../admin/src/components/Theme.tsx","../../admin/src/components/ThemeToggleProvider.tsx","../../admin/src/components/Providers.tsx","../../admin/src/core/apis/Components.ts","../../admin/src/core/apis/CustomFields.ts","../../admin/src/core/apis/Fields.ts","../../admin/src/core/apis/Middlewares.ts","../../admin/src/core/apis/Plugin.ts","../../admin/src/core/apis/Reducers.ts","../../admin/src/core/store/hooks.ts","../../admin/src/components/RBACProvider.tsx","../../admin/src/content-manager/hooks/useSyncRbac/constants.js","../../admin/src/content-manager/hooks/useSyncRbac/reducer.js","../../admin/src/content-manager/pages/App/constants.js","../../admin/src/content-manager/pages/App/reducer.js","../../admin/src/content-manager/pages/EditViewLayoutManager/constants.js","../../admin/src/content-manager/pages/EditViewLayoutManager/reducer.js","../../admin/src/content-manager/pages/ListView/constants.js","../../admin/src/content-manager/pages/ListView/reducer.js","../../admin/src/content-manager/sharedReducers/crudReducer/constants.js","../../admin/src/content-manager/sharedReducers/crudReducer/reducer.js","../../admin/src/reducer.ts","../../admin/src/core/store/configure.ts","../../admin/src/core/utils/basename.ts","../../admin/src/core/utils/createHook.ts","../../admin/src/shared/hooks/useInjectionZone.ts","../../admin/src/shared/components/InjectionZone.tsx","../../admin/src/translations/languageNativeNames.ts","../../admin/src/StrapiApp.tsx","../../admin/src/render.ts"],"sourcesContent":["const styles = `\n.strapi--root {\n  position: absolute;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  background: #fff;\n}\n\n.strapi--no-js {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  text-align: center;\n  font-family: helvetica, arial, sans-serif;\n}\n`;\n\n/**\n * @internal\n *\n * @description this belongs to our default document that we render.\n */\nconst NoJavascript = () => {\n  return (\n    <noscript>\n      <div className=\"strapi--root\">\n        <div className=\"strapi--no-js\">\n          <style type=\"text/css\">{styles}</style>\n          <h1>JavaScript disabled</h1>\n          <p>\n            Please <a href=\"https://www.enable-javascript.com/\">enable JavaScript</a> in your\n            browser and reload the page to proceed.\n          </p>\n        </div>\n      </div>\n    </noscript>\n  );\n};\n\nexport { NoJavascript };\n","import { NoJavascript } from './NoJavascript';\n\n/**\n * TODO: add favicons.........\n */\n\nconst globalStyles = `\n  html,\n  body,\n  #strapi {\n    height: 100%;\n  }\n  body {\n    margin: 0;\n    -webkit-font-smoothing: antialiased;\n  }\n`;\n\n/**\n * @internal\n */\nconst DefaultDocument = () => {\n  return (\n    <html lang=\"en\">\n      <head>\n        <meta charSet=\"utf-8\" />\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, viewport-fit=cover\" />\n        <meta name=\"robots\" content=\"noindex\" />\n        <meta name=\"referrer\" content=\"same-origin\" />\n\n        <title>MotorsEra Admin</title>\n        <style>{globalStyles}</style>\n      </head>\n      <body>\n        <div id=\"strapi\" />\n        <NoJavascript />\n      </body>\n    </html>\n  );\n};\n\nexport { DefaultDocument };\n","import * as React from 'react';\n\nimport { auth } from '@strapi/helper-plugin';\nimport { Redirect, Route, useLocation } from 'react-router-dom';\n\ntype PropsOf<T> = T extends React.ComponentType<infer P> ? P : object;\n\ntype PrivateRouteProps<TComponent extends React.ElementType> = {\n  component: TComponent;\n  path: string;\n} & PropsOf<TComponent>;\n\nconst PrivateRoute = <TComponent extends React.ElementType>({\n  component: Component,\n  path,\n  ...rest\n}: PrivateRouteProps<TComponent>) => {\n  const { pathname, search } = useLocation();\n\n  return (\n    <Route\n      path={path}\n      render={(props) =>\n        auth.getToken() !== null ? (\n          <Component {...rest} {...props} />\n        ) : (\n          <Redirect\n            to={{\n              pathname: '/auth/login',\n              search:\n                pathname !== '/'\n                  ? `?redirectTo=${encodeURIComponent(`${pathname}${search}`)}`\n                  : undefined,\n            }}\n          />\n        )\n      }\n    />\n  );\n};\n\nexport { PrivateRoute };\n","import { StrapiAppSettingLink } from '@strapi/helper-plugin';\n\nexport const ADMIN_PERMISSIONS_CE = {\n  contentManager: {\n    main: [],\n    collectionTypesConfigurations: [\n      {\n        action: 'plugin::content-manager.collection-types.configure-view',\n        subject: null,\n      },\n    ],\n    componentsConfigurations: [\n      {\n        action: 'plugin::content-manager.components.configure-layout',\n        subject: null,\n      },\n    ],\n    singleTypesConfigurations: [\n      {\n        action: 'plugin::content-manager.single-types.configure-view',\n        subject: null,\n      },\n    ],\n  },\n  marketplace: {\n    main: [{ action: 'admin::marketplace.read', subject: null }],\n    read: [{ action: 'admin::marketplace.read', subject: null }],\n  },\n  settings: {\n    roles: {\n      main: [\n        { action: 'admin::roles.create', subject: null },\n        { action: 'admin::roles.update', subject: null },\n        { action: 'admin::roles.read', subject: null },\n        { action: 'admin::roles.delete', subject: null },\n      ],\n      create: [{ action: 'admin::roles.create', subject: null }],\n      delete: [{ action: 'admin::roles.delete', subject: null }],\n      read: [{ action: 'admin::roles.read', subject: null }],\n      update: [{ action: 'admin::roles.update', subject: null }],\n    },\n    users: {\n      main: [\n        { action: 'admin::users.create', subject: null },\n        { action: 'admin::users.read', subject: null },\n        { action: 'admin::users.update', subject: null },\n        { action: 'admin::users.delete', subject: null },\n      ],\n      create: [{ action: 'admin::users.create', subject: null }],\n      delete: [{ action: 'admin::users.delete', subject: null }],\n      read: [{ action: 'admin::users.read', subject: null }],\n      update: [{ action: 'admin::users.update', subject: null }],\n    },\n    webhooks: {\n      main: [\n        { action: 'admin::webhooks.create', subject: null },\n        { action: 'admin::webhooks.read', subject: null },\n        { action: 'admin::webhooks.update', subject: null },\n        { action: 'admin::webhooks.delete', subject: null },\n      ],\n      create: [{ action: 'admin::webhooks.create', subject: null }],\n      delete: [{ action: 'admin::webhooks.delete', subject: null }],\n      read: [\n        { action: 'admin::webhooks.read', subject: null },\n        // NOTE: We need to check with the API\n        { action: 'admin::webhooks.update', subject: null },\n        { action: 'admin::webhooks.delete', subject: null },\n      ],\n      update: [{ action: 'admin::webhooks.update', subject: null }],\n    },\n    'api-tokens': {\n      main: [{ action: 'admin::api-tokens.access', subject: null }],\n      create: [{ action: 'admin::api-tokens.create', subject: null }],\n      delete: [{ action: 'admin::api-tokens.delete', subject: null }],\n      read: [{ action: 'admin::api-tokens.read', subject: null }],\n      update: [{ action: 'admin::api-tokens.update', subject: null }],\n      regenerate: [{ action: 'admin::api-tokens.regenerate', subject: null }],\n    },\n    'transfer-tokens': {\n      main: [{ action: 'admin::transfer.tokens.access', subject: null }],\n      create: [{ action: 'admin::transfer.tokens.create', subject: null }],\n      delete: [{ action: 'admin::transfer.tokens.delete', subject: null }],\n      read: [{ action: 'admin::transfer.tokens.read', subject: null }],\n      update: [{ action: 'admin::transfer.tokens.update', subject: null }],\n      regenerate: [{ action: 'admin::transfer.tokens.regenerate', subject: null }],\n    },\n    'project-settings': {\n      read: [{ action: 'admin::project-settings.read', subject: null }],\n      update: [{ action: 'admin::project-settings.update', subject: null }],\n    },\n  },\n};\n\nexport const HOOKS = {\n  /**\n   * Hook that allows to mutate the displayed headers of the list view table\n   * @constant\n   * @type {string}\n   */\n  INJECT_COLUMN_IN_TABLE: 'Admin/CM/pages/ListView/inject-column-in-table',\n\n  /**\n   * Hook that allows to mutate the CM's collection types links pre-set filters\n   * @constant\n   * @type {string}\n   */\n  MUTATE_COLLECTION_TYPES_LINKS: 'Admin/CM/pages/App/mutate-collection-types-links',\n\n  /**\n   * Hook that allows to mutate the CM's edit view layout\n   * @constant\n   * @type {string}\n   */\n  MUTATE_EDIT_VIEW_LAYOUT: 'Admin/CM/pages/EditView/mutate-edit-view-layout',\n\n  /**\n   * Hook that allows to mutate the CM's single types links pre-set filters\n   * @constant\n   * @type {string}\n   */\n  MUTATE_SINGLE_TYPES_LINKS: 'Admin/CM/pages/App/mutate-single-types-links',\n};\n\nexport const ACTION_SET_APP_RUNTIME_STATUS = 'StrapiAdmin/APP/SET_APP_RUNTIME_STATUS';\nexport const ACTION_SET_ADMIN_PERMISSIONS = 'StrapiAdmin/App/SET_ADMIN_PERMISSIONS';\n\nexport interface SettingsMenuLink extends Omit<StrapiAppSettingLink, 'Component' | 'permissions'> {\n  Component?: never;\n  lockIcon?: boolean;\n}\n\nexport type SettingsMenu = {\n  admin: SettingsMenuLink[];\n  global: SettingsMenuLink[];\n};\n\nexport const SETTINGS_LINKS_CE = (): SettingsMenu => ({\n  global: [\n    {\n      intlLabel: { id: 'Settings.application.title', defaultMessage: 'Overview' },\n      to: '/settings/application-infos',\n      id: '000-application-infos',\n    },\n    {\n      intlLabel: { id: 'Settings.webhooks.title', defaultMessage: 'Webhooks' },\n      to: '/settings/webhooks',\n      id: 'webhooks',\n    },\n    {\n      intlLabel: { id: 'Settings.apiTokens.title', defaultMessage: 'API Tokens' },\n      to: '/settings/api-tokens?sort=name:ASC',\n      id: 'api-tokens',\n    },\n    {\n      intlLabel: { id: 'Settings.transferTokens.title', defaultMessage: 'Transfer Tokens' },\n      to: '/settings/transfer-tokens?sort=name:ASC',\n      id: 'transfer-tokens',\n    },\n    // If the Enterprise feature is not enabled and if the config doesn't disable it, we promote the Enterprise feature by displaying them in the settings menu.\n    // Disable this by adding \"promoteEE: false\" to your `./config/admin.js` file\n    ...(!window.strapi.features.isEnabled(window.strapi.features.SSO) &&\n    window.strapi?.flags?.promoteEE\n      ? [\n          {\n            intlLabel: { id: 'Settings.sso.title', defaultMessage: 'Single Sign-On' },\n            to: '/settings/purchase-single-sign-on',\n            id: 'sso',\n            lockIcon: true,\n          },\n        ]\n      : []),\n\n    ...(!window.strapi.features.isEnabled(window.strapi.features.REVIEW_WORKFLOWS) &&\n    window.strapi?.flags?.promoteEE\n      ? [\n          {\n            intlLabel: {\n              id: 'Settings.review-workflows.page.title',\n              defaultMessage: 'Review Workflows',\n            },\n            to: '/settings/purchase-review-workflows',\n            id: 'review-workflows',\n            lockIcon: true,\n          },\n        ]\n      : []),\n  ],\n\n  admin: [\n    {\n      intlLabel: { id: 'global.roles', defaultMessage: 'Roles' },\n      to: '/settings/roles',\n      id: 'roles',\n    },\n    {\n      intlLabel: { id: 'global.users', defaultMessage: 'Users' },\n      // Init the search params directly\n      to: '/settings/users?pageSize=10&page=1&sort=firstname',\n      id: 'users',\n    },\n    ...(!window.strapi.features.isEnabled(window.strapi.features.AUDIT_LOGS) &&\n    window.strapi?.flags?.promoteEE\n      ? [\n          {\n            intlLabel: { id: 'global.auditLogs', defaultMessage: 'Audit Logs' },\n            to: '/settings/purchase-audit-logs',\n            id: 'auditLogs',\n            lockIcon: true,\n          },\n        ]\n      : []),\n  ],\n});\n","import { createContext } from '@radix-ui/react-context';\n\nexport interface ConfigurationContextValue {\n  logos: {\n    auth: { custom?: string | null; default: string };\n    menu: { custom?: string | null; default: string };\n  };\n  showTutorials: boolean;\n  showReleaseNotification: boolean;\n  updateProjectSettings: (settings: { authLogo?: string; menuLogo?: string }) => void;\n}\n\nconst [ConfigurationContextProvider, useConfigurationContext] =\n  createContext<ConfigurationContextValue>('ConfigurationContext');\n\nconst useConfiguration = () => useConfigurationContext('useConfiguration');\n\nexport { ConfigurationContextProvider, useConfiguration };\n","import * as React from 'react';\n\nimport { useCallbackRef } from '@strapi/helper-plugin';\n\nfunction isEnterprise() {\n  return window.strapi.isEE;\n}\n\nexport interface UseEnterpriseOptions<TCEData, TEEData, TDefaultValue, TCombinedValue> {\n  defaultValue?: TDefaultValue;\n  combine?: (ceData: TCEData, eeData: TEEData) => TCombinedValue;\n  enabled?: boolean;\n}\n\ntype UseEnterpriseReturn<TCEData, TEEData, TDefaultValue, TCombinedValue> =\n  TDefaultValue extends null\n    ? TCEData | TEEData | TCombinedValue | null\n    : TCEData | TEEData | TCombinedValue | TDefaultValue;\n\nexport const useEnterprise = <\n  TCEData,\n  TEEData = TCEData,\n  TCombinedValue = TEEData,\n  TDefaultValue = TCEData | null\n>(\n  ceData: TCEData,\n  eeCallback: () => Promise<TEEData>,\n  opts: UseEnterpriseOptions<TCEData, TEEData, TDefaultValue, TCombinedValue> = {}\n): UseEnterpriseReturn<TCEData, TEEData, TDefaultValue, TCombinedValue> => {\n  const { defaultValue = null, combine = (_ceData, eeData) => eeData, enabled = true } = opts;\n  const eeCallbackRef = useCallbackRef(eeCallback);\n  const combineCallbackRef = useCallbackRef(combine);\n\n  // We have to use a nested object here, because functions (e.g. Components)\n  // can not be stored as value directly\n  const [{ data }, setData] = React.useState<{\n    data: TCEData | TEEData | TDefaultValue | TCombinedValue | null;\n  }>({\n    data: isEnterprise() && enabled ? defaultValue : ceData,\n  });\n\n  React.useEffect(() => {\n    async function importEE() {\n      const eeData = await eeCallbackRef();\n      const combinedValue = combineCallbackRef(ceData, eeData);\n\n      setData({ data: combinedValue ? combinedValue : eeData });\n    }\n\n    if (isEnterprise() && enabled) {\n      importEE();\n    }\n  }, [ceData, eeCallbackRef, combineCallbackRef, enabled]);\n\n  // @ts-expect-error ‚Äì the hook type assertion works in practice. But seems to have issues here...\n  return data;\n};\n","/*\n *\n * LanguageProvider\n *\n * this component connects the redux state language locale to the\n * IntlProvider component and i18n messages (loaded from `app/translations`)\n */\n\nimport * as React from 'react';\n\nimport { createContext } from '@radix-ui/react-context';\nimport defaultsDeep from 'lodash/defaultsDeep';\nimport { IntlProvider } from 'react-intl';\n\n/* -------------------------------------------------------------------------------------------------\n * LocalesContext\n * -----------------------------------------------------------------------------------------------*/\n\ninterface LocalesContextValue {\n  changeLocale: (locale: keyof State['localeNames']) => void;\n  localeNames: Record<string, string>;\n}\n\nconst [LocalesContextProvider, useLocalesContext] =\n  createContext<LocalesContextValue>('LocalesContext');\n\nconst useLocales = () => useLocalesContext('useLocales');\n\n/* -------------------------------------------------------------------------------------------------\n * LanguageProvider\n * -----------------------------------------------------------------------------------------------*/\n\nconst LANGUAGE_LOCAL_STORAGE_KEY = 'strapi-admin-language';\n\ninterface LanguageProviderProps {\n  children: React.ReactNode;\n  localeNames: Record<string, string>;\n  messages: Record<string, Record<string, string>>;\n}\n\nconst LanguageProvider = ({ children, localeNames, messages }: LanguageProviderProps) => {\n  const [{ locale }, dispatch] = React.useReducer<React.Reducer<State, Action>, State>(\n    reducer,\n    initialState,\n    () => {\n      const languageFromLocaleStorage = window.localStorage.getItem(LANGUAGE_LOCAL_STORAGE_KEY);\n      if (languageFromLocaleStorage && localeNames[languageFromLocaleStorage]) {\n        return {\n          locale: languageFromLocaleStorage,\n          localeNames,\n        };\n      } else {\n        return {\n          locale: 'en',\n          localeNames,\n        };\n      }\n    }\n  );\n\n  React.useEffect(() => {\n    // Set user language in local storage.\n    window.localStorage.setItem(LANGUAGE_LOCAL_STORAGE_KEY, locale);\n    document.documentElement.setAttribute('lang', locale);\n  }, [locale]);\n\n  const changeLocale = React.useCallback((locale: keyof State['localeNames']) => {\n    dispatch({\n      type: 'CHANGE_LOCALE',\n      locale,\n    });\n  }, []);\n\n  const appMessages = defaultsDeep(messages[locale], messages.en);\n\n  return (\n    <IntlProvider locale={locale} defaultLocale=\"en\" messages={appMessages} textComponent=\"span\">\n      <LocalesContextProvider changeLocale={changeLocale} localeNames={localeNames}>\n        {children}\n      </LocalesContextProvider>\n    </IntlProvider>\n  );\n};\n\n/* -------------------------------------------------------------------------------------------------\n * Reducer\n * -----------------------------------------------------------------------------------------------*/\n\ninterface State {\n  localeNames: Record<string, string>;\n  locale: keyof State['localeNames'];\n}\n\nconst initialState: State = {\n  localeNames: { en: 'English' },\n  locale: 'en',\n};\n\ninterface ChangeLocaleAction {\n  type: 'CHANGE_LOCALE';\n  locale: keyof State['localeNames'];\n}\n\ntype Action = ChangeLocaleAction;\n\nconst reducer = (state = initialState, action: Action) => {\n  switch (action.type) {\n    case 'CHANGE_LOCALE': {\n      const { locale } = action;\n\n      if (!state.localeNames[locale]) {\n        return state;\n      }\n\n      return { ...state, locale };\n    }\n    default: {\n      return state;\n    }\n  }\n};\n\nexport { LanguageProvider, useLocales, LANGUAGE_LOCAL_STORAGE_KEY };\nexport type { LanguageProviderProps, LocalesContextValue };\n","import styled from 'styled-components';\n\nimport { useConfiguration } from '../contexts/configuration';\n\nconst Img = styled.img`\n  height: ${72 / 16}rem;\n`;\n\nconst Logo = () => {\n  const {\n    logos: { auth },\n  } = useConfiguration();\n\n  return <Img src={auth?.custom ?? auth.default} aria-hidden alt=\"\" />;\n};\n\nexport { Logo };\n","import * as React from 'react';\n\nimport { Box, Flex, SingleSelect, SingleSelectOption } from '@strapi/design-system';\nimport { useIntl } from 'react-intl';\nimport styled from 'styled-components';\n\nimport { useLocales } from '../components/LanguageProvider';\n\nconst Wrapper = styled(Box)`\n  margin: 0 auto;\n  width: 552px;\n`;\n\nexport const Column = styled(Flex)`\n  flex-direction: column;\n`;\n\nconst LocaleToggle = () => {\n  const { changeLocale, localeNames } = useLocales();\n  const { formatMessage, locale } = useIntl();\n\n  return (\n    <SingleSelect\n      aria-label={formatMessage({\n        id: 'global.localeToggle.label',\n        defaultMessage: 'Select interface language',\n      })}\n      value={locale}\n      onChange={(language) => {\n        changeLocale(language as string);\n      }}\n    >\n      {Object.entries(localeNames).map(([language, name]) => (\n        <SingleSelectOption key={language} value={language}>\n          {name}\n        </SingleSelectOption>\n      ))}\n    </SingleSelect>\n  );\n};\n\ninterface LayoutContentProps {\n  children: React.ReactNode;\n}\n\nexport const LayoutContent = ({ children }: LayoutContentProps) => (\n  <Wrapper\n    shadow=\"tableShadow\"\n    hasRadius\n    paddingTop={9}\n    paddingBottom={9}\n    paddingLeft={10}\n    paddingRight={10}\n    background=\"neutral0\"\n  >\n    {children}\n  </Wrapper>\n);\n\ninterface UnauthenticatedLayoutProps {\n  children: React.ReactNode;\n}\n\nexport const UnauthenticatedLayout = ({ children }: UnauthenticatedLayoutProps) => {\n  return (\n    <div>\n      <Flex as=\"header\" justifyContent=\"flex-end\">\n        <Box paddingTop={6} paddingRight={8}>\n          <LocaleToggle />\n        </Box>\n      </Flex>\n      <Box paddingTop={2} paddingBottom={11}>\n        {children}\n      </Box>\n    </div>\n  );\n};\n","import { FieldAction } from '@strapi/design-system';\nimport styled from 'styled-components';\n\nconst FieldActionWrapper = styled(FieldAction)`\n  svg {\n    height: 1rem;\n    width: 1rem;\n    path {\n      fill: ${({ theme }) => theme.colors.neutral600};\n    }\n  }\n`;\n\nexport { FieldActionWrapper };\n","import * as React from 'react';\n\nimport { Box, Button, Checkbox, Flex, Main, TextInput, Typography } from '@strapi/design-system';\nimport { Link } from '@strapi/design-system/v2';\nimport { Form, auth, translatedErrors, useFetchClient, useQuery } from '@strapi/helper-plugin';\nimport { Eye, EyeStriked } from '@strapi/icons';\nimport { Formik } from 'formik';\nimport camelCase from 'lodash/camelCase';\nimport { useIntl } from 'react-intl';\nimport { useMutation } from 'react-query';\nimport { NavLink, useHistory } from 'react-router-dom';\nimport styled from 'styled-components';\nimport * as yup from 'yup';\n\nimport { Login } from '../../../../../shared/contracts/authentication';\nimport { useLocales } from '../../../components/LanguageProvider';\nimport { Logo } from '../../../components/UnauthenticatedLogo';\nimport {\n  UnauthenticatedLayout,\n  Column,\n  LayoutContent,\n} from '../../../layouts/UnauthenticatedLayout';\n\nimport { FieldActionWrapper } from './FieldActionWrapper';\n\nimport type { AxiosError } from 'axios';\n\ninterface LoginProps {\n  children?: React.ReactNode;\n}\n\nconst LOGIN_SCHEMA = yup.object().shape({\n  email: yup.string().email(translatedErrors.email).required(translatedErrors.required),\n  password: yup.string().required(translatedErrors.required),\n  rememberMe: yup.bool().nullable(),\n});\n\nconst Login = ({ children }: LoginProps) => {\n  const [apiError, setApiError] = React.useState<string>();\n  const [passwordShown, setPasswordShown] = React.useState(false);\n  const { formatMessage } = useIntl();\n  const { post } = useFetchClient();\n  const { changeLocale } = useLocales();\n  const query = useQuery();\n  const { push } = useHistory();\n\n  const mutation = useMutation(\n    async (body: Login.Request['body'] & { rememberMe: boolean }) => {\n      const {\n        data: { data },\n      } = await post<Login.Response>('/admin/login', body);\n\n      return { ...data, rememberMe: body.rememberMe };\n    },\n    {\n      onSuccess(data) {\n        if (data) {\n          const { token, user } = data;\n\n          if (user.preferedLanguage) {\n            changeLocale(user.preferedLanguage);\n          }\n\n          auth.setToken(token, data.rememberMe);\n          auth.setUserInfo(user, data.rememberMe);\n\n          const redirectTo = query.get('redirectTo');\n          const redirectUrl = redirectTo ? decodeURIComponent(redirectTo) : '/';\n\n          push(redirectUrl);\n        }\n      },\n      onError(err: AxiosError<{ error: Login.Response['errors'] }>) {\n        const message = err.response?.data?.error?.message ?? 'Something went wrong';\n\n        if (camelCase(message).toLowerCase() === 'usernotactive') {\n          push('/auth/oops');\n          return;\n        }\n\n        setApiError(message);\n      },\n    }\n  );\n\n  return (\n    <UnauthenticatedLayout>\n      <Main>\n        <LayoutContent>\n          <Column>\n            <Logo />\n            <Box paddingTop={6} paddingBottom={1}>\n              <Typography variant=\"alpha\" as=\"h1\">\n                {formatMessage({\n                  id: 'Auth.form.welcome.title',\n                  defaultMessage: 'Welcome!',\n                })}\n              </Typography>\n            </Box>\n            <Box paddingBottom={7}>\n              <Typography variant=\"epsilon\" textColor=\"neutral600\">\n                {formatMessage({\n                  id: 'Auth.form.welcome.subtitle',\n                  defaultMessage: 'Log in to your MotorsEra account',\n                })}\n              </Typography>\n            </Box>\n            {mutation.isError && apiError ? (\n              <Typography id=\"global-form-error\" role=\"alert\" tabIndex={-1} textColor=\"danger600\">\n                {apiError}\n              </Typography>\n            ) : null}\n          </Column>\n          <Formik\n            enableReinitialize\n            initialValues={{\n              email: '',\n              password: '',\n              rememberMe: false,\n            }}\n            onSubmit={(values) => {\n              mutation.mutate(values);\n            }}\n            validationSchema={LOGIN_SCHEMA}\n            validateOnChange={false}\n          >\n            {({ values, errors, handleChange }) => (\n              <Form>\n                <Flex direction=\"column\" alignItems=\"stretch\" gap={6}>\n                  <TextInput\n                    error={\n                      errors.email\n                        ? formatMessage({\n                            id: errors.email,\n                            defaultMessage: 'This value is required.',\n                          })\n                        : ''\n                    }\n                    value={values.email}\n                    onChange={handleChange}\n                    label={formatMessage({ id: 'Auth.form.email.label', defaultMessage: 'Email' })}\n                    placeholder={formatMessage({\n                      id: 'Auth.form.email.placeholder',\n                      defaultMessage: 'kai@doe.com',\n                    })}\n                    name=\"email\"\n                    required\n                  />\n                  <PasswordInput\n                    error={\n                      errors.password\n                        ? formatMessage({\n                            id: errors.password,\n                            defaultMessage: 'This value is required.',\n                          })\n                        : ''\n                    }\n                    onChange={handleChange}\n                    value={values.password}\n                    label={formatMessage({\n                      id: 'global.password',\n                      defaultMessage: 'Password',\n                    })}\n                    name=\"password\"\n                    type={passwordShown ? 'text' : 'password'}\n                    endAction={\n                      <FieldActionWrapper\n                        onClick={(e) => {\n                          e.stopPropagation();\n                          setPasswordShown((prev) => !prev);\n                        }}\n                        label={formatMessage(\n                          passwordShown\n                            ? {\n                                id: 'Auth.form.password.show-password',\n                                defaultMessage: 'Show password',\n                              }\n                            : {\n                                id: 'Auth.form.password.hide-password',\n                                defaultMessage: 'Hide password',\n                              }\n                        )}\n                      >\n                        {passwordShown ? <Eye /> : <EyeStriked />}\n                      </FieldActionWrapper>\n                    }\n                    required\n                  />\n                  <Checkbox\n                    onValueChange={(checked) => {\n                      handleChange({ target: { value: checked, name: 'rememberMe' } });\n                    }}\n                    value={values.rememberMe}\n                    aria-label=\"rememberMe\"\n                    name=\"rememberMe\"\n                  >\n                    {formatMessage({\n                      id: 'Auth.form.rememberMe.label',\n                      defaultMessage: 'Remember me',\n                    })}\n                  </Checkbox>\n                  <Button fullWidth type=\"submit\">\n                    {formatMessage({ id: 'Auth.form.button.login', defaultMessage: 'Login' })}\n                  </Button>\n                </Flex>\n              </Form>\n            )}\n          </Formik>\n          {children}\n        </LayoutContent>\n        <Flex justifyContent=\"center\">\n          <Box paddingTop={4}>\n            {/* @ts-expect-error ‚Äì error with inferring the props from the as component */}\n            <Link as={NavLink} to=\"/auth/forgot-password\">\n              {formatMessage({\n                id: 'Auth.link.forgot-password',\n                defaultMessage: 'Forgot your password?',\n              })}\n            </Link>\n          </Box>\n        </Flex>\n      </Main>\n    </UnauthenticatedLayout>\n  );\n};\n\nconst PasswordInput = styled(TextInput)`\n  ::-ms-reveal {\n    display: none;\n  }\n`;\n\nexport { Login };\nexport type { LoginProps };\n","import { Box, Button, Flex, Main, TextInput, Typography } from '@strapi/design-system';\nimport { Link } from '@strapi/design-system/v2';\nimport { Form, translatedErrors, useFetchClient } from '@strapi/helper-plugin';\nimport { Formik } from 'formik';\nimport { useIntl } from 'react-intl';\nimport { useMutation } from 'react-query';\nimport { NavLink, useHistory } from 'react-router-dom';\nimport * as yup from 'yup';\n\nimport { ForgotPassword } from '../../../../../shared/contracts/authentication';\nimport { Logo } from '../../../components/UnauthenticatedLogo';\nimport {\n  Column,\n  LayoutContent,\n  UnauthenticatedLayout,\n} from '../../../layouts/UnauthenticatedLayout';\n\nconst ForgotPassword = () => {\n  const { push } = useHistory();\n  const { post } = useFetchClient();\n  const { formatMessage } = useIntl();\n\n  const { mutate, isError } = useMutation(\n    async (body: ForgotPassword.Request['body']) => {\n      await post('/admin/forgot-password', body);\n    },\n    {\n      onSuccess() {\n        push('/auth/forgot-password-success');\n      },\n    }\n  );\n\n  return (\n    <UnauthenticatedLayout>\n      <Main>\n        <LayoutContent>\n          <Column>\n            <Logo />\n            <Box paddingTop={6} paddingBottom={7}>\n              <Typography as=\"h1\" variant=\"alpha\">\n                {formatMessage({\n                  id: 'Auth.form.button.password-recovery',\n                  defaultMessage: 'Password Recovery',\n                })}\n              </Typography>\n            </Box>\n            {isError ? (\n              <Typography id=\"global-form-error\" role=\"alert\" tabIndex={-1} textColor=\"danger600\">\n                {formatMessage({\n                  id: 'notification.error',\n                  defaultMessage: 'An error occurred',\n                })}\n              </Typography>\n            ) : null}\n          </Column>\n          <Formik\n            enableReinitialize\n            initialValues={{\n              email: '',\n            }}\n            onSubmit={(values) => {\n              mutate(values);\n            }}\n            validationSchema={yup.object().shape({\n              email: yup.string().email(translatedErrors.email).required(translatedErrors.required),\n            })}\n            validateOnChange={false}\n          >\n            {({ values, errors, handleChange }) => (\n              <Form>\n                <Flex direction=\"column\" alignItems=\"stretch\" gap={6}>\n                  <TextInput\n                    error={\n                      errors.email\n                        ? formatMessage({\n                            id: errors.email,\n                            defaultMessage: 'This email is invalid.',\n                          })\n                        : ''\n                    }\n                    value={values.email}\n                    onChange={handleChange}\n                    label={formatMessage({ id: 'Auth.form.email.label', defaultMessage: 'Email' })}\n                    placeholder={formatMessage({\n                      id: 'Auth.form.email.placeholder',\n                      defaultMessage: 'kai@doe.com',\n                    })}\n                    name=\"email\"\n                    required\n                  />\n                  <Button type=\"submit\" fullWidth>\n                    {formatMessage({\n                      id: 'Auth.form.button.forgot-password',\n                      defaultMessage: 'Send Email',\n                    })}\n                  </Button>\n                </Flex>\n              </Form>\n            )}\n          </Formik>\n        </LayoutContent>\n        <Flex justifyContent=\"center\">\n          <Box paddingTop={4}>\n            {/* @ts-expect-error ‚Äì error with inferring the props from the as component */}\n            <Link as={NavLink} to=\"/auth/login\">\n              {formatMessage({ id: 'Auth.link.ready', defaultMessage: 'Ready to sign in?' })}\n            </Link>\n          </Box>\n        </Flex>\n      </Main>\n    </UnauthenticatedLayout>\n  );\n};\n\nexport { ForgotPassword };\n","import { Box, Flex, Main, Typography } from '@strapi/design-system';\nimport { Link } from '@strapi/design-system/v2';\nimport { useIntl } from 'react-intl';\nimport { NavLink } from 'react-router-dom';\n\nimport { Logo } from '../../../components/UnauthenticatedLogo';\nimport {\n  Column,\n  LayoutContent,\n  UnauthenticatedLayout,\n} from '../../../layouts/UnauthenticatedLayout';\n\nconst ForgotPasswordSuccess = () => {\n  const { formatMessage } = useIntl();\n\n  return (\n    <UnauthenticatedLayout>\n      <Main>\n        <LayoutContent>\n          <Column>\n            <Logo />\n            <Box paddingTop={6} paddingBottom={7}>\n              <Typography as=\"h1\" variant=\"alpha\">\n                {formatMessage({\n                  id: 'app.containers.AuthPage.ForgotPasswordSuccess.title',\n                  defaultMessage: 'Email sent',\n                })}\n              </Typography>\n            </Box>\n            <Typography>\n              {formatMessage({\n                id: 'app.containers.AuthPage.ForgotPasswordSuccess.text.email',\n                defaultMessage: 'It can take a few minutes to receive your password recovery link.',\n              })}\n            </Typography>\n            <Box paddingTop={4}>\n              <Typography>\n                {formatMessage({\n                  id: 'app.containers.AuthPage.ForgotPasswordSuccess.text.contact-admin',\n                  defaultMessage:\n                    'If you do not receive this link, please contact your administrator.',\n                })}\n              </Typography>\n            </Box>\n          </Column>\n        </LayoutContent>\n        <Flex justifyContent=\"center\">\n          <Box paddingTop={4}>\n            {/* @ts-expect-error ‚Äì error with inferring the props from the as component */}\n            <Link as={NavLink} to=\"/auth/login\">\n              {formatMessage({ id: 'Auth.link.signin', defaultMessage: 'Sign in' })}\n            </Link>\n          </Box>\n        </Flex>\n      </Main>\n    </UnauthenticatedLayout>\n  );\n};\n\nexport { ForgotPasswordSuccess };\n","import { Box, Flex, Main, Typography } from '@strapi/design-system';\nimport { Link } from '@strapi/design-system/v2';\nimport { useQuery } from '@strapi/helper-plugin';\nimport { useIntl } from 'react-intl';\nimport { NavLink } from 'react-router-dom';\n\nimport { Logo } from '../../../components/UnauthenticatedLogo';\nimport {\n  Column,\n  LayoutContent,\n  UnauthenticatedLayout,\n} from '../../../layouts/UnauthenticatedLayout';\n\nconst Oops = () => {\n  const { formatMessage } = useIntl();\n  const query = useQuery();\n\n  const message =\n    query.get('info') ||\n    formatMessage({\n      id: 'Auth.components.Oops.text',\n      defaultMessage: 'Your account has been suspended.',\n    });\n\n  return (\n    <UnauthenticatedLayout>\n      <Main>\n        <LayoutContent>\n          <Column>\n            <Logo />\n            <Box paddingTop={6} paddingBottom={7}>\n              <Typography as=\"h1\" variant=\"alpha\">\n                {formatMessage({ id: 'Auth.components.Oops.title', defaultMessage: 'Oops...' })}\n              </Typography>\n            </Box>\n            <Typography>{message}</Typography>\n            <Box paddingTop={4}>\n              <Typography>\n                {formatMessage({\n                  id: 'Auth.components.Oops.text.admin',\n                  defaultMessage: 'If this is a mistake, please contact your administrator.',\n                })}\n              </Typography>\n            </Box>\n          </Column>\n        </LayoutContent>\n        <Flex justifyContent=\"center\">\n          <Box paddingTop={4}>\n            {/* @ts-expect-error ‚Äì error with inferring the props from the as component */}\n            <Link as={NavLink} to=\"/auth/login\">\n              {formatMessage({ id: 'Auth.link.signin', defaultMessage: 'Sign in' })}\n            </Link>\n          </Box>\n        </Flex>\n      </Main>\n    </UnauthenticatedLayout>\n  );\n};\n\nexport { Oops };\n","import * as React from 'react';\n\nimport {\n  Box,\n  Flex,\n  IconButton,\n  Button,\n  Typography,\n  Textarea,\n  Portal,\n  Field,\n  FieldLabel,\n  FieldInput,\n  VisuallyHidden,\n} from '@strapi/design-system';\nimport { auth, useNotification, useAppInfo, usePersistentState } from '@strapi/helper-plugin';\nimport { Cross } from '@strapi/icons';\nimport { Formik, Form } from 'formik';\nimport { useIntl } from 'react-intl';\nimport { useMutation } from 'react-query';\nimport styled, { useTheme } from 'styled-components';\nimport * as yup from 'yup';\n\nconst FieldWrapper = styled(Field)`\n  height: ${32 / 16}rem;\n  width: ${32 / 16}rem;\n\n  > label,\n  ~ input {\n    display: block;\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n  }\n\n  > label {\n    color: inherit;\n    cursor: pointer;\n    padding: ${({ theme }) => theme.spaces[2]};\n    text-align: center;\n    vertical-align: middle;\n  }\n\n  &:hover,\n  &:focus-within {\n    background-color: ${({ theme }) => theme.colors.neutral0};\n  }\n\n  &:active,\n  &.selected {\n    color: ${({ theme }) => theme.colors.primary700};\n    background-color: ${({ theme }) => theme.colors.neutral0};\n    border-color: ${({ theme }) => theme.colors.primary700};\n  }\n`;\n\nconst delays = {\n  postResponse: 90 * 24 * 60 * 60 * 1000, // 90 days in ms\n  postFirstDismissal: 7 * 24 * 60 * 60 * 1000, // 7 days in ms\n  postSubsequentDismissal: 90 * 24 * 60 * 60 * 1000, // 90 days in ms\n  display: 5 * 60 * 1000, // 5 minutes in ms\n};\n\nconst ratingArray = [...Array(11).keys()];\n\nconst checkIfShouldShowSurvey = (settings: NpsSurveySettings) => {\n  const { enabled, lastResponseDate, firstDismissalDate, lastDismissalDate } = settings;\n\n  // This function goes through all the cases where we'd want to not show the survey:\n  // 1. If the survey is disabled by strapi, abort mission, don't bother checking the other settings.\n  // 2. If the survey is disabled by user, abort mission, don't bother checking the other settings.\n  // 3. If the user has already responded to the survey, check if enough time has passed since the last response.\n  // 4. If the user has dismissed the survey twice or more before, check if enough time has passed since the last dismissal.\n  // 5. If the user has only dismissed the survey once before, check if enough time has passed since the first dismissal.\n  // If none of these cases check out, then we show the survey.\n  // Note that submitting a response resets the dismissal counts.\n  // Checks 4 and 5 should not be reversed, since the first dismissal will also exist if the user has dismissed the survey twice or more before.\n\n  // For users who had created an account before the NPS feature was introduced,\n  // we assume that they would have enabled the NPS feature if they had the chance.\n\n  // Global strapi disable for NSP.\n  if (window.strapi.flags.nps === false) {\n    return false;\n  }\n\n  // User chose not to enable the NPS feature when signing up\n  if (enabled === false) {\n    return false;\n  }\n\n  // The user has already responded to the survey\n  if (lastResponseDate) {\n    const timeSinceLastResponse = Date.now() - new Date(lastResponseDate).getTime();\n\n    if (timeSinceLastResponse >= delays.postResponse) {\n      return true;\n    }\n\n    return false;\n  }\n\n  // The user has dismissed the survey twice or more before\n  if (lastDismissalDate) {\n    const timeSinceLastDismissal = Date.now() - new Date(lastDismissalDate).getTime();\n\n    if (timeSinceLastDismissal >= delays.postSubsequentDismissal) {\n      return true;\n    }\n\n    return false;\n  }\n\n  // The user has only dismissed the survey once before\n  if (firstDismissalDate) {\n    const timeSinceFirstDismissal = Date.now() - new Date(firstDismissalDate).getTime();\n\n    if (timeSinceFirstDismissal >= delays.postFirstDismissal) {\n      return true;\n    }\n\n    return false;\n  }\n\n  // The user has not interacted with the survey before\n  return true;\n};\n\nconst NpsSurvey = () => {\n  const theme = useTheme();\n  const { formatMessage } = useIntl();\n  const { npsSurveySettings, setNpsSurveySettings } = useNpsSurveySettings();\n  const [isFeedbackResponse, setIsFeedbackResponse] = React.useState(false);\n  const toggleNotification = useNotification();\n  const { currentEnvironment, strapiVersion } = useAppInfo();\n\n  interface NpsSurveyMutationBody {\n    email: string;\n    rating: number | null;\n    comment: string;\n    environment?: string;\n    version?: string;\n    license: 'Enterprise' | 'Community';\n  }\n\n  const { mutate, isLoading } = useMutation<unknown, unknown, NpsSurveyMutationBody>(\n    async (form) => {\n      const res = await fetch('https://analytics.strapi.io/submit-nps', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(form),\n      });\n\n      if (!res.ok) {\n        throw new Error('Failed to submit NPS survey');\n      }\n\n      return res;\n    },\n    {\n      onSuccess() {\n        setNpsSurveySettings((settings) => ({\n          ...settings,\n          lastResponseDate: new Date().toString(),\n          firstDismissalDate: null,\n          lastDismissalDate: null,\n        }));\n        setIsFeedbackResponse(true);\n        // Thank you message displayed in the banner should disappear after few seconds.\n        setTimeout(() => {\n          setSurveyIsShown(false);\n        }, 3000);\n      },\n      onError() {\n        toggleNotification({\n          type: 'warning',\n          message: formatMessage({ id: 'notification.error', defaultMessage: 'An error occurred' }),\n        });\n      },\n    }\n  );\n\n  // Only check on first render if the survey should be shown\n  const [surveyIsShown, setSurveyIsShown] = React.useState(\n    checkIfShouldShowSurvey(npsSurveySettings)\n  );\n\n  // Set a cooldown to show the survey when session begins\n  const [displaySurvey, setDisplaySurvey] = React.useState(false);\n\n  React.useEffect(() => {\n    const displayTime = setTimeout(() => {\n      setDisplaySurvey(true);\n    }, delays.display);\n\n    return () => {\n      clearTimeout(displayTime);\n    };\n  }, []);\n\n  if (!displaySurvey) {\n    return null;\n  }\n\n  if (!surveyIsShown) {\n    return null;\n  }\n\n  const handleSubmitResponse = ({\n    npsSurveyRating,\n    npsSurveyFeedback,\n  }: {\n    npsSurveyRating: NpsSurveyMutationBody['rating'];\n    npsSurveyFeedback: NpsSurveyMutationBody['comment'];\n  }) => {\n    const userInfo = auth.getUserInfo();\n    mutate({\n      email: typeof userInfo === 'object' && userInfo !== null ? userInfo.email : '',\n      rating: npsSurveyRating,\n      comment: npsSurveyFeedback,\n      environment: currentEnvironment,\n      version: strapiVersion ?? undefined,\n      license: window.strapi.projectType,\n    });\n  };\n\n  const handleDismiss = () => {\n    setNpsSurveySettings((settings) => {\n      const nextSettings = {\n        ...settings,\n        lastResponseDate: null,\n      };\n\n      if (settings.firstDismissalDate) {\n        // If the user dismisses the survey for the second time\n        nextSettings.lastDismissalDate = new Date().toString();\n      } else {\n        // If the user dismisses the survey for the first time\n        nextSettings.firstDismissalDate = new Date().toString();\n      }\n\n      return nextSettings;\n    });\n\n    setSurveyIsShown(false);\n  };\n\n  return (\n    <Portal>\n      <Formik\n        initialValues={{ npsSurveyFeedback: '', npsSurveyRating: null }}\n        onSubmit={handleSubmitResponse}\n        validationSchema={yup.object({\n          npsSurveyFeedback: yup.string(),\n          npsSurveyRating: yup.number().required(),\n        })}\n      >\n        {({ values, handleChange, setFieldValue }) => (\n          <Form name=\"npsSurveyForm\">\n            <Flex\n              hasRadius\n              direction=\"column\"\n              padding={4}\n              borderColor=\"primary200\"\n              background=\"neutral0\"\n              shadow=\"popupShadow\"\n              position=\"fixed\"\n              bottom={0}\n              left=\"50%\"\n              transform=\"translateX(-50%)\"\n              zIndex={theme.zIndices[2]}\n              width=\"50%\"\n            >\n              {isFeedbackResponse ? (\n                <Typography fontWeight=\"semiBold\">\n                  {formatMessage({\n                    id: 'app.components.NpsSurvey.feedback-response',\n                    defaultMessage: 'Thank you very much for your feedback!',\n                  })}\n                </Typography>\n              ) : (\n                <Box as=\"fieldset\" width=\"100%\">\n                  <Flex justifyContent=\"space-between\" width=\"100%\">\n                    <Box marginLeft=\"auto\" marginRight=\"auto\">\n                      <Typography fontWeight=\"semiBold\" as=\"legend\">\n                        {formatMessage({\n                          id: 'app.components.NpsSurvey.banner-title',\n                          defaultMessage:\n                            'How likely are you to recommend Strapi to a friend or colleague?',\n                        })}\n                      </Typography>\n                    </Box>\n                    <IconButton\n                      onClick={handleDismiss}\n                      aria-label={formatMessage({\n                        id: 'app.components.NpsSurvey.dismiss-survey-label',\n                        defaultMessage: 'Dismiss survey',\n                      })}\n                      icon={<Cross />}\n                    />\n                  </Flex>\n                  <Flex gap={2} marginTop={2} marginBottom={2} justifyContent=\"center\">\n                    <Typography variant=\"pi\" textColor=\"neutral600\">\n                      {formatMessage({\n                        id: 'app.components.NpsSurvey.no-recommendation',\n                        defaultMessage: 'Not at all likely',\n                      })}\n                    </Typography>\n                    {ratingArray.map((number) => {\n                      return (\n                        <FieldWrapper\n                          key={number}\n                          className={values.npsSurveyRating === number ? 'selected' : undefined} // \"selected\" class added when child radio button is checked\n                          hasRadius\n                          background=\"primary100\"\n                          borderColor=\"primary200\"\n                          color=\"primary600\"\n                          position=\"relative\"\n                          cursor=\"pointer\"\n                        >\n                          <FieldLabel htmlFor={`nps-survey-rating-${number}-input`}>\n                            <VisuallyHidden>\n                              <FieldInput\n                                type=\"radio\"\n                                id={`nps-survey-rating-${number}-input`}\n                                name=\"npsSurveyRating\"\n                                checked={values.npsSurveyRating === number}\n                                onChange={(e) =>\n                                  setFieldValue('npsSurveyRating', parseInt(e.target.value, 10))\n                                }\n                                value={number}\n                              />\n                            </VisuallyHidden>\n                            {number}\n                          </FieldLabel>\n                        </FieldWrapper>\n                      );\n                    })}\n                    <Typography variant=\"pi\" textColor=\"neutral600\">\n                      {formatMessage({\n                        id: 'app.components.NpsSurvey.happy-to-recommend',\n                        defaultMessage: 'Extremely likely',\n                      })}\n                    </Typography>\n                  </Flex>\n                  {values.npsSurveyRating !== null && (\n                    <Flex direction=\"column\">\n                      <Box marginTop={2}>\n                        <FieldLabel htmlFor=\"npsSurveyFeedback\" fontWeight=\"semiBold\" fontSize={2}>\n                          {formatMessage({\n                            id: 'app.components.NpsSurvey.feedback-question',\n                            defaultMessage: 'Do you have any suggestion for improvements?',\n                          })}\n                        </FieldLabel>\n                      </Box>\n                      <Box width=\"62%\" marginTop={3} marginBottom={4}>\n                        <Textarea\n                          id=\"npsSurveyFeedback\" // formik element attribute \"id\" should be same as the values key to work\n                          width=\"100%\"\n                          onChange={handleChange}\n                        >\n                          {values.npsSurveyFeedback}\n                        </Textarea>\n                      </Box>\n                      <Button marginBottom={2} type=\"submit\" loading={isLoading}>\n                        {formatMessage({\n                          id: 'app.components.NpsSurvey.submit-feedback',\n                          defaultMessage: 'Submit Feedback',\n                        })}\n                      </Button>\n                    </Flex>\n                  )}\n                </Box>\n              )}\n            </Flex>\n          </Form>\n        )}\n      </Formik>\n    </Portal>\n  );\n};\n\ninterface NpsSurveySettings {\n  enabled: boolean;\n  lastResponseDate: string | null;\n  firstDismissalDate: string | null;\n  lastDismissalDate: string | null;\n}\n\n/**\n * We exported to make it available during admin user registration.\n * Because we only enable the NPS for users who subscribe to the newsletter when signing up\n */\nfunction useNpsSurveySettings() {\n  const [npsSurveySettings, setNpsSurveySettings] = usePersistentState<NpsSurveySettings>(\n    'STRAPI_NPS_SURVEY_SETTINGS',\n    {\n      enabled: true,\n      lastResponseDate: null,\n      firstDismissalDate: null,\n      lastDismissalDate: null,\n    }\n  );\n\n  /**\n   * TODO: should this just be an array so we can alias the `usePersistentState` hook?\n   */\n  return { npsSurveySettings, setNpsSurveySettings };\n}\n\nexport { NpsSurvey, useNpsSurveySettings };\n","import * as React from 'react';\n\nimport {\n  Box,\n  Button,\n  Checkbox,\n  Flex,\n  Grid,\n  GridItem,\n  Main,\n  TextInput,\n  Typography,\n} from '@strapi/design-system';\nimport { Link } from '@strapi/design-system/v2';\nimport {\n  Form,\n  auth,\n  getYupInnerErrors,\n  translatedErrors,\n  useAPIErrorHandler,\n  useFetchClient,\n  useGuidedTour,\n  useNotification,\n  useQuery,\n  useTracking,\n} from '@strapi/helper-plugin';\nimport { Eye, EyeStriked } from '@strapi/icons';\nimport { Formik } from 'formik';\nimport omit from 'lodash/omit';\nimport { MessageDescriptor, useIntl } from 'react-intl';\nimport { useQuery as useReactQuery, useMutation } from 'react-query';\nimport { NavLink, Redirect, useHistory, useRouteMatch } from 'react-router-dom';\nimport styled from 'styled-components';\nimport * as yup from 'yup';\nimport { ValidationError } from 'yup';\n\nimport {\n  Register,\n  RegisterAdmin,\n  RegistrationInfo,\n} from '../../../../../shared/contracts/authentication';\nimport { useNpsSurveySettings } from '../../../components/NpsSurvey';\nimport { Logo } from '../../../components/UnauthenticatedLogo';\nimport { LayoutContent, UnauthenticatedLayout } from '../../../layouts/UnauthenticatedLayout';\nimport { AuthType } from '../constants';\n\nimport { FieldActionWrapper } from './FieldActionWrapper';\n\nimport type { AxiosError } from 'axios';\n\nconst REGISTER_USER_SCHEMA = yup.object().shape({\n  firstname: yup.string().trim().required(translatedErrors.required),\n  lastname: yup.string().nullable(),\n  password: yup\n    .string()\n    .min(8, translatedErrors.minLength)\n    .matches(/[a-z]/, 'components.Input.error.contain.lowercase')\n    .matches(/[A-Z]/, 'components.Input.error.contain.uppercase')\n    .matches(/\\d/, 'components.Input.error.contain.number')\n    .required(translatedErrors.required),\n  confirmPassword: yup\n    .string()\n    .oneOf([yup.ref('password'), null], 'components.Input.error.password.noMatch')\n    .required(translatedErrors.required),\n  registrationToken: yup.string().required(translatedErrors.required),\n});\n\nconst REGISTER_ADMIN_SCHEMA = yup.object().shape({\n  firstname: yup.string().trim().required(translatedErrors.required),\n  lastname: yup.string().nullable(),\n  password: yup\n    .string()\n    .min(8, translatedErrors.minLength)\n    .matches(/[a-z]/, 'components.Input.error.contain.lowercase')\n    .matches(/[A-Z]/, 'components.Input.error.contain.uppercase')\n    .matches(/\\d/, 'components.Input.error.contain.number')\n    .required(translatedErrors.required),\n  email: yup\n    .string()\n    .email(translatedErrors.email)\n    .strict()\n    .lowercase(translatedErrors.lowercase)\n    .required(translatedErrors.required),\n  confirmPassword: yup\n    .string()\n    .oneOf([yup.ref('password'), null], 'components.Input.error.password.noMatch')\n    .required(translatedErrors.required),\n});\n\ninterface RegisterProps {\n  hasAdmin?: boolean;\n}\n\nconst Register = ({ hasAdmin }: RegisterProps) => {\n  const toggleNotification = useNotification();\n  const { push } = useHistory();\n  const [passwordShown, setPasswordShown] = React.useState(false);\n  const [confirmPasswordShown, setConfirmPasswordShown] = React.useState(false);\n  const [submitCount, setSubmitCount] = React.useState(0);\n  const [apiError, setApiError] = React.useState<string>();\n  const { trackUsage } = useTracking();\n  const { formatMessage } = useIntl();\n  const { setSkipped } = useGuidedTour();\n  const query = useQuery();\n  const match = useRouteMatch<{ authType: Extract<AuthType, `register${string}`> }>(\n    '/auth/:authType'\n  );\n  const { formatAPIError } = useAPIErrorHandler();\n  const { get, post } = useFetchClient();\n  const { setNpsSurveySettings } = useNpsSurveySettings();\n\n  const registrationToken = query.get('registrationToken');\n\n  const { data: userInfo } = useReactQuery({\n    queryKey: ['admin', 'registration-info', registrationToken],\n    async queryFn() {\n      const {\n        data: { data },\n      } = await get<RegistrationInfo.Response>(`/admin/registration-info`, {\n        params: {\n          registrationToken,\n        },\n      });\n\n      return data;\n    },\n    enabled: !!registrationToken,\n    initialData: {},\n    onError(err: AxiosError<{ error: Exclude<RegistrationInfo.Response['errors'], undefined> }>) {\n      const message = formatAPIError(err);\n\n      toggleNotification({\n        type: 'warning',\n        message,\n      });\n\n      push(`/auth/oops?info=${encodeURIComponent(message)}`);\n    },\n  });\n\n  const registerAdminMutation = useMutation(\n    async (body: RegisterAdmin.Request['body'] & { news: boolean }) => {\n      const { news, ...restBody } = body;\n      const { data } = await post<RegisterAdmin.Response>('/admin/register-admin', restBody);\n\n      return { ...data.data, news };\n    },\n    {\n      onSuccess(data) {\n        const { token, user, news } = data;\n\n        auth.setToken(token, false);\n        auth.setUserInfo(user, false);\n\n        const { roles } = user;\n\n        if (roles) {\n          const isUserSuperAdmin = roles.find(({ code }) => code === 'strapi-super-admin');\n\n          if (isUserSuperAdmin) {\n            auth.set(false, 'GUIDED_TOUR_SKIPPED', true);\n            setSkipped(false);\n            trackUsage('didLaunchGuidedtour');\n          }\n        }\n\n        if (news) {\n          // Only enable EE survey if user accepted the newsletter\n          setNpsSurveySettings((s) => ({ ...s, enabled: true }));\n\n          push({\n            pathname: '/usecase',\n            search: `?hasAdmin=${true}`,\n          });\n        } else {\n          push('/');\n        }\n      },\n      onError(err: AxiosError<{ error: Exclude<RegisterAdmin.Response['errors'], undefined> }>) {\n        trackUsage('didNotCreateFirstAdmin');\n\n        const error = formatAPIError(err);\n        setApiError(error);\n      },\n    }\n  );\n\n  const registerUserMutation = useMutation(\n    async (body: Register.Request['body'] & { news: boolean }) => {\n      const { news, ...restBody } = body;\n      const { data } = await post<Register.Response>('/admin/register', restBody);\n\n      return { ...data.data, news };\n    },\n    {\n      onSuccess(data) {\n        const { token, user, news } = data;\n\n        auth.setToken(token, false);\n        auth.setUserInfo(user, false);\n\n        if (news) {\n          // Only enable EE survey if user accepted the newsletter\n          setNpsSurveySettings((s) => ({ ...s, enabled: true }));\n\n          push({\n            pathname: '/usecase',\n            search: `?hasAdmin=${hasAdmin}`,\n          });\n        } else {\n          push('/');\n        }\n      },\n      onError(err: AxiosError<{ error: Exclude<RegisterAdmin.Response['errors'], undefined> }>) {\n        trackUsage('didNotCreateFirstAdmin');\n\n        const error = formatAPIError(err);\n        setApiError(error);\n      },\n    }\n  );\n\n  if (\n    !match ||\n    (match.params.authType !== 'register' && match.params.authType !== 'register-admin')\n  ) {\n    return <Redirect to=\"/\" />;\n  }\n\n  const isAdminRegistration = match.params.authType === 'register-admin';\n\n  const schema = isAdminRegistration ? REGISTER_ADMIN_SCHEMA : REGISTER_USER_SCHEMA;\n\n  return (\n    <UnauthenticatedLayout>\n      <LayoutContent>\n        <Flex direction=\"column\" alignItems=\"center\" gap={3}>\n          <Logo />\n\n          <Typography as=\"h1\" variant=\"alpha\" textAlign=\"center\">\n            {formatMessage({\n              id: 'Auth.form.welcome.title',\n              defaultMessage: 'Welcome',\n            })}\n          </Typography>\n          <Typography variant=\"epsilon\" textColor=\"neutral600\" textAlign=\"center\">\n            {formatMessage({\n              id: 'Auth.form.register.subtitle',\n              defaultMessage:\n                'Credentials are only used to authenticate in Strapi. All saved data will be stored in your database.',\n            })}\n          </Typography>\n          {apiError ? (\n            <Typography id=\"global-form-error\" role=\"alert\" tabIndex={-1} textColor=\"danger600\">\n              {apiError}\n            </Typography>\n          ) : null}\n        </Flex>\n        <Formik\n          enableReinitialize\n          initialValues={{\n            firstname: userInfo?.firstname || '',\n            lastname: userInfo?.lastname || '',\n            email: userInfo?.email || '',\n            password: '',\n            confirmPassword: '',\n            registrationToken: registrationToken || undefined,\n            news: false,\n          }}\n          onSubmit={async (data, formik) => {\n            const normalizedData = normalizeData(data);\n\n            try {\n              await schema.validate(normalizedData, { abortEarly: false });\n\n              if (submitCount > 0 && isAdminRegistration) {\n                trackUsage('didSubmitWithErrorsFirstAdmin', { count: submitCount.toString() });\n              }\n\n              if (normalizedData.registrationToken) {\n                registerUserMutation.mutate({\n                  userInfo: omit(normalizedData, [\n                    'registrationToken',\n                    'confirmPassword',\n                    'email',\n                    'news',\n                  ]),\n                  registrationToken: normalizedData.registrationToken,\n                  news: normalizedData.news,\n                });\n              } else {\n                registerAdminMutation.mutate(\n                  omit(normalizedData, ['registrationToken', 'confirmPassword'])\n                );\n              }\n            } catch (err) {\n              if (err instanceof ValidationError) {\n                const errors = getYupInnerErrors(err);\n\n                formik.setErrors(errors);\n              }\n              setSubmitCount(submitCount + 1);\n            }\n          }}\n          validateOnChange={false}\n        >\n          {({ values, errors, handleChange }) => {\n            return (\n              <Form>\n                <Main>\n                  <Flex direction=\"column\" alignItems=\"stretch\" gap={6} marginTop={7}>\n                    <Grid gap={4}>\n                      <GridItem col={6}>\n                        <TextInput\n                          name=\"firstname\"\n                          required\n                          value={values.firstname}\n                          error={\n                            errors.firstname\n                              ? formatMessage(errors.firstname as MessageDescriptor)\n                              : undefined\n                          }\n                          onChange={handleChange}\n                          label={formatMessage({\n                            id: 'Auth.form.firstname.label',\n                            defaultMessage: 'Firstname',\n                          })}\n                        />\n                      </GridItem>\n                      <GridItem col={6}>\n                        <TextInput\n                          name=\"lastname\"\n                          value={values.lastname}\n                          onChange={handleChange}\n                          label={formatMessage({\n                            id: 'Auth.form.lastname.label',\n                            defaultMessage: 'Lastname',\n                          })}\n                        />\n                      </GridItem>\n                    </Grid>\n                    <TextInput\n                      name=\"email\"\n                      disabled={!isAdminRegistration}\n                      value={values.email}\n                      onChange={handleChange}\n                      error={\n                        errors.email ? formatMessage(errors.email as MessageDescriptor) : undefined\n                      }\n                      required\n                      label={formatMessage({\n                        id: 'Auth.form.email.label',\n                        defaultMessage: 'Email',\n                      })}\n                      type=\"email\"\n                    />\n                    <PasswordInput\n                      name=\"password\"\n                      onChange={handleChange}\n                      value={values.password}\n                      error={\n                        errors.password\n                          ? formatMessage(errors.password as MessageDescriptor)\n                          : undefined\n                      }\n                      endAction={\n                        <FieldActionWrapper\n                          onClick={(e) => {\n                            e.preventDefault();\n                            setPasswordShown((prev) => !prev);\n                          }}\n                          label={formatMessage(\n                            passwordShown\n                              ? {\n                                  id: 'Auth.form.password.show-password',\n                                  defaultMessage: 'Show password',\n                                }\n                              : {\n                                  id: 'Auth.form.password.hide-password',\n                                  defaultMessage: 'Hide password',\n                                }\n                          )}\n                        >\n                          {passwordShown ? <Eye /> : <EyeStriked />}\n                        </FieldActionWrapper>\n                      }\n                      hint={formatMessage({\n                        id: 'Auth.form.password.hint',\n                        defaultMessage:\n                          'Must be at least 8 characters, 1 uppercase, 1 lowercase & 1 number',\n                      })}\n                      required\n                      label={formatMessage({\n                        id: 'global.password',\n                        defaultMessage: 'Password',\n                      })}\n                      type={passwordShown ? 'text' : 'password'}\n                    />\n                    <PasswordInput\n                      name=\"confirmPassword\"\n                      onChange={handleChange}\n                      value={values.confirmPassword}\n                      error={\n                        errors.confirmPassword\n                          ? formatMessage(errors.confirmPassword as MessageDescriptor)\n                          : undefined\n                      }\n                      endAction={\n                        <FieldActionWrapper\n                          onClick={(e) => {\n                            e.preventDefault();\n                            setConfirmPasswordShown((prev) => !prev);\n                          }}\n                          label={formatMessage(\n                            confirmPasswordShown\n                              ? {\n                                  id: 'Auth.form.password.show-password',\n                                  defaultMessage: 'Show password',\n                                }\n                              : {\n                                  id: 'Auth.form.password.hide-password',\n                                  defaultMessage: 'Hide password',\n                                }\n                          )}\n                        >\n                          {confirmPasswordShown ? <Eye /> : <EyeStriked />}\n                        </FieldActionWrapper>\n                      }\n                      required\n                      label={formatMessage({\n                        id: 'Auth.form.confirmPassword.label',\n                        defaultMessage: 'Confirm Password',\n                      })}\n                      type={confirmPasswordShown ? 'text' : 'password'}\n                    />\n                    <Checkbox\n                      onValueChange={(checked) => {\n                        handleChange({ target: { value: checked, name: 'news' } });\n                      }}\n                      value={values.news}\n                      name=\"news\"\n                      aria-label=\"news\"\n                    >\n                      {formatMessage(\n                        {\n                          id: 'Auth.form.register.news.label',\n                          defaultMessage:\n                            'Keep me updated about new features & upcoming improvements (by doing this you accept the {terms} and the {policy}).',\n                        },\n                        {\n                          terms: (\n                            <A target=\"_blank\" href=\"https://strapi.io/terms\" rel=\"noreferrer\">\n                              {formatMessage({\n                                id: 'Auth.privacy-policy-agreement.terms',\n                                defaultMessage: 'terms',\n                              })}\n                            </A>\n                          ),\n                          policy: (\n                            <A target=\"_blank\" href=\"https://strapi.io/privacy\" rel=\"noreferrer\">\n                              {formatMessage({\n                                id: 'Auth.privacy-policy-agreement.policy',\n                                defaultMessage: 'policy',\n                              })}\n                            </A>\n                          ),\n                        }\n                      )}\n                    </Checkbox>\n                    <Button fullWidth size=\"L\" type=\"submit\">\n                      {formatMessage({\n                        id: 'Auth.form.button.register',\n                        defaultMessage: \"Let's start\",\n                      })}\n                    </Button>\n                  </Flex>\n                </Main>\n              </Form>\n            );\n          }}\n        </Formik>\n        {match?.params.authType === 'register' && (\n          <Box paddingTop={4}>\n            <Flex justifyContent=\"center\">\n              {/* @ts-expect-error ‚Äì error with inferring the props from the as component */}\n              <Link as={NavLink} to=\"/auth/login\">\n                {formatMessage({\n                  id: 'Auth.link.signin.account',\n                  defaultMessage: 'Already have an account?',\n                })}\n              </Link>\n            </Flex>\n          </Box>\n        )}\n      </LayoutContent>\n    </UnauthenticatedLayout>\n  );\n};\n\ninterface RegisterFormValues {\n  firstname: string;\n  lastname: string;\n  email: string;\n  password: string;\n  confirmPassword: string;\n  registrationToken: string | undefined;\n  news: boolean;\n}\n\ntype StringKeys<T> = {\n  [K in keyof T]: T[K] extends string | undefined ? K : never;\n}[keyof T];\n\n/**\n * @description Trims all values but the password & sets lastName to null if it's a falsey value.\n */\nfunction normalizeData(data: RegisterFormValues) {\n  return Object.entries(data).reduce(\n    (acc, [key, value]) => {\n      type PasswordKeys = Extract<keyof RegisterFormValues, 'password' | 'confirmPassword'>;\n      type RegisterFormStringValues = Exclude<\n        keyof Pick<RegisterFormValues, StringKeys<RegisterFormValues>>,\n        PasswordKeys\n      >;\n\n      if (!['password', 'confirmPassword'].includes(key) && typeof value === 'string') {\n        acc[key as RegisterFormStringValues] = value.trim();\n\n        if (key === 'lastname') {\n          acc[key] = value || undefined;\n        }\n      } else {\n        acc[key as PasswordKeys] = value;\n      }\n\n      return acc;\n    },\n    {} as {\n      firstname: string;\n      lastname: string | undefined;\n      email: string;\n      password: string;\n      confirmPassword: string;\n      registrationToken: string | undefined;\n      news: boolean;\n    }\n  );\n}\n\nconst A = styled.a`\n  color: ${({ theme }) => theme.colors.primary600};\n`;\n\nconst PasswordInput = styled(TextInput)`\n  ::-ms-reveal {\n    display: none;\n  }\n`;\n\nexport { Register };\nexport type { RegisterProps };\n","import * as React from 'react';\n\nimport { Box, Button, Flex, Main, TextInput, Typography } from '@strapi/design-system';\nimport { Link } from '@strapi/design-system/v2';\nimport { Form, auth, translatedErrors, useFetchClient, useQuery } from '@strapi/helper-plugin';\nimport { Eye, EyeStriked } from '@strapi/icons';\nimport { Formik } from 'formik';\nimport { useIntl } from 'react-intl';\nimport { useMutation } from 'react-query';\nimport { NavLink, useHistory } from 'react-router-dom';\nimport styled from 'styled-components';\nimport * as yup from 'yup';\n\nimport { ResetPassword } from '../../../../../shared/contracts/authentication';\nimport { Logo } from '../../../components/UnauthenticatedLogo';\nimport {\n  Column,\n  LayoutContent,\n  UnauthenticatedLayout,\n} from '../../../layouts/UnauthenticatedLayout';\n\nimport { FieldActionWrapper } from './FieldActionWrapper';\n\nconst RESET_PASSWORD_SCHEMA = yup.object().shape({\n  password: yup\n    .string()\n    .min(8, translatedErrors.minLength)\n    .matches(/[a-z]/, 'components.Input.error.contain.lowercase')\n    .matches(/[A-Z]/, 'components.Input.error.contain.uppercase')\n    .matches(/\\d/, 'components.Input.error.contain.number')\n    .required(translatedErrors.required),\n  confirmPassword: yup\n    .string()\n    .oneOf([yup.ref('password'), null], 'components.Input.error.password.noMatch')\n    .required(translatedErrors.required),\n});\n\nconst ResetPassword = () => {\n  const [passwordShown, setPasswordShown] = React.useState(false);\n  const [confirmPasswordShown, setConfirmPasswordShown] = React.useState(false);\n  const { formatMessage } = useIntl();\n  const { post } = useFetchClient();\n  const { push } = useHistory();\n  const query = useQuery();\n\n  const { mutate, isError } = useMutation(\n    async (body: Pick<ResetPassword.Request['body'], 'password'>) => {\n      const {\n        data: { data },\n      } = await post<ResetPassword.Response>('/admin/reset-password', {\n        ...body,\n        resetPasswordToken: query.get('code'),\n      });\n\n      return data;\n    },\n    {\n      onSuccess(data) {\n        if (data) {\n          const { token, user } = data;\n          auth.setToken(token, false);\n          auth.setUserInfo(user, false);\n\n          // Redirect to the homePage\n          push('/');\n        }\n      },\n    }\n  );\n\n  return (\n    <UnauthenticatedLayout>\n      <Main>\n        <LayoutContent>\n          <Column>\n            <Logo />\n            <Box paddingTop={6} paddingBottom={7}>\n              <Typography as=\"h1\" variant=\"alpha\">\n                {formatMessage({\n                  id: 'global.reset-password',\n                  defaultMessage: 'Reset password',\n                })}\n              </Typography>\n            </Box>\n            {isError ? (\n              <Typography id=\"global-form-error\" role=\"alert\" tabIndex={-1} textColor=\"danger600\">\n                {formatMessage({\n                  id: 'notification.error',\n                  defaultMessage: 'An error occurred',\n                })}\n              </Typography>\n            ) : null}\n          </Column>\n          <Formik\n            enableReinitialize\n            initialValues={{\n              password: '',\n              confirmPassword: '',\n            }}\n            onSubmit={(values) => {\n              mutate({ password: values.password });\n            }}\n            validationSchema={RESET_PASSWORD_SCHEMA}\n            validateOnChange={false}\n          >\n            {({ values, errors, handleChange }) => (\n              <Form>\n                <Flex direction=\"column\" alignItems=\"stretch\" gap={6}>\n                  <PasswordInput\n                    name=\"password\"\n                    onChange={handleChange}\n                    value={values.password}\n                    error={\n                      errors.password\n                        ? formatMessage(\n                            {\n                              id: errors.password,\n                              defaultMessage: 'This field is required.',\n                            },\n                            {\n                              min: 8,\n                            }\n                          )\n                        : undefined\n                    }\n                    endAction={\n                      <FieldActionWrapper\n                        onClick={(e) => {\n                          e.preventDefault();\n                          setPasswordShown((prev) => !prev);\n                        }}\n                        label={formatMessage(\n                          passwordShown\n                            ? {\n                                id: 'Auth.form.password.show-password',\n                                defaultMessage: 'Show password',\n                              }\n                            : {\n                                id: 'Auth.form.password.hide-password',\n                                defaultMessage: 'Hide password',\n                              }\n                        )}\n                      >\n                        {passwordShown ? <Eye /> : <EyeStriked />}\n                      </FieldActionWrapper>\n                    }\n                    hint={formatMessage({\n                      id: 'Auth.form.password.hint',\n                      defaultMessage:\n                        'Password must contain at least 8 characters, 1 uppercase, 1 lowercase and 1 number',\n                    })}\n                    required\n                    label={formatMessage({\n                      id: 'global.password',\n                      defaultMessage: 'Password',\n                    })}\n                    type={passwordShown ? 'text' : 'password'}\n                  />\n                  <PasswordInput\n                    name=\"confirmPassword\"\n                    onChange={handleChange}\n                    value={values.confirmPassword}\n                    error={\n                      errors.confirmPassword\n                        ? formatMessage({\n                            id: errors.confirmPassword,\n                            defaultMessage: 'This value is required.',\n                          })\n                        : undefined\n                    }\n                    endAction={\n                      <FieldActionWrapper\n                        onClick={(e) => {\n                          e.preventDefault();\n                          setConfirmPasswordShown((prev) => !prev);\n                        }}\n                        label={formatMessage(\n                          passwordShown\n                            ? {\n                                id: 'Auth.form.password.show-password',\n                                defaultMessage: 'Show password',\n                              }\n                            : {\n                                id: 'Auth.form.password.hide-password',\n                                defaultMessage: 'Hide password',\n                              }\n                        )}\n                      >\n                        {confirmPasswordShown ? <Eye /> : <EyeStriked />}\n                      </FieldActionWrapper>\n                    }\n                    required\n                    label={formatMessage({\n                      id: 'Auth.form.confirmPassword.label',\n                      defaultMessage: 'Confirm Password',\n                    })}\n                    type={confirmPasswordShown ? 'text' : 'password'}\n                  />\n                  <Button fullWidth type=\"submit\">\n                    {formatMessage({\n                      id: 'global.change-password',\n                      defaultMessage: 'Change password',\n                    })}\n                  </Button>\n                </Flex>\n              </Form>\n            )}\n          </Formik>\n        </LayoutContent>\n        <Flex justifyContent=\"center\">\n          <Box paddingTop={4}>\n            {/* @ts-expect-error ‚Äì error with inferring the props from the as component */}\n            <Link as={NavLink} to=\"/auth/login\">\n              {formatMessage({ id: 'Auth.link.ready', defaultMessage: 'Ready to sign in?' })}\n            </Link>\n          </Box>\n        </Flex>\n      </Main>\n    </UnauthenticatedLayout>\n  );\n};\n\nconst PasswordInput = styled(TextInput)`\n  ::-ms-reveal {\n    display: none;\n  }\n`;\n\nexport { ResetPassword };\n","import type { ComponentType } from 'react';\n\nimport { ForgotPassword } from './components/ForgotPassword';\nimport { ForgotPasswordSuccess } from './components/ForgotPasswordSuccess';\nimport { Oops } from './components/Oops';\nimport { Register, RegisterProps } from './components/Register';\nimport { ResetPassword } from './components/ResetPassword';\n\nexport type AuthType =\n  | 'login'\n  | 'register'\n  | 'register-admin'\n  | 'forgot-password'\n  | 'reset-password'\n  | 'forgot-password-success'\n  | 'oops'\n  | 'providers';\n\nexport type FormDictionary = Record<AuthType, ComponentType | ComponentType<RegisterProps>>;\n\nexport const FORMS = {\n  'forgot-password': ForgotPassword,\n  'forgot-password-success': ForgotPasswordSuccess,\n  // the `Component` attribute is set after all forms and CE/EE components are loaded, but since we\n  // are here outside of a React component we can not use the hook directly\n  login: () => null,\n  oops: Oops,\n  register: Register,\n  'register-admin': Register,\n  'reset-password': ResetPassword,\n  providers: () => null,\n} satisfies FormDictionary;\n","import { auth } from '@strapi/helper-plugin';\nimport { Redirect, useHistory, useRouteMatch } from 'react-router-dom';\n\nimport { useEnterprise } from '../../hooks/useEnterprise';\n\nimport { Login as LoginCE } from './components/Login';\nimport { AuthType, FORMS, FormDictionary } from './constants';\n\n/* -------------------------------------------------------------------------------------------------\n * AuthPage\n * -----------------------------------------------------------------------------------------------*/\n\ninterface AuthPageProps {\n  hasAdmin: boolean;\n}\n\nconst AuthPage = ({ hasAdmin }: AuthPageProps) => {\n  const {\n    location: { search },\n  } = useHistory();\n  const match = useRouteMatch<{ authType: AuthType }>('/auth/:authType');\n  const authType = match?.params.authType;\n  const Login = useEnterprise(\n    LoginCE,\n    async () => (await import('../../../../ee/admin/src/pages/AuthPage/components/Login')).LoginEE\n  );\n  const forms = useEnterprise<FormDictionary, Partial<FormDictionary>>(\n    FORMS,\n    async () => (await import('../../../../ee/admin/src/pages/AuthPage/constants')).FORMS,\n    {\n      combine(ceForms, eeForms) {\n        return {\n          ...ceForms,\n          ...eeForms,\n        };\n      },\n      defaultValue: FORMS,\n    }\n  );\n\n  if (!authType || !forms) {\n    return <Redirect to=\"/\" />;\n  }\n\n  const Component = forms[authType];\n\n  // Redirect the user to the login page if\n  // the endpoint does not exist or\n  // there is already an admin user oo\n  // the user is already logged in\n  if (!Component || (hasAdmin && authType === 'register-admin') || auth.getToken()) {\n    return <Redirect to=\"/\" />;\n  }\n\n  // Redirect the user to the register-admin if it is the first user\n  if (!hasAdmin && authType !== 'register-admin') {\n    return (\n      <Redirect\n        to={{\n          pathname: '/auth/register-admin',\n          // Forward the `?redirectTo` from /auth/login\n          // /abc => /auth/login?redirectTo=%2Fabc => /auth/register-admin?redirectTo=%2Fabc\n          search,\n        }}\n      />\n    );\n  }\n\n  if (Login && authType === 'login') {\n    // Assign the component to render for the login form\n    return <Login />;\n  } else if (authType === 'login' && !Login) {\n    // block rendering until the Login EE component is fully loaded\n    return null;\n  }\n\n  return <Component hasAdmin={hasAdmin} />;\n};\n\nexport { AuthPage };\nexport type { AuthPageProps };\n","/**\n * NotFoundPage\n *\n * This is the page we show when the user visits a url that doesn't have a route\n *\n */\nimport {\n  ContentLayout,\n  EmptyStateLayout,\n  HeaderLayout,\n  LinkButton,\n  Main,\n} from '@strapi/design-system';\nimport { useFocusWhenNavigate } from '@strapi/helper-plugin';\nimport { ArrowRight, EmptyPictures } from '@strapi/icons';\nimport { useIntl } from 'react-intl';\n\nexport const NotFoundPage = () => {\n  const { formatMessage } = useIntl();\n  useFocusWhenNavigate();\n\n  return (\n    <Main labelledBy=\"title\">\n      <HeaderLayout\n        id=\"title\"\n        title={formatMessage({\n          id: 'content-manager.pageNotFound',\n          defaultMessage: 'Page not found',\n        })}\n      />\n      <ContentLayout>\n        <EmptyStateLayout\n          action={\n            <LinkButton variant=\"secondary\" endIcon={<ArrowRight />} to=\"/\">\n              {formatMessage({\n                id: 'app.components.NotFoundPage.back',\n                defaultMessage: 'Back to homepage',\n              })}\n            </LinkButton>\n          }\n          content={formatMessage({\n            id: 'app.page.not.found',\n            defaultMessage: \"Oops! We can't seem to find the page you're looging for...\",\n          })}\n          hasRadius\n          icon={<EmptyPictures width=\"10rem\" />}\n          shadow=\"tableShadow\"\n        />\n      </ContentLayout>\n    </Main>\n  );\n};\n","import * as React from 'react';\n\nimport {\n  Box,\n  Button,\n  Flex,\n  Main,\n  Option,\n  Select,\n  TextButton,\n  TextInput,\n  Typography,\n} from '@strapi/design-system';\nimport { auth, pxToRem, useFetchClient, useNotification } from '@strapi/helper-plugin';\nimport { parse } from 'qs';\nimport { useIntl } from 'react-intl';\nimport { useHistory } from 'react-router-dom';\nimport styled from 'styled-components';\n\nimport { Logo } from '../components/UnauthenticatedLogo';\nimport { LayoutContent, UnauthenticatedLayout } from '../layouts/UnauthenticatedLayout';\n\nexport const options = [\n  {\n    intlLabel: {\n      id: 'Usecase.front-end',\n      defaultMessage: 'Front-end developer',\n    },\n    value: 'front_end_developer',\n  },\n  {\n    intlLabel: {\n      id: 'Usecase.back-end',\n      defaultMessage: 'Back-end developer',\n    },\n    value: 'back_end_developer',\n  },\n  {\n    intlLabel: {\n      id: 'Usecase.full-stack',\n      defaultMessage: 'Full-stack developer',\n    },\n    value: 'full_stack_developer',\n  },\n  {\n    intlLabel: {\n      id: 'global.content-manager',\n      defaultMessage: 'Content Manager',\n    },\n    value: 'content_manager',\n  },\n  {\n    intlLabel: {\n      id: 'Usecase.content-creator',\n      defaultMessage: 'Content Creator',\n    },\n    value: 'content_creator',\n  },\n  {\n    intlLabel: {\n      id: 'Usecase.other',\n      defaultMessage: 'Other',\n    },\n    value: 'other',\n  },\n];\n\nconst TypographyCenter = styled(Typography)`\n  text-align: center;\n`;\n\nexport const UseCasePage = () => {\n  const toggleNotification = useNotification();\n  const { push, location } = useHistory();\n  const { formatMessage } = useIntl();\n  const [role, setRole] = React.useState<string | number | null>(null);\n  const [otherRole, setOtherRole] = React.useState('');\n  const { post } = useFetchClient();\n\n  const { firstname, email } = auth.get('userInfo') ?? {};\n  const { hasAdmin } = parse(location?.search, { ignoreQueryPrefix: true });\n  const isOther = role === 'other';\n\n  const handleSubmit = async (event: React.FormEvent, skipPersona: boolean) => {\n    event.preventDefault();\n    try {\n      await post('https://analytics.strapi.io/register', {\n        email,\n        username: firstname,\n        firstAdmin: Boolean(!hasAdmin),\n        persona: {\n          role: skipPersona ? undefined : role,\n          otherRole: skipPersona ? undefined : otherRole,\n        },\n      });\n\n      toggleNotification({\n        type: 'success',\n        message: {\n          id: 'Usecase.notification.success.project-created',\n          defaultMessage: 'Project has been successfully created',\n        },\n      });\n      push('/');\n    } catch (err) {\n      // Silent\n    }\n  };\n\n  return (\n    <UnauthenticatedLayout>\n      <Main labelledBy=\"usecase-title\">\n        <LayoutContent>\n          <form onSubmit={(e) => handleSubmit(e, false)}>\n            <Flex direction=\"column\" paddingBottom={7}>\n              <Logo />\n              <Box paddingTop={6} paddingBottom={1} width={pxToRem(250)}>\n                <TypographyCenter variant=\"alpha\" as=\"h1\" id=\"usecase-title\">\n                  {formatMessage({\n                    id: 'Usecase.title',\n                    defaultMessage: 'Tell us a bit more about yourself',\n                  })}\n                </TypographyCenter>\n              </Box>\n            </Flex>\n            <Flex direction=\"column\" alignItems=\"stretch\" gap={6}>\n              <Select\n                id=\"usecase\"\n                data-testid=\"usecase\"\n                label={formatMessage({\n                  id: 'Usecase.input.work-type',\n                  defaultMessage: 'What type of work do you do?',\n                })}\n                // onClear={() => setRole(null)}\n                // clearLabel={formatMessage({ id: 'clearLabel', defaultMessage: 'Clear' })}\n                onChange={(value) => setRole(value)}\n                value={role}\n              >\n                {options.map(({ intlLabel, value }) => (\n                  <Option key={value} value={value}>\n                    {formatMessage(intlLabel)}\n                  </Option>\n                ))}\n              </Select>\n              {isOther && (\n                <TextInput\n                  name=\"other\"\n                  label={formatMessage({ id: 'Usecase.other', defaultMessage: 'Other' })}\n                  value={otherRole}\n                  onChange={(e) => setOtherRole(e.target.value)}\n                  data-testid=\"other\"\n                />\n              )}\n              <Button type=\"submit\" size=\"L\" fullWidth disabled={!role}>\n                {formatMessage({ id: 'global.finish', defaultMessage: 'Finish' })}\n              </Button>\n            </Flex>\n          </form>\n        </LayoutContent>\n        <Flex justifyContent=\"center\">\n          <Box paddingTop={4}>\n            <TextButton onClick={(event) => handleSubmit(event, true)}>\n              {formatMessage({\n                id: 'Usecase.button.skip',\n                defaultMessage: 'Skip this question',\n              })}\n            </TextButton>\n          </Box>\n        </Flex>\n      </Main>\n    </UnauthenticatedLayout>\n  );\n};\n","/* eslint-disable check-file/filename-naming-convention */\n\nimport * as React from 'react';\n\nimport { LoadingIndicatorPage, MenuItem } from '@strapi/helper-plugin';\nimport { Route } from 'react-router-dom';\n\ninterface LazyCompoProps {\n  loadComponent: Required<MenuItem>['Component'];\n}\n\nconst LazyCompo = ({ loadComponent }: LazyCompoProps) => {\n  const [Compo, setCompo] = React.useState<React.ComponentType | null>(null);\n\n  React.useEffect(() => {\n    const loadCompo = async () => {\n      try {\n        const loadedCompo = await loadComponent();\n\n        // TODO the loaded component provided can currently come from a default or named export\n        // We will move the entire codebase to use named exports only\n        // Until then we support both cases with priority given to the existing default exports\n        if (typeof loadedCompo === 'function') {\n          setCompo(() => loadedCompo);\n        } else if (loadedCompo.default) {\n          setCompo(() => loadedCompo.default!);\n        }\n      } catch (err) {}\n    };\n\n    loadCompo();\n  }, [loadComponent]);\n\n  if (Compo) {\n    return <Compo />;\n  }\n\n  return <LoadingIndicatorPage />;\n};\n\nexport const createRoute = (\n  loadComponent: LazyCompoProps['loadComponent'],\n  to: MenuItem['to'],\n  exact: MenuItem['exact'] = false\n) => {\n  return (\n    <Route\n      render={() => <LazyCompo loadComponent={loadComponent} />}\n      key={to}\n      path={to}\n      exact={exact || false}\n    />\n  );\n};\n","/**\n *\n * App.js\n *\n */\n\nimport * as React from 'react';\n\nimport { SkipToContent } from '@strapi/design-system';\nimport {\n  auth,\n  LoadingIndicatorPage,\n  MenuItem,\n  prefixFileUrlWithBackendUrl,\n  TrackingProvider,\n  useAppInfo,\n  useFetchClient,\n  useNotification,\n} from '@strapi/helper-plugin';\nimport merge from 'lodash/merge';\nimport { useIntl } from 'react-intl';\nimport { useDispatch } from 'react-redux';\nimport { Route, Switch } from 'react-router-dom';\n\nimport { PrivateRoute } from './components/PrivateRoute';\nimport { ADMIN_PERMISSIONS_CE, ACTION_SET_ADMIN_PERMISSIONS } from './constants';\nimport { useConfiguration } from './contexts/configuration';\nimport { useEnterprise } from './hooks/useEnterprise';\nimport { AuthPage } from './pages/Auth/AuthPage';\nimport { NotFoundPage } from './pages/NotFoundPage';\nimport { UseCasePage } from './pages/UseCasePage';\nimport { createRoute } from './utils/createRoute';\n\ntype StrapiRoute = Pick<MenuItem, 'exact' | 'to'> & Required<Pick<MenuItem, 'Component'>>;\n\nconst ROUTES_CE: StrapiRoute[] | null = null;\n\nconst AuthenticatedApp = React.lazy(() =>\n  import('./components/AuthenticatedApp').then((mod) => ({ default: mod.AuthenticatedApp }))\n);\n\nexport const App = () => {\n  const adminPermissions = useEnterprise(\n    ADMIN_PERMISSIONS_CE,\n    async () => (await import('../../ee/admin/src/constants')).ADMIN_PERMISSIONS_EE,\n    {\n      combine(cePermissions, eePermissions) {\n        // the `settings` NS e.g. are deep nested objects, that need a deep merge\n        return merge({}, cePermissions, eePermissions);\n      },\n\n      defaultValue: ADMIN_PERMISSIONS_CE,\n    }\n  );\n  const routes = useEnterprise(\n    ROUTES_CE,\n    async () => (await import('../../ee/admin/src/constants')).ROUTES_EE,\n    {\n      defaultValue: [],\n    }\n  );\n  const toggleNotification = useNotification();\n  const { updateProjectSettings } = useConfiguration();\n  const { formatMessage } = useIntl();\n  const [{ isLoading, hasAdmin, uuid, deviceId }, setState] = React.useState({\n    isLoading: true,\n    deviceId: undefined,\n    hasAdmin: false,\n    uuid: false,\n  });\n  const dispatch = useDispatch();\n  const appInfo = useAppInfo();\n  const { get, post } = useFetchClient();\n\n  const authRoutes = React.useMemo(() => {\n    if (!routes) {\n      return null;\n    }\n\n    return routes.map(({ to, Component, exact }) => createRoute(Component, to, exact));\n  }, [routes]);\n\n  const [telemetryProperties, setTelemetryProperties] = React.useState(undefined);\n\n  React.useEffect(() => {\n    dispatch({ type: ACTION_SET_ADMIN_PERMISSIONS, payload: adminPermissions });\n  }, [adminPermissions, dispatch]);\n\n  React.useEffect(() => {\n    const currentToken = auth.getToken();\n\n    const renewToken = async () => {\n      try {\n        const {\n          data: {\n            data: { token },\n          },\n        } = await post('/admin/renew-token', { token: currentToken });\n        auth.updateToken(token);\n      } catch (err) {\n        // Refresh app\n        auth.clearAppStorage();\n        window.location.reload();\n      }\n    };\n\n    if (currentToken) {\n      renewToken();\n    }\n  }, [post]);\n\n  React.useEffect(() => {\n    const getData = async () => {\n      try {\n        const {\n          data: {\n            data: { hasAdmin, uuid, menuLogo, authLogo },\n          },\n        } = await get(`/admin/init`);\n\n        updateProjectSettings({\n          menuLogo: prefixFileUrlWithBackendUrl(menuLogo),\n          authLogo: prefixFileUrlWithBackendUrl(authLogo),\n        });\n\n        if (uuid) {\n          const {\n            data: { data: properties },\n          } = await get(`/admin/telemetry-properties`, {\n            // NOTE: needed because the interceptors of the fetchClient redirect to /login when receive a 401 and it would end up in an infinite loop when the user doesn't have a session.\n            validateStatus: (status) => status < 500,\n          });\n\n          setTelemetryProperties(properties);\n\n          try {\n            const event = 'didInitializeAdministration';\n            await post(\n              'https://analytics.strapi.io/api/v2/track',\n              {\n                // This event is anonymous\n                event,\n                userId: '',\n                deviceId,\n                eventPropeties: {},\n                userProperties: { environment: appInfo.currentEnvironment },\n                groupProperties: { ...properties, projectId: uuid },\n              },\n              {\n                headers: {\n                  'X-Strapi-Event': event,\n                },\n              }\n            );\n          } catch (e) {\n            // Silent.\n          }\n        }\n\n        setState({ isLoading: false, hasAdmin, uuid, deviceId });\n      } catch (err) {\n        toggleNotification({\n          type: 'warning',\n          message: { id: 'app.containers.App.notification.error.init' },\n        });\n      }\n    };\n\n    getData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [toggleNotification, updateProjectSettings]);\n\n  const trackingInfo = React.useMemo(\n    () => ({\n      uuid,\n      telemetryProperties,\n      deviceId,\n    }),\n    [uuid, telemetryProperties, deviceId]\n  );\n\n  if (isLoading) {\n    return <LoadingIndicatorPage />;\n  }\n\n  return (\n    <React.Suspense fallback={<LoadingIndicatorPage />}>\n      <SkipToContent>\n        {formatMessage({ id: 'skipToContent', defaultMessage: 'Skip to content' })}\n      </SkipToContent>\n      <TrackingProvider value={trackingInfo}>\n        <Switch>\n          {authRoutes}\n          <Route\n            path=\"/auth/:authType\"\n            render={(routerProps) => <AuthPage {...routerProps} hasAdmin={hasAdmin} />}\n            exact\n          />\n          <PrivateRoute path=\"/usecase\" component={UseCasePage} />\n          <PrivateRoute path=\"/\" component={AuthenticatedApp} />\n          <Route path=\"\" component={NotFoundPage} />\n        </Switch>\n      </TrackingProvider>\n    </React.Suspense>\n  );\n};\n","export default \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAwIiBoZWlnaHQ9IjgwMCIgdmlld0JveD0iMCAwIDgwMCA4MDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8cGF0aCBkPSJNMzkgMjgyYzAtMTE4IDAtMTc2LjkgMzYuNi0yMTMuNUMxMTIuMiAzMiAxNzEuMSAzMiAyODguOSAzMmgyMjEuMmMxMTcuOCAwIDE3Ni43IDAgMjEzLjMgMzYuNkM3NjAgMTA1LjIgNzYwIDE2NC4xIDc2MCAyODEuOXYyMjEuMmMwIDExNy44IDAgMTc2LjctMzYuNiAyMTMuM0M2ODYuOCA3NTMgNjI3LjkgNzUzIDUxMC4xIDc1M0gyODguOWMtMTE3LjggMC0xNzYuNyAwLTIxMy4zLTM2LjZDMzkgNjc5LjggMzkgNjIwLjkgMzkgNTAzLjFWMjgxLjlaIiBmaWxsPSIjNDk0NUZGIi8+CiAgICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTUzNi40IDI1MC43SDI5My43djEyMy44aDEyMy44djEyMy43aDEyMy44VjI1NS41YzAtMi42LTIuMi00LjgtNC45LTQuOFoiIGZpbGw9IiNmZmYiLz4KICAgIDxwYXRoIGZpbGw9IiNmZmYiIGQ9Ik00MTIuNyAzNzQuNWg0Ljh2NC44aC00Ljh6Ii8+CiAgICA8cGF0aCBkPSJNMjkzLjggMzc0LjVoMTE5YzIuNiAwIDQuOCAyLjEgNC44IDQuOHYxMTloLTExOWE0LjggNC44IDAgMCAxLTQuOC00Ljl2LTExOVoiIGZpbGw9IiM5NTkzRkYiLz4KICAgIDxwYXRoIGQ9Ik00MTcuNSA0OTguMmgxMjMuOEw0MjEuNiA2MThhMi40IDIuNCAwIDAgMS00LTEuN3YtMTE4Wk0yOTMuOCAzNzQuNWgtMTE4YTIuNCAyLjQgMCAwIDEtMS43LTQuMWwxMTkuNy0xMTkuN3YxMjMuOFoiIGZpbGw9IiM5NTkzRkYiLz4KPC9zdmc+Cg==\"","import { createContext } from '@radix-ui/react-context';\n\nimport type { StrapiApp } from '../StrapiApp';\ninterface AdminContextValue {\n  getAdminInjectedComponents: StrapiApp['getAdminInjectedComponents'];\n}\n\nconst [AdminContextProvider, useAdminContext] = createContext<AdminContextValue>('AdminContext');\n\nconst useAdmin = () => useAdminContext('useAdmin');\n\nexport { AdminContextProvider, useAdmin };\nexport type { AdminContextValue };\n","import * as React from 'react';\n\nimport { ConfigurationContextProvider, ConfigurationContextValue } from '../contexts/configuration';\n\ninterface ConfigurationProviderProps {\n  children: React.ReactNode;\n  authLogo: string;\n  menuLogo: string;\n  showReleaseNotification?: boolean;\n  showTutorials?: boolean;\n}\n\ntype LogoKeys = keyof ConfigurationContextValue['logos'];\n\nconst ConfigurationProvider = ({\n  children,\n  authLogo: defaultAuthLogo,\n  menuLogo: defaultMenuLogo,\n  showReleaseNotification = false,\n  showTutorials = false,\n}: ConfigurationProviderProps) => {\n  const [{ menuLogo, authLogo }, setLogos] = React.useState<{\n    [_Key in `${LogoKeys}Logo`]?: ConfigurationContextValue['logos'][LogoKeys]['custom'];\n  }>({\n    menuLogo: null,\n    authLogo: null,\n  });\n\n  const updateProjectSettings: ConfigurationContextValue['updateProjectSettings'] =\n    React.useCallback(\n      ({ menuLogo, authLogo }) => {\n        setLogos({\n          menuLogo: menuLogo || defaultMenuLogo,\n          authLogo: authLogo || defaultAuthLogo,\n        });\n      },\n      [defaultAuthLogo, defaultMenuLogo]\n    );\n\n  return (\n    <ConfigurationContextProvider\n      updateProjectSettings={updateProjectSettings}\n      showReleaseNotification={showReleaseNotification}\n      showTutorials={showTutorials}\n      logos={{\n        menu: { custom: menuLogo, default: defaultMenuLogo },\n        auth: { custom: authLogo, default: defaultAuthLogo },\n      }}\n    >\n      {children}\n    </ConfigurationContextProvider>\n  );\n};\n\nexport { ConfigurationProvider };\nexport type { ConfigurationProviderProps };\n","import * as React from 'react';\n\nimport {\n  GuidedTourContextValue,\n  GuidedTourProvider as GuidedTourProviderComponent,\n  GuidedTourSectionKey,\n  GuidedTourStep,\n  GuidedTourStepKey,\n  auth,\n} from '@strapi/helper-plugin';\nimport produce from 'immer';\nimport get from 'lodash/get';\nimport set from 'lodash/set';\n\n/* -------------------------------------------------------------------------------------------------\n * GuidedTourProvider\n * -----------------------------------------------------------------------------------------------*/\n\ninterface GuidedTourProviderProps {\n  children: React.ReactNode;\n}\n\nconst GuidedTourProvider = ({ children }: GuidedTourProviderProps) => {\n  const [{ currentStep, guidedTourState, isGuidedTourVisible, isSkipped }, dispatch] =\n    React.useReducer(reducer, initialState, initialiseState);\n\n  const setCurrentStep = (step: SetCurrentStepAction['step']) => {\n    // if step is null it is intentional, we need to dispatch it\n    if (step !== null) {\n      const isStepAlreadyDone = get(guidedTourState, step);\n      const [sectionName, stepName] = step.split('.') as [GuidedTourSectionKey, GuidedTourStepKey];\n      const sectionArray = Object.entries(guidedTourState[sectionName]);\n\n      const currentStepIndex = sectionArray.findIndex(([key]) => key === stepName);\n      const previousSteps = sectionArray.slice(0, currentStepIndex);\n\n      const isStepToShow = previousSteps.every(([, sectionValue]) => sectionValue);\n\n      if (isStepAlreadyDone || isSkipped || !isStepToShow) {\n        return null;\n      }\n    }\n\n    auth.set(null, 'GUIDED_TOUR_CURRENT_STEP', true);\n\n    return dispatch({\n      type: 'SET_CURRENT_STEP',\n      step,\n    });\n  };\n\n  const setGuidedTourVisibility = (value: SetGuidedTourVisibilityAction['value']) => {\n    dispatch({\n      type: 'SET_GUIDED_TOUR_VISIBILITY',\n      value,\n    });\n  };\n\n  const setStepState = (currentStep: GuidedTourStep, value: SetStepStateAction['value']) => {\n    addCompletedStep(currentStep);\n\n    dispatch({\n      type: 'SET_STEP_STATE',\n      currentStep,\n      value,\n    });\n  };\n\n  const startSection = (sectionName: GuidedTourSectionKey) => {\n    const sectionSteps = guidedTourState[sectionName];\n\n    if (sectionSteps) {\n      const guidedTourArray = Object.entries(guidedTourState);\n\n      // Find current section position in the guidedTourArray\n      // Get only previous sections based on current section position\n      const currentSectionIndex = guidedTourArray.findIndex(([key]) => key === sectionName);\n      const previousSections = guidedTourArray.slice(0, currentSectionIndex);\n\n      // Check if every steps from previous section are done\n      const isSectionToShow = previousSections.every(([, sectionValue]) =>\n        Object.values(sectionValue).every(Boolean)\n      );\n\n      const [firstStep] = Object.keys(sectionSteps) as [GuidedTourStepKey];\n      const isFirstStepDone = sectionSteps[firstStep];\n\n      if (isSectionToShow && !currentStep && !isFirstStepDone) {\n        setCurrentStep(`${sectionName}.${firstStep}`);\n      }\n    }\n  };\n\n  const setSkipped = (value: SetSkippedAction['value']) => {\n    auth.set(value, 'GUIDED_TOUR_SKIPPED', true);\n\n    dispatch({\n      type: 'SET_SKIPPED',\n      value,\n    });\n  };\n\n  return (\n    <GuidedTourProviderComponent\n      guidedTourState={guidedTourState}\n      currentStep={currentStep}\n      setCurrentStep={setCurrentStep}\n      setGuidedTourVisibility={setGuidedTourVisibility}\n      setSkipped={setSkipped}\n      setStepState={setStepState}\n      startSection={startSection}\n      isGuidedTourVisible={isGuidedTourVisible}\n      isSkipped={isSkipped}\n    >\n      {children}\n    </GuidedTourProviderComponent>\n  );\n};\n\ntype State = Pick<\n  GuidedTourContextValue,\n  'guidedTourState' | 'currentStep' | 'isGuidedTourVisible' | 'isSkipped'\n>;\n\nconst initialState = {\n  currentStep: null,\n  guidedTourState: {\n    contentTypeBuilder: {\n      create: false,\n      success: false,\n    },\n    contentManager: {\n      create: false,\n      success: false,\n    },\n    apiTokens: {\n      create: false,\n      success: false,\n    },\n  },\n  isGuidedTourVisible: false,\n  isSkipped: false,\n} satisfies State;\n\ninterface SetCurrentStepAction {\n  type: 'SET_CURRENT_STEP';\n  step: GuidedTourStep | null;\n}\n\ninterface SetStepStateAction {\n  type: 'SET_STEP_STATE';\n  currentStep: GuidedTourStep;\n  value: boolean;\n}\n\ninterface SetSkippedAction {\n  type: 'SET_SKIPPED';\n  value: boolean;\n}\n\ninterface SetGuidedTourVisibilityAction {\n  type: 'SET_GUIDED_TOUR_VISIBILITY';\n  value: boolean;\n}\n\ntype Action =\n  | SetCurrentStepAction\n  | SetStepStateAction\n  | SetSkippedAction\n  | SetGuidedTourVisibilityAction;\n\nconst reducer: React.Reducer<State, Action> = (state: State = initialState, action: Action) =>\n  produce(state, (draftState) => {\n    switch (action.type) {\n      case 'SET_CURRENT_STEP': {\n        draftState.currentStep = action.step;\n        break;\n      }\n      case 'SET_STEP_STATE': {\n        const [section, step] = action.currentStep.split('.') as [\n          GuidedTourSectionKey,\n          GuidedTourStepKey\n        ];\n        draftState.guidedTourState[section][step] = action.value;\n        break;\n      }\n      case 'SET_SKIPPED': {\n        draftState.isSkipped = action.value;\n        break;\n      }\n      case 'SET_GUIDED_TOUR_VISIBILITY': {\n        draftState.isGuidedTourVisible = action.value;\n        break;\n      }\n      default: {\n        return draftState;\n      }\n    }\n  });\n\nconst initialiseState = (initialState: State) => {\n  const copyInitialState = { ...initialState };\n  const guidedTourLocaleStorage = auth.get('GUIDED_TOUR_COMPLETED_STEPS');\n  const currentStepLocaleStorage = auth.get('GUIDED_TOUR_CURRENT_STEP');\n  const skippedLocaleStorage = auth.get('GUIDED_TOUR_SKIPPED');\n\n  if (Array.isArray(guidedTourLocaleStorage)) {\n    guidedTourLocaleStorage.forEach((step) => {\n      const [sectionName, stepName] = step.split('.');\n      set(copyInitialState, ['guidedTourState', sectionName, stepName], true);\n    });\n  }\n\n  // if current step when initializing mark it as done\n  if (currentStepLocaleStorage) {\n    const [sectionName, stepName] = currentStepLocaleStorage.split('.') as [\n      GuidedTourSectionKey,\n      GuidedTourStepKey\n    ];\n    set(copyInitialState, ['guidedTourState', sectionName, stepName], true);\n\n    addCompletedStep(currentStepLocaleStorage as GuidedTourStep);\n\n    auth.set(null, 'GUIDED_TOUR_CURRENT_STEP', true);\n  }\n\n  if (skippedLocaleStorage !== null) {\n    set(copyInitialState, 'isSkipped', skippedLocaleStorage);\n  }\n\n  return copyInitialState;\n};\n\n/**\n * @description Add a completed step to the local storage if it does not already exist.\n */\nconst addCompletedStep = (completedStep: GuidedTourStep) => {\n  const currentSteps = auth.get('GUIDED_TOUR_COMPLETED_STEPS') ?? [];\n\n  if (!Array.isArray(currentSteps)) {\n    return;\n  }\n\n  const isAlreadyStored = currentSteps.includes(completedStep);\n\n  if (isAlreadyStored) {\n    return;\n  }\n\n  auth.set([...currentSteps, completedStep], 'GUIDED_TOUR_COMPLETED_STEPS', true);\n};\n\nexport { GuidedTourProvider };\n","import { createContext } from '@radix-ui/react-context';\nimport { DefaultTheme } from 'styled-components';\n\ntype ThemeName = 'light' | 'dark' | 'system';\ntype NonSystemThemeName = Exclude<ThemeName, 'system'>;\n\ninterface ThemeToggleContextContextValue {\n  currentTheme?: ThemeName;\n  onChangeTheme?: (nextTheme: ThemeName) => void;\n  themes?: {\n    dark: DefaultTheme;\n    light: DefaultTheme;\n  };\n  systemTheme?: NonSystemThemeName;\n}\n\nconst [ThemeToggleContextProvider, useThemeToggleContext] =\n  createContext<ThemeToggleContextContextValue>('ThemeToggleContext');\n\nconst useThemeToggle = () => useThemeToggleContext('useThemeToggle');\n\nexport { ThemeToggleContextProvider, useThemeToggle };\nexport type { ThemeName, NonSystemThemeName, ThemeToggleContextContextValue };\n","import * as React from 'react';\n\nimport { DesignSystemProvider } from '@strapi/design-system';\nimport { useIntl } from 'react-intl';\nimport { createGlobalStyle } from 'styled-components';\n\nimport { useThemeToggle } from '../contexts/themeToggle';\n\ninterface ThemeProps {\n  children: React.ReactNode;\n}\n\nconst Theme = ({ children }: ThemeProps) => {\n  const { currentTheme, themes, systemTheme } = useThemeToggle();\n  const { locale } = useIntl();\n\n  const computedThemeName = currentTheme === 'system' ? systemTheme : currentTheme;\n\n  return (\n    <DesignSystemProvider\n      locale={locale}\n      /**\n       * TODO: could we make this neater i.e. by setting up the context to throw\n       * if it can't find it, that way the type is always fully defined and we're\n       * not checking it all the time...\n       */\n      theme={themes?.[computedThemeName || 'light']}\n    >\n      {children}\n      <GlobalStyle />\n    </DesignSystemProvider>\n  );\n};\n\nconst GlobalStyle = createGlobalStyle`\n  body {\n    background: ${({ theme }) => theme.colors.neutral100};\n  }\n`;\n\nexport { Theme };\n","import * as React from 'react';\n\nimport { DefaultTheme } from 'styled-components';\n\nimport { ThemeToggleContextProvider, ThemeName, NonSystemThemeName } from '../contexts/themeToggle';\n\nconst THEME_KEY = 'STRAPI_THEME';\n\nconst getDefaultTheme = () => {\n  const persistedTheme = localStorage.getItem(THEME_KEY) as ThemeName | null;\n\n  return persistedTheme || 'system';\n};\n\ninterface ThemeToggleProviderProps {\n  children: React.ReactNode;\n  themes: {\n    light: DefaultTheme;\n    dark: DefaultTheme;\n  };\n}\n\nconst ThemeToggleProvider = ({ children, themes }: ThemeToggleProviderProps) => {\n  const [currentTheme, setCurrentTheme] = React.useState<ThemeName>(getDefaultTheme());\n  const [systemTheme, setSystemTheme] = React.useState<NonSystemThemeName>();\n\n  const handleChangeTheme = React.useCallback(\n    (nextTheme: ThemeName) => {\n      setCurrentTheme(nextTheme);\n      localStorage.setItem(THEME_KEY, nextTheme);\n    },\n    [setCurrentTheme]\n  );\n\n  // Listen to changes in the system theme\n  React.useEffect(() => {\n    const themeWatcher = window.matchMedia('(prefers-color-scheme: dark)');\n    setSystemTheme(themeWatcher.matches ? 'dark' : 'light');\n\n    const listener = (event: MediaQueryListEvent) => {\n      setSystemTheme(event.matches ? 'dark' : 'light');\n    };\n    themeWatcher.addEventListener('change', listener);\n\n    // Remove listener on cleanup\n    return () => {\n      themeWatcher.removeEventListener('change', listener);\n    };\n  }, []);\n\n  return (\n    <ThemeToggleContextProvider\n      currentTheme={currentTheme}\n      onChangeTheme={handleChangeTheme}\n      themes={themes}\n      systemTheme={systemTheme}\n    >\n      {children}\n    </ThemeToggleContextProvider>\n  );\n};\n\nexport { ThemeToggleProvider };\nexport type { ThemeToggleProviderProps };\n","import * as React from 'react';\n\nimport {\n  AutoReloadOverlayBlockerProvider,\n  CustomFieldsProvider,\n  CustomFieldsProviderProps,\n  LibraryProvider,\n  LibraryProviderProps,\n  NotificationsProvider,\n  OverlayBlockerProvider,\n  StrapiAppProvider,\n  StrapiAppProviderProps,\n} from '@strapi/helper-plugin';\nimport { QueryClient, QueryClientProvider } from 'react-query';\nimport { Provider } from 'react-redux';\n\nimport { AdminContextProvider, AdminContextValue } from '../contexts/admin';\n\nimport { ConfigurationProvider, ConfigurationProviderProps } from './ConfigurationProvider';\nimport { GuidedTourProvider } from './GuidedTour/Provider';\nimport { LanguageProvider, LanguageProviderProps } from './LanguageProvider';\nimport { Theme } from './Theme';\nimport { ThemeToggleProvider, ThemeToggleProviderProps } from './ThemeToggleProvider';\n\nimport type { Store } from '../core/store/configure';\n\nconst queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      refetchOnWindowFocus: false,\n    },\n  },\n});\n\ninterface ProvidersProps\n  extends Pick<ThemeToggleProviderProps, 'themes'>,\n    Pick<LanguageProviderProps, 'messages' | 'localeNames'>,\n    Pick<\n      ConfigurationProviderProps,\n      'authLogo' | 'menuLogo' | 'showReleaseNotification' | 'showTutorials'\n    >,\n    Pick<AdminContextValue, 'getAdminInjectedComponents'>,\n    Pick<CustomFieldsProviderProps, 'customFields'>,\n    Pick<LibraryProviderProps, 'components' | 'fields'>,\n    Pick<\n      StrapiAppProviderProps,\n      | 'getPlugin'\n      | 'menu'\n      | 'plugins'\n      | 'runHookParallel'\n      | 'runHookSeries'\n      | 'runHookWaterfall'\n      | 'settings'\n    > {\n  children: React.ReactNode;\n  store: Store;\n}\n\nconst Providers = ({\n  authLogo,\n  children,\n  components,\n  customFields,\n  fields,\n  getAdminInjectedComponents,\n  getPlugin,\n  localeNames,\n  menu,\n  menuLogo,\n  messages,\n  plugins,\n  runHookParallel,\n  runHookSeries,\n  runHookWaterfall,\n  settings,\n  showReleaseNotification,\n  showTutorials,\n  store,\n  themes,\n}: ProvidersProps) => {\n  return (\n    <LanguageProvider messages={messages} localeNames={localeNames}>\n      <ThemeToggleProvider themes={themes}>\n        <Theme>\n          <QueryClientProvider client={queryClient}>\n            <Provider store={store}>\n              <AdminContextProvider getAdminInjectedComponents={getAdminInjectedComponents}>\n                <ConfigurationProvider\n                  authLogo={authLogo}\n                  menuLogo={menuLogo}\n                  showReleaseNotification={showReleaseNotification}\n                  showTutorials={showTutorials}\n                >\n                  <StrapiAppProvider\n                    getPlugin={getPlugin}\n                    menu={menu}\n                    plugins={plugins}\n                    runHookParallel={runHookParallel}\n                    runHookWaterfall={runHookWaterfall}\n                    runHookSeries={runHookSeries}\n                    settings={settings}\n                  >\n                    <LibraryProvider components={components} fields={fields}>\n                      <CustomFieldsProvider customFields={customFields}>\n                        <AutoReloadOverlayBlockerProvider>\n                          <OverlayBlockerProvider>\n                            <GuidedTourProvider>\n                              <NotificationsProvider>{children}</NotificationsProvider>\n                            </GuidedTourProvider>\n                          </OverlayBlockerProvider>\n                        </AutoReloadOverlayBlockerProvider>\n                      </CustomFieldsProvider>\n                    </LibraryProvider>\n                  </StrapiAppProvider>\n                </ConfigurationProvider>\n              </AdminContextProvider>\n            </Provider>\n          </QueryClientProvider>\n        </Theme>\n      </ThemeToggleProvider>\n    </LanguageProvider>\n  );\n};\n\nexport { Providers };\n","/* eslint-disable check-file/filename-naming-convention */\nimport * as React from 'react';\n\nimport invariant from 'invariant';\n\nexport interface Component {\n  name: string;\n  Component: React.ComponentType;\n}\n\nexport class Components {\n  components: Record<Component['name'], Component['Component']>;\n\n  constructor() {\n    this.components = {};\n  }\n\n  add(component: Component) {\n    const { name, Component } = component;\n\n    invariant(Component, 'A Component must be provided');\n    invariant(name, 'A name must be provided');\n    invariant(this.components[name] === undefined, 'A similar field already exists');\n\n    this.components[name] = Component;\n  }\n}\n","/* eslint-disable check-file/filename-naming-convention */\nimport invariant from 'invariant';\n\nimport type {\n  CustomField,\n  CustomFieldOption,\n  CustomFieldOptionSection,\n  CustomFieldUID,\n} from '@strapi/helper-plugin';\n\nconst ALLOWED_TYPES = [\n  'biginteger',\n  'boolean',\n  'date',\n  'datetime',\n  'decimal',\n  'email',\n  'enumeration',\n  'float',\n  'integer',\n  'json',\n  'password',\n  'richtext',\n  'string',\n  'text',\n  'time',\n  'uid',\n] as const;\n\nconst ALLOWED_ROOT_LEVEL_OPTIONS = [\n  'min',\n  'minLength',\n  'max',\n  'maxLength',\n  'required',\n  'regex',\n  'enum',\n  'unique',\n  'private',\n  'default',\n] as const;\n\nexport class CustomFields {\n  customFields: Record<CustomFieldUID, CustomField>;\n\n  constructor() {\n    this.customFields = {};\n  }\n\n  register(customFields: CustomField | CustomField[]) {\n    if (Array.isArray(customFields)) {\n      // If several custom fields are passed, register them one by one\n      customFields.forEach((customField) => {\n        this.register(customField);\n      });\n    } else {\n      // Handle individual custom field\n      const { name, pluginId, type, intlLabel, intlDescription, components, options } =\n        customFields;\n\n      // Ensure required attributes are provided\n      invariant(name, 'A name must be provided');\n      invariant(type, 'A type must be provided');\n      invariant(intlLabel, 'An intlLabel must be provided');\n      invariant(intlDescription, 'An intlDescription must be provided');\n      invariant(components, 'A components object must be provided');\n      invariant(components.Input, 'An Input component must be provided');\n\n      // Ensure the type is valid\n      invariant(\n        ALLOWED_TYPES.includes(type),\n        `Custom field type: '${type}' is not a valid Strapi type or it can't be used with a Custom Field`\n      );\n\n      // Ensure name has no special characters\n      const isValidObjectKey = /^(?![0-9])[a-zA-Z0-9$_-]+$/g;\n      invariant(\n        isValidObjectKey.test(name),\n        `Custom field name: '${name}' is not a valid object key`\n      );\n\n      // Ensure options have valid name paths\n      const allFormOptions = [...(options?.base || []), ...(options?.advanced || [])];\n\n      if (allFormOptions.length) {\n        const optionPathValidations = allFormOptions.reduce(optionsValidationReducer, []);\n\n        optionPathValidations.forEach(({ isValidOptionPath, errorMessage }) => {\n          invariant(isValidOptionPath, errorMessage);\n        });\n      }\n\n      // When no plugin is specified, default to the global namespace\n      const uid: CustomFieldUID = pluginId ? `plugin::${pluginId}.${name}` : `global::${name}`;\n\n      // Ensure the uid is unique\n      const uidAlreadyUsed = Object.prototype.hasOwnProperty.call(this.customFields, uid);\n      invariant(!uidAlreadyUsed, `Custom field: '${uid}' has already been registered`);\n\n      this.customFields[uid] = customFields;\n    }\n  }\n\n  getAll() {\n    return this.customFields;\n  }\n\n  get(uid: CustomFieldUID): CustomField | undefined {\n    return this.customFields[uid];\n  }\n}\n\ninterface OptionValidation {\n  isValidOptionPath: boolean;\n  errorMessage: string;\n}\n\nconst optionsValidationReducer = (\n  acc: OptionValidation[],\n  option: CustomFieldOptionSection | CustomFieldOption\n): OptionValidation[] => {\n  if ('items' in option) {\n    return option.items.reduce(optionsValidationReducer, acc);\n  }\n\n  if (!option.name) {\n    acc.push({\n      isValidOptionPath: false,\n      errorMessage: \"The 'name' property is required on an options object\",\n    });\n  } else {\n    acc.push({\n      isValidOptionPath:\n        option.name.startsWith('options') || ALLOWED_ROOT_LEVEL_OPTIONS.includes(option.name),\n      errorMessage: `'${option.name}' must be prefixed with 'options.'`,\n    });\n  }\n\n  return acc;\n};\n","/* eslint-disable check-file/filename-naming-convention */\nimport * as React from 'react';\n\nimport invariant from 'invariant';\n\nexport interface Field {\n  type: string;\n  Component: React.ComponentType;\n}\n\nexport class Fields {\n  fields: Record<Field['type'], Field['Component']>;\n\n  constructor() {\n    this.fields = {};\n  }\n\n  add(field: Field) {\n    const { type, Component } = field;\n\n    invariant(Component, 'A Component must be provided');\n    invariant(type, 'A type must be provided');\n\n    this.fields[type] = Component;\n  }\n}\n","/* eslint-disable check-file/filename-naming-convention */\nimport { Middleware } from '@reduxjs/toolkit';\n\nimport { RootState } from '../store/configure';\n\ntype TypedMiddleware = () => Middleware<object, RootState>;\n\nclass Middlewares {\n  middlewares: Array<TypedMiddleware>;\n\n  constructor() {\n    this.middlewares = [];\n  }\n\n  add(middleware: TypedMiddleware) {\n    this.middlewares.push(middleware);\n  }\n}\n\nexport { Middlewares, TypedMiddleware as Middleware };\n","/* eslint-disable check-file/filename-naming-convention */\nimport { Plugin as IPlugin } from '@strapi/helper-plugin';\n\nexport interface PluginConfig\n  extends Pick<IPlugin, 'apis' | 'initializer' | 'injectionZones' | 'isReady' | 'name'> {\n  id: string;\n}\n\nexport class Plugin implements IPlugin {\n  apis: PluginConfig['apis'];\n  initializer: PluginConfig['initializer'];\n  injectionZones: PluginConfig['injectionZones'];\n  isReady: PluginConfig['isReady'];\n  name: PluginConfig['name'];\n  pluginId: PluginConfig['id'];\n\n  constructor(pluginConf: PluginConfig) {\n    this.apis = pluginConf.apis || {};\n    this.initializer = pluginConf.initializer || null;\n    this.injectionZones = pluginConf.injectionZones || {};\n    this.isReady = pluginConf.isReady !== undefined ? pluginConf.isReady : true;\n    this.name = pluginConf.name;\n    this.pluginId = pluginConf.id;\n  }\n\n  getInjectedComponents(containerName: string, blockName: string) {\n    try {\n      return this.injectionZones[containerName][blockName] || [];\n    } catch (err) {\n      console.error('Cannot get injected component', err);\n\n      return [];\n    }\n  }\n\n  injectComponent(\n    containerName: string,\n    blockName: string,\n    component: ReturnType<IPlugin['getInjectedComponents']>[number]\n  ) {\n    try {\n      this.injectionZones[containerName][blockName].push(component);\n    } catch (err) {\n      console.error('Cannot inject component', err);\n    }\n  }\n}\n","/* eslint-disable check-file/filename-naming-convention */\n\nimport { Reducer, ReducersMapObject } from '@reduxjs/toolkit';\n\ninterface ReducerConstructorArgs {\n  appReducers?: ReducersMapObject;\n}\n\nexport class Reducers {\n  reducers: ReducersMapObject;\n\n  constructor({ appReducers = {} }: ReducerConstructorArgs = {}) {\n    this.reducers = { ...appReducers };\n  }\n\n  add(reducerName: string, reducer: Reducer) {\n    this.reducers[reducerName] = reducer;\n  }\n}\n","import { createSelector, Selector } from '@reduxjs/toolkit';\nimport { useDispatch, useStore, TypedUseSelectorHook, useSelector } from 'react-redux';\n\nimport type { RootState, Store } from './configure';\n\ntype AppDispatch = Store['dispatch'];\n\nconst useTypedDispatch: () => AppDispatch = useDispatch;\nconst useTypedStore = useStore as () => Store;\nconst useTypedSelector: TypedUseSelectorHook<RootState> = useSelector;\n\nconst createTypedSelector = <TResult>(selector: Selector<RootState, TResult>) =>\n  createSelector((state: RootState) => state, selector);\n\nexport { useTypedDispatch, useTypedStore, useTypedSelector, createTypedSelector };\n","import * as React from 'react';\n\nimport {\n  LoadingIndicatorPage,\n  Permission,\n  RBACContext,\n  RBACContextValue,\n} from '@strapi/helper-plugin';\nimport produce from 'immer';\n\nimport { useTypedSelector, useTypedDispatch } from '../core/store/hooks';\n\n/* -------------------------------------------------------------------------------------------------\n * RBACProvider\n * -----------------------------------------------------------------------------------------------*/\n\ninterface RBACProviderProps {\n  children: React.ReactNode;\n  permissions: Permission[];\n  refetchPermissions: RBACContextValue['refetchPermissions'];\n}\n\nconst RBACProvider = ({ children, permissions, refetchPermissions }: RBACProviderProps) => {\n  const allPermissions = useTypedSelector((state) => state.rbacProvider.allPermissions);\n\n  const dispatch = useTypedDispatch();\n\n  React.useEffect(() => {\n    dispatch(setPermissionsAction(permissions));\n\n    return () => {\n      dispatch(resetStoreAction());\n    };\n  }, [permissions, dispatch]);\n\n  if (!allPermissions) {\n    return <LoadingIndicatorPage />;\n  }\n\n  return (\n    <RBACContext.Provider value={{ allPermissions, refetchPermissions }}>\n      {children}\n    </RBACContext.Provider>\n  );\n};\n\n/* -------------------------------------------------------------------------------------------------\n * RBACReducer\n * -----------------------------------------------------------------------------------------------*/\n\ninterface RBACState {\n  allPermissions: null | Permission[];\n  collectionTypesRelatedPermissions: Record<string, Record<string, Permission[]>>;\n}\n\nconst initialState = {\n  allPermissions: null,\n  collectionTypesRelatedPermissions: {},\n};\n\nconst RESET_STORE = 'StrapiAdmin/RBACProvider/RESET_STORE';\nconst SET_PERMISSIONS = 'StrapiAdmin/RBACProvider/SET_PERMISSIONS';\n\ninterface ResetStoreAction {\n  type: typeof RESET_STORE;\n}\n\nconst resetStoreAction = (): ResetStoreAction => ({ type: RESET_STORE });\n\ninterface SetPermissionsAction {\n  type: typeof SET_PERMISSIONS;\n  permissions: Permission[];\n}\n\nconst setPermissionsAction = (\n  permissions: SetPermissionsAction['permissions']\n): SetPermissionsAction => ({\n  type: SET_PERMISSIONS,\n  permissions,\n});\n\ntype Actions = ResetStoreAction | SetPermissionsAction;\n\nconst RBACReducer = (state: RBACState = initialState, action: Actions) =>\n  produce(state, (draftState) => {\n    switch (action.type) {\n      case SET_PERMISSIONS: {\n        draftState.allPermissions = action.permissions;\n        draftState.collectionTypesRelatedPermissions = action.permissions\n          .filter((perm) => perm.subject)\n          .reduce<Record<string, Record<string, Permission[]>>>((acc, current) => {\n            const { subject, action } = current;\n\n            if (!subject) return acc;\n\n            if (!acc[subject]) {\n              acc[subject] = {};\n            }\n\n            acc[subject] = acc[subject][action]\n              ? { ...acc[subject], [action]: [...acc[subject][action], current] }\n              : { ...acc[subject], [action]: [current] };\n\n            return acc;\n          }, {});\n        break;\n      }\n      case RESET_STORE: {\n        return initialState;\n      }\n      default:\n        return state;\n    }\n  });\n\nexport { RBACProvider, RBACReducer, resetStoreAction, setPermissionsAction };\nexport type {\n  RBACState,\n  Actions,\n  RBACProviderProps,\n  ResetStoreAction,\n  SetPermissionsAction,\n  Permission,\n};\n","export const SET_PERMISSIONS = 'ContentManager/RBACManager/SET_PERMISSIONS';\nexport const RESET_PERMISSIONS = 'ContentManager/RBACManager/RESET_PERMISSIONS';\n","/**\n *\n * RBACManager reducer\n */\n\nimport produce from 'immer';\n\nimport { RESET_PERMISSIONS, SET_PERMISSIONS } from './constants';\n\nexport const initialState = {\n  permissions: null,\n};\n\nconst rbacManagerReducer = (state = initialState, action) =>\n  // eslint-disable-next-line consistent-return\n  produce(state, (draftState) => {\n    switch (action.type) {\n      case SET_PERMISSIONS: {\n        draftState.permissions = Object.entries(action.permissions).reduce((acc, current) => {\n          return [...acc, ...current[1]];\n        }, []);\n        break;\n      }\n      case RESET_PERMISSIONS: {\n        draftState.permissions = null;\n        break;\n      }\n      default:\n        return draftState;\n    }\n  });\n\nexport default rbacManagerReducer;\n","export const GET_INIT_DATA = 'ContentManager/App/GET_INIT_DATA';\nexport const RESET_INIT_DATA = 'ContentManager/App/RESET_INIT_DATA';\nexport const SET_INIT_DATA = 'ContentManager/App/SET_INIT_DATA';\n","/**\n *\n * main reducer\n */\n/* eslint-disable consistent-return */\nimport produce from 'immer';\n\nimport { GET_INIT_DATA, RESET_INIT_DATA, SET_INIT_DATA } from './constants';\n\nconst initialState = {\n  components: [],\n  status: 'loading',\n  models: [],\n  collectionTypeLinks: [],\n  singleTypeLinks: [],\n};\n\n/**\n * Known as content-manager_app in the redux store\n */\nconst mainReducer = (state = initialState, action) =>\n  produce(state, (draftState) => {\n    switch (action.type) {\n      case GET_INIT_DATA: {\n        draftState.status = 'loading';\n        break;\n      }\n      case RESET_INIT_DATA: {\n        return initialState;\n      }\n      case SET_INIT_DATA: {\n        draftState.collectionTypeLinks = action.data.authorizedCollectionTypeLinks.filter(\n          ({ isDisplayed }) => isDisplayed\n        );\n        draftState.singleTypeLinks = action.data.authorizedSingleTypeLinks.filter(\n          ({ isDisplayed }) => isDisplayed\n        );\n        draftState.components = action.data.components;\n        draftState.models = action.data.contentTypeSchemas;\n        draftState.fieldSizes = action.data.fieldSizes;\n        draftState.status = 'resolved';\n        break;\n      }\n      default:\n        return draftState;\n    }\n  });\n\nexport default mainReducer;\nexport { initialState };\n","export const SET_LAYOUT = 'ContentManager/EditViewLayoutManager/SET_LAYOUT';\nexport const RESET_PROPS = 'ContentManager/EditViewLayoutManager/RESET_PROPS';\n","/**\n *\n * EditViewLayoutManager reducer\n */\n\nimport produce from 'immer';\n\nimport { RESET_PROPS, SET_LAYOUT } from './constants';\n\nexport const initialState = {\n  currentLayout: null,\n};\n\nconst editViewManagerReducer = (state = initialState, action) =>\n  // eslint-disable-next-line consistent-return\n  produce(state, (draftState) => {\n    switch (action.type) {\n      case RESET_PROPS: {\n        draftState.currentLayout = null;\n        break;\n      }\n      case SET_LAYOUT: {\n        draftState.currentLayout = action.layout;\n        break;\n      }\n      default:\n        return draftState;\n    }\n  });\n\nexport default editViewManagerReducer;\n","export const GET_DATA = 'ContentManager/ListView/GET_DATA';\nexport const GET_DATA_SUCCEEDED = 'ContentManager/ListView/GET_DATA_SUCCEEDED';\nexport const RESET_PROPS = 'ContentManager/ListView/RESET_PROPS';\nexport const ON_CHANGE_LIST_HEADERS = 'ContentManager/ListView/ON_CHANGE_LIST_HEADERS ';\nexport const ON_RESET_LIST_HEADERS = 'ContentManager/ListView/ON_RESET_LIST_HEADERS ';\nexport const SET_LIST_LAYOUT = 'ContentManager/ListView/SET_LIST_LAYOUT ';\n","/**\n *\n * listView reducer\n */\n\nimport produce from 'immer';\nimport get from 'lodash/get';\n\nimport {\n  GET_DATA,\n  GET_DATA_SUCCEEDED,\n  ON_CHANGE_LIST_HEADERS,\n  ON_RESET_LIST_HEADERS,\n  RESET_PROPS,\n  SET_LIST_LAYOUT,\n} from './constants';\n\nexport const initialState = {\n  data: [],\n  isLoading: true,\n  contentType: {},\n  components: [],\n  initialDisplayedHeaders: [],\n  displayedHeaders: [],\n  pagination: {\n    total: 0,\n  },\n};\n\nconst listViewReducer = (state = initialState, action) =>\n  // eslint-disable-next-line consistent-return\n  produce(state, (draftState) => {\n    switch (action.type) {\n      case GET_DATA: {\n        return {\n          ...initialState,\n          contentType: state.contentType,\n          components: state.components,\n          initialDisplayedHeaders: state.initialDisplayedHeaders,\n          displayedHeaders: state.displayedHeaders,\n        };\n      }\n\n      case GET_DATA_SUCCEEDED: {\n        draftState.pagination = action.pagination;\n        draftState.data = action.data;\n        draftState.isLoading = false;\n        break;\n      }\n\n      case ON_CHANGE_LIST_HEADERS: {\n        const {\n          target: { name, value },\n        } = action;\n\n        if (!value) {\n          const { metadatas, attributes, uid } = state.contentType;\n          const metas = metadatas[name].list;\n          const header = {\n            name,\n            fieldSchema: attributes[name],\n            metadatas: metas,\n            key: `__${name}_key__`,\n          };\n\n          switch (attributes[name].type) {\n            case 'component': {\n              const componentName = attributes[name].component;\n              const mainFieldName = get(\n                state,\n                ['components', componentName, 'settings', 'mainField'],\n                null\n              );\n              const mainFieldAttribute = get(state, [\n                'components',\n                componentName,\n                'attributes',\n                mainFieldName,\n              ]);\n\n              draftState.displayedHeaders.push({\n                ...header,\n                metadatas: {\n                  ...metas,\n                  mainField: {\n                    ...mainFieldAttribute,\n                    name: mainFieldName,\n                  },\n                },\n              });\n              break;\n            }\n\n            case 'relation':\n              draftState.displayedHeaders.push({\n                ...header,\n                queryInfos: {\n                  defaultParams: {},\n                  endPoint: `collection-types/${uid}`,\n                },\n              });\n              break;\n\n            default:\n              draftState.displayedHeaders.push(header);\n          }\n        } else {\n          draftState.displayedHeaders = state.displayedHeaders.filter(\n            (header) => header.name !== name\n          );\n        }\n\n        break;\n      }\n      case ON_RESET_LIST_HEADERS: {\n        draftState.displayedHeaders = state.initialDisplayedHeaders;\n        break;\n      }\n      case RESET_PROPS: {\n        return initialState;\n      }\n      case SET_LIST_LAYOUT: {\n        const { contentType, components, displayedHeaders } = action;\n\n        draftState.contentType = contentType;\n        draftState.components = components;\n        draftState.displayedHeaders = displayedHeaders;\n        draftState.initialDisplayedHeaders = displayedHeaders;\n\n        break;\n      }\n      default:\n        return draftState;\n    }\n  });\n\nexport default listViewReducer;\n","export const GET_DATA = 'ContentManager/CrudReducer/GET_DATA';\nexport const GET_DATA_SUCCEEDED = 'ContentManager/CrudReducer/GET_DATA_SUCCEEDED';\nexport const INIT_FORM = 'ContentManager/CrudReducer/INIT_FORM';\nexport const RESET_PROPS = 'ContentManager/CrudReducer/RESET_PROPS';\nexport const SET_DATA_STRUCTURES = 'ContentManager/CrudReducer/SET_DATA_STRUCTURES';\nexport const SET_STATUS = 'ContentManager/CrudReducer/SET_STATUS';\nexport const SUBMIT_SUCCEEDED = 'ContentManager/CrudReducer/SUBMIT_SUCCEEDED';\nexport const CLEAR_SET_MODIFIED_DATA_ONLY =\n  'ContentManager/CrudReducer/CLEAR_SET_MODIFIED_DATA_ONLY';\n","/* eslint-disable consistent-return */\nimport produce from 'immer';\n\n// NOTE: instead of creating a shared reducer here, we could also create a hook\n// that returns the dispatch and the state, however it will mess with the linter\n// and force us to either disable the linter for the hooks dependencies array rule or\n// require us to add the dispatch to the array which is not wanted. This refacto does not require us to\n// to do any of this.\nimport {\n  CLEAR_SET_MODIFIED_DATA_ONLY,\n  GET_DATA,\n  GET_DATA_SUCCEEDED,\n  INIT_FORM,\n  RESET_PROPS,\n  SET_DATA_STRUCTURES,\n  SET_STATUS,\n  SUBMIT_SUCCEEDED,\n} from './constants';\n\nconst crudInitialState = {\n  componentsDataStructure: {},\n  contentTypeDataStructure: {},\n  isLoading: true,\n  data: null,\n  status: 'resolved',\n  setModifiedDataOnly: false,\n};\n\nconst crudReducer = (state = crudInitialState, action) =>\n  produce(state, (draftState) => {\n    switch (action.type) {\n      case GET_DATA: {\n        draftState.isLoading = true;\n        draftState.data = null;\n        break;\n      }\n      case GET_DATA_SUCCEEDED: {\n        draftState.isLoading = false;\n        draftState.data = action.data;\n        draftState.setModifiedDataOnly = action.setModifiedDataOnly ?? false;\n        break;\n      }\n      case INIT_FORM: {\n        if (action.data) {\n          draftState.isLoading = false;\n          draftState.data = action.data;\n\n          break;\n        }\n\n        draftState.isLoading = false;\n        draftState.data = state.contentTypeDataStructure;\n        break;\n      }\n      case RESET_PROPS: {\n        return crudInitialState;\n      }\n      case SET_DATA_STRUCTURES: {\n        draftState.componentsDataStructure = action.componentsDataStructure;\n        draftState.contentTypeDataStructure = action.contentTypeDataStructure;\n        break;\n      }\n      case SET_STATUS: {\n        draftState.status = action.status;\n        break;\n      }\n      case SUBMIT_SUCCEEDED: {\n        draftState.data = action.data;\n        break;\n      }\n      case CLEAR_SET_MODIFIED_DATA_ONLY: {\n        draftState.setModifiedDataOnly = false;\n        break;\n      }\n      default:\n        return draftState;\n    }\n  });\n\nexport default crudReducer;\nexport { crudInitialState };\n","import produce from 'immer';\n\nimport { ACTION_SET_APP_RUNTIME_STATUS, ACTION_SET_ADMIN_PERMISSIONS } from './constants';\nimport { PermissionMap } from './types/permissions';\n\ninterface State {\n  status: 'init' | 'runtime';\n  permissions: Partial<PermissionMap>;\n}\n\nconst initialState = {\n  permissions: {},\n  status: 'init',\n} satisfies State;\n\ninterface SetAppRuntimeStatusAction {\n  type: typeof ACTION_SET_APP_RUNTIME_STATUS;\n}\n\ninterface SetAdminPermissionsAction {\n  type: typeof ACTION_SET_ADMIN_PERMISSIONS;\n  payload: Record<string, unknown>;\n}\n\ntype Action = SetAppRuntimeStatusAction | SetAdminPermissionsAction;\n\nconst reducer = (state: State = initialState, action: Action) =>\n  /* eslint-disable-next-line consistent-return */\n  produce(state, (draftState) => {\n    switch (action.type) {\n      case ACTION_SET_APP_RUNTIME_STATUS: {\n        draftState.status = 'runtime';\n        break;\n      }\n\n      case ACTION_SET_ADMIN_PERMISSIONS: {\n        draftState.permissions = action.payload;\n        break;\n      }\n\n      default:\n        return draftState;\n    }\n  });\n\nexport { reducer, initialState };\nexport type { State, Action, SetAppRuntimeStatusAction, SetAdminPermissionsAction };\n","import {\n  configureStore,\n  StoreEnhancer,\n  Middleware,\n  Reducer,\n  combineReducers,\n} from '@reduxjs/toolkit';\n\nimport { RBACReducer } from '../../components/RBACProvider';\n// @ts-expect-error no types, yet.\nimport rbacManagerReducer from '../../content-manager/hooks/useSyncRbac/reducer';\n// @ts-expect-error no types, yet.\nimport cmAppReducer from '../../content-manager/pages/App/reducer';\n// @ts-expect-error no types, yet.\nimport editViewLayoutManagerReducer from '../../content-manager/pages/EditViewLayoutManager/reducer';\n// @ts-expect-error no types, yet.\nimport listViewReducer from '../../content-manager/pages/ListView/reducer';\n// @ts-expect-error no types, yet.\nimport editViewCrudReducer from '../../content-manager/sharedReducers/crudReducer/reducer';\nimport { reducer as appReducer } from '../../reducer';\n\n/**\n * @description Static reducers are ones we know, they live in the admin package.\n */\nconst staticReducers = {\n  admin_app: appReducer,\n  rbacProvider: RBACReducer,\n  'content-manager_app': cmAppReducer,\n  'content-manager_listView': listViewReducer,\n  'content-manager_rbacManager': rbacManagerReducer,\n  'content-manager_editViewLayoutManager': editViewLayoutManagerReducer,\n  'content-manager_editViewCrudReducer': editViewCrudReducer,\n} as const;\n\nconst injectReducerStoreEnhancer: (appReducers: Record<string, Reducer>) => StoreEnhancer =\n  (appReducers) =>\n  (next) =>\n  (...args) => {\n    const store = next(...args);\n\n    const asyncReducers: Record<string, Reducer> = {};\n\n    return {\n      ...store,\n      asyncReducers,\n      injectReducer: (key: string, asyncReducer: Reducer) => {\n        asyncReducers[key] = asyncReducer;\n        store.replaceReducer(\n          // @ts-expect-error we dynamically add reducers which makes the types uncomfortable.\n          combineReducers({\n            ...appReducers,\n            ...asyncReducers,\n          })\n        );\n      },\n    };\n  };\n\n/**\n * @description This is the main store configuration function, injected Reducers use our legacy app.addReducer API,\n * which we're trying to phase out. App Middlewares could potentially be improved...?\n */\nconst configureStoreImpl = (\n  appMiddlewares: Array<() => Middleware> = [],\n  injectedReducers: Record<string, Reducer> = {}\n) => {\n  const coreReducers = { ...staticReducers, ...injectedReducers } as const;\n\n  const store = configureStore({\n    reducer: coreReducers,\n    devTools: process.env.NODE_ENV !== 'production',\n    middleware: (getDefaultMiddleware) => [\n      ...getDefaultMiddleware(),\n      ...appMiddlewares.map((m) => m()),\n    ],\n    enhancers: [injectReducerStoreEnhancer(coreReducers)],\n  });\n\n  return store;\n};\n\ntype Store = ReturnType<typeof configureStoreImpl> & {\n  asyncReducers: Record<string, Reducer>;\n  injectReducer: (key: string, asyncReducer: Reducer) => void;\n};\n\ntype RootState = ReturnType<Store['getState']>;\n\nexport { configureStoreImpl as configureStore };\nexport type { RootState, Store };\n","export const getBasename = () => (process.env.ADMIN_PATH ?? '').replace(window.location.origin, '');\n","/* eslint-disable no-await-in-loop */\n/* eslint-disable no-restricted-syntax */\n\nexport type Handler = (...args: any[]) => any;\n\nexport const createHook = () => {\n  const _handlers: Handler[] = [];\n\n  return {\n    register(fn: Handler) {\n      _handlers.push(fn);\n    },\n    delete(handler: Handler) {\n      _handlers.splice(_handlers.indexOf(handler), 1);\n    },\n    runWaterfall<T>(args: T, store?: any) {\n      return _handlers.reduce((acc, fn) => fn(acc, store), args);\n    },\n    async runWaterfallAsync<T>(args: T, store?: any) {\n      let result = args;\n\n      for (const fn of _handlers) {\n        result = await fn(result, store);\n      }\n\n      return result;\n    },\n    runSeries<T extends any[]>(...args: T) {\n      return _handlers.map((fn) => fn(...args));\n    },\n    async runSeriesAsync<T extends any[]>(...args: T) {\n      const result = [];\n\n      for (const fn of _handlers) {\n        result.push(await fn(...args));\n      }\n\n      return result;\n    },\n    runParallel<T extends any[]>(...args: T) {\n      return Promise.all(\n        _handlers.map((fn) => {\n          return fn(...args);\n        })\n      );\n    },\n  };\n};\n","import { useAdmin } from '../../contexts/admin';\nimport {\n  InjectionZoneArea,\n  InjectionZoneBlock,\n  InjectionZoneContainer,\n  InjectionZoneModule,\n} from '../components/InjectionZone';\n\nexport const useInjectionZone = (area: InjectionZoneArea) => {\n  const { getAdminInjectedComponents } = useAdmin();\n\n  const [moduleName, page, position] = area.split('.') as [\n    InjectionZoneModule,\n    InjectionZoneContainer,\n    InjectionZoneBlock\n  ];\n\n  return getAdminInjectedComponents(moduleName, page, position);\n};\n","import * as React from 'react';\n\nimport { useInjectionZone } from '../hooks/useInjectionZone';\n\nconst INJECTION_ZONES = {\n  admin: {\n    // Temporary injection zone, support for the react-tour plugin in foodadvisor\n    tutorials: {\n      links: [],\n    },\n  },\n  contentManager: {\n    editView: { informations: [], 'right-links': [] },\n    listView: {\n      actions: [],\n      deleteModalAdditionalInfos: [],\n      publishModalAdditionalInfos: [],\n      unpublishModalAdditionalInfos: [],\n    },\n  },\n} satisfies InjectionZones;\n\ninterface InjectionZoneComponent {\n  Component: React.ComponentType;\n  name: string;\n  // TODO: in theory this could receive and forward any React component prop\n  // but in practice there only seems to be once instance, where `slug` is\n  // forwarded. The type needs to become either more generic or we disallow\n  // prop spreading and offer a different way to access context data.\n  slug: string;\n}\n\ninterface InjectionZones {\n  admin: {\n    tutorials: {\n      links: InjectionZoneComponent[];\n    };\n  };\n  contentManager: {\n    editView: {\n      informations: InjectionZoneComponent[];\n      'right-links': InjectionZoneComponent[];\n    };\n    listView: {\n      actions: InjectionZoneComponent[];\n      deleteModalAdditionalInfos: InjectionZoneComponent[];\n      publishModalAdditionalInfos: InjectionZoneComponent[];\n      unpublishModalAdditionalInfos: InjectionZoneComponent[];\n    };\n  };\n}\n\ntype InjectionZoneArea =\n  | 'admin.tutorials.links'\n  | 'contentManager.editView.informations'\n  | 'contentManager.editView.right-links'\n  | 'contentManager.listView.actions'\n  | 'contentManager.listView.unpublishModalAdditionalInfos'\n  | 'contentManager.listView.deleteModalAdditionalInfos'\n  | 'contentManager.listView.publishModalAdditionalInfos'\n  | 'contentManager.listView.deleteModalAdditionalInfos';\n\ntype InjectionZoneModule = InjectionZoneArea extends `${infer Word}.${string}` ? Word : never;\ntype InjectionZoneContainer = InjectionZoneArea extends `${string}.${infer Word}.${string}`\n  ? Word\n  : never;\ntype InjectionZoneBlock = InjectionZoneArea extends `${string}.${string}.${infer Word}`\n  ? Word\n  : never;\n\nconst InjectionZone = ({ area, ...props }: { area: InjectionZoneArea }) => {\n  const components = useInjectionZone(area);\n\n  return components.map((component) => <component.Component key={component.name} {...props} />);\n};\n\nexport { InjectionZone, INJECTION_ZONES };\n\nexport type {\n  InjectionZoneArea,\n  InjectionZoneComponent,\n  InjectionZones,\n  InjectionZoneModule,\n  InjectionZoneContainer,\n  InjectionZoneBlock,\n};\n","export const languageNativeNames = {\n  ar: 'ÿßŸÑÿπÿ±ÿ®Ÿäÿ©',\n  ca: 'Catal√†',\n  cs: 'ƒåe≈°tina',\n  de: 'Deutsch',\n  dk: 'Dansk',\n  en: 'English',\n  es: 'Espa√±ol',\n  eu: 'Euskara',\n  fr: 'Fran√ßais',\n  gu: 'Gujarati',\n  he: '◊¢◊ë◊®◊ô◊™',\n  hu: 'Magyar',\n  id: 'Indonesian',\n  it: 'Italiano',\n  ja: 'Êó•Êú¨Ë™û',\n  ko: 'ÌïúÍµ≠Ïñ¥',\n  ml: 'Malayalam',\n  ms: 'Melayu',\n  nl: 'Nederlands',\n  no: 'Norwegian',\n  pl: 'Polski',\n  'pt-BR': 'Portugu√™s (Brasil)',\n  pt: 'Portugu√™s (Portugal)',\n  ru: '–†—É—Å—Å–∫–∏–π',\n  sk: 'Slovenƒçina',\n  sv: 'Swedish',\n  th: '‡πÑ‡∏ó‡∏¢',\n  tr: 'T√ºrk√ße',\n  uk: '–£–∫—Ä–∞—ó–Ω—Å—å–∫–∞',\n  vi: 'Ti·∫øng Vi·ªát',\n  'zh-Hans': '‰∏≠Êñá (ÁÆÄ‰Ωì)',\n  zh: '‰∏≠Êñá (ÁπÅÈ´î)',\n  sa: '‡§∏‡§Ç‡§∏‡•ç‡§ï‡•É‡§§',\n  hi: '‡§π‡§ø‡§®‡•ç‡§¶‡•Ä',\n} as const;\n","import { ReducersMapObject } from '@reduxjs/toolkit';\nimport { darkTheme, lightTheme } from '@strapi/design-system';\nimport { MenuItem, StrapiAppSetting, StrapiAppSettingLink } from '@strapi/helper-plugin';\nimport invariant from 'invariant';\nimport isFunction from 'lodash/isFunction';\nimport merge from 'lodash/merge';\nimport pick from 'lodash/pick';\nimport { Helmet } from 'react-helmet';\nimport { BrowserRouter } from 'react-router-dom';\nimport { DefaultTheme } from 'styled-components';\n\nimport { App } from './App';\nimport Logo from './assets/images/logo-strapi-2022.svg';\nimport { LANGUAGE_LOCAL_STORAGE_KEY } from './components/LanguageProvider';\nimport { Providers } from './components/Providers';\nimport { HOOKS } from './constants';\nimport { Components, Component } from './core/apis/Components';\nimport { CustomFields } from './core/apis/CustomFields';\nimport { Field, Fields } from './core/apis/Fields';\nimport { Middleware, Middlewares } from './core/apis/Middlewares';\nimport { Plugin, PluginConfig } from './core/apis/Plugin';\nimport { Reducers } from './core/apis/Reducers';\nimport { Store, configureStore } from './core/store/configure';\nimport { getBasename } from './core/utils/basename';\nimport { Handler, createHook } from './core/utils/createHook';\nimport {\n  INJECTION_ZONES,\n  InjectionZoneBlock,\n  InjectionZoneComponent,\n  InjectionZoneContainer,\n  InjectionZoneModule,\n  InjectionZones,\n} from './shared/components/InjectionZone';\nimport { languageNativeNames } from './translations/languageNativeNames';\n\nconst {\n  INJECT_COLUMN_IN_TABLE,\n  MUTATE_COLLECTION_TYPES_LINKS,\n  MUTATE_EDIT_VIEW_LAYOUT,\n  MUTATE_SINGLE_TYPES_LINKS,\n} = HOOKS;\n\ninterface StrapiAppConstructorArgs extends Partial<Pick<StrapiApp, 'appPlugins'>> {\n  adminConfig?: {\n    config?: StrapiApp['customConfigurations'];\n    bootstrap?: StrapiApp['customBootstrapConfiguration'];\n  };\n}\n\ninterface StrapiAppPlugin {\n  bootstrap: (\n    args: Pick<\n      StrapiApp,\n      | 'addSettingsLink'\n      | 'addSettingsLinks'\n      | 'getPlugin'\n      | 'injectContentManagerComponent'\n      | 'injectAdminComponent'\n      | 'registerHook'\n    >\n  ) => void;\n  register: (app: StrapiApp) => void;\n  registerTrads: (args: {\n    locales: string[];\n  }) => Promise<{ data: Record<string, string>; locale: string }[]>;\n}\n\nclass StrapiApp {\n  admin: {\n    injectionZones: InjectionZones;\n  };\n  appPlugins: Record<string, StrapiAppPlugin>;\n  configurations: {\n    authLogo: string;\n    head: { favicon: string };\n    locales: string[];\n    menuLogo: string;\n    notifications: { releases: boolean };\n    themes: { light: DefaultTheme; dark: DefaultTheme };\n    translations: Record<string, Record<string, string>>;\n    tutorials: boolean;\n  };\n  customBootstrapConfiguration: unknown;\n  customConfigurations: {\n    auth?: { logo: string };\n    head?: { favicon: string };\n    locales?: string[];\n    menu?: { logo: string };\n    notifications?: { releases: boolean };\n    theme?: { light: DefaultTheme; dark: DefaultTheme };\n    translations?: Record<string, unknown>;\n    tutorials?: boolean;\n  };\n  customFields: CustomFields;\n  hooksDict: Record<string, ReturnType<typeof createHook>>;\n  library: {\n    components: Components;\n    fields: Fields;\n  };\n  menu: MenuItem[];\n  middlewares: Middlewares;\n  plugins: Record<string, Plugin>;\n  reducers: Reducers;\n  settings: Record<string, StrapiAppSetting>;\n  translations: StrapiApp['configurations']['translations'];\n\n  constructor({ adminConfig, appPlugins }: StrapiAppConstructorArgs = {}) {\n    this.customConfigurations = adminConfig?.config ?? {};\n    this.customBootstrapConfiguration = adminConfig?.bootstrap;\n    this.configurations = {\n      authLogo: Logo,\n      head: { favicon: '' },\n      locales: ['en'],\n      menuLogo: Logo,\n      notifications: { releases: true },\n      themes: { light: lightTheme, dark: darkTheme },\n      translations: {},\n      tutorials: true,\n    };\n    this.appPlugins = appPlugins || {};\n    this.library = {\n      components: new Components(),\n      fields: new Fields(),\n    };\n    this.middlewares = new Middlewares();\n    this.plugins = {};\n    this.reducers = new Reducers();\n    this.translations = {};\n    this.hooksDict = {};\n    this.admin = {\n      injectionZones: INJECTION_ZONES,\n    };\n    this.customFields = new CustomFields();\n    this.menu = [];\n    this.settings = {\n      global: {\n        id: 'global',\n        intlLabel: {\n          id: 'Settings.global',\n          defaultMessage: 'Global Settings',\n        },\n        links: [],\n      },\n    };\n  }\n\n  addComponents = (components: Component | Component[]) => {\n    if (Array.isArray(components)) {\n      components.map((compo) => this.library.components.add(compo));\n    } else {\n      this.library.components.add(components);\n    }\n  };\n\n  addCorePluginMenuLink = (link: MenuItem) => {\n    const stringifiedLink = JSON.stringify(link);\n\n    invariant(link.to, `link.to should be defined for ${stringifiedLink}`);\n    invariant(\n      typeof link.to === 'string',\n      `Expected link.to to be a string instead received ${typeof link.to}`\n    );\n    invariant(\n      ['/plugins/content-type-builder', '/plugins/upload'].includes(link.to),\n      'This method is not available for your plugin'\n    );\n    invariant(\n      link.intlLabel?.id && link.intlLabel?.defaultMessage,\n      `link.intlLabel.id & link.intlLabel.defaultMessage for ${stringifiedLink}`\n    );\n\n    this.menu.push(link);\n  };\n\n  addFields = (fields: Field | Field[]) => {\n    if (Array.isArray(fields)) {\n      fields.map((field) => this.library.fields.add(field));\n    } else {\n      this.library.fields.add(fields);\n    }\n  };\n\n  addMenuLink = (link: MenuItem) => {\n    const stringifiedLink = JSON.stringify(link);\n\n    invariant(link.to, `link.to should be defined for ${stringifiedLink}`);\n    invariant(\n      typeof link.to === 'string',\n      `Expected link.to to be a string instead received ${typeof link.to}`\n    );\n    invariant(\n      link.intlLabel?.id && link.intlLabel?.defaultMessage,\n      `link.intlLabel.id & link.intlLabel.defaultMessage for ${stringifiedLink}`\n    );\n    invariant(\n      link.Component && typeof link.Component === 'function',\n      `link.Component should be a valid React Component`\n    );\n    invariant(\n      link.icon && typeof link.icon === 'function',\n      `link.Icon should be a valid React Component`\n    );\n\n    this.menu.push(link);\n  };\n\n  addMiddlewares = (middlewares: Middleware[]) => {\n    middlewares.forEach((middleware) => {\n      this.middlewares.add(middleware);\n    });\n  };\n\n  addReducers = (reducers: ReducersMapObject) => {\n    Object.keys(reducers).forEach((reducerName) => {\n      this.reducers.add(reducerName, reducers[reducerName]);\n    });\n  };\n\n  addSettingsLink = (sectionId: keyof StrapiApp['settings'], link: StrapiAppSettingLink) => {\n    invariant(this.settings[sectionId], 'The section does not exist');\n\n    const stringifiedLink = JSON.stringify(link);\n\n    invariant(link.id, `link.id should be defined for ${stringifiedLink}`);\n    invariant(\n      link.intlLabel?.id && link.intlLabel?.defaultMessage,\n      `link.intlLabel.id & link.intlLabel.defaultMessage for ${stringifiedLink}`\n    );\n    invariant(link.to, `link.to should be defined for ${stringifiedLink}`);\n    invariant(\n      link.Component && typeof link.Component === 'function',\n      `link.Component should be a valid React Component`\n    );\n\n    this.settings[sectionId].links.push(link);\n  };\n\n  addSettingsLinks = (sectionId: keyof StrapiApp['settings'], links: StrapiAppSettingLink[]) => {\n    invariant(this.settings[sectionId], 'The section does not exist');\n    invariant(Array.isArray(links), 'TypeError expected links to be an array');\n\n    links.forEach((link) => {\n      this.addSettingsLink(sectionId, link);\n    });\n  };\n\n  async bootstrap() {\n    Object.keys(this.appPlugins).forEach((plugin) => {\n      const bootstrap = this.appPlugins[plugin].bootstrap;\n\n      if (bootstrap) {\n        bootstrap({\n          addSettingsLink: this.addSettingsLink,\n          addSettingsLinks: this.addSettingsLinks,\n          getPlugin: this.getPlugin,\n          injectContentManagerComponent: this.injectContentManagerComponent,\n          injectAdminComponent: this.injectAdminComponent,\n          registerHook: this.registerHook,\n        });\n      }\n    });\n\n    if (isFunction(this.customBootstrapConfiguration)) {\n      this.customBootstrapConfiguration({\n        addComponents: this.addComponents,\n        addFields: this.addFields,\n        addMenuLink: this.addMenuLink,\n        addReducers: this.addReducers,\n        addSettingsLink: this.addSettingsLink,\n        addSettingsLinks: this.addSettingsLinks,\n        getPlugin: this.getPlugin,\n        injectContentManagerComponent: this.injectContentManagerComponent,\n        injectAdminComponent: this.injectAdminComponent,\n        registerHook: this.registerHook,\n      });\n    }\n  }\n\n  bootstrapAdmin = async () => {\n    await this.createCustomConfigurations();\n\n    this.createHook(INJECT_COLUMN_IN_TABLE);\n    this.createHook(MUTATE_COLLECTION_TYPES_LINKS);\n    this.createHook(MUTATE_SINGLE_TYPES_LINKS);\n    this.createHook(MUTATE_EDIT_VIEW_LAYOUT);\n\n    return Promise.resolve();\n  };\n\n  createCustomConfigurations = async () => {\n    if (this.customConfigurations?.locales) {\n      this.configurations.locales = [\n        'en',\n        ...(this.customConfigurations.locales?.filter((loc) => loc !== 'en') || []),\n      ];\n    }\n\n    if (this.customConfigurations?.auth?.logo) {\n      this.configurations.authLogo = this.customConfigurations.auth.logo;\n    }\n\n    if (this.customConfigurations?.menu?.logo) {\n      this.configurations.menuLogo = this.customConfigurations.menu.logo;\n    }\n\n    if (this.customConfigurations?.head?.favicon) {\n      this.configurations.head.favicon = this.customConfigurations.head.favicon;\n    }\n\n    if (this.customConfigurations?.theme) {\n      const darkTheme = this.customConfigurations.theme.dark;\n      const lightTheme = this.customConfigurations.theme.light;\n\n      if (!darkTheme && !lightTheme) {\n        console.warn(\n          `[deprecated] In future versions, Strapi will stop supporting this theme customization syntax. The theme configuration accepts a light and a dark key to customize each theme separately. See https://docs.strapi.io/developer-docs/latest/development/admin-customization.html#theme-extension.`\n        );\n        merge(this.configurations.themes.light, this.customConfigurations.theme);\n      }\n\n      if (lightTheme) merge(this.configurations.themes.light, lightTheme);\n\n      if (darkTheme) merge(this.configurations.themes.dark, darkTheme);\n    }\n\n    if (this.customConfigurations?.notifications?.releases !== undefined) {\n      this.configurations.notifications.releases = this.customConfigurations.notifications.releases;\n    }\n\n    if (this.customConfigurations?.tutorials !== undefined) {\n      this.configurations.tutorials = this.customConfigurations.tutorials;\n    }\n  };\n\n  createHook = (name: string) => {\n    this.hooksDict[name] = createHook();\n  };\n\n  createSettingSection = (section: StrapiAppSetting, links: StrapiAppSettingLink[]) => {\n    invariant(section.id, 'section.id should be defined');\n    invariant(\n      section.intlLabel?.id && section.intlLabel?.defaultMessage,\n      'section.intlLabel should be defined'\n    );\n\n    invariant(Array.isArray(links), 'TypeError expected links to be an array');\n    invariant(this.settings[section.id] === undefined, 'A similar section already exists');\n\n    this.settings[section.id] = { ...section, links: [] };\n\n    links.forEach((link) => {\n      this.addSettingsLink(section.id, link);\n    });\n  };\n\n  createStore = () => {\n    const store = configureStore(this.middlewares.middlewares, this.reducers.reducers);\n\n    return store as Store;\n  };\n\n  getAdminInjectedComponents = (\n    moduleName: InjectionZoneModule,\n    containerName: InjectionZoneContainer,\n    blockName: InjectionZoneBlock\n  ): InjectionZoneComponent[] => {\n    try {\n      // @ts-expect-error ‚Äì we have a catch block so if you don't pass it correctly we still return an array.\n      return this.admin.injectionZones[moduleName][containerName][blockName] || [];\n    } catch (err) {\n      console.error('Cannot get injected component', err);\n\n      return [];\n    }\n  };\n\n  getPlugin = (pluginId: PluginConfig['id']) => {\n    return this.plugins[pluginId];\n  };\n\n  async initialize() {\n    Object.keys(this.appPlugins).forEach((plugin) => {\n      this.appPlugins[plugin].register(this);\n    });\n  }\n\n  injectContentManagerComponent = <TContainerName extends keyof InjectionZones['contentManager']>(\n    containerName: TContainerName,\n    blockName: keyof InjectionZones['contentManager'][TContainerName],\n    component: InjectionZoneComponent\n  ) => {\n    invariant(\n      this.admin.injectionZones.contentManager[containerName]?.[blockName],\n      `The ${containerName} ${String(blockName)} zone is not defined in the content manager`\n    );\n    invariant(component, 'A Component must be provided');\n\n    // @ts-expect-error ‚Äì we've alredy checked above that the block exists.\n    this.admin.injectionZones.contentManager[containerName][blockName].push(component);\n  };\n\n  injectAdminComponent = <TContainerName extends keyof InjectionZones['admin']>(\n    containerName: TContainerName,\n    blockName: keyof InjectionZones['admin'][TContainerName],\n    component: InjectionZoneComponent\n  ) => {\n    invariant(\n      this.admin.injectionZones.admin[containerName]?.[blockName],\n      `The ${containerName} ${String(blockName)} zone is not defined in the admin`\n    );\n    invariant(component, 'A Component must be provided');\n\n    // @ts-expect-error ‚Äì we've alredy checked above that the block exists.\n    this.admin.injectionZones.admin[containerName][blockName].push(component);\n  };\n\n  /**\n   * Load the admin translations\n   * @returns {Object} The imported admin translations\n   */\n  async loadAdminTrads() {\n    const arrayOfPromises = this.configurations.locales.map((locale) => {\n      return import(`./translations/${locale}.json`)\n        .then(({ default: data }) => {\n          return { data, locale };\n        })\n        .catch(() => {\n          return { data: null, locale };\n        });\n    });\n    const adminLocales = await Promise.all(arrayOfPromises);\n\n    const translations = adminLocales.reduce<{ [locale: string]: Record<string, string> }>(\n      (acc, current) => {\n        if (current.data) {\n          acc[current.locale] = current.data;\n        }\n\n        return acc;\n      },\n      {}\n    );\n\n    return translations;\n  }\n\n  /**\n   * Load the application's translations and merged the custom translations\n   * with the default ones.\n   *\n   */\n  async loadTrads() {\n    const adminTranslations = await this.loadAdminTrads();\n\n    const arrayOfPromises = Object.keys(this.appPlugins)\n      .map((plugin) => {\n        const registerTrads = this.appPlugins[plugin].registerTrads;\n\n        if (registerTrads) {\n          return registerTrads({ locales: this.configurations.locales });\n        }\n\n        return null;\n      })\n      .filter((a) => a);\n\n    type Translation = Awaited<ReturnType<StrapiAppPlugin['registerTrads']>>[number];\n\n    const pluginsTrads = (await Promise.all(arrayOfPromises)) as Array<Translation[]>;\n    const mergedTrads = pluginsTrads.reduce<{ [locale: string]: Translation['data'] }>(\n      (acc, currentPluginTrads) => {\n        const pluginTrads = currentPluginTrads.reduce<{ [locale: string]: Translation['data'] }>(\n          (acc1, current) => {\n            acc1[current.locale] = current.data;\n\n            return acc1;\n          },\n          {}\n        );\n\n        Object.keys(pluginTrads).forEach((locale) => {\n          acc[locale] = { ...acc[locale], ...pluginTrads[locale] };\n        });\n\n        return acc;\n      },\n      {}\n    );\n\n    const translations = this.configurations.locales.reduce<{\n      [locale: string]: Translation['data'];\n    }>((acc, current) => {\n      acc[current] = {\n        ...adminTranslations[current],\n        ...(mergedTrads[current] || {}),\n        ...(this.customConfigurations?.translations?.[current] ?? {}),\n      };\n\n      return acc;\n    }, {});\n\n    this.configurations.translations = translations;\n\n    return Promise.resolve();\n  }\n\n  registerHook = (name: string, fn: Handler) => {\n    invariant(\n      this.hooksDict[name],\n      `The hook ${name} is not defined. You are trying to register a hook that does not exist in the application.`\n    );\n    this.hooksDict[name].register(fn);\n  };\n\n  registerPlugin = (pluginConf: PluginConfig) => {\n    const plugin = new Plugin(pluginConf);\n\n    this.plugins[plugin.pluginId] = plugin;\n  };\n\n  runHookSeries = (name: string, asynchronous = false) =>\n    asynchronous ? this.hooksDict[name].runSeriesAsync() : this.hooksDict[name].runSeries();\n\n  runHookWaterfall = (\n    name: string,\n    initialValue: unknown,\n    asynchronous = false,\n    store?: unknown\n  ) => {\n    return asynchronous\n      ? this.hooksDict[name].runWaterfallAsync(initialValue, store)\n      : this.hooksDict[name].runWaterfall(initialValue, store);\n  };\n\n  runHookParallel = (name: string) => this.hooksDict[name].runParallel();\n\n  render() {\n    const store = this.createStore();\n    const localeNames = pick(languageNativeNames, this.configurations.locales || []);\n\n    const {\n      components: { components },\n      fields: { fields },\n    } = this.library;\n\n    return (\n      <Providers\n        authLogo={this.configurations.authLogo}\n        components={components}\n        fields={fields}\n        customFields={this.customFields}\n        localeNames={localeNames}\n        getAdminInjectedComponents={this.getAdminInjectedComponents}\n        getPlugin={this.getPlugin}\n        messages={this.configurations.translations}\n        menu={this.menu}\n        menuLogo={this.configurations.menuLogo}\n        plugins={this.plugins}\n        runHookParallel={this.runHookParallel}\n        runHookWaterfall={(name, initialValue, async = false) => {\n          return this.runHookWaterfall(name, initialValue, async, store);\n        }}\n        runHookSeries={this.runHookSeries}\n        themes={this.configurations.themes}\n        settings={this.settings}\n        showTutorials={this.configurations.tutorials}\n        showReleaseNotification={this.configurations.notifications.releases}\n        store={store}\n      >\n        <Helmet\n          htmlAttributes={{ lang: localStorage.getItem(LANGUAGE_LOCAL_STORAGE_KEY) || 'en' }}\n        />\n        <BrowserRouter basename={getBasename()}>\n          <App />\n        </BrowserRouter>\n      </Providers>\n    );\n  }\n}\n\nexport { StrapiApp, StrapiAppConstructorArgs };\n","/* eslint-disable no-undef */\nimport { getFetchClient } from '@strapi/helper-plugin';\nimport { createRoot } from 'react-dom/client';\n\nimport { StrapiApp, StrapiAppConstructorArgs } from './StrapiApp';\n\nimport type { FeaturesService } from '@strapi/types';\n\ninterface RenderAdminArgs {\n  customisations: StrapiAppConstructorArgs['adminConfig'];\n  plugins: StrapiAppConstructorArgs['appPlugins'];\n  features?: FeaturesService['config'];\n}\n\nconst renderAdmin = async (\n  mountNode: HTMLElement | null,\n  { plugins, customisations, features }: RenderAdminArgs\n) => {\n  if (!mountNode) {\n    throw new Error('[@strapi/admin]: Could not find the root element to mount the admin app');\n  }\n\n  window.strapi = {\n    /**\n     * This ENV variable is passed from the strapi instance, by default no url is set\n     * in the config and therefore the instance returns you an empty string so URLs are relative.\n     *\n     * To ensure that the backendURL is always set, we use the window.location.origin as a fallback.\n     */\n    backendURL: process.env.STRAPI_ADMIN_BACKEND_URL || window.location.origin,\n    isEE: false,\n    telemetryDisabled: process.env.STRAPI_TELEMETRY_DISABLED === 'true' ? true : false,\n    future: {\n      isEnabled: (name: keyof FeaturesService['config']) => {\n        return features?.future?.[name] === true;\n      },\n    },\n    // @ts-expect-error ‚Äì there's pollution from the global scope of Node.\n    features: {\n      SSO: 'sso',\n      AUDIT_LOGS: 'audit-logs',\n      REVIEW_WORKFLOWS: 'review-workflows',\n      /**\n       * If we don't get the license then we know it's not EE\n       * so no feature is enabled.\n       */\n      isEnabled: () => false,\n    },\n    projectType: 'Community',\n    flags: {\n      nps: false,\n      promoteEE: true,\n    },\n  };\n\n  const { get } = getFetchClient();\n\n  interface ProjectType extends Pick<Window['strapi'], 'flags'> {\n    isEE: boolean;\n    features: {\n      name: string;\n    }[];\n  }\n\n  try {\n    const {\n      data: {\n        data: { isEE, features, flags },\n      },\n    } = await get<{ data: ProjectType }>('/admin/project-type');\n\n    window.strapi.isEE = isEE;\n    window.strapi.flags = flags;\n    window.strapi.features = {\n      ...window.strapi.features,\n      isEnabled: (featureName) => features.some((feature) => feature.name === featureName),\n    };\n    window.strapi.projectType = isEE ? 'Enterprise' : 'Community';\n  } catch (err) {\n    /**\n     * If this fails, we simply don't activate any EE features.\n     * Should we warn clearer in the UI?\n     */\n    console.error(err);\n  }\n\n  const app = new StrapiApp({\n    adminConfig: customisations,\n    appPlugins: plugins,\n  });\n\n  await app.bootstrapAdmin();\n  await app.initialize();\n  await app.bootstrap();\n  await app.loadTrads();\n\n  createRoot(mountNode).render(app.render());\n\n  if (\n    typeof module !== 'undefined' &&\n    module &&\n    'hot' in module &&\n    typeof module.hot === 'object' &&\n    module.hot !== null &&\n    'accept' in module.hot &&\n    typeof module.hot.accept === 'function'\n  ) {\n    module.hot.accept();\n  }\n};\n\nexport { renderAdmin };\nexport type { RenderAdminArgs };\n"],"names":["jsx","jsxs","useLocation","Route","auth","Redirect","createContext","useCallbackRef","React","reducer","initialState","locale","defaultsDeep","IntlProvider","styled","Box","Flex","useIntl","SingleSelect","SingleSelectOption","FieldAction","yup","translatedErrors","useFetchClient","useQuery","useHistory","useMutation","camelCase","Main","Typography","Formik","Form","TextInput","PasswordInput","Eye","EyeStriked","Checkbox","Button","Link","NavLink","Field","useTheme","useNotification","useAppInfo","Portal","IconButton","Cross","FieldLabel","VisuallyHidden","FieldInput","Textarea","usePersistentState","useTracking","useGuidedTour","useRouteMatch","useAPIErrorHandler","get","useReactQuery","formik","omit","ValidationError","getYupInnerErrors","Grid","GridItem","Login","LoginCE","useFocusWhenNavigate","HeaderLayout","ContentLayout","EmptyStateLayout","LinkButton","ArrowRight","EmptyPictures","parse","pxToRem","Select","Option","TextButton","LoadingIndicatorPage","merge","useDispatch","hasAdmin","uuid","prefixFileUrlWithBackendUrl","SkipToContent","TrackingProvider","Switch","menuLogo","authLogo","currentStep","GuidedTourProviderComponent","produce","set","DesignSystemProvider","createGlobalStyle","QueryClient","QueryClientProvider","Provider","StrapiAppProvider","LibraryProvider","CustomFieldsProvider","AutoReloadOverlayBlockerProvider","OverlayBlockerProvider","NotificationsProvider","invariant","options","useStore","useSelector","createSelector","RBACContext","SET_PERMISSIONS","action","RESET_PROPS","GET_DATA","GET_DATA_SUCCEEDED","appReducer","cmAppReducer","editViewLayoutManagerReducer","editViewCrudReducer","combineReducers","configureStore","Logo","lightTheme","darkTheme","isFunction","pick","Helmet","BrowserRouter","getFetchClient","features","createRoot"],"mappings":"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"}
diff --git a/node_modules/@strapi/admin/dist/_chunks/index-8933483b.mjs b/node_modules/@strapi/admin/dist/_chunks/index-8933483b.mjs
index 8c26ae0..5c68e2d 100644
--- a/node_modules/@strapi/admin/dist/_chunks/index-8933483b.mjs
+++ b/node_modules/@strapi/admin/dist/_chunks/index-8933483b.mjs
@@ -75,7 +75,7 @@ const DefaultDocument = () => {
       /* @__PURE__ */ jsx("meta", { name: "viewport", content: "width=device-width, initial-scale=1, viewport-fit=cover" }),
       /* @__PURE__ */ jsx("meta", { name: "robots", content: "noindex" }),
       /* @__PURE__ */ jsx("meta", { name: "referrer", content: "same-origin" }),
-      /* @__PURE__ */ jsx("title", { children: "Strapi Admin" }),
+      /* @__PURE__ */ jsx("title", { children: "MotorsEra OnBoarding" }),
       /* @__PURE__ */ jsx("style", { children: globalStyles })
     ] }),
     /* @__PURE__ */ jsxs("body", { children: [
@@ -492,7 +492,7 @@ const Login = ({ children }) => {
         }) }) }),
         /* @__PURE__ */ jsx(Box, { paddingBottom: 7, children: /* @__PURE__ */ jsx(Typography, { variant: "epsilon", textColor: "neutral600", children: formatMessage({
           id: "Auth.form.welcome.subtitle",
-          defaultMessage: "Log in to your Strapi account"
+          defaultMessage: "Log in to your MotorsEra account"
         }) }) }),
         mutation.isError && apiError ? /* @__PURE__ */ jsx(Typography, { id: "global-form-error", role: "alert", tabIndex: -1, textColor: "danger600", children: apiError }) : null
       ] }),
@@ -1126,7 +1126,7 @@ const Register = ({ hasAdmin }) => {
       /* @__PURE__ */ jsx(Logo, {}),
       /* @__PURE__ */ jsx(Typography, { as: "h1", variant: "alpha", textAlign: "center", children: formatMessage({
         id: "Auth.form.welcome.title",
-        defaultMessage: "Welcome to Strapi!"
+        defaultMessage: "Welcome"
       }) }),
       /* @__PURE__ */ jsx(Typography, { variant: "epsilon", textColor: "neutral600", textAlign: "center", children: formatMessage({
         id: "Auth.form.register.subtitle",
diff --git a/node_modules/@strapi/admin/dist/_chunks/index-8933483b.mjs.map b/node_modules/@strapi/admin/dist/_chunks/index-8933483b.mjs.map
index e746884..b3ba32b 100644
--- a/node_modules/@strapi/admin/dist/_chunks/index-8933483b.mjs.map
+++ b/node_modules/@strapi/admin/dist/_chunks/index-8933483b.mjs.map
@@ -1 +1 @@
-{"version":3,"file":"index-8933483b.mjs","sources":["../../admin/src/components/NoJavascript.tsx","../../admin/src/components/DefaultDocument.tsx","../../admin/src/components/PrivateRoute.tsx","../../admin/src/constants.ts","../../admin/src/contexts/configuration.ts","../../admin/src/hooks/useEnterprise.ts","../../admin/src/components/LanguageProvider.tsx","../../admin/src/components/UnauthenticatedLogo.tsx","../../admin/src/layouts/UnauthenticatedLayout.tsx","../../admin/src/pages/Auth/components/FieldActionWrapper.tsx","../../admin/src/pages/Auth/components/Login.tsx","../../admin/src/pages/Auth/components/ForgotPassword.tsx","../../admin/src/pages/Auth/components/ForgotPasswordSuccess.tsx","../../admin/src/pages/Auth/components/Oops.tsx","../../admin/src/components/NpsSurvey.tsx","../../admin/src/pages/Auth/components/Register.tsx","../../admin/src/pages/Auth/components/ResetPassword.tsx","../../admin/src/pages/Auth/constants.ts","../../admin/src/pages/Auth/AuthPage.tsx","../../admin/src/pages/NotFoundPage.tsx","../../admin/src/pages/UseCasePage.tsx","../../admin/src/utils/createRoute.tsx","../../admin/src/App.tsx","../../admin/src/assets/images/logo-strapi-2022.svg","../../admin/src/contexts/admin.ts","../../admin/src/components/ConfigurationProvider.tsx","../../admin/src/components/GuidedTour/Provider.tsx","../../admin/src/contexts/themeToggle.ts","../../admin/src/components/Theme.tsx","../../admin/src/components/ThemeToggleProvider.tsx","../../admin/src/components/Providers.tsx","../../admin/src/core/apis/Components.ts","../../admin/src/core/apis/CustomFields.ts","../../admin/src/core/apis/Fields.ts","../../admin/src/core/apis/Middlewares.ts","../../admin/src/core/apis/Plugin.ts","../../admin/src/core/apis/Reducers.ts","../../admin/src/core/store/hooks.ts","../../admin/src/components/RBACProvider.tsx","../../admin/src/content-manager/hooks/useSyncRbac/constants.js","../../admin/src/content-manager/hooks/useSyncRbac/reducer.js","../../admin/src/content-manager/pages/App/constants.js","../../admin/src/content-manager/pages/App/reducer.js","../../admin/src/content-manager/pages/EditViewLayoutManager/constants.js","../../admin/src/content-manager/pages/EditViewLayoutManager/reducer.js","../../admin/src/content-manager/pages/ListView/constants.js","../../admin/src/content-manager/pages/ListView/reducer.js","../../admin/src/content-manager/sharedReducers/crudReducer/constants.js","../../admin/src/content-manager/sharedReducers/crudReducer/reducer.js","../../admin/src/reducer.ts","../../admin/src/core/store/configure.ts","../../admin/src/core/utils/basename.ts","../../admin/src/core/utils/createHook.ts","../../admin/src/shared/hooks/useInjectionZone.ts","../../admin/src/shared/components/InjectionZone.tsx","../../admin/src/translations/languageNativeNames.ts","../../admin/src/StrapiApp.tsx","../../admin/src/render.ts"],"sourcesContent":["const styles = `\n.strapi--root {\n  position: absolute;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  background: #fff;\n}\n\n.strapi--no-js {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  text-align: center;\n  font-family: helvetica, arial, sans-serif;\n}\n`;\n\n/**\n * @internal\n *\n * @description this belongs to our default document that we render.\n */\nconst NoJavascript = () => {\n  return (\n    <noscript>\n      <div className=\"strapi--root\">\n        <div className=\"strapi--no-js\">\n          <style type=\"text/css\">{styles}</style>\n          <h1>JavaScript disabled</h1>\n          <p>\n            Please <a href=\"https://www.enable-javascript.com/\">enable JavaScript</a> in your\n            browser and reload the page to proceed.\n          </p>\n        </div>\n      </div>\n    </noscript>\n  );\n};\n\nexport { NoJavascript };\n","import { NoJavascript } from './NoJavascript';\n\n/**\n * TODO: add favicons.........\n */\n\nconst globalStyles = `\n  html,\n  body,\n  #strapi {\n    height: 100%;\n  }\n  body {\n    margin: 0;\n    -webkit-font-smoothing: antialiased;\n  }\n`;\n\n/**\n * @internal\n */\nconst DefaultDocument = () => {\n  return (\n    <html lang=\"en\">\n      <head>\n        <meta charSet=\"utf-8\" />\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, viewport-fit=cover\" />\n        <meta name=\"robots\" content=\"noindex\" />\n        <meta name=\"referrer\" content=\"same-origin\" />\n\n        <title>Strapi Admin</title>\n        <style>{globalStyles}</style>\n      </head>\n      <body>\n        <div id=\"strapi\" />\n        <NoJavascript />\n      </body>\n    </html>\n  );\n};\n\nexport { DefaultDocument };\n","import * as React from 'react';\n\nimport { auth } from '@strapi/helper-plugin';\nimport { Redirect, Route, useLocation } from 'react-router-dom';\n\ntype PropsOf<T> = T extends React.ComponentType<infer P> ? P : object;\n\ntype PrivateRouteProps<TComponent extends React.ElementType> = {\n  component: TComponent;\n  path: string;\n} & PropsOf<TComponent>;\n\nconst PrivateRoute = <TComponent extends React.ElementType>({\n  component: Component,\n  path,\n  ...rest\n}: PrivateRouteProps<TComponent>) => {\n  const { pathname, search } = useLocation();\n\n  return (\n    <Route\n      path={path}\n      render={(props) =>\n        auth.getToken() !== null ? (\n          <Component {...rest} {...props} />\n        ) : (\n          <Redirect\n            to={{\n              pathname: '/auth/login',\n              search:\n                pathname !== '/'\n                  ? `?redirectTo=${encodeURIComponent(`${pathname}${search}`)}`\n                  : undefined,\n            }}\n          />\n        )\n      }\n    />\n  );\n};\n\nexport { PrivateRoute };\n","import { StrapiAppSettingLink } from '@strapi/helper-plugin';\n\nexport const ADMIN_PERMISSIONS_CE = {\n  contentManager: {\n    main: [],\n    collectionTypesConfigurations: [\n      {\n        action: 'plugin::content-manager.collection-types.configure-view',\n        subject: null,\n      },\n    ],\n    componentsConfigurations: [\n      {\n        action: 'plugin::content-manager.components.configure-layout',\n        subject: null,\n      },\n    ],\n    singleTypesConfigurations: [\n      {\n        action: 'plugin::content-manager.single-types.configure-view',\n        subject: null,\n      },\n    ],\n  },\n  marketplace: {\n    main: [{ action: 'admin::marketplace.read', subject: null }],\n    read: [{ action: 'admin::marketplace.read', subject: null }],\n  },\n  settings: {\n    roles: {\n      main: [\n        { action: 'admin::roles.create', subject: null },\n        { action: 'admin::roles.update', subject: null },\n        { action: 'admin::roles.read', subject: null },\n        { action: 'admin::roles.delete', subject: null },\n      ],\n      create: [{ action: 'admin::roles.create', subject: null }],\n      delete: [{ action: 'admin::roles.delete', subject: null }],\n      read: [{ action: 'admin::roles.read', subject: null }],\n      update: [{ action: 'admin::roles.update', subject: null }],\n    },\n    users: {\n      main: [\n        { action: 'admin::users.create', subject: null },\n        { action: 'admin::users.read', subject: null },\n        { action: 'admin::users.update', subject: null },\n        { action: 'admin::users.delete', subject: null },\n      ],\n      create: [{ action: 'admin::users.create', subject: null }],\n      delete: [{ action: 'admin::users.delete', subject: null }],\n      read: [{ action: 'admin::users.read', subject: null }],\n      update: [{ action: 'admin::users.update', subject: null }],\n    },\n    webhooks: {\n      main: [\n        { action: 'admin::webhooks.create', subject: null },\n        { action: 'admin::webhooks.read', subject: null },\n        { action: 'admin::webhooks.update', subject: null },\n        { action: 'admin::webhooks.delete', subject: null },\n      ],\n      create: [{ action: 'admin::webhooks.create', subject: null }],\n      delete: [{ action: 'admin::webhooks.delete', subject: null }],\n      read: [\n        { action: 'admin::webhooks.read', subject: null },\n        // NOTE: We need to check with the API\n        { action: 'admin::webhooks.update', subject: null },\n        { action: 'admin::webhooks.delete', subject: null },\n      ],\n      update: [{ action: 'admin::webhooks.update', subject: null }],\n    },\n    'api-tokens': {\n      main: [{ action: 'admin::api-tokens.access', subject: null }],\n      create: [{ action: 'admin::api-tokens.create', subject: null }],\n      delete: [{ action: 'admin::api-tokens.delete', subject: null }],\n      read: [{ action: 'admin::api-tokens.read', subject: null }],\n      update: [{ action: 'admin::api-tokens.update', subject: null }],\n      regenerate: [{ action: 'admin::api-tokens.regenerate', subject: null }],\n    },\n    'transfer-tokens': {\n      main: [{ action: 'admin::transfer.tokens.access', subject: null }],\n      create: [{ action: 'admin::transfer.tokens.create', subject: null }],\n      delete: [{ action: 'admin::transfer.tokens.delete', subject: null }],\n      read: [{ action: 'admin::transfer.tokens.read', subject: null }],\n      update: [{ action: 'admin::transfer.tokens.update', subject: null }],\n      regenerate: [{ action: 'admin::transfer.tokens.regenerate', subject: null }],\n    },\n    'project-settings': {\n      read: [{ action: 'admin::project-settings.read', subject: null }],\n      update: [{ action: 'admin::project-settings.update', subject: null }],\n    },\n  },\n};\n\nexport const HOOKS = {\n  /**\n   * Hook that allows to mutate the displayed headers of the list view table\n   * @constant\n   * @type {string}\n   */\n  INJECT_COLUMN_IN_TABLE: 'Admin/CM/pages/ListView/inject-column-in-table',\n\n  /**\n   * Hook that allows to mutate the CM's collection types links pre-set filters\n   * @constant\n   * @type {string}\n   */\n  MUTATE_COLLECTION_TYPES_LINKS: 'Admin/CM/pages/App/mutate-collection-types-links',\n\n  /**\n   * Hook that allows to mutate the CM's edit view layout\n   * @constant\n   * @type {string}\n   */\n  MUTATE_EDIT_VIEW_LAYOUT: 'Admin/CM/pages/EditView/mutate-edit-view-layout',\n\n  /**\n   * Hook that allows to mutate the CM's single types links pre-set filters\n   * @constant\n   * @type {string}\n   */\n  MUTATE_SINGLE_TYPES_LINKS: 'Admin/CM/pages/App/mutate-single-types-links',\n};\n\nexport const ACTION_SET_APP_RUNTIME_STATUS = 'StrapiAdmin/APP/SET_APP_RUNTIME_STATUS';\nexport const ACTION_SET_ADMIN_PERMISSIONS = 'StrapiAdmin/App/SET_ADMIN_PERMISSIONS';\n\nexport interface SettingsMenuLink extends Omit<StrapiAppSettingLink, 'Component' | 'permissions'> {\n  Component?: never;\n  lockIcon?: boolean;\n}\n\nexport type SettingsMenu = {\n  admin: SettingsMenuLink[];\n  global: SettingsMenuLink[];\n};\n\nexport const SETTINGS_LINKS_CE = (): SettingsMenu => ({\n  global: [\n    {\n      intlLabel: { id: 'Settings.application.title', defaultMessage: 'Overview' },\n      to: '/settings/application-infos',\n      id: '000-application-infos',\n    },\n    {\n      intlLabel: { id: 'Settings.webhooks.title', defaultMessage: 'Webhooks' },\n      to: '/settings/webhooks',\n      id: 'webhooks',\n    },\n    {\n      intlLabel: { id: 'Settings.apiTokens.title', defaultMessage: 'API Tokens' },\n      to: '/settings/api-tokens?sort=name:ASC',\n      id: 'api-tokens',\n    },\n    {\n      intlLabel: { id: 'Settings.transferTokens.title', defaultMessage: 'Transfer Tokens' },\n      to: '/settings/transfer-tokens?sort=name:ASC',\n      id: 'transfer-tokens',\n    },\n    // If the Enterprise feature is not enabled and if the config doesn't disable it, we promote the Enterprise feature by displaying them in the settings menu.\n    // Disable this by adding \"promoteEE: false\" to your `./config/admin.js` file\n    ...(!window.strapi.features.isEnabled(window.strapi.features.SSO) &&\n    window.strapi?.flags?.promoteEE\n      ? [\n          {\n            intlLabel: { id: 'Settings.sso.title', defaultMessage: 'Single Sign-On' },\n            to: '/settings/purchase-single-sign-on',\n            id: 'sso',\n            lockIcon: true,\n          },\n        ]\n      : []),\n\n    ...(!window.strapi.features.isEnabled(window.strapi.features.REVIEW_WORKFLOWS) &&\n    window.strapi?.flags?.promoteEE\n      ? [\n          {\n            intlLabel: {\n              id: 'Settings.review-workflows.page.title',\n              defaultMessage: 'Review Workflows',\n            },\n            to: '/settings/purchase-review-workflows',\n            id: 'review-workflows',\n            lockIcon: true,\n          },\n        ]\n      : []),\n  ],\n\n  admin: [\n    {\n      intlLabel: { id: 'global.roles', defaultMessage: 'Roles' },\n      to: '/settings/roles',\n      id: 'roles',\n    },\n    {\n      intlLabel: { id: 'global.users', defaultMessage: 'Users' },\n      // Init the search params directly\n      to: '/settings/users?pageSize=10&page=1&sort=firstname',\n      id: 'users',\n    },\n    ...(!window.strapi.features.isEnabled(window.strapi.features.AUDIT_LOGS) &&\n    window.strapi?.flags?.promoteEE\n      ? [\n          {\n            intlLabel: { id: 'global.auditLogs', defaultMessage: 'Audit Logs' },\n            to: '/settings/purchase-audit-logs',\n            id: 'auditLogs',\n            lockIcon: true,\n          },\n        ]\n      : []),\n  ],\n});\n","import { createContext } from '@radix-ui/react-context';\n\nexport interface ConfigurationContextValue {\n  logos: {\n    auth: { custom?: string | null; default: string };\n    menu: { custom?: string | null; default: string };\n  };\n  showTutorials: boolean;\n  showReleaseNotification: boolean;\n  updateProjectSettings: (settings: { authLogo?: string; menuLogo?: string }) => void;\n}\n\nconst [ConfigurationContextProvider, useConfigurationContext] =\n  createContext<ConfigurationContextValue>('ConfigurationContext');\n\nconst useConfiguration = () => useConfigurationContext('useConfiguration');\n\nexport { ConfigurationContextProvider, useConfiguration };\n","import * as React from 'react';\n\nimport { useCallbackRef } from '@strapi/helper-plugin';\n\nfunction isEnterprise() {\n  return window.strapi.isEE;\n}\n\nexport interface UseEnterpriseOptions<TCEData, TEEData, TDefaultValue, TCombinedValue> {\n  defaultValue?: TDefaultValue;\n  combine?: (ceData: TCEData, eeData: TEEData) => TCombinedValue;\n  enabled?: boolean;\n}\n\ntype UseEnterpriseReturn<TCEData, TEEData, TDefaultValue, TCombinedValue> =\n  TDefaultValue extends null\n    ? TCEData | TEEData | TCombinedValue | null\n    : TCEData | TEEData | TCombinedValue | TDefaultValue;\n\nexport const useEnterprise = <\n  TCEData,\n  TEEData = TCEData,\n  TCombinedValue = TEEData,\n  TDefaultValue = TCEData | null\n>(\n  ceData: TCEData,\n  eeCallback: () => Promise<TEEData>,\n  opts: UseEnterpriseOptions<TCEData, TEEData, TDefaultValue, TCombinedValue> = {}\n): UseEnterpriseReturn<TCEData, TEEData, TDefaultValue, TCombinedValue> => {\n  const { defaultValue = null, combine = (_ceData, eeData) => eeData, enabled = true } = opts;\n  const eeCallbackRef = useCallbackRef(eeCallback);\n  const combineCallbackRef = useCallbackRef(combine);\n\n  // We have to use a nested object here, because functions (e.g. Components)\n  // can not be stored as value directly\n  const [{ data }, setData] = React.useState<{\n    data: TCEData | TEEData | TDefaultValue | TCombinedValue | null;\n  }>({\n    data: isEnterprise() && enabled ? defaultValue : ceData,\n  });\n\n  React.useEffect(() => {\n    async function importEE() {\n      const eeData = await eeCallbackRef();\n      const combinedValue = combineCallbackRef(ceData, eeData);\n\n      setData({ data: combinedValue ? combinedValue : eeData });\n    }\n\n    if (isEnterprise() && enabled) {\n      importEE();\n    }\n  }, [ceData, eeCallbackRef, combineCallbackRef, enabled]);\n\n  // @ts-expect-error ‚Äì the hook type assertion works in practice. But seems to have issues here...\n  return data;\n};\n","/*\n *\n * LanguageProvider\n *\n * this component connects the redux state language locale to the\n * IntlProvider component and i18n messages (loaded from `app/translations`)\n */\n\nimport * as React from 'react';\n\nimport { createContext } from '@radix-ui/react-context';\nimport defaultsDeep from 'lodash/defaultsDeep';\nimport { IntlProvider } from 'react-intl';\n\n/* -------------------------------------------------------------------------------------------------\n * LocalesContext\n * -----------------------------------------------------------------------------------------------*/\n\ninterface LocalesContextValue {\n  changeLocale: (locale: keyof State['localeNames']) => void;\n  localeNames: Record<string, string>;\n}\n\nconst [LocalesContextProvider, useLocalesContext] =\n  createContext<LocalesContextValue>('LocalesContext');\n\nconst useLocales = () => useLocalesContext('useLocales');\n\n/* -------------------------------------------------------------------------------------------------\n * LanguageProvider\n * -----------------------------------------------------------------------------------------------*/\n\nconst LANGUAGE_LOCAL_STORAGE_KEY = 'strapi-admin-language';\n\ninterface LanguageProviderProps {\n  children: React.ReactNode;\n  localeNames: Record<string, string>;\n  messages: Record<string, Record<string, string>>;\n}\n\nconst LanguageProvider = ({ children, localeNames, messages }: LanguageProviderProps) => {\n  const [{ locale }, dispatch] = React.useReducer<React.Reducer<State, Action>, State>(\n    reducer,\n    initialState,\n    () => {\n      const languageFromLocaleStorage = window.localStorage.getItem(LANGUAGE_LOCAL_STORAGE_KEY);\n      if (languageFromLocaleStorage && localeNames[languageFromLocaleStorage]) {\n        return {\n          locale: languageFromLocaleStorage,\n          localeNames,\n        };\n      } else {\n        return {\n          locale: 'en',\n          localeNames,\n        };\n      }\n    }\n  );\n\n  React.useEffect(() => {\n    // Set user language in local storage.\n    window.localStorage.setItem(LANGUAGE_LOCAL_STORAGE_KEY, locale);\n    document.documentElement.setAttribute('lang', locale);\n  }, [locale]);\n\n  const changeLocale = React.useCallback((locale: keyof State['localeNames']) => {\n    dispatch({\n      type: 'CHANGE_LOCALE',\n      locale,\n    });\n  }, []);\n\n  const appMessages = defaultsDeep(messages[locale], messages.en);\n\n  return (\n    <IntlProvider locale={locale} defaultLocale=\"en\" messages={appMessages} textComponent=\"span\">\n      <LocalesContextProvider changeLocale={changeLocale} localeNames={localeNames}>\n        {children}\n      </LocalesContextProvider>\n    </IntlProvider>\n  );\n};\n\n/* -------------------------------------------------------------------------------------------------\n * Reducer\n * -----------------------------------------------------------------------------------------------*/\n\ninterface State {\n  localeNames: Record<string, string>;\n  locale: keyof State['localeNames'];\n}\n\nconst initialState: State = {\n  localeNames: { en: 'English' },\n  locale: 'en',\n};\n\ninterface ChangeLocaleAction {\n  type: 'CHANGE_LOCALE';\n  locale: keyof State['localeNames'];\n}\n\ntype Action = ChangeLocaleAction;\n\nconst reducer = (state = initialState, action: Action) => {\n  switch (action.type) {\n    case 'CHANGE_LOCALE': {\n      const { locale } = action;\n\n      if (!state.localeNames[locale]) {\n        return state;\n      }\n\n      return { ...state, locale };\n    }\n    default: {\n      return state;\n    }\n  }\n};\n\nexport { LanguageProvider, useLocales, LANGUAGE_LOCAL_STORAGE_KEY };\nexport type { LanguageProviderProps, LocalesContextValue };\n","import styled from 'styled-components';\n\nimport { useConfiguration } from '../contexts/configuration';\n\nconst Img = styled.img`\n  height: ${72 / 16}rem;\n`;\n\nconst Logo = () => {\n  const {\n    logos: { auth },\n  } = useConfiguration();\n\n  return <Img src={auth?.custom ?? auth.default} aria-hidden alt=\"\" />;\n};\n\nexport { Logo };\n","import * as React from 'react';\n\nimport { Box, Flex, SingleSelect, SingleSelectOption } from '@strapi/design-system';\nimport { useIntl } from 'react-intl';\nimport styled from 'styled-components';\n\nimport { useLocales } from '../components/LanguageProvider';\n\nconst Wrapper = styled(Box)`\n  margin: 0 auto;\n  width: 552px;\n`;\n\nexport const Column = styled(Flex)`\n  flex-direction: column;\n`;\n\nconst LocaleToggle = () => {\n  const { changeLocale, localeNames } = useLocales();\n  const { formatMessage, locale } = useIntl();\n\n  return (\n    <SingleSelect\n      aria-label={formatMessage({\n        id: 'global.localeToggle.label',\n        defaultMessage: 'Select interface language',\n      })}\n      value={locale}\n      onChange={(language) => {\n        changeLocale(language as string);\n      }}\n    >\n      {Object.entries(localeNames).map(([language, name]) => (\n        <SingleSelectOption key={language} value={language}>\n          {name}\n        </SingleSelectOption>\n      ))}\n    </SingleSelect>\n  );\n};\n\ninterface LayoutContentProps {\n  children: React.ReactNode;\n}\n\nexport const LayoutContent = ({ children }: LayoutContentProps) => (\n  <Wrapper\n    shadow=\"tableShadow\"\n    hasRadius\n    paddingTop={9}\n    paddingBottom={9}\n    paddingLeft={10}\n    paddingRight={10}\n    background=\"neutral0\"\n  >\n    {children}\n  </Wrapper>\n);\n\ninterface UnauthenticatedLayoutProps {\n  children: React.ReactNode;\n}\n\nexport const UnauthenticatedLayout = ({ children }: UnauthenticatedLayoutProps) => {\n  return (\n    <div>\n      <Flex as=\"header\" justifyContent=\"flex-end\">\n        <Box paddingTop={6} paddingRight={8}>\n          <LocaleToggle />\n        </Box>\n      </Flex>\n      <Box paddingTop={2} paddingBottom={11}>\n        {children}\n      </Box>\n    </div>\n  );\n};\n","import { FieldAction } from '@strapi/design-system';\nimport styled from 'styled-components';\n\nconst FieldActionWrapper = styled(FieldAction)`\n  svg {\n    height: 1rem;\n    width: 1rem;\n    path {\n      fill: ${({ theme }) => theme.colors.neutral600};\n    }\n  }\n`;\n\nexport { FieldActionWrapper };\n","import * as React from 'react';\n\nimport { Box, Button, Checkbox, Flex, Main, TextInput, Typography } from '@strapi/design-system';\nimport { Link } from '@strapi/design-system/v2';\nimport { Form, auth, translatedErrors, useFetchClient, useQuery } from '@strapi/helper-plugin';\nimport { Eye, EyeStriked } from '@strapi/icons';\nimport { Formik } from 'formik';\nimport camelCase from 'lodash/camelCase';\nimport { useIntl } from 'react-intl';\nimport { useMutation } from 'react-query';\nimport { NavLink, useHistory } from 'react-router-dom';\nimport styled from 'styled-components';\nimport * as yup from 'yup';\n\nimport { Login } from '../../../../../shared/contracts/authentication';\nimport { useLocales } from '../../../components/LanguageProvider';\nimport { Logo } from '../../../components/UnauthenticatedLogo';\nimport {\n  UnauthenticatedLayout,\n  Column,\n  LayoutContent,\n} from '../../../layouts/UnauthenticatedLayout';\n\nimport { FieldActionWrapper } from './FieldActionWrapper';\n\nimport type { AxiosError } from 'axios';\n\ninterface LoginProps {\n  children?: React.ReactNode;\n}\n\nconst LOGIN_SCHEMA = yup.object().shape({\n  email: yup.string().email(translatedErrors.email).required(translatedErrors.required),\n  password: yup.string().required(translatedErrors.required),\n  rememberMe: yup.bool().nullable(),\n});\n\nconst Login = ({ children }: LoginProps) => {\n  const [apiError, setApiError] = React.useState<string>();\n  const [passwordShown, setPasswordShown] = React.useState(false);\n  const { formatMessage } = useIntl();\n  const { post } = useFetchClient();\n  const { changeLocale } = useLocales();\n  const query = useQuery();\n  const { push } = useHistory();\n\n  const mutation = useMutation(\n    async (body: Login.Request['body'] & { rememberMe: boolean }) => {\n      const {\n        data: { data },\n      } = await post<Login.Response>('/admin/login', body);\n\n      return { ...data, rememberMe: body.rememberMe };\n    },\n    {\n      onSuccess(data) {\n        if (data) {\n          const { token, user } = data;\n\n          if (user.preferedLanguage) {\n            changeLocale(user.preferedLanguage);\n          }\n\n          auth.setToken(token, data.rememberMe);\n          auth.setUserInfo(user, data.rememberMe);\n\n          const redirectTo = query.get('redirectTo');\n          const redirectUrl = redirectTo ? decodeURIComponent(redirectTo) : '/';\n\n          push(redirectUrl);\n        }\n      },\n      onError(err: AxiosError<{ error: Login.Response['errors'] }>) {\n        const message = err.response?.data?.error?.message ?? 'Something went wrong';\n\n        if (camelCase(message).toLowerCase() === 'usernotactive') {\n          push('/auth/oops');\n          return;\n        }\n\n        setApiError(message);\n      },\n    }\n  );\n\n  return (\n    <UnauthenticatedLayout>\n      <Main>\n        <LayoutContent>\n          <Column>\n            <Logo />\n            <Box paddingTop={6} paddingBottom={1}>\n              <Typography variant=\"alpha\" as=\"h1\">\n                {formatMessage({\n                  id: 'Auth.form.welcome.title',\n                  defaultMessage: 'Welcome!',\n                })}\n              </Typography>\n            </Box>\n            <Box paddingBottom={7}>\n              <Typography variant=\"epsilon\" textColor=\"neutral600\">\n                {formatMessage({\n                  id: 'Auth.form.welcome.subtitle',\n                  defaultMessage: 'Log in to your Strapi account',\n                })}\n              </Typography>\n            </Box>\n            {mutation.isError && apiError ? (\n              <Typography id=\"global-form-error\" role=\"alert\" tabIndex={-1} textColor=\"danger600\">\n                {apiError}\n              </Typography>\n            ) : null}\n          </Column>\n          <Formik\n            enableReinitialize\n            initialValues={{\n              email: '',\n              password: '',\n              rememberMe: false,\n            }}\n            onSubmit={(values) => {\n              mutation.mutate(values);\n            }}\n            validationSchema={LOGIN_SCHEMA}\n            validateOnChange={false}\n          >\n            {({ values, errors, handleChange }) => (\n              <Form>\n                <Flex direction=\"column\" alignItems=\"stretch\" gap={6}>\n                  <TextInput\n                    error={\n                      errors.email\n                        ? formatMessage({\n                            id: errors.email,\n                            defaultMessage: 'This value is required.',\n                          })\n                        : ''\n                    }\n                    value={values.email}\n                    onChange={handleChange}\n                    label={formatMessage({ id: 'Auth.form.email.label', defaultMessage: 'Email' })}\n                    placeholder={formatMessage({\n                      id: 'Auth.form.email.placeholder',\n                      defaultMessage: 'kai@doe.com',\n                    })}\n                    name=\"email\"\n                    required\n                  />\n                  <PasswordInput\n                    error={\n                      errors.password\n                        ? formatMessage({\n                            id: errors.password,\n                            defaultMessage: 'This value is required.',\n                          })\n                        : ''\n                    }\n                    onChange={handleChange}\n                    value={values.password}\n                    label={formatMessage({\n                      id: 'global.password',\n                      defaultMessage: 'Password',\n                    })}\n                    name=\"password\"\n                    type={passwordShown ? 'text' : 'password'}\n                    endAction={\n                      <FieldActionWrapper\n                        onClick={(e) => {\n                          e.stopPropagation();\n                          setPasswordShown((prev) => !prev);\n                        }}\n                        label={formatMessage(\n                          passwordShown\n                            ? {\n                                id: 'Auth.form.password.show-password',\n                                defaultMessage: 'Show password',\n                              }\n                            : {\n                                id: 'Auth.form.password.hide-password',\n                                defaultMessage: 'Hide password',\n                              }\n                        )}\n                      >\n                        {passwordShown ? <Eye /> : <EyeStriked />}\n                      </FieldActionWrapper>\n                    }\n                    required\n                  />\n                  <Checkbox\n                    onValueChange={(checked) => {\n                      handleChange({ target: { value: checked, name: 'rememberMe' } });\n                    }}\n                    value={values.rememberMe}\n                    aria-label=\"rememberMe\"\n                    name=\"rememberMe\"\n                  >\n                    {formatMessage({\n                      id: 'Auth.form.rememberMe.label',\n                      defaultMessage: 'Remember me',\n                    })}\n                  </Checkbox>\n                  <Button fullWidth type=\"submit\">\n                    {formatMessage({ id: 'Auth.form.button.login', defaultMessage: 'Login' })}\n                  </Button>\n                </Flex>\n              </Form>\n            )}\n          </Formik>\n          {children}\n        </LayoutContent>\n        <Flex justifyContent=\"center\">\n          <Box paddingTop={4}>\n            {/* @ts-expect-error ‚Äì error with inferring the props from the as component */}\n            <Link as={NavLink} to=\"/auth/forgot-password\">\n              {formatMessage({\n                id: 'Auth.link.forgot-password',\n                defaultMessage: 'Forgot your password?',\n              })}\n            </Link>\n          </Box>\n        </Flex>\n      </Main>\n    </UnauthenticatedLayout>\n  );\n};\n\nconst PasswordInput = styled(TextInput)`\n  ::-ms-reveal {\n    display: none;\n  }\n`;\n\nexport { Login };\nexport type { LoginProps };\n","import { Box, Button, Flex, Main, TextInput, Typography } from '@strapi/design-system';\nimport { Link } from '@strapi/design-system/v2';\nimport { Form, translatedErrors, useFetchClient } from '@strapi/helper-plugin';\nimport { Formik } from 'formik';\nimport { useIntl } from 'react-intl';\nimport { useMutation } from 'react-query';\nimport { NavLink, useHistory } from 'react-router-dom';\nimport * as yup from 'yup';\n\nimport { ForgotPassword } from '../../../../../shared/contracts/authentication';\nimport { Logo } from '../../../components/UnauthenticatedLogo';\nimport {\n  Column,\n  LayoutContent,\n  UnauthenticatedLayout,\n} from '../../../layouts/UnauthenticatedLayout';\n\nconst ForgotPassword = () => {\n  const { push } = useHistory();\n  const { post } = useFetchClient();\n  const { formatMessage } = useIntl();\n\n  const { mutate, isError } = useMutation(\n    async (body: ForgotPassword.Request['body']) => {\n      await post('/admin/forgot-password', body);\n    },\n    {\n      onSuccess() {\n        push('/auth/forgot-password-success');\n      },\n    }\n  );\n\n  return (\n    <UnauthenticatedLayout>\n      <Main>\n        <LayoutContent>\n          <Column>\n            <Logo />\n            <Box paddingTop={6} paddingBottom={7}>\n              <Typography as=\"h1\" variant=\"alpha\">\n                {formatMessage({\n                  id: 'Auth.form.button.password-recovery',\n                  defaultMessage: 'Password Recovery',\n                })}\n              </Typography>\n            </Box>\n            {isError ? (\n              <Typography id=\"global-form-error\" role=\"alert\" tabIndex={-1} textColor=\"danger600\">\n                {formatMessage({\n                  id: 'notification.error',\n                  defaultMessage: 'An error occurred',\n                })}\n              </Typography>\n            ) : null}\n          </Column>\n          <Formik\n            enableReinitialize\n            initialValues={{\n              email: '',\n            }}\n            onSubmit={(values) => {\n              mutate(values);\n            }}\n            validationSchema={yup.object().shape({\n              email: yup.string().email(translatedErrors.email).required(translatedErrors.required),\n            })}\n            validateOnChange={false}\n          >\n            {({ values, errors, handleChange }) => (\n              <Form>\n                <Flex direction=\"column\" alignItems=\"stretch\" gap={6}>\n                  <TextInput\n                    error={\n                      errors.email\n                        ? formatMessage({\n                            id: errors.email,\n                            defaultMessage: 'This email is invalid.',\n                          })\n                        : ''\n                    }\n                    value={values.email}\n                    onChange={handleChange}\n                    label={formatMessage({ id: 'Auth.form.email.label', defaultMessage: 'Email' })}\n                    placeholder={formatMessage({\n                      id: 'Auth.form.email.placeholder',\n                      defaultMessage: 'kai@doe.com',\n                    })}\n                    name=\"email\"\n                    required\n                  />\n                  <Button type=\"submit\" fullWidth>\n                    {formatMessage({\n                      id: 'Auth.form.button.forgot-password',\n                      defaultMessage: 'Send Email',\n                    })}\n                  </Button>\n                </Flex>\n              </Form>\n            )}\n          </Formik>\n        </LayoutContent>\n        <Flex justifyContent=\"center\">\n          <Box paddingTop={4}>\n            {/* @ts-expect-error ‚Äì error with inferring the props from the as component */}\n            <Link as={NavLink} to=\"/auth/login\">\n              {formatMessage({ id: 'Auth.link.ready', defaultMessage: 'Ready to sign in?' })}\n            </Link>\n          </Box>\n        </Flex>\n      </Main>\n    </UnauthenticatedLayout>\n  );\n};\n\nexport { ForgotPassword };\n","import { Box, Flex, Main, Typography } from '@strapi/design-system';\nimport { Link } from '@strapi/design-system/v2';\nimport { useIntl } from 'react-intl';\nimport { NavLink } from 'react-router-dom';\n\nimport { Logo } from '../../../components/UnauthenticatedLogo';\nimport {\n  Column,\n  LayoutContent,\n  UnauthenticatedLayout,\n} from '../../../layouts/UnauthenticatedLayout';\n\nconst ForgotPasswordSuccess = () => {\n  const { formatMessage } = useIntl();\n\n  return (\n    <UnauthenticatedLayout>\n      <Main>\n        <LayoutContent>\n          <Column>\n            <Logo />\n            <Box paddingTop={6} paddingBottom={7}>\n              <Typography as=\"h1\" variant=\"alpha\">\n                {formatMessage({\n                  id: 'app.containers.AuthPage.ForgotPasswordSuccess.title',\n                  defaultMessage: 'Email sent',\n                })}\n              </Typography>\n            </Box>\n            <Typography>\n              {formatMessage({\n                id: 'app.containers.AuthPage.ForgotPasswordSuccess.text.email',\n                defaultMessage: 'It can take a few minutes to receive your password recovery link.',\n              })}\n            </Typography>\n            <Box paddingTop={4}>\n              <Typography>\n                {formatMessage({\n                  id: 'app.containers.AuthPage.ForgotPasswordSuccess.text.contact-admin',\n                  defaultMessage:\n                    'If you do not receive this link, please contact your administrator.',\n                })}\n              </Typography>\n            </Box>\n          </Column>\n        </LayoutContent>\n        <Flex justifyContent=\"center\">\n          <Box paddingTop={4}>\n            {/* @ts-expect-error ‚Äì error with inferring the props from the as component */}\n            <Link as={NavLink} to=\"/auth/login\">\n              {formatMessage({ id: 'Auth.link.signin', defaultMessage: 'Sign in' })}\n            </Link>\n          </Box>\n        </Flex>\n      </Main>\n    </UnauthenticatedLayout>\n  );\n};\n\nexport { ForgotPasswordSuccess };\n","import { Box, Flex, Main, Typography } from '@strapi/design-system';\nimport { Link } from '@strapi/design-system/v2';\nimport { useQuery } from '@strapi/helper-plugin';\nimport { useIntl } from 'react-intl';\nimport { NavLink } from 'react-router-dom';\n\nimport { Logo } from '../../../components/UnauthenticatedLogo';\nimport {\n  Column,\n  LayoutContent,\n  UnauthenticatedLayout,\n} from '../../../layouts/UnauthenticatedLayout';\n\nconst Oops = () => {\n  const { formatMessage } = useIntl();\n  const query = useQuery();\n\n  const message =\n    query.get('info') ||\n    formatMessage({\n      id: 'Auth.components.Oops.text',\n      defaultMessage: 'Your account has been suspended.',\n    });\n\n  return (\n    <UnauthenticatedLayout>\n      <Main>\n        <LayoutContent>\n          <Column>\n            <Logo />\n            <Box paddingTop={6} paddingBottom={7}>\n              <Typography as=\"h1\" variant=\"alpha\">\n                {formatMessage({ id: 'Auth.components.Oops.title', defaultMessage: 'Oops...' })}\n              </Typography>\n            </Box>\n            <Typography>{message}</Typography>\n            <Box paddingTop={4}>\n              <Typography>\n                {formatMessage({\n                  id: 'Auth.components.Oops.text.admin',\n                  defaultMessage: 'If this is a mistake, please contact your administrator.',\n                })}\n              </Typography>\n            </Box>\n          </Column>\n        </LayoutContent>\n        <Flex justifyContent=\"center\">\n          <Box paddingTop={4}>\n            {/* @ts-expect-error ‚Äì error with inferring the props from the as component */}\n            <Link as={NavLink} to=\"/auth/login\">\n              {formatMessage({ id: 'Auth.link.signin', defaultMessage: 'Sign in' })}\n            </Link>\n          </Box>\n        </Flex>\n      </Main>\n    </UnauthenticatedLayout>\n  );\n};\n\nexport { Oops };\n","import * as React from 'react';\n\nimport {\n  Box,\n  Flex,\n  IconButton,\n  Button,\n  Typography,\n  Textarea,\n  Portal,\n  Field,\n  FieldLabel,\n  FieldInput,\n  VisuallyHidden,\n} from '@strapi/design-system';\nimport { auth, useNotification, useAppInfo, usePersistentState } from '@strapi/helper-plugin';\nimport { Cross } from '@strapi/icons';\nimport { Formik, Form } from 'formik';\nimport { useIntl } from 'react-intl';\nimport { useMutation } from 'react-query';\nimport styled, { useTheme } from 'styled-components';\nimport * as yup from 'yup';\n\nconst FieldWrapper = styled(Field)`\n  height: ${32 / 16}rem;\n  width: ${32 / 16}rem;\n\n  > label,\n  ~ input {\n    display: block;\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n  }\n\n  > label {\n    color: inherit;\n    cursor: pointer;\n    padding: ${({ theme }) => theme.spaces[2]};\n    text-align: center;\n    vertical-align: middle;\n  }\n\n  &:hover,\n  &:focus-within {\n    background-color: ${({ theme }) => theme.colors.neutral0};\n  }\n\n  &:active,\n  &.selected {\n    color: ${({ theme }) => theme.colors.primary700};\n    background-color: ${({ theme }) => theme.colors.neutral0};\n    border-color: ${({ theme }) => theme.colors.primary700};\n  }\n`;\n\nconst delays = {\n  postResponse: 90 * 24 * 60 * 60 * 1000, // 90 days in ms\n  postFirstDismissal: 7 * 24 * 60 * 60 * 1000, // 7 days in ms\n  postSubsequentDismissal: 90 * 24 * 60 * 60 * 1000, // 90 days in ms\n  display: 5 * 60 * 1000, // 5 minutes in ms\n};\n\nconst ratingArray = [...Array(11).keys()];\n\nconst checkIfShouldShowSurvey = (settings: NpsSurveySettings) => {\n  const { enabled, lastResponseDate, firstDismissalDate, lastDismissalDate } = settings;\n\n  // This function goes through all the cases where we'd want to not show the survey:\n  // 1. If the survey is disabled by strapi, abort mission, don't bother checking the other settings.\n  // 2. If the survey is disabled by user, abort mission, don't bother checking the other settings.\n  // 3. If the user has already responded to the survey, check if enough time has passed since the last response.\n  // 4. If the user has dismissed the survey twice or more before, check if enough time has passed since the last dismissal.\n  // 5. If the user has only dismissed the survey once before, check if enough time has passed since the first dismissal.\n  // If none of these cases check out, then we show the survey.\n  // Note that submitting a response resets the dismissal counts.\n  // Checks 4 and 5 should not be reversed, since the first dismissal will also exist if the user has dismissed the survey twice or more before.\n\n  // For users who had created an account before the NPS feature was introduced,\n  // we assume that they would have enabled the NPS feature if they had the chance.\n\n  // Global strapi disable for NSP.\n  if (window.strapi.flags.nps === false) {\n    return false;\n  }\n\n  // User chose not to enable the NPS feature when signing up\n  if (enabled === false) {\n    return false;\n  }\n\n  // The user has already responded to the survey\n  if (lastResponseDate) {\n    const timeSinceLastResponse = Date.now() - new Date(lastResponseDate).getTime();\n\n    if (timeSinceLastResponse >= delays.postResponse) {\n      return true;\n    }\n\n    return false;\n  }\n\n  // The user has dismissed the survey twice or more before\n  if (lastDismissalDate) {\n    const timeSinceLastDismissal = Date.now() - new Date(lastDismissalDate).getTime();\n\n    if (timeSinceLastDismissal >= delays.postSubsequentDismissal) {\n      return true;\n    }\n\n    return false;\n  }\n\n  // The user has only dismissed the survey once before\n  if (firstDismissalDate) {\n    const timeSinceFirstDismissal = Date.now() - new Date(firstDismissalDate).getTime();\n\n    if (timeSinceFirstDismissal >= delays.postFirstDismissal) {\n      return true;\n    }\n\n    return false;\n  }\n\n  // The user has not interacted with the survey before\n  return true;\n};\n\nconst NpsSurvey = () => {\n  const theme = useTheme();\n  const { formatMessage } = useIntl();\n  const { npsSurveySettings, setNpsSurveySettings } = useNpsSurveySettings();\n  const [isFeedbackResponse, setIsFeedbackResponse] = React.useState(false);\n  const toggleNotification = useNotification();\n  const { currentEnvironment, strapiVersion } = useAppInfo();\n\n  interface NpsSurveyMutationBody {\n    email: string;\n    rating: number | null;\n    comment: string;\n    environment?: string;\n    version?: string;\n    license: 'Enterprise' | 'Community';\n  }\n\n  const { mutate, isLoading } = useMutation<unknown, unknown, NpsSurveyMutationBody>(\n    async (form) => {\n      const res = await fetch('https://analytics.strapi.io/submit-nps', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(form),\n      });\n\n      if (!res.ok) {\n        throw new Error('Failed to submit NPS survey');\n      }\n\n      return res;\n    },\n    {\n      onSuccess() {\n        setNpsSurveySettings((settings) => ({\n          ...settings,\n          lastResponseDate: new Date().toString(),\n          firstDismissalDate: null,\n          lastDismissalDate: null,\n        }));\n        setIsFeedbackResponse(true);\n        // Thank you message displayed in the banner should disappear after few seconds.\n        setTimeout(() => {\n          setSurveyIsShown(false);\n        }, 3000);\n      },\n      onError() {\n        toggleNotification({\n          type: 'warning',\n          message: formatMessage({ id: 'notification.error', defaultMessage: 'An error occurred' }),\n        });\n      },\n    }\n  );\n\n  // Only check on first render if the survey should be shown\n  const [surveyIsShown, setSurveyIsShown] = React.useState(\n    checkIfShouldShowSurvey(npsSurveySettings)\n  );\n\n  // Set a cooldown to show the survey when session begins\n  const [displaySurvey, setDisplaySurvey] = React.useState(false);\n\n  React.useEffect(() => {\n    const displayTime = setTimeout(() => {\n      setDisplaySurvey(true);\n    }, delays.display);\n\n    return () => {\n      clearTimeout(displayTime);\n    };\n  }, []);\n\n  if (!displaySurvey) {\n    return null;\n  }\n\n  if (!surveyIsShown) {\n    return null;\n  }\n\n  const handleSubmitResponse = ({\n    npsSurveyRating,\n    npsSurveyFeedback,\n  }: {\n    npsSurveyRating: NpsSurveyMutationBody['rating'];\n    npsSurveyFeedback: NpsSurveyMutationBody['comment'];\n  }) => {\n    const userInfo = auth.getUserInfo();\n    mutate({\n      email: typeof userInfo === 'object' && userInfo !== null ? userInfo.email : '',\n      rating: npsSurveyRating,\n      comment: npsSurveyFeedback,\n      environment: currentEnvironment,\n      version: strapiVersion ?? undefined,\n      license: window.strapi.projectType,\n    });\n  };\n\n  const handleDismiss = () => {\n    setNpsSurveySettings((settings) => {\n      const nextSettings = {\n        ...settings,\n        lastResponseDate: null,\n      };\n\n      if (settings.firstDismissalDate) {\n        // If the user dismisses the survey for the second time\n        nextSettings.lastDismissalDate = new Date().toString();\n      } else {\n        // If the user dismisses the survey for the first time\n        nextSettings.firstDismissalDate = new Date().toString();\n      }\n\n      return nextSettings;\n    });\n\n    setSurveyIsShown(false);\n  };\n\n  return (\n    <Portal>\n      <Formik\n        initialValues={{ npsSurveyFeedback: '', npsSurveyRating: null }}\n        onSubmit={handleSubmitResponse}\n        validationSchema={yup.object({\n          npsSurveyFeedback: yup.string(),\n          npsSurveyRating: yup.number().required(),\n        })}\n      >\n        {({ values, handleChange, setFieldValue }) => (\n          <Form name=\"npsSurveyForm\">\n            <Flex\n              hasRadius\n              direction=\"column\"\n              padding={4}\n              borderColor=\"primary200\"\n              background=\"neutral0\"\n              shadow=\"popupShadow\"\n              position=\"fixed\"\n              bottom={0}\n              left=\"50%\"\n              transform=\"translateX(-50%)\"\n              zIndex={theme.zIndices[2]}\n              width=\"50%\"\n            >\n              {isFeedbackResponse ? (\n                <Typography fontWeight=\"semiBold\">\n                  {formatMessage({\n                    id: 'app.components.NpsSurvey.feedback-response',\n                    defaultMessage: 'Thank you very much for your feedback!',\n                  })}\n                </Typography>\n              ) : (\n                <Box as=\"fieldset\" width=\"100%\">\n                  <Flex justifyContent=\"space-between\" width=\"100%\">\n                    <Box marginLeft=\"auto\" marginRight=\"auto\">\n                      <Typography fontWeight=\"semiBold\" as=\"legend\">\n                        {formatMessage({\n                          id: 'app.components.NpsSurvey.banner-title',\n                          defaultMessage:\n                            'How likely are you to recommend Strapi to a friend or colleague?',\n                        })}\n                      </Typography>\n                    </Box>\n                    <IconButton\n                      onClick={handleDismiss}\n                      aria-label={formatMessage({\n                        id: 'app.components.NpsSurvey.dismiss-survey-label',\n                        defaultMessage: 'Dismiss survey',\n                      })}\n                      icon={<Cross />}\n                    />\n                  </Flex>\n                  <Flex gap={2} marginTop={2} marginBottom={2} justifyContent=\"center\">\n                    <Typography variant=\"pi\" textColor=\"neutral600\">\n                      {formatMessage({\n                        id: 'app.components.NpsSurvey.no-recommendation',\n                        defaultMessage: 'Not at all likely',\n                      })}\n                    </Typography>\n                    {ratingArray.map((number) => {\n                      return (\n                        <FieldWrapper\n                          key={number}\n                          className={values.npsSurveyRating === number ? 'selected' : undefined} // \"selected\" class added when child radio button is checked\n                          hasRadius\n                          background=\"primary100\"\n                          borderColor=\"primary200\"\n                          color=\"primary600\"\n                          position=\"relative\"\n                          cursor=\"pointer\"\n                        >\n                          <FieldLabel htmlFor={`nps-survey-rating-${number}-input`}>\n                            <VisuallyHidden>\n                              <FieldInput\n                                type=\"radio\"\n                                id={`nps-survey-rating-${number}-input`}\n                                name=\"npsSurveyRating\"\n                                checked={values.npsSurveyRating === number}\n                                onChange={(e) =>\n                                  setFieldValue('npsSurveyRating', parseInt(e.target.value, 10))\n                                }\n                                value={number}\n                              />\n                            </VisuallyHidden>\n                            {number}\n                          </FieldLabel>\n                        </FieldWrapper>\n                      );\n                    })}\n                    <Typography variant=\"pi\" textColor=\"neutral600\">\n                      {formatMessage({\n                        id: 'app.components.NpsSurvey.happy-to-recommend',\n                        defaultMessage: 'Extremely likely',\n                      })}\n                    </Typography>\n                  </Flex>\n                  {values.npsSurveyRating !== null && (\n                    <Flex direction=\"column\">\n                      <Box marginTop={2}>\n                        <FieldLabel htmlFor=\"npsSurveyFeedback\" fontWeight=\"semiBold\" fontSize={2}>\n                          {formatMessage({\n                            id: 'app.components.NpsSurvey.feedback-question',\n                            defaultMessage: 'Do you have any suggestion for improvements?',\n                          })}\n                        </FieldLabel>\n                      </Box>\n                      <Box width=\"62%\" marginTop={3} marginBottom={4}>\n                        <Textarea\n                          id=\"npsSurveyFeedback\" // formik element attribute \"id\" should be same as the values key to work\n                          width=\"100%\"\n                          onChange={handleChange}\n                        >\n                          {values.npsSurveyFeedback}\n                        </Textarea>\n                      </Box>\n                      <Button marginBottom={2} type=\"submit\" loading={isLoading}>\n                        {formatMessage({\n                          id: 'app.components.NpsSurvey.submit-feedback',\n                          defaultMessage: 'Submit Feedback',\n                        })}\n                      </Button>\n                    </Flex>\n                  )}\n                </Box>\n              )}\n            </Flex>\n          </Form>\n        )}\n      </Formik>\n    </Portal>\n  );\n};\n\ninterface NpsSurveySettings {\n  enabled: boolean;\n  lastResponseDate: string | null;\n  firstDismissalDate: string | null;\n  lastDismissalDate: string | null;\n}\n\n/**\n * We exported to make it available during admin user registration.\n * Because we only enable the NPS for users who subscribe to the newsletter when signing up\n */\nfunction useNpsSurveySettings() {\n  const [npsSurveySettings, setNpsSurveySettings] = usePersistentState<NpsSurveySettings>(\n    'STRAPI_NPS_SURVEY_SETTINGS',\n    {\n      enabled: true,\n      lastResponseDate: null,\n      firstDismissalDate: null,\n      lastDismissalDate: null,\n    }\n  );\n\n  /**\n   * TODO: should this just be an array so we can alias the `usePersistentState` hook?\n   */\n  return { npsSurveySettings, setNpsSurveySettings };\n}\n\nexport { NpsSurvey, useNpsSurveySettings };\n","import * as React from 'react';\n\nimport {\n  Box,\n  Button,\n  Checkbox,\n  Flex,\n  Grid,\n  GridItem,\n  Main,\n  TextInput,\n  Typography,\n} from '@strapi/design-system';\nimport { Link } from '@strapi/design-system/v2';\nimport {\n  Form,\n  auth,\n  getYupInnerErrors,\n  translatedErrors,\n  useAPIErrorHandler,\n  useFetchClient,\n  useGuidedTour,\n  useNotification,\n  useQuery,\n  useTracking,\n} from '@strapi/helper-plugin';\nimport { Eye, EyeStriked } from '@strapi/icons';\nimport { Formik } from 'formik';\nimport omit from 'lodash/omit';\nimport { MessageDescriptor, useIntl } from 'react-intl';\nimport { useQuery as useReactQuery, useMutation } from 'react-query';\nimport { NavLink, Redirect, useHistory, useRouteMatch } from 'react-router-dom';\nimport styled from 'styled-components';\nimport * as yup from 'yup';\nimport { ValidationError } from 'yup';\n\nimport {\n  Register,\n  RegisterAdmin,\n  RegistrationInfo,\n} from '../../../../../shared/contracts/authentication';\nimport { useNpsSurveySettings } from '../../../components/NpsSurvey';\nimport { Logo } from '../../../components/UnauthenticatedLogo';\nimport { LayoutContent, UnauthenticatedLayout } from '../../../layouts/UnauthenticatedLayout';\nimport { AuthType } from '../constants';\n\nimport { FieldActionWrapper } from './FieldActionWrapper';\n\nimport type { AxiosError } from 'axios';\n\nconst REGISTER_USER_SCHEMA = yup.object().shape({\n  firstname: yup.string().trim().required(translatedErrors.required),\n  lastname: yup.string().nullable(),\n  password: yup\n    .string()\n    .min(8, translatedErrors.minLength)\n    .matches(/[a-z]/, 'components.Input.error.contain.lowercase')\n    .matches(/[A-Z]/, 'components.Input.error.contain.uppercase')\n    .matches(/\\d/, 'components.Input.error.contain.number')\n    .required(translatedErrors.required),\n  confirmPassword: yup\n    .string()\n    .oneOf([yup.ref('password'), null], 'components.Input.error.password.noMatch')\n    .required(translatedErrors.required),\n  registrationToken: yup.string().required(translatedErrors.required),\n});\n\nconst REGISTER_ADMIN_SCHEMA = yup.object().shape({\n  firstname: yup.string().trim().required(translatedErrors.required),\n  lastname: yup.string().nullable(),\n  password: yup\n    .string()\n    .min(8, translatedErrors.minLength)\n    .matches(/[a-z]/, 'components.Input.error.contain.lowercase')\n    .matches(/[A-Z]/, 'components.Input.error.contain.uppercase')\n    .matches(/\\d/, 'components.Input.error.contain.number')\n    .required(translatedErrors.required),\n  email: yup\n    .string()\n    .email(translatedErrors.email)\n    .strict()\n    .lowercase(translatedErrors.lowercase)\n    .required(translatedErrors.required),\n  confirmPassword: yup\n    .string()\n    .oneOf([yup.ref('password'), null], 'components.Input.error.password.noMatch')\n    .required(translatedErrors.required),\n});\n\ninterface RegisterProps {\n  hasAdmin?: boolean;\n}\n\nconst Register = ({ hasAdmin }: RegisterProps) => {\n  const toggleNotification = useNotification();\n  const { push } = useHistory();\n  const [passwordShown, setPasswordShown] = React.useState(false);\n  const [confirmPasswordShown, setConfirmPasswordShown] = React.useState(false);\n  const [submitCount, setSubmitCount] = React.useState(0);\n  const [apiError, setApiError] = React.useState<string>();\n  const { trackUsage } = useTracking();\n  const { formatMessage } = useIntl();\n  const { setSkipped } = useGuidedTour();\n  const query = useQuery();\n  const match = useRouteMatch<{ authType: Extract<AuthType, `register${string}`> }>(\n    '/auth/:authType'\n  );\n  const { formatAPIError } = useAPIErrorHandler();\n  const { get, post } = useFetchClient();\n  const { setNpsSurveySettings } = useNpsSurveySettings();\n\n  const registrationToken = query.get('registrationToken');\n\n  const { data: userInfo } = useReactQuery({\n    queryKey: ['admin', 'registration-info', registrationToken],\n    async queryFn() {\n      const {\n        data: { data },\n      } = await get<RegistrationInfo.Response>(`/admin/registration-info`, {\n        params: {\n          registrationToken,\n        },\n      });\n\n      return data;\n    },\n    enabled: !!registrationToken,\n    initialData: {},\n    onError(err: AxiosError<{ error: Exclude<RegistrationInfo.Response['errors'], undefined> }>) {\n      const message = formatAPIError(err);\n\n      toggleNotification({\n        type: 'warning',\n        message,\n      });\n\n      push(`/auth/oops?info=${encodeURIComponent(message)}`);\n    },\n  });\n\n  const registerAdminMutation = useMutation(\n    async (body: RegisterAdmin.Request['body'] & { news: boolean }) => {\n      const { news, ...restBody } = body;\n      const { data } = await post<RegisterAdmin.Response>('/admin/register-admin', restBody);\n\n      return { ...data.data, news };\n    },\n    {\n      onSuccess(data) {\n        const { token, user, news } = data;\n\n        auth.setToken(token, false);\n        auth.setUserInfo(user, false);\n\n        const { roles } = user;\n\n        if (roles) {\n          const isUserSuperAdmin = roles.find(({ code }) => code === 'strapi-super-admin');\n\n          if (isUserSuperAdmin) {\n            auth.set(false, 'GUIDED_TOUR_SKIPPED', true);\n            setSkipped(false);\n            trackUsage('didLaunchGuidedtour');\n          }\n        }\n\n        if (news) {\n          // Only enable EE survey if user accepted the newsletter\n          setNpsSurveySettings((s) => ({ ...s, enabled: true }));\n\n          push({\n            pathname: '/usecase',\n            search: `?hasAdmin=${true}`,\n          });\n        } else {\n          push('/');\n        }\n      },\n      onError(err: AxiosError<{ error: Exclude<RegisterAdmin.Response['errors'], undefined> }>) {\n        trackUsage('didNotCreateFirstAdmin');\n\n        const error = formatAPIError(err);\n        setApiError(error);\n      },\n    }\n  );\n\n  const registerUserMutation = useMutation(\n    async (body: Register.Request['body'] & { news: boolean }) => {\n      const { news, ...restBody } = body;\n      const { data } = await post<Register.Response>('/admin/register', restBody);\n\n      return { ...data.data, news };\n    },\n    {\n      onSuccess(data) {\n        const { token, user, news } = data;\n\n        auth.setToken(token, false);\n        auth.setUserInfo(user, false);\n\n        if (news) {\n          // Only enable EE survey if user accepted the newsletter\n          setNpsSurveySettings((s) => ({ ...s, enabled: true }));\n\n          push({\n            pathname: '/usecase',\n            search: `?hasAdmin=${hasAdmin}`,\n          });\n        } else {\n          push('/');\n        }\n      },\n      onError(err: AxiosError<{ error: Exclude<RegisterAdmin.Response['errors'], undefined> }>) {\n        trackUsage('didNotCreateFirstAdmin');\n\n        const error = formatAPIError(err);\n        setApiError(error);\n      },\n    }\n  );\n\n  if (\n    !match ||\n    (match.params.authType !== 'register' && match.params.authType !== 'register-admin')\n  ) {\n    return <Redirect to=\"/\" />;\n  }\n\n  const isAdminRegistration = match.params.authType === 'register-admin';\n\n  const schema = isAdminRegistration ? REGISTER_ADMIN_SCHEMA : REGISTER_USER_SCHEMA;\n\n  return (\n    <UnauthenticatedLayout>\n      <LayoutContent>\n        <Flex direction=\"column\" alignItems=\"center\" gap={3}>\n          <Logo />\n\n          <Typography as=\"h1\" variant=\"alpha\" textAlign=\"center\">\n            {formatMessage({\n              id: 'Auth.form.welcome.title',\n              defaultMessage: 'Welcome to Strapi!',\n            })}\n          </Typography>\n          <Typography variant=\"epsilon\" textColor=\"neutral600\" textAlign=\"center\">\n            {formatMessage({\n              id: 'Auth.form.register.subtitle',\n              defaultMessage:\n                'Credentials are only used to authenticate in Strapi. All saved data will be stored in your database.',\n            })}\n          </Typography>\n          {apiError ? (\n            <Typography id=\"global-form-error\" role=\"alert\" tabIndex={-1} textColor=\"danger600\">\n              {apiError}\n            </Typography>\n          ) : null}\n        </Flex>\n        <Formik\n          enableReinitialize\n          initialValues={{\n            firstname: userInfo?.firstname || '',\n            lastname: userInfo?.lastname || '',\n            email: userInfo?.email || '',\n            password: '',\n            confirmPassword: '',\n            registrationToken: registrationToken || undefined,\n            news: false,\n          }}\n          onSubmit={async (data, formik) => {\n            const normalizedData = normalizeData(data);\n\n            try {\n              await schema.validate(normalizedData, { abortEarly: false });\n\n              if (submitCount > 0 && isAdminRegistration) {\n                trackUsage('didSubmitWithErrorsFirstAdmin', { count: submitCount.toString() });\n              }\n\n              if (normalizedData.registrationToken) {\n                registerUserMutation.mutate({\n                  userInfo: omit(normalizedData, [\n                    'registrationToken',\n                    'confirmPassword',\n                    'email',\n                    'news',\n                  ]),\n                  registrationToken: normalizedData.registrationToken,\n                  news: normalizedData.news,\n                });\n              } else {\n                registerAdminMutation.mutate(\n                  omit(normalizedData, ['registrationToken', 'confirmPassword'])\n                );\n              }\n            } catch (err) {\n              if (err instanceof ValidationError) {\n                const errors = getYupInnerErrors(err);\n\n                formik.setErrors(errors);\n              }\n              setSubmitCount(submitCount + 1);\n            }\n          }}\n          validateOnChange={false}\n        >\n          {({ values, errors, handleChange }) => {\n            return (\n              <Form>\n                <Main>\n                  <Flex direction=\"column\" alignItems=\"stretch\" gap={6} marginTop={7}>\n                    <Grid gap={4}>\n                      <GridItem col={6}>\n                        <TextInput\n                          name=\"firstname\"\n                          required\n                          value={values.firstname}\n                          error={\n                            errors.firstname\n                              ? formatMessage(errors.firstname as MessageDescriptor)\n                              : undefined\n                          }\n                          onChange={handleChange}\n                          label={formatMessage({\n                            id: 'Auth.form.firstname.label',\n                            defaultMessage: 'Firstname',\n                          })}\n                        />\n                      </GridItem>\n                      <GridItem col={6}>\n                        <TextInput\n                          name=\"lastname\"\n                          value={values.lastname}\n                          onChange={handleChange}\n                          label={formatMessage({\n                            id: 'Auth.form.lastname.label',\n                            defaultMessage: 'Lastname',\n                          })}\n                        />\n                      </GridItem>\n                    </Grid>\n                    <TextInput\n                      name=\"email\"\n                      disabled={!isAdminRegistration}\n                      value={values.email}\n                      onChange={handleChange}\n                      error={\n                        errors.email ? formatMessage(errors.email as MessageDescriptor) : undefined\n                      }\n                      required\n                      label={formatMessage({\n                        id: 'Auth.form.email.label',\n                        defaultMessage: 'Email',\n                      })}\n                      type=\"email\"\n                    />\n                    <PasswordInput\n                      name=\"password\"\n                      onChange={handleChange}\n                      value={values.password}\n                      error={\n                        errors.password\n                          ? formatMessage(errors.password as MessageDescriptor)\n                          : undefined\n                      }\n                      endAction={\n                        <FieldActionWrapper\n                          onClick={(e) => {\n                            e.preventDefault();\n                            setPasswordShown((prev) => !prev);\n                          }}\n                          label={formatMessage(\n                            passwordShown\n                              ? {\n                                  id: 'Auth.form.password.show-password',\n                                  defaultMessage: 'Show password',\n                                }\n                              : {\n                                  id: 'Auth.form.password.hide-password',\n                                  defaultMessage: 'Hide password',\n                                }\n                          )}\n                        >\n                          {passwordShown ? <Eye /> : <EyeStriked />}\n                        </FieldActionWrapper>\n                      }\n                      hint={formatMessage({\n                        id: 'Auth.form.password.hint',\n                        defaultMessage:\n                          'Must be at least 8 characters, 1 uppercase, 1 lowercase & 1 number',\n                      })}\n                      required\n                      label={formatMessage({\n                        id: 'global.password',\n                        defaultMessage: 'Password',\n                      })}\n                      type={passwordShown ? 'text' : 'password'}\n                    />\n                    <PasswordInput\n                      name=\"confirmPassword\"\n                      onChange={handleChange}\n                      value={values.confirmPassword}\n                      error={\n                        errors.confirmPassword\n                          ? formatMessage(errors.confirmPassword as MessageDescriptor)\n                          : undefined\n                      }\n                      endAction={\n                        <FieldActionWrapper\n                          onClick={(e) => {\n                            e.preventDefault();\n                            setConfirmPasswordShown((prev) => !prev);\n                          }}\n                          label={formatMessage(\n                            confirmPasswordShown\n                              ? {\n                                  id: 'Auth.form.password.show-password',\n                                  defaultMessage: 'Show password',\n                                }\n                              : {\n                                  id: 'Auth.form.password.hide-password',\n                                  defaultMessage: 'Hide password',\n                                }\n                          )}\n                        >\n                          {confirmPasswordShown ? <Eye /> : <EyeStriked />}\n                        </FieldActionWrapper>\n                      }\n                      required\n                      label={formatMessage({\n                        id: 'Auth.form.confirmPassword.label',\n                        defaultMessage: 'Confirm Password',\n                      })}\n                      type={confirmPasswordShown ? 'text' : 'password'}\n                    />\n                    <Checkbox\n                      onValueChange={(checked) => {\n                        handleChange({ target: { value: checked, name: 'news' } });\n                      }}\n                      value={values.news}\n                      name=\"news\"\n                      aria-label=\"news\"\n                    >\n                      {formatMessage(\n                        {\n                          id: 'Auth.form.register.news.label',\n                          defaultMessage:\n                            'Keep me updated about new features & upcoming improvements (by doing this you accept the {terms} and the {policy}).',\n                        },\n                        {\n                          terms: (\n                            <A target=\"_blank\" href=\"https://strapi.io/terms\" rel=\"noreferrer\">\n                              {formatMessage({\n                                id: 'Auth.privacy-policy-agreement.terms',\n                                defaultMessage: 'terms',\n                              })}\n                            </A>\n                          ),\n                          policy: (\n                            <A target=\"_blank\" href=\"https://strapi.io/privacy\" rel=\"noreferrer\">\n                              {formatMessage({\n                                id: 'Auth.privacy-policy-agreement.policy',\n                                defaultMessage: 'policy',\n                              })}\n                            </A>\n                          ),\n                        }\n                      )}\n                    </Checkbox>\n                    <Button fullWidth size=\"L\" type=\"submit\">\n                      {formatMessage({\n                        id: 'Auth.form.button.register',\n                        defaultMessage: \"Let's start\",\n                      })}\n                    </Button>\n                  </Flex>\n                </Main>\n              </Form>\n            );\n          }}\n        </Formik>\n        {match?.params.authType === 'register' && (\n          <Box paddingTop={4}>\n            <Flex justifyContent=\"center\">\n              {/* @ts-expect-error ‚Äì error with inferring the props from the as component */}\n              <Link as={NavLink} to=\"/auth/login\">\n                {formatMessage({\n                  id: 'Auth.link.signin.account',\n                  defaultMessage: 'Already have an account?',\n                })}\n              </Link>\n            </Flex>\n          </Box>\n        )}\n      </LayoutContent>\n    </UnauthenticatedLayout>\n  );\n};\n\ninterface RegisterFormValues {\n  firstname: string;\n  lastname: string;\n  email: string;\n  password: string;\n  confirmPassword: string;\n  registrationToken: string | undefined;\n  news: boolean;\n}\n\ntype StringKeys<T> = {\n  [K in keyof T]: T[K] extends string | undefined ? K : never;\n}[keyof T];\n\n/**\n * @description Trims all values but the password & sets lastName to null if it's a falsey value.\n */\nfunction normalizeData(data: RegisterFormValues) {\n  return Object.entries(data).reduce(\n    (acc, [key, value]) => {\n      type PasswordKeys = Extract<keyof RegisterFormValues, 'password' | 'confirmPassword'>;\n      type RegisterFormStringValues = Exclude<\n        keyof Pick<RegisterFormValues, StringKeys<RegisterFormValues>>,\n        PasswordKeys\n      >;\n\n      if (!['password', 'confirmPassword'].includes(key) && typeof value === 'string') {\n        acc[key as RegisterFormStringValues] = value.trim();\n\n        if (key === 'lastname') {\n          acc[key] = value || undefined;\n        }\n      } else {\n        acc[key as PasswordKeys] = value;\n      }\n\n      return acc;\n    },\n    {} as {\n      firstname: string;\n      lastname: string | undefined;\n      email: string;\n      password: string;\n      confirmPassword: string;\n      registrationToken: string | undefined;\n      news: boolean;\n    }\n  );\n}\n\nconst A = styled.a`\n  color: ${({ theme }) => theme.colors.primary600};\n`;\n\nconst PasswordInput = styled(TextInput)`\n  ::-ms-reveal {\n    display: none;\n  }\n`;\n\nexport { Register };\nexport type { RegisterProps };\n","import * as React from 'react';\n\nimport { Box, Button, Flex, Main, TextInput, Typography } from '@strapi/design-system';\nimport { Link } from '@strapi/design-system/v2';\nimport { Form, auth, translatedErrors, useFetchClient, useQuery } from '@strapi/helper-plugin';\nimport { Eye, EyeStriked } from '@strapi/icons';\nimport { Formik } from 'formik';\nimport { useIntl } from 'react-intl';\nimport { useMutation } from 'react-query';\nimport { NavLink, useHistory } from 'react-router-dom';\nimport styled from 'styled-components';\nimport * as yup from 'yup';\n\nimport { ResetPassword } from '../../../../../shared/contracts/authentication';\nimport { Logo } from '../../../components/UnauthenticatedLogo';\nimport {\n  Column,\n  LayoutContent,\n  UnauthenticatedLayout,\n} from '../../../layouts/UnauthenticatedLayout';\n\nimport { FieldActionWrapper } from './FieldActionWrapper';\n\nconst RESET_PASSWORD_SCHEMA = yup.object().shape({\n  password: yup\n    .string()\n    .min(8, translatedErrors.minLength)\n    .matches(/[a-z]/, 'components.Input.error.contain.lowercase')\n    .matches(/[A-Z]/, 'components.Input.error.contain.uppercase')\n    .matches(/\\d/, 'components.Input.error.contain.number')\n    .required(translatedErrors.required),\n  confirmPassword: yup\n    .string()\n    .oneOf([yup.ref('password'), null], 'components.Input.error.password.noMatch')\n    .required(translatedErrors.required),\n});\n\nconst ResetPassword = () => {\n  const [passwordShown, setPasswordShown] = React.useState(false);\n  const [confirmPasswordShown, setConfirmPasswordShown] = React.useState(false);\n  const { formatMessage } = useIntl();\n  const { post } = useFetchClient();\n  const { push } = useHistory();\n  const query = useQuery();\n\n  const { mutate, isError } = useMutation(\n    async (body: Pick<ResetPassword.Request['body'], 'password'>) => {\n      const {\n        data: { data },\n      } = await post<ResetPassword.Response>('/admin/reset-password', {\n        ...body,\n        resetPasswordToken: query.get('code'),\n      });\n\n      return data;\n    },\n    {\n      onSuccess(data) {\n        if (data) {\n          const { token, user } = data;\n          auth.setToken(token, false);\n          auth.setUserInfo(user, false);\n\n          // Redirect to the homePage\n          push('/');\n        }\n      },\n    }\n  );\n\n  return (\n    <UnauthenticatedLayout>\n      <Main>\n        <LayoutContent>\n          <Column>\n            <Logo />\n            <Box paddingTop={6} paddingBottom={7}>\n              <Typography as=\"h1\" variant=\"alpha\">\n                {formatMessage({\n                  id: 'global.reset-password',\n                  defaultMessage: 'Reset password',\n                })}\n              </Typography>\n            </Box>\n            {isError ? (\n              <Typography id=\"global-form-error\" role=\"alert\" tabIndex={-1} textColor=\"danger600\">\n                {formatMessage({\n                  id: 'notification.error',\n                  defaultMessage: 'An error occurred',\n                })}\n              </Typography>\n            ) : null}\n          </Column>\n          <Formik\n            enableReinitialize\n            initialValues={{\n              password: '',\n              confirmPassword: '',\n            }}\n            onSubmit={(values) => {\n              mutate({ password: values.password });\n            }}\n            validationSchema={RESET_PASSWORD_SCHEMA}\n            validateOnChange={false}\n          >\n            {({ values, errors, handleChange }) => (\n              <Form>\n                <Flex direction=\"column\" alignItems=\"stretch\" gap={6}>\n                  <PasswordInput\n                    name=\"password\"\n                    onChange={handleChange}\n                    value={values.password}\n                    error={\n                      errors.password\n                        ? formatMessage(\n                            {\n                              id: errors.password,\n                              defaultMessage: 'This field is required.',\n                            },\n                            {\n                              min: 8,\n                            }\n                          )\n                        : undefined\n                    }\n                    endAction={\n                      <FieldActionWrapper\n                        onClick={(e) => {\n                          e.preventDefault();\n                          setPasswordShown((prev) => !prev);\n                        }}\n                        label={formatMessage(\n                          passwordShown\n                            ? {\n                                id: 'Auth.form.password.show-password',\n                                defaultMessage: 'Show password',\n                              }\n                            : {\n                                id: 'Auth.form.password.hide-password',\n                                defaultMessage: 'Hide password',\n                              }\n                        )}\n                      >\n                        {passwordShown ? <Eye /> : <EyeStriked />}\n                      </FieldActionWrapper>\n                    }\n                    hint={formatMessage({\n                      id: 'Auth.form.password.hint',\n                      defaultMessage:\n                        'Password must contain at least 8 characters, 1 uppercase, 1 lowercase and 1 number',\n                    })}\n                    required\n                    label={formatMessage({\n                      id: 'global.password',\n                      defaultMessage: 'Password',\n                    })}\n                    type={passwordShown ? 'text' : 'password'}\n                  />\n                  <PasswordInput\n                    name=\"confirmPassword\"\n                    onChange={handleChange}\n                    value={values.confirmPassword}\n                    error={\n                      errors.confirmPassword\n                        ? formatMessage({\n                            id: errors.confirmPassword,\n                            defaultMessage: 'This value is required.',\n                          })\n                        : undefined\n                    }\n                    endAction={\n                      <FieldActionWrapper\n                        onClick={(e) => {\n                          e.preventDefault();\n                          setConfirmPasswordShown((prev) => !prev);\n                        }}\n                        label={formatMessage(\n                          passwordShown\n                            ? {\n                                id: 'Auth.form.password.show-password',\n                                defaultMessage: 'Show password',\n                              }\n                            : {\n                                id: 'Auth.form.password.hide-password',\n                                defaultMessage: 'Hide password',\n                              }\n                        )}\n                      >\n                        {confirmPasswordShown ? <Eye /> : <EyeStriked />}\n                      </FieldActionWrapper>\n                    }\n                    required\n                    label={formatMessage({\n                      id: 'Auth.form.confirmPassword.label',\n                      defaultMessage: 'Confirm Password',\n                    })}\n                    type={confirmPasswordShown ? 'text' : 'password'}\n                  />\n                  <Button fullWidth type=\"submit\">\n                    {formatMessage({\n                      id: 'global.change-password',\n                      defaultMessage: 'Change password',\n                    })}\n                  </Button>\n                </Flex>\n              </Form>\n            )}\n          </Formik>\n        </LayoutContent>\n        <Flex justifyContent=\"center\">\n          <Box paddingTop={4}>\n            {/* @ts-expect-error ‚Äì error with inferring the props from the as component */}\n            <Link as={NavLink} to=\"/auth/login\">\n              {formatMessage({ id: 'Auth.link.ready', defaultMessage: 'Ready to sign in?' })}\n            </Link>\n          </Box>\n        </Flex>\n      </Main>\n    </UnauthenticatedLayout>\n  );\n};\n\nconst PasswordInput = styled(TextInput)`\n  ::-ms-reveal {\n    display: none;\n  }\n`;\n\nexport { ResetPassword };\n","import type { ComponentType } from 'react';\n\nimport { ForgotPassword } from './components/ForgotPassword';\nimport { ForgotPasswordSuccess } from './components/ForgotPasswordSuccess';\nimport { Oops } from './components/Oops';\nimport { Register, RegisterProps } from './components/Register';\nimport { ResetPassword } from './components/ResetPassword';\n\nexport type AuthType =\n  | 'login'\n  | 'register'\n  | 'register-admin'\n  | 'forgot-password'\n  | 'reset-password'\n  | 'forgot-password-success'\n  | 'oops'\n  | 'providers';\n\nexport type FormDictionary = Record<AuthType, ComponentType | ComponentType<RegisterProps>>;\n\nexport const FORMS = {\n  'forgot-password': ForgotPassword,\n  'forgot-password-success': ForgotPasswordSuccess,\n  // the `Component` attribute is set after all forms and CE/EE components are loaded, but since we\n  // are here outside of a React component we can not use the hook directly\n  login: () => null,\n  oops: Oops,\n  register: Register,\n  'register-admin': Register,\n  'reset-password': ResetPassword,\n  providers: () => null,\n} satisfies FormDictionary;\n","import { auth } from '@strapi/helper-plugin';\nimport { Redirect, useHistory, useRouteMatch } from 'react-router-dom';\n\nimport { useEnterprise } from '../../hooks/useEnterprise';\n\nimport { Login as LoginCE } from './components/Login';\nimport { AuthType, FORMS, FormDictionary } from './constants';\n\n/* -------------------------------------------------------------------------------------------------\n * AuthPage\n * -----------------------------------------------------------------------------------------------*/\n\ninterface AuthPageProps {\n  hasAdmin: boolean;\n}\n\nconst AuthPage = ({ hasAdmin }: AuthPageProps) => {\n  const {\n    location: { search },\n  } = useHistory();\n  const match = useRouteMatch<{ authType: AuthType }>('/auth/:authType');\n  const authType = match?.params.authType;\n  const Login = useEnterprise(\n    LoginCE,\n    async () => (await import('../../../../ee/admin/src/pages/AuthPage/components/Login')).LoginEE\n  );\n  const forms = useEnterprise<FormDictionary, Partial<FormDictionary>>(\n    FORMS,\n    async () => (await import('../../../../ee/admin/src/pages/AuthPage/constants')).FORMS,\n    {\n      combine(ceForms, eeForms) {\n        return {\n          ...ceForms,\n          ...eeForms,\n        };\n      },\n      defaultValue: FORMS,\n    }\n  );\n\n  if (!authType || !forms) {\n    return <Redirect to=\"/\" />;\n  }\n\n  const Component = forms[authType];\n\n  // Redirect the user to the login page if\n  // the endpoint does not exist or\n  // there is already an admin user oo\n  // the user is already logged in\n  if (!Component || (hasAdmin && authType === 'register-admin') || auth.getToken()) {\n    return <Redirect to=\"/\" />;\n  }\n\n  // Redirect the user to the register-admin if it is the first user\n  if (!hasAdmin && authType !== 'register-admin') {\n    return (\n      <Redirect\n        to={{\n          pathname: '/auth/register-admin',\n          // Forward the `?redirectTo` from /auth/login\n          // /abc => /auth/login?redirectTo=%2Fabc => /auth/register-admin?redirectTo=%2Fabc\n          search,\n        }}\n      />\n    );\n  }\n\n  if (Login && authType === 'login') {\n    // Assign the component to render for the login form\n    return <Login />;\n  } else if (authType === 'login' && !Login) {\n    // block rendering until the Login EE component is fully loaded\n    return null;\n  }\n\n  return <Component hasAdmin={hasAdmin} />;\n};\n\nexport { AuthPage };\nexport type { AuthPageProps };\n","/**\n * NotFoundPage\n *\n * This is the page we show when the user visits a url that doesn't have a route\n *\n */\nimport {\n  ContentLayout,\n  EmptyStateLayout,\n  HeaderLayout,\n  LinkButton,\n  Main,\n} from '@strapi/design-system';\nimport { useFocusWhenNavigate } from '@strapi/helper-plugin';\nimport { ArrowRight, EmptyPictures } from '@strapi/icons';\nimport { useIntl } from 'react-intl';\n\nexport const NotFoundPage = () => {\n  const { formatMessage } = useIntl();\n  useFocusWhenNavigate();\n\n  return (\n    <Main labelledBy=\"title\">\n      <HeaderLayout\n        id=\"title\"\n        title={formatMessage({\n          id: 'content-manager.pageNotFound',\n          defaultMessage: 'Page not found',\n        })}\n      />\n      <ContentLayout>\n        <EmptyStateLayout\n          action={\n            <LinkButton variant=\"secondary\" endIcon={<ArrowRight />} to=\"/\">\n              {formatMessage({\n                id: 'app.components.NotFoundPage.back',\n                defaultMessage: 'Back to homepage',\n              })}\n            </LinkButton>\n          }\n          content={formatMessage({\n            id: 'app.page.not.found',\n            defaultMessage: \"Oops! We can't seem to find the page you're looging for...\",\n          })}\n          hasRadius\n          icon={<EmptyPictures width=\"10rem\" />}\n          shadow=\"tableShadow\"\n        />\n      </ContentLayout>\n    </Main>\n  );\n};\n","import * as React from 'react';\n\nimport {\n  Box,\n  Button,\n  Flex,\n  Main,\n  Option,\n  Select,\n  TextButton,\n  TextInput,\n  Typography,\n} from '@strapi/design-system';\nimport { auth, pxToRem, useFetchClient, useNotification } from '@strapi/helper-plugin';\nimport { parse } from 'qs';\nimport { useIntl } from 'react-intl';\nimport { useHistory } from 'react-router-dom';\nimport styled from 'styled-components';\n\nimport { Logo } from '../components/UnauthenticatedLogo';\nimport { LayoutContent, UnauthenticatedLayout } from '../layouts/UnauthenticatedLayout';\n\nexport const options = [\n  {\n    intlLabel: {\n      id: 'Usecase.front-end',\n      defaultMessage: 'Front-end developer',\n    },\n    value: 'front_end_developer',\n  },\n  {\n    intlLabel: {\n      id: 'Usecase.back-end',\n      defaultMessage: 'Back-end developer',\n    },\n    value: 'back_end_developer',\n  },\n  {\n    intlLabel: {\n      id: 'Usecase.full-stack',\n      defaultMessage: 'Full-stack developer',\n    },\n    value: 'full_stack_developer',\n  },\n  {\n    intlLabel: {\n      id: 'global.content-manager',\n      defaultMessage: 'Content Manager',\n    },\n    value: 'content_manager',\n  },\n  {\n    intlLabel: {\n      id: 'Usecase.content-creator',\n      defaultMessage: 'Content Creator',\n    },\n    value: 'content_creator',\n  },\n  {\n    intlLabel: {\n      id: 'Usecase.other',\n      defaultMessage: 'Other',\n    },\n    value: 'other',\n  },\n];\n\nconst TypographyCenter = styled(Typography)`\n  text-align: center;\n`;\n\nexport const UseCasePage = () => {\n  const toggleNotification = useNotification();\n  const { push, location } = useHistory();\n  const { formatMessage } = useIntl();\n  const [role, setRole] = React.useState<string | number | null>(null);\n  const [otherRole, setOtherRole] = React.useState('');\n  const { post } = useFetchClient();\n\n  const { firstname, email } = auth.get('userInfo') ?? {};\n  const { hasAdmin } = parse(location?.search, { ignoreQueryPrefix: true });\n  const isOther = role === 'other';\n\n  const handleSubmit = async (event: React.FormEvent, skipPersona: boolean) => {\n    event.preventDefault();\n    try {\n      await post('https://analytics.strapi.io/register', {\n        email,\n        username: firstname,\n        firstAdmin: Boolean(!hasAdmin),\n        persona: {\n          role: skipPersona ? undefined : role,\n          otherRole: skipPersona ? undefined : otherRole,\n        },\n      });\n\n      toggleNotification({\n        type: 'success',\n        message: {\n          id: 'Usecase.notification.success.project-created',\n          defaultMessage: 'Project has been successfully created',\n        },\n      });\n      push('/');\n    } catch (err) {\n      // Silent\n    }\n  };\n\n  return (\n    <UnauthenticatedLayout>\n      <Main labelledBy=\"usecase-title\">\n        <LayoutContent>\n          <form onSubmit={(e) => handleSubmit(e, false)}>\n            <Flex direction=\"column\" paddingBottom={7}>\n              <Logo />\n              <Box paddingTop={6} paddingBottom={1} width={pxToRem(250)}>\n                <TypographyCenter variant=\"alpha\" as=\"h1\" id=\"usecase-title\">\n                  {formatMessage({\n                    id: 'Usecase.title',\n                    defaultMessage: 'Tell us a bit more about yourself',\n                  })}\n                </TypographyCenter>\n              </Box>\n            </Flex>\n            <Flex direction=\"column\" alignItems=\"stretch\" gap={6}>\n              <Select\n                id=\"usecase\"\n                data-testid=\"usecase\"\n                label={formatMessage({\n                  id: 'Usecase.input.work-type',\n                  defaultMessage: 'What type of work do you do?',\n                })}\n                // onClear={() => setRole(null)}\n                // clearLabel={formatMessage({ id: 'clearLabel', defaultMessage: 'Clear' })}\n                onChange={(value) => setRole(value)}\n                value={role}\n              >\n                {options.map(({ intlLabel, value }) => (\n                  <Option key={value} value={value}>\n                    {formatMessage(intlLabel)}\n                  </Option>\n                ))}\n              </Select>\n              {isOther && (\n                <TextInput\n                  name=\"other\"\n                  label={formatMessage({ id: 'Usecase.other', defaultMessage: 'Other' })}\n                  value={otherRole}\n                  onChange={(e) => setOtherRole(e.target.value)}\n                  data-testid=\"other\"\n                />\n              )}\n              <Button type=\"submit\" size=\"L\" fullWidth disabled={!role}>\n                {formatMessage({ id: 'global.finish', defaultMessage: 'Finish' })}\n              </Button>\n            </Flex>\n          </form>\n        </LayoutContent>\n        <Flex justifyContent=\"center\">\n          <Box paddingTop={4}>\n            <TextButton onClick={(event) => handleSubmit(event, true)}>\n              {formatMessage({\n                id: 'Usecase.button.skip',\n                defaultMessage: 'Skip this question',\n              })}\n            </TextButton>\n          </Box>\n        </Flex>\n      </Main>\n    </UnauthenticatedLayout>\n  );\n};\n","/* eslint-disable check-file/filename-naming-convention */\n\nimport * as React from 'react';\n\nimport { LoadingIndicatorPage, MenuItem } from '@strapi/helper-plugin';\nimport { Route } from 'react-router-dom';\n\ninterface LazyCompoProps {\n  loadComponent: Required<MenuItem>['Component'];\n}\n\nconst LazyCompo = ({ loadComponent }: LazyCompoProps) => {\n  const [Compo, setCompo] = React.useState<React.ComponentType | null>(null);\n\n  React.useEffect(() => {\n    const loadCompo = async () => {\n      try {\n        const loadedCompo = await loadComponent();\n\n        // TODO the loaded component provided can currently come from a default or named export\n        // We will move the entire codebase to use named exports only\n        // Until then we support both cases with priority given to the existing default exports\n        if (typeof loadedCompo === 'function') {\n          setCompo(() => loadedCompo);\n        } else if (loadedCompo.default) {\n          setCompo(() => loadedCompo.default!);\n        }\n      } catch (err) {}\n    };\n\n    loadCompo();\n  }, [loadComponent]);\n\n  if (Compo) {\n    return <Compo />;\n  }\n\n  return <LoadingIndicatorPage />;\n};\n\nexport const createRoute = (\n  loadComponent: LazyCompoProps['loadComponent'],\n  to: MenuItem['to'],\n  exact: MenuItem['exact'] = false\n) => {\n  return (\n    <Route\n      render={() => <LazyCompo loadComponent={loadComponent} />}\n      key={to}\n      path={to}\n      exact={exact || false}\n    />\n  );\n};\n","/**\n *\n * App.js\n *\n */\n\nimport * as React from 'react';\n\nimport { SkipToContent } from '@strapi/design-system';\nimport {\n  auth,\n  LoadingIndicatorPage,\n  MenuItem,\n  prefixFileUrlWithBackendUrl,\n  TrackingProvider,\n  useAppInfo,\n  useFetchClient,\n  useNotification,\n} from '@strapi/helper-plugin';\nimport merge from 'lodash/merge';\nimport { useIntl } from 'react-intl';\nimport { useDispatch } from 'react-redux';\nimport { Route, Switch } from 'react-router-dom';\n\nimport { PrivateRoute } from './components/PrivateRoute';\nimport { ADMIN_PERMISSIONS_CE, ACTION_SET_ADMIN_PERMISSIONS } from './constants';\nimport { useConfiguration } from './contexts/configuration';\nimport { useEnterprise } from './hooks/useEnterprise';\nimport { AuthPage } from './pages/Auth/AuthPage';\nimport { NotFoundPage } from './pages/NotFoundPage';\nimport { UseCasePage } from './pages/UseCasePage';\nimport { createRoute } from './utils/createRoute';\n\ntype StrapiRoute = Pick<MenuItem, 'exact' | 'to'> & Required<Pick<MenuItem, 'Component'>>;\n\nconst ROUTES_CE: StrapiRoute[] | null = null;\n\nconst AuthenticatedApp = React.lazy(() =>\n  import('./components/AuthenticatedApp').then((mod) => ({ default: mod.AuthenticatedApp }))\n);\n\nexport const App = () => {\n  const adminPermissions = useEnterprise(\n    ADMIN_PERMISSIONS_CE,\n    async () => (await import('../../ee/admin/src/constants')).ADMIN_PERMISSIONS_EE,\n    {\n      combine(cePermissions, eePermissions) {\n        // the `settings` NS e.g. are deep nested objects, that need a deep merge\n        return merge({}, cePermissions, eePermissions);\n      },\n\n      defaultValue: ADMIN_PERMISSIONS_CE,\n    }\n  );\n  const routes = useEnterprise(\n    ROUTES_CE,\n    async () => (await import('../../ee/admin/src/constants')).ROUTES_EE,\n    {\n      defaultValue: [],\n    }\n  );\n  const toggleNotification = useNotification();\n  const { updateProjectSettings } = useConfiguration();\n  const { formatMessage } = useIntl();\n  const [{ isLoading, hasAdmin, uuid, deviceId }, setState] = React.useState({\n    isLoading: true,\n    deviceId: undefined,\n    hasAdmin: false,\n    uuid: false,\n  });\n  const dispatch = useDispatch();\n  const appInfo = useAppInfo();\n  const { get, post } = useFetchClient();\n\n  const authRoutes = React.useMemo(() => {\n    if (!routes) {\n      return null;\n    }\n\n    return routes.map(({ to, Component, exact }) => createRoute(Component, to, exact));\n  }, [routes]);\n\n  const [telemetryProperties, setTelemetryProperties] = React.useState(undefined);\n\n  React.useEffect(() => {\n    dispatch({ type: ACTION_SET_ADMIN_PERMISSIONS, payload: adminPermissions });\n  }, [adminPermissions, dispatch]);\n\n  React.useEffect(() => {\n    const currentToken = auth.getToken();\n\n    const renewToken = async () => {\n      try {\n        const {\n          data: {\n            data: { token },\n          },\n        } = await post('/admin/renew-token', { token: currentToken });\n        auth.updateToken(token);\n      } catch (err) {\n        // Refresh app\n        auth.clearAppStorage();\n        window.location.reload();\n      }\n    };\n\n    if (currentToken) {\n      renewToken();\n    }\n  }, [post]);\n\n  React.useEffect(() => {\n    const getData = async () => {\n      try {\n        const {\n          data: {\n            data: { hasAdmin, uuid, menuLogo, authLogo },\n          },\n        } = await get(`/admin/init`);\n\n        updateProjectSettings({\n          menuLogo: prefixFileUrlWithBackendUrl(menuLogo),\n          authLogo: prefixFileUrlWithBackendUrl(authLogo),\n        });\n\n        if (uuid) {\n          const {\n            data: { data: properties },\n          } = await get(`/admin/telemetry-properties`, {\n            // NOTE: needed because the interceptors of the fetchClient redirect to /login when receive a 401 and it would end up in an infinite loop when the user doesn't have a session.\n            validateStatus: (status) => status < 500,\n          });\n\n          setTelemetryProperties(properties);\n\n          try {\n            const event = 'didInitializeAdministration';\n            await post(\n              'https://analytics.strapi.io/api/v2/track',\n              {\n                // This event is anonymous\n                event,\n                userId: '',\n                deviceId,\n                eventPropeties: {},\n                userProperties: { environment: appInfo.currentEnvironment },\n                groupProperties: { ...properties, projectId: uuid },\n              },\n              {\n                headers: {\n                  'X-Strapi-Event': event,\n                },\n              }\n            );\n          } catch (e) {\n            // Silent.\n          }\n        }\n\n        setState({ isLoading: false, hasAdmin, uuid, deviceId });\n      } catch (err) {\n        toggleNotification({\n          type: 'warning',\n          message: { id: 'app.containers.App.notification.error.init' },\n        });\n      }\n    };\n\n    getData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [toggleNotification, updateProjectSettings]);\n\n  const trackingInfo = React.useMemo(\n    () => ({\n      uuid,\n      telemetryProperties,\n      deviceId,\n    }),\n    [uuid, telemetryProperties, deviceId]\n  );\n\n  if (isLoading) {\n    return <LoadingIndicatorPage />;\n  }\n\n  return (\n    <React.Suspense fallback={<LoadingIndicatorPage />}>\n      <SkipToContent>\n        {formatMessage({ id: 'skipToContent', defaultMessage: 'Skip to content' })}\n      </SkipToContent>\n      <TrackingProvider value={trackingInfo}>\n        <Switch>\n          {authRoutes}\n          <Route\n            path=\"/auth/:authType\"\n            render={(routerProps) => <AuthPage {...routerProps} hasAdmin={hasAdmin} />}\n            exact\n          />\n          <PrivateRoute path=\"/usecase\" component={UseCasePage} />\n          <PrivateRoute path=\"/\" component={AuthenticatedApp} />\n          <Route path=\"\" component={NotFoundPage} />\n        </Switch>\n      </TrackingProvider>\n    </React.Suspense>\n  );\n};\n","export default \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAwIiBoZWlnaHQ9IjgwMCIgdmlld0JveD0iMCAwIDgwMCA4MDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8cGF0aCBkPSJNMzkgMjgyYzAtMTE4IDAtMTc2LjkgMzYuNi0yMTMuNUMxMTIuMiAzMiAxNzEuMSAzMiAyODguOSAzMmgyMjEuMmMxMTcuOCAwIDE3Ni43IDAgMjEzLjMgMzYuNkM3NjAgMTA1LjIgNzYwIDE2NC4xIDc2MCAyODEuOXYyMjEuMmMwIDExNy44IDAgMTc2LjctMzYuNiAyMTMuM0M2ODYuOCA3NTMgNjI3LjkgNzUzIDUxMC4xIDc1M0gyODguOWMtMTE3LjggMC0xNzYuNyAwLTIxMy4zLTM2LjZDMzkgNjc5LjggMzkgNjIwLjkgMzkgNTAzLjFWMjgxLjlaIiBmaWxsPSIjNDk0NUZGIi8+CiAgICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTUzNi40IDI1MC43SDI5My43djEyMy44aDEyMy44djEyMy43aDEyMy44VjI1NS41YzAtMi42LTIuMi00LjgtNC45LTQuOFoiIGZpbGw9IiNmZmYiLz4KICAgIDxwYXRoIGZpbGw9IiNmZmYiIGQ9Ik00MTIuNyAzNzQuNWg0Ljh2NC44aC00Ljh6Ii8+CiAgICA8cGF0aCBkPSJNMjkzLjggMzc0LjVoMTE5YzIuNiAwIDQuOCAyLjEgNC44IDQuOHYxMTloLTExOWE0LjggNC44IDAgMCAxLTQuOC00Ljl2LTExOVoiIGZpbGw9IiM5NTkzRkYiLz4KICAgIDxwYXRoIGQ9Ik00MTcuNSA0OTguMmgxMjMuOEw0MjEuNiA2MThhMi40IDIuNCAwIDAgMS00LTEuN3YtMTE4Wk0yOTMuOCAzNzQuNWgtMTE4YTIuNCAyLjQgMCAwIDEtMS43LTQuMWwxMTkuNy0xMTkuN3YxMjMuOFoiIGZpbGw9IiM5NTkzRkYiLz4KPC9zdmc+Cg==\"","import { createContext } from '@radix-ui/react-context';\n\nimport type { StrapiApp } from '../StrapiApp';\ninterface AdminContextValue {\n  getAdminInjectedComponents: StrapiApp['getAdminInjectedComponents'];\n}\n\nconst [AdminContextProvider, useAdminContext] = createContext<AdminContextValue>('AdminContext');\n\nconst useAdmin = () => useAdminContext('useAdmin');\n\nexport { AdminContextProvider, useAdmin };\nexport type { AdminContextValue };\n","import * as React from 'react';\n\nimport { ConfigurationContextProvider, ConfigurationContextValue } from '../contexts/configuration';\n\ninterface ConfigurationProviderProps {\n  children: React.ReactNode;\n  authLogo: string;\n  menuLogo: string;\n  showReleaseNotification?: boolean;\n  showTutorials?: boolean;\n}\n\ntype LogoKeys = keyof ConfigurationContextValue['logos'];\n\nconst ConfigurationProvider = ({\n  children,\n  authLogo: defaultAuthLogo,\n  menuLogo: defaultMenuLogo,\n  showReleaseNotification = false,\n  showTutorials = false,\n}: ConfigurationProviderProps) => {\n  const [{ menuLogo, authLogo }, setLogos] = React.useState<{\n    [_Key in `${LogoKeys}Logo`]?: ConfigurationContextValue['logos'][LogoKeys]['custom'];\n  }>({\n    menuLogo: null,\n    authLogo: null,\n  });\n\n  const updateProjectSettings: ConfigurationContextValue['updateProjectSettings'] =\n    React.useCallback(\n      ({ menuLogo, authLogo }) => {\n        setLogos({\n          menuLogo: menuLogo || defaultMenuLogo,\n          authLogo: authLogo || defaultAuthLogo,\n        });\n      },\n      [defaultAuthLogo, defaultMenuLogo]\n    );\n\n  return (\n    <ConfigurationContextProvider\n      updateProjectSettings={updateProjectSettings}\n      showReleaseNotification={showReleaseNotification}\n      showTutorials={showTutorials}\n      logos={{\n        menu: { custom: menuLogo, default: defaultMenuLogo },\n        auth: { custom: authLogo, default: defaultAuthLogo },\n      }}\n    >\n      {children}\n    </ConfigurationContextProvider>\n  );\n};\n\nexport { ConfigurationProvider };\nexport type { ConfigurationProviderProps };\n","import * as React from 'react';\n\nimport {\n  GuidedTourContextValue,\n  GuidedTourProvider as GuidedTourProviderComponent,\n  GuidedTourSectionKey,\n  GuidedTourStep,\n  GuidedTourStepKey,\n  auth,\n} from '@strapi/helper-plugin';\nimport produce from 'immer';\nimport get from 'lodash/get';\nimport set from 'lodash/set';\n\n/* -------------------------------------------------------------------------------------------------\n * GuidedTourProvider\n * -----------------------------------------------------------------------------------------------*/\n\ninterface GuidedTourProviderProps {\n  children: React.ReactNode;\n}\n\nconst GuidedTourProvider = ({ children }: GuidedTourProviderProps) => {\n  const [{ currentStep, guidedTourState, isGuidedTourVisible, isSkipped }, dispatch] =\n    React.useReducer(reducer, initialState, initialiseState);\n\n  const setCurrentStep = (step: SetCurrentStepAction['step']) => {\n    // if step is null it is intentional, we need to dispatch it\n    if (step !== null) {\n      const isStepAlreadyDone = get(guidedTourState, step);\n      const [sectionName, stepName] = step.split('.') as [GuidedTourSectionKey, GuidedTourStepKey];\n      const sectionArray = Object.entries(guidedTourState[sectionName]);\n\n      const currentStepIndex = sectionArray.findIndex(([key]) => key === stepName);\n      const previousSteps = sectionArray.slice(0, currentStepIndex);\n\n      const isStepToShow = previousSteps.every(([, sectionValue]) => sectionValue);\n\n      if (isStepAlreadyDone || isSkipped || !isStepToShow) {\n        return null;\n      }\n    }\n\n    auth.set(null, 'GUIDED_TOUR_CURRENT_STEP', true);\n\n    return dispatch({\n      type: 'SET_CURRENT_STEP',\n      step,\n    });\n  };\n\n  const setGuidedTourVisibility = (value: SetGuidedTourVisibilityAction['value']) => {\n    dispatch({\n      type: 'SET_GUIDED_TOUR_VISIBILITY',\n      value,\n    });\n  };\n\n  const setStepState = (currentStep: GuidedTourStep, value: SetStepStateAction['value']) => {\n    addCompletedStep(currentStep);\n\n    dispatch({\n      type: 'SET_STEP_STATE',\n      currentStep,\n      value,\n    });\n  };\n\n  const startSection = (sectionName: GuidedTourSectionKey) => {\n    const sectionSteps = guidedTourState[sectionName];\n\n    if (sectionSteps) {\n      const guidedTourArray = Object.entries(guidedTourState);\n\n      // Find current section position in the guidedTourArray\n      // Get only previous sections based on current section position\n      const currentSectionIndex = guidedTourArray.findIndex(([key]) => key === sectionName);\n      const previousSections = guidedTourArray.slice(0, currentSectionIndex);\n\n      // Check if every steps from previous section are done\n      const isSectionToShow = previousSections.every(([, sectionValue]) =>\n        Object.values(sectionValue).every(Boolean)\n      );\n\n      const [firstStep] = Object.keys(sectionSteps) as [GuidedTourStepKey];\n      const isFirstStepDone = sectionSteps[firstStep];\n\n      if (isSectionToShow && !currentStep && !isFirstStepDone) {\n        setCurrentStep(`${sectionName}.${firstStep}`);\n      }\n    }\n  };\n\n  const setSkipped = (value: SetSkippedAction['value']) => {\n    auth.set(value, 'GUIDED_TOUR_SKIPPED', true);\n\n    dispatch({\n      type: 'SET_SKIPPED',\n      value,\n    });\n  };\n\n  return (\n    <GuidedTourProviderComponent\n      guidedTourState={guidedTourState}\n      currentStep={currentStep}\n      setCurrentStep={setCurrentStep}\n      setGuidedTourVisibility={setGuidedTourVisibility}\n      setSkipped={setSkipped}\n      setStepState={setStepState}\n      startSection={startSection}\n      isGuidedTourVisible={isGuidedTourVisible}\n      isSkipped={isSkipped}\n    >\n      {children}\n    </GuidedTourProviderComponent>\n  );\n};\n\ntype State = Pick<\n  GuidedTourContextValue,\n  'guidedTourState' | 'currentStep' | 'isGuidedTourVisible' | 'isSkipped'\n>;\n\nconst initialState = {\n  currentStep: null,\n  guidedTourState: {\n    contentTypeBuilder: {\n      create: false,\n      success: false,\n    },\n    contentManager: {\n      create: false,\n      success: false,\n    },\n    apiTokens: {\n      create: false,\n      success: false,\n    },\n  },\n  isGuidedTourVisible: false,\n  isSkipped: false,\n} satisfies State;\n\ninterface SetCurrentStepAction {\n  type: 'SET_CURRENT_STEP';\n  step: GuidedTourStep | null;\n}\n\ninterface SetStepStateAction {\n  type: 'SET_STEP_STATE';\n  currentStep: GuidedTourStep;\n  value: boolean;\n}\n\ninterface SetSkippedAction {\n  type: 'SET_SKIPPED';\n  value: boolean;\n}\n\ninterface SetGuidedTourVisibilityAction {\n  type: 'SET_GUIDED_TOUR_VISIBILITY';\n  value: boolean;\n}\n\ntype Action =\n  | SetCurrentStepAction\n  | SetStepStateAction\n  | SetSkippedAction\n  | SetGuidedTourVisibilityAction;\n\nconst reducer: React.Reducer<State, Action> = (state: State = initialState, action: Action) =>\n  produce(state, (draftState) => {\n    switch (action.type) {\n      case 'SET_CURRENT_STEP': {\n        draftState.currentStep = action.step;\n        break;\n      }\n      case 'SET_STEP_STATE': {\n        const [section, step] = action.currentStep.split('.') as [\n          GuidedTourSectionKey,\n          GuidedTourStepKey\n        ];\n        draftState.guidedTourState[section][step] = action.value;\n        break;\n      }\n      case 'SET_SKIPPED': {\n        draftState.isSkipped = action.value;\n        break;\n      }\n      case 'SET_GUIDED_TOUR_VISIBILITY': {\n        draftState.isGuidedTourVisible = action.value;\n        break;\n      }\n      default: {\n        return draftState;\n      }\n    }\n  });\n\nconst initialiseState = (initialState: State) => {\n  const copyInitialState = { ...initialState };\n  const guidedTourLocaleStorage = auth.get('GUIDED_TOUR_COMPLETED_STEPS');\n  const currentStepLocaleStorage = auth.get('GUIDED_TOUR_CURRENT_STEP');\n  const skippedLocaleStorage = auth.get('GUIDED_TOUR_SKIPPED');\n\n  if (Array.isArray(guidedTourLocaleStorage)) {\n    guidedTourLocaleStorage.forEach((step) => {\n      const [sectionName, stepName] = step.split('.');\n      set(copyInitialState, ['guidedTourState', sectionName, stepName], true);\n    });\n  }\n\n  // if current step when initializing mark it as done\n  if (currentStepLocaleStorage) {\n    const [sectionName, stepName] = currentStepLocaleStorage.split('.') as [\n      GuidedTourSectionKey,\n      GuidedTourStepKey\n    ];\n    set(copyInitialState, ['guidedTourState', sectionName, stepName], true);\n\n    addCompletedStep(currentStepLocaleStorage as GuidedTourStep);\n\n    auth.set(null, 'GUIDED_TOUR_CURRENT_STEP', true);\n  }\n\n  if (skippedLocaleStorage !== null) {\n    set(copyInitialState, 'isSkipped', skippedLocaleStorage);\n  }\n\n  return copyInitialState;\n};\n\n/**\n * @description Add a completed step to the local storage if it does not already exist.\n */\nconst addCompletedStep = (completedStep: GuidedTourStep) => {\n  const currentSteps = auth.get('GUIDED_TOUR_COMPLETED_STEPS') ?? [];\n\n  if (!Array.isArray(currentSteps)) {\n    return;\n  }\n\n  const isAlreadyStored = currentSteps.includes(completedStep);\n\n  if (isAlreadyStored) {\n    return;\n  }\n\n  auth.set([...currentSteps, completedStep], 'GUIDED_TOUR_COMPLETED_STEPS', true);\n};\n\nexport { GuidedTourProvider };\n","import { createContext } from '@radix-ui/react-context';\nimport { DefaultTheme } from 'styled-components';\n\ntype ThemeName = 'light' | 'dark' | 'system';\ntype NonSystemThemeName = Exclude<ThemeName, 'system'>;\n\ninterface ThemeToggleContextContextValue {\n  currentTheme?: ThemeName;\n  onChangeTheme?: (nextTheme: ThemeName) => void;\n  themes?: {\n    dark: DefaultTheme;\n    light: DefaultTheme;\n  };\n  systemTheme?: NonSystemThemeName;\n}\n\nconst [ThemeToggleContextProvider, useThemeToggleContext] =\n  createContext<ThemeToggleContextContextValue>('ThemeToggleContext');\n\nconst useThemeToggle = () => useThemeToggleContext('useThemeToggle');\n\nexport { ThemeToggleContextProvider, useThemeToggle };\nexport type { ThemeName, NonSystemThemeName, ThemeToggleContextContextValue };\n","import * as React from 'react';\n\nimport { DesignSystemProvider } from '@strapi/design-system';\nimport { useIntl } from 'react-intl';\nimport { createGlobalStyle } from 'styled-components';\n\nimport { useThemeToggle } from '../contexts/themeToggle';\n\ninterface ThemeProps {\n  children: React.ReactNode;\n}\n\nconst Theme = ({ children }: ThemeProps) => {\n  const { currentTheme, themes, systemTheme } = useThemeToggle();\n  const { locale } = useIntl();\n\n  const computedThemeName = currentTheme === 'system' ? systemTheme : currentTheme;\n\n  return (\n    <DesignSystemProvider\n      locale={locale}\n      /**\n       * TODO: could we make this neater i.e. by setting up the context to throw\n       * if it can't find it, that way the type is always fully defined and we're\n       * not checking it all the time...\n       */\n      theme={themes?.[computedThemeName || 'light']}\n    >\n      {children}\n      <GlobalStyle />\n    </DesignSystemProvider>\n  );\n};\n\nconst GlobalStyle = createGlobalStyle`\n  body {\n    background: ${({ theme }) => theme.colors.neutral100};\n  }\n`;\n\nexport { Theme };\n","import * as React from 'react';\n\nimport { DefaultTheme } from 'styled-components';\n\nimport { ThemeToggleContextProvider, ThemeName, NonSystemThemeName } from '../contexts/themeToggle';\n\nconst THEME_KEY = 'STRAPI_THEME';\n\nconst getDefaultTheme = () => {\n  const persistedTheme = localStorage.getItem(THEME_KEY) as ThemeName | null;\n\n  return persistedTheme || 'system';\n};\n\ninterface ThemeToggleProviderProps {\n  children: React.ReactNode;\n  themes: {\n    light: DefaultTheme;\n    dark: DefaultTheme;\n  };\n}\n\nconst ThemeToggleProvider = ({ children, themes }: ThemeToggleProviderProps) => {\n  const [currentTheme, setCurrentTheme] = React.useState<ThemeName>(getDefaultTheme());\n  const [systemTheme, setSystemTheme] = React.useState<NonSystemThemeName>();\n\n  const handleChangeTheme = React.useCallback(\n    (nextTheme: ThemeName) => {\n      setCurrentTheme(nextTheme);\n      localStorage.setItem(THEME_KEY, nextTheme);\n    },\n    [setCurrentTheme]\n  );\n\n  // Listen to changes in the system theme\n  React.useEffect(() => {\n    const themeWatcher = window.matchMedia('(prefers-color-scheme: dark)');\n    setSystemTheme(themeWatcher.matches ? 'dark' : 'light');\n\n    const listener = (event: MediaQueryListEvent) => {\n      setSystemTheme(event.matches ? 'dark' : 'light');\n    };\n    themeWatcher.addEventListener('change', listener);\n\n    // Remove listener on cleanup\n    return () => {\n      themeWatcher.removeEventListener('change', listener);\n    };\n  }, []);\n\n  return (\n    <ThemeToggleContextProvider\n      currentTheme={currentTheme}\n      onChangeTheme={handleChangeTheme}\n      themes={themes}\n      systemTheme={systemTheme}\n    >\n      {children}\n    </ThemeToggleContextProvider>\n  );\n};\n\nexport { ThemeToggleProvider };\nexport type { ThemeToggleProviderProps };\n","import * as React from 'react';\n\nimport {\n  AutoReloadOverlayBlockerProvider,\n  CustomFieldsProvider,\n  CustomFieldsProviderProps,\n  LibraryProvider,\n  LibraryProviderProps,\n  NotificationsProvider,\n  OverlayBlockerProvider,\n  StrapiAppProvider,\n  StrapiAppProviderProps,\n} from '@strapi/helper-plugin';\nimport { QueryClient, QueryClientProvider } from 'react-query';\nimport { Provider } from 'react-redux';\n\nimport { AdminContextProvider, AdminContextValue } from '../contexts/admin';\n\nimport { ConfigurationProvider, ConfigurationProviderProps } from './ConfigurationProvider';\nimport { GuidedTourProvider } from './GuidedTour/Provider';\nimport { LanguageProvider, LanguageProviderProps } from './LanguageProvider';\nimport { Theme } from './Theme';\nimport { ThemeToggleProvider, ThemeToggleProviderProps } from './ThemeToggleProvider';\n\nimport type { Store } from '../core/store/configure';\n\nconst queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      refetchOnWindowFocus: false,\n    },\n  },\n});\n\ninterface ProvidersProps\n  extends Pick<ThemeToggleProviderProps, 'themes'>,\n    Pick<LanguageProviderProps, 'messages' | 'localeNames'>,\n    Pick<\n      ConfigurationProviderProps,\n      'authLogo' | 'menuLogo' | 'showReleaseNotification' | 'showTutorials'\n    >,\n    Pick<AdminContextValue, 'getAdminInjectedComponents'>,\n    Pick<CustomFieldsProviderProps, 'customFields'>,\n    Pick<LibraryProviderProps, 'components' | 'fields'>,\n    Pick<\n      StrapiAppProviderProps,\n      | 'getPlugin'\n      | 'menu'\n      | 'plugins'\n      | 'runHookParallel'\n      | 'runHookSeries'\n      | 'runHookWaterfall'\n      | 'settings'\n    > {\n  children: React.ReactNode;\n  store: Store;\n}\n\nconst Providers = ({\n  authLogo,\n  children,\n  components,\n  customFields,\n  fields,\n  getAdminInjectedComponents,\n  getPlugin,\n  localeNames,\n  menu,\n  menuLogo,\n  messages,\n  plugins,\n  runHookParallel,\n  runHookSeries,\n  runHookWaterfall,\n  settings,\n  showReleaseNotification,\n  showTutorials,\n  store,\n  themes,\n}: ProvidersProps) => {\n  return (\n    <LanguageProvider messages={messages} localeNames={localeNames}>\n      <ThemeToggleProvider themes={themes}>\n        <Theme>\n          <QueryClientProvider client={queryClient}>\n            <Provider store={store}>\n              <AdminContextProvider getAdminInjectedComponents={getAdminInjectedComponents}>\n                <ConfigurationProvider\n                  authLogo={authLogo}\n                  menuLogo={menuLogo}\n                  showReleaseNotification={showReleaseNotification}\n                  showTutorials={showTutorials}\n                >\n                  <StrapiAppProvider\n                    getPlugin={getPlugin}\n                    menu={menu}\n                    plugins={plugins}\n                    runHookParallel={runHookParallel}\n                    runHookWaterfall={runHookWaterfall}\n                    runHookSeries={runHookSeries}\n                    settings={settings}\n                  >\n                    <LibraryProvider components={components} fields={fields}>\n                      <CustomFieldsProvider customFields={customFields}>\n                        <AutoReloadOverlayBlockerProvider>\n                          <OverlayBlockerProvider>\n                            <GuidedTourProvider>\n                              <NotificationsProvider>{children}</NotificationsProvider>\n                            </GuidedTourProvider>\n                          </OverlayBlockerProvider>\n                        </AutoReloadOverlayBlockerProvider>\n                      </CustomFieldsProvider>\n                    </LibraryProvider>\n                  </StrapiAppProvider>\n                </ConfigurationProvider>\n              </AdminContextProvider>\n            </Provider>\n          </QueryClientProvider>\n        </Theme>\n      </ThemeToggleProvider>\n    </LanguageProvider>\n  );\n};\n\nexport { Providers };\n","/* eslint-disable check-file/filename-naming-convention */\nimport * as React from 'react';\n\nimport invariant from 'invariant';\n\nexport interface Component {\n  name: string;\n  Component: React.ComponentType;\n}\n\nexport class Components {\n  components: Record<Component['name'], Component['Component']>;\n\n  constructor() {\n    this.components = {};\n  }\n\n  add(component: Component) {\n    const { name, Component } = component;\n\n    invariant(Component, 'A Component must be provided');\n    invariant(name, 'A name must be provided');\n    invariant(this.components[name] === undefined, 'A similar field already exists');\n\n    this.components[name] = Component;\n  }\n}\n","/* eslint-disable check-file/filename-naming-convention */\nimport invariant from 'invariant';\n\nimport type {\n  CustomField,\n  CustomFieldOption,\n  CustomFieldOptionSection,\n  CustomFieldUID,\n} from '@strapi/helper-plugin';\n\nconst ALLOWED_TYPES = [\n  'biginteger',\n  'boolean',\n  'date',\n  'datetime',\n  'decimal',\n  'email',\n  'enumeration',\n  'float',\n  'integer',\n  'json',\n  'password',\n  'richtext',\n  'string',\n  'text',\n  'time',\n  'uid',\n] as const;\n\nconst ALLOWED_ROOT_LEVEL_OPTIONS = [\n  'min',\n  'minLength',\n  'max',\n  'maxLength',\n  'required',\n  'regex',\n  'enum',\n  'unique',\n  'private',\n  'default',\n] as const;\n\nexport class CustomFields {\n  customFields: Record<CustomFieldUID, CustomField>;\n\n  constructor() {\n    this.customFields = {};\n  }\n\n  register(customFields: CustomField | CustomField[]) {\n    if (Array.isArray(customFields)) {\n      // If several custom fields are passed, register them one by one\n      customFields.forEach((customField) => {\n        this.register(customField);\n      });\n    } else {\n      // Handle individual custom field\n      const { name, pluginId, type, intlLabel, intlDescription, components, options } =\n        customFields;\n\n      // Ensure required attributes are provided\n      invariant(name, 'A name must be provided');\n      invariant(type, 'A type must be provided');\n      invariant(intlLabel, 'An intlLabel must be provided');\n      invariant(intlDescription, 'An intlDescription must be provided');\n      invariant(components, 'A components object must be provided');\n      invariant(components.Input, 'An Input component must be provided');\n\n      // Ensure the type is valid\n      invariant(\n        ALLOWED_TYPES.includes(type),\n        `Custom field type: '${type}' is not a valid Strapi type or it can't be used with a Custom Field`\n      );\n\n      // Ensure name has no special characters\n      const isValidObjectKey = /^(?![0-9])[a-zA-Z0-9$_-]+$/g;\n      invariant(\n        isValidObjectKey.test(name),\n        `Custom field name: '${name}' is not a valid object key`\n      );\n\n      // Ensure options have valid name paths\n      const allFormOptions = [...(options?.base || []), ...(options?.advanced || [])];\n\n      if (allFormOptions.length) {\n        const optionPathValidations = allFormOptions.reduce(optionsValidationReducer, []);\n\n        optionPathValidations.forEach(({ isValidOptionPath, errorMessage }) => {\n          invariant(isValidOptionPath, errorMessage);\n        });\n      }\n\n      // When no plugin is specified, default to the global namespace\n      const uid: CustomFieldUID = pluginId ? `plugin::${pluginId}.${name}` : `global::${name}`;\n\n      // Ensure the uid is unique\n      const uidAlreadyUsed = Object.prototype.hasOwnProperty.call(this.customFields, uid);\n      invariant(!uidAlreadyUsed, `Custom field: '${uid}' has already been registered`);\n\n      this.customFields[uid] = customFields;\n    }\n  }\n\n  getAll() {\n    return this.customFields;\n  }\n\n  get(uid: CustomFieldUID): CustomField | undefined {\n    return this.customFields[uid];\n  }\n}\n\ninterface OptionValidation {\n  isValidOptionPath: boolean;\n  errorMessage: string;\n}\n\nconst optionsValidationReducer = (\n  acc: OptionValidation[],\n  option: CustomFieldOptionSection | CustomFieldOption\n): OptionValidation[] => {\n  if ('items' in option) {\n    return option.items.reduce(optionsValidationReducer, acc);\n  }\n\n  if (!option.name) {\n    acc.push({\n      isValidOptionPath: false,\n      errorMessage: \"The 'name' property is required on an options object\",\n    });\n  } else {\n    acc.push({\n      isValidOptionPath:\n        option.name.startsWith('options') || ALLOWED_ROOT_LEVEL_OPTIONS.includes(option.name),\n      errorMessage: `'${option.name}' must be prefixed with 'options.'`,\n    });\n  }\n\n  return acc;\n};\n","/* eslint-disable check-file/filename-naming-convention */\nimport * as React from 'react';\n\nimport invariant from 'invariant';\n\nexport interface Field {\n  type: string;\n  Component: React.ComponentType;\n}\n\nexport class Fields {\n  fields: Record<Field['type'], Field['Component']>;\n\n  constructor() {\n    this.fields = {};\n  }\n\n  add(field: Field) {\n    const { type, Component } = field;\n\n    invariant(Component, 'A Component must be provided');\n    invariant(type, 'A type must be provided');\n\n    this.fields[type] = Component;\n  }\n}\n","/* eslint-disable check-file/filename-naming-convention */\nimport { Middleware } from '@reduxjs/toolkit';\n\nimport { RootState } from '../store/configure';\n\ntype TypedMiddleware = () => Middleware<object, RootState>;\n\nclass Middlewares {\n  middlewares: Array<TypedMiddleware>;\n\n  constructor() {\n    this.middlewares = [];\n  }\n\n  add(middleware: TypedMiddleware) {\n    this.middlewares.push(middleware);\n  }\n}\n\nexport { Middlewares, TypedMiddleware as Middleware };\n","/* eslint-disable check-file/filename-naming-convention */\nimport { Plugin as IPlugin } from '@strapi/helper-plugin';\n\nexport interface PluginConfig\n  extends Pick<IPlugin, 'apis' | 'initializer' | 'injectionZones' | 'isReady' | 'name'> {\n  id: string;\n}\n\nexport class Plugin implements IPlugin {\n  apis: PluginConfig['apis'];\n  initializer: PluginConfig['initializer'];\n  injectionZones: PluginConfig['injectionZones'];\n  isReady: PluginConfig['isReady'];\n  name: PluginConfig['name'];\n  pluginId: PluginConfig['id'];\n\n  constructor(pluginConf: PluginConfig) {\n    this.apis = pluginConf.apis || {};\n    this.initializer = pluginConf.initializer || null;\n    this.injectionZones = pluginConf.injectionZones || {};\n    this.isReady = pluginConf.isReady !== undefined ? pluginConf.isReady : true;\n    this.name = pluginConf.name;\n    this.pluginId = pluginConf.id;\n  }\n\n  getInjectedComponents(containerName: string, blockName: string) {\n    try {\n      return this.injectionZones[containerName][blockName] || [];\n    } catch (err) {\n      console.error('Cannot get injected component', err);\n\n      return [];\n    }\n  }\n\n  injectComponent(\n    containerName: string,\n    blockName: string,\n    component: ReturnType<IPlugin['getInjectedComponents']>[number]\n  ) {\n    try {\n      this.injectionZones[containerName][blockName].push(component);\n    } catch (err) {\n      console.error('Cannot inject component', err);\n    }\n  }\n}\n","/* eslint-disable check-file/filename-naming-convention */\n\nimport { Reducer, ReducersMapObject } from '@reduxjs/toolkit';\n\ninterface ReducerConstructorArgs {\n  appReducers?: ReducersMapObject;\n}\n\nexport class Reducers {\n  reducers: ReducersMapObject;\n\n  constructor({ appReducers = {} }: ReducerConstructorArgs = {}) {\n    this.reducers = { ...appReducers };\n  }\n\n  add(reducerName: string, reducer: Reducer) {\n    this.reducers[reducerName] = reducer;\n  }\n}\n","import { createSelector, Selector } from '@reduxjs/toolkit';\nimport { useDispatch, useStore, TypedUseSelectorHook, useSelector } from 'react-redux';\n\nimport type { RootState, Store } from './configure';\n\ntype AppDispatch = Store['dispatch'];\n\nconst useTypedDispatch: () => AppDispatch = useDispatch;\nconst useTypedStore = useStore as () => Store;\nconst useTypedSelector: TypedUseSelectorHook<RootState> = useSelector;\n\nconst createTypedSelector = <TResult>(selector: Selector<RootState, TResult>) =>\n  createSelector((state: RootState) => state, selector);\n\nexport { useTypedDispatch, useTypedStore, useTypedSelector, createTypedSelector };\n","import * as React from 'react';\n\nimport {\n  LoadingIndicatorPage,\n  Permission,\n  RBACContext,\n  RBACContextValue,\n} from '@strapi/helper-plugin';\nimport produce from 'immer';\n\nimport { useTypedSelector, useTypedDispatch } from '../core/store/hooks';\n\n/* -------------------------------------------------------------------------------------------------\n * RBACProvider\n * -----------------------------------------------------------------------------------------------*/\n\ninterface RBACProviderProps {\n  children: React.ReactNode;\n  permissions: Permission[];\n  refetchPermissions: RBACContextValue['refetchPermissions'];\n}\n\nconst RBACProvider = ({ children, permissions, refetchPermissions }: RBACProviderProps) => {\n  const allPermissions = useTypedSelector((state) => state.rbacProvider.allPermissions);\n\n  const dispatch = useTypedDispatch();\n\n  React.useEffect(() => {\n    dispatch(setPermissionsAction(permissions));\n\n    return () => {\n      dispatch(resetStoreAction());\n    };\n  }, [permissions, dispatch]);\n\n  if (!allPermissions) {\n    return <LoadingIndicatorPage />;\n  }\n\n  return (\n    <RBACContext.Provider value={{ allPermissions, refetchPermissions }}>\n      {children}\n    </RBACContext.Provider>\n  );\n};\n\n/* -------------------------------------------------------------------------------------------------\n * RBACReducer\n * -----------------------------------------------------------------------------------------------*/\n\ninterface RBACState {\n  allPermissions: null | Permission[];\n  collectionTypesRelatedPermissions: Record<string, Record<string, Permission[]>>;\n}\n\nconst initialState = {\n  allPermissions: null,\n  collectionTypesRelatedPermissions: {},\n};\n\nconst RESET_STORE = 'StrapiAdmin/RBACProvider/RESET_STORE';\nconst SET_PERMISSIONS = 'StrapiAdmin/RBACProvider/SET_PERMISSIONS';\n\ninterface ResetStoreAction {\n  type: typeof RESET_STORE;\n}\n\nconst resetStoreAction = (): ResetStoreAction => ({ type: RESET_STORE });\n\ninterface SetPermissionsAction {\n  type: typeof SET_PERMISSIONS;\n  permissions: Permission[];\n}\n\nconst setPermissionsAction = (\n  permissions: SetPermissionsAction['permissions']\n): SetPermissionsAction => ({\n  type: SET_PERMISSIONS,\n  permissions,\n});\n\ntype Actions = ResetStoreAction | SetPermissionsAction;\n\nconst RBACReducer = (state: RBACState = initialState, action: Actions) =>\n  produce(state, (draftState) => {\n    switch (action.type) {\n      case SET_PERMISSIONS: {\n        draftState.allPermissions = action.permissions;\n        draftState.collectionTypesRelatedPermissions = action.permissions\n          .filter((perm) => perm.subject)\n          .reduce<Record<string, Record<string, Permission[]>>>((acc, current) => {\n            const { subject, action } = current;\n\n            if (!subject) return acc;\n\n            if (!acc[subject]) {\n              acc[subject] = {};\n            }\n\n            acc[subject] = acc[subject][action]\n              ? { ...acc[subject], [action]: [...acc[subject][action], current] }\n              : { ...acc[subject], [action]: [current] };\n\n            return acc;\n          }, {});\n        break;\n      }\n      case RESET_STORE: {\n        return initialState;\n      }\n      default:\n        return state;\n    }\n  });\n\nexport { RBACProvider, RBACReducer, resetStoreAction, setPermissionsAction };\nexport type {\n  RBACState,\n  Actions,\n  RBACProviderProps,\n  ResetStoreAction,\n  SetPermissionsAction,\n  Permission,\n};\n","export const SET_PERMISSIONS = 'ContentManager/RBACManager/SET_PERMISSIONS';\nexport const RESET_PERMISSIONS = 'ContentManager/RBACManager/RESET_PERMISSIONS';\n","/**\n *\n * RBACManager reducer\n */\n\nimport produce from 'immer';\n\nimport { RESET_PERMISSIONS, SET_PERMISSIONS } from './constants';\n\nexport const initialState = {\n  permissions: null,\n};\n\nconst rbacManagerReducer = (state = initialState, action) =>\n  // eslint-disable-next-line consistent-return\n  produce(state, (draftState) => {\n    switch (action.type) {\n      case SET_PERMISSIONS: {\n        draftState.permissions = Object.entries(action.permissions).reduce((acc, current) => {\n          return [...acc, ...current[1]];\n        }, []);\n        break;\n      }\n      case RESET_PERMISSIONS: {\n        draftState.permissions = null;\n        break;\n      }\n      default:\n        return draftState;\n    }\n  });\n\nexport default rbacManagerReducer;\n","export const GET_INIT_DATA = 'ContentManager/App/GET_INIT_DATA';\nexport const RESET_INIT_DATA = 'ContentManager/App/RESET_INIT_DATA';\nexport const SET_INIT_DATA = 'ContentManager/App/SET_INIT_DATA';\n","/**\n *\n * main reducer\n */\n/* eslint-disable consistent-return */\nimport produce from 'immer';\n\nimport { GET_INIT_DATA, RESET_INIT_DATA, SET_INIT_DATA } from './constants';\n\nconst initialState = {\n  components: [],\n  status: 'loading',\n  models: [],\n  collectionTypeLinks: [],\n  singleTypeLinks: [],\n};\n\n/**\n * Known as content-manager_app in the redux store\n */\nconst mainReducer = (state = initialState, action) =>\n  produce(state, (draftState) => {\n    switch (action.type) {\n      case GET_INIT_DATA: {\n        draftState.status = 'loading';\n        break;\n      }\n      case RESET_INIT_DATA: {\n        return initialState;\n      }\n      case SET_INIT_DATA: {\n        draftState.collectionTypeLinks = action.data.authorizedCollectionTypeLinks.filter(\n          ({ isDisplayed }) => isDisplayed\n        );\n        draftState.singleTypeLinks = action.data.authorizedSingleTypeLinks.filter(\n          ({ isDisplayed }) => isDisplayed\n        );\n        draftState.components = action.data.components;\n        draftState.models = action.data.contentTypeSchemas;\n        draftState.fieldSizes = action.data.fieldSizes;\n        draftState.status = 'resolved';\n        break;\n      }\n      default:\n        return draftState;\n    }\n  });\n\nexport default mainReducer;\nexport { initialState };\n","export const SET_LAYOUT = 'ContentManager/EditViewLayoutManager/SET_LAYOUT';\nexport const RESET_PROPS = 'ContentManager/EditViewLayoutManager/RESET_PROPS';\n","/**\n *\n * EditViewLayoutManager reducer\n */\n\nimport produce from 'immer';\n\nimport { RESET_PROPS, SET_LAYOUT } from './constants';\n\nexport const initialState = {\n  currentLayout: null,\n};\n\nconst editViewManagerReducer = (state = initialState, action) =>\n  // eslint-disable-next-line consistent-return\n  produce(state, (draftState) => {\n    switch (action.type) {\n      case RESET_PROPS: {\n        draftState.currentLayout = null;\n        break;\n      }\n      case SET_LAYOUT: {\n        draftState.currentLayout = action.layout;\n        break;\n      }\n      default:\n        return draftState;\n    }\n  });\n\nexport default editViewManagerReducer;\n","export const GET_DATA = 'ContentManager/ListView/GET_DATA';\nexport const GET_DATA_SUCCEEDED = 'ContentManager/ListView/GET_DATA_SUCCEEDED';\nexport const RESET_PROPS = 'ContentManager/ListView/RESET_PROPS';\nexport const ON_CHANGE_LIST_HEADERS = 'ContentManager/ListView/ON_CHANGE_LIST_HEADERS ';\nexport const ON_RESET_LIST_HEADERS = 'ContentManager/ListView/ON_RESET_LIST_HEADERS ';\nexport const SET_LIST_LAYOUT = 'ContentManager/ListView/SET_LIST_LAYOUT ';\n","/**\n *\n * listView reducer\n */\n\nimport produce from 'immer';\nimport get from 'lodash/get';\n\nimport {\n  GET_DATA,\n  GET_DATA_SUCCEEDED,\n  ON_CHANGE_LIST_HEADERS,\n  ON_RESET_LIST_HEADERS,\n  RESET_PROPS,\n  SET_LIST_LAYOUT,\n} from './constants';\n\nexport const initialState = {\n  data: [],\n  isLoading: true,\n  contentType: {},\n  components: [],\n  initialDisplayedHeaders: [],\n  displayedHeaders: [],\n  pagination: {\n    total: 0,\n  },\n};\n\nconst listViewReducer = (state = initialState, action) =>\n  // eslint-disable-next-line consistent-return\n  produce(state, (draftState) => {\n    switch (action.type) {\n      case GET_DATA: {\n        return {\n          ...initialState,\n          contentType: state.contentType,\n          components: state.components,\n          initialDisplayedHeaders: state.initialDisplayedHeaders,\n          displayedHeaders: state.displayedHeaders,\n        };\n      }\n\n      case GET_DATA_SUCCEEDED: {\n        draftState.pagination = action.pagination;\n        draftState.data = action.data;\n        draftState.isLoading = false;\n        break;\n      }\n\n      case ON_CHANGE_LIST_HEADERS: {\n        const {\n          target: { name, value },\n        } = action;\n\n        if (!value) {\n          const { metadatas, attributes, uid } = state.contentType;\n          const metas = metadatas[name].list;\n          const header = {\n            name,\n            fieldSchema: attributes[name],\n            metadatas: metas,\n            key: `__${name}_key__`,\n          };\n\n          switch (attributes[name].type) {\n            case 'component': {\n              const componentName = attributes[name].component;\n              const mainFieldName = get(\n                state,\n                ['components', componentName, 'settings', 'mainField'],\n                null\n              );\n              const mainFieldAttribute = get(state, [\n                'components',\n                componentName,\n                'attributes',\n                mainFieldName,\n              ]);\n\n              draftState.displayedHeaders.push({\n                ...header,\n                metadatas: {\n                  ...metas,\n                  mainField: {\n                    ...mainFieldAttribute,\n                    name: mainFieldName,\n                  },\n                },\n              });\n              break;\n            }\n\n            case 'relation':\n              draftState.displayedHeaders.push({\n                ...header,\n                queryInfos: {\n                  defaultParams: {},\n                  endPoint: `collection-types/${uid}`,\n                },\n              });\n              break;\n\n            default:\n              draftState.displayedHeaders.push(header);\n          }\n        } else {\n          draftState.displayedHeaders = state.displayedHeaders.filter(\n            (header) => header.name !== name\n          );\n        }\n\n        break;\n      }\n      case ON_RESET_LIST_HEADERS: {\n        draftState.displayedHeaders = state.initialDisplayedHeaders;\n        break;\n      }\n      case RESET_PROPS: {\n        return initialState;\n      }\n      case SET_LIST_LAYOUT: {\n        const { contentType, components, displayedHeaders } = action;\n\n        draftState.contentType = contentType;\n        draftState.components = components;\n        draftState.displayedHeaders = displayedHeaders;\n        draftState.initialDisplayedHeaders = displayedHeaders;\n\n        break;\n      }\n      default:\n        return draftState;\n    }\n  });\n\nexport default listViewReducer;\n","export const GET_DATA = 'ContentManager/CrudReducer/GET_DATA';\nexport const GET_DATA_SUCCEEDED = 'ContentManager/CrudReducer/GET_DATA_SUCCEEDED';\nexport const INIT_FORM = 'ContentManager/CrudReducer/INIT_FORM';\nexport const RESET_PROPS = 'ContentManager/CrudReducer/RESET_PROPS';\nexport const SET_DATA_STRUCTURES = 'ContentManager/CrudReducer/SET_DATA_STRUCTURES';\nexport const SET_STATUS = 'ContentManager/CrudReducer/SET_STATUS';\nexport const SUBMIT_SUCCEEDED = 'ContentManager/CrudReducer/SUBMIT_SUCCEEDED';\nexport const CLEAR_SET_MODIFIED_DATA_ONLY =\n  'ContentManager/CrudReducer/CLEAR_SET_MODIFIED_DATA_ONLY';\n","/* eslint-disable consistent-return */\nimport produce from 'immer';\n\n// NOTE: instead of creating a shared reducer here, we could also create a hook\n// that returns the dispatch and the state, however it will mess with the linter\n// and force us to either disable the linter for the hooks dependencies array rule or\n// require us to add the dispatch to the array which is not wanted. This refacto does not require us to\n// to do any of this.\nimport {\n  CLEAR_SET_MODIFIED_DATA_ONLY,\n  GET_DATA,\n  GET_DATA_SUCCEEDED,\n  INIT_FORM,\n  RESET_PROPS,\n  SET_DATA_STRUCTURES,\n  SET_STATUS,\n  SUBMIT_SUCCEEDED,\n} from './constants';\n\nconst crudInitialState = {\n  componentsDataStructure: {},\n  contentTypeDataStructure: {},\n  isLoading: true,\n  data: null,\n  status: 'resolved',\n  setModifiedDataOnly: false,\n};\n\nconst crudReducer = (state = crudInitialState, action) =>\n  produce(state, (draftState) => {\n    switch (action.type) {\n      case GET_DATA: {\n        draftState.isLoading = true;\n        draftState.data = null;\n        break;\n      }\n      case GET_DATA_SUCCEEDED: {\n        draftState.isLoading = false;\n        draftState.data = action.data;\n        draftState.setModifiedDataOnly = action.setModifiedDataOnly ?? false;\n        break;\n      }\n      case INIT_FORM: {\n        if (action.data) {\n          draftState.isLoading = false;\n          draftState.data = action.data;\n\n          break;\n        }\n\n        draftState.isLoading = false;\n        draftState.data = state.contentTypeDataStructure;\n        break;\n      }\n      case RESET_PROPS: {\n        return crudInitialState;\n      }\n      case SET_DATA_STRUCTURES: {\n        draftState.componentsDataStructure = action.componentsDataStructure;\n        draftState.contentTypeDataStructure = action.contentTypeDataStructure;\n        break;\n      }\n      case SET_STATUS: {\n        draftState.status = action.status;\n        break;\n      }\n      case SUBMIT_SUCCEEDED: {\n        draftState.data = action.data;\n        break;\n      }\n      case CLEAR_SET_MODIFIED_DATA_ONLY: {\n        draftState.setModifiedDataOnly = false;\n        break;\n      }\n      default:\n        return draftState;\n    }\n  });\n\nexport default crudReducer;\nexport { crudInitialState };\n","import produce from 'immer';\n\nimport { ACTION_SET_APP_RUNTIME_STATUS, ACTION_SET_ADMIN_PERMISSIONS } from './constants';\nimport { PermissionMap } from './types/permissions';\n\ninterface State {\n  status: 'init' | 'runtime';\n  permissions: Partial<PermissionMap>;\n}\n\nconst initialState = {\n  permissions: {},\n  status: 'init',\n} satisfies State;\n\ninterface SetAppRuntimeStatusAction {\n  type: typeof ACTION_SET_APP_RUNTIME_STATUS;\n}\n\ninterface SetAdminPermissionsAction {\n  type: typeof ACTION_SET_ADMIN_PERMISSIONS;\n  payload: Record<string, unknown>;\n}\n\ntype Action = SetAppRuntimeStatusAction | SetAdminPermissionsAction;\n\nconst reducer = (state: State = initialState, action: Action) =>\n  /* eslint-disable-next-line consistent-return */\n  produce(state, (draftState) => {\n    switch (action.type) {\n      case ACTION_SET_APP_RUNTIME_STATUS: {\n        draftState.status = 'runtime';\n        break;\n      }\n\n      case ACTION_SET_ADMIN_PERMISSIONS: {\n        draftState.permissions = action.payload;\n        break;\n      }\n\n      default:\n        return draftState;\n    }\n  });\n\nexport { reducer, initialState };\nexport type { State, Action, SetAppRuntimeStatusAction, SetAdminPermissionsAction };\n","import {\n  configureStore,\n  StoreEnhancer,\n  Middleware,\n  Reducer,\n  combineReducers,\n} from '@reduxjs/toolkit';\n\nimport { RBACReducer } from '../../components/RBACProvider';\n// @ts-expect-error no types, yet.\nimport rbacManagerReducer from '../../content-manager/hooks/useSyncRbac/reducer';\n// @ts-expect-error no types, yet.\nimport cmAppReducer from '../../content-manager/pages/App/reducer';\n// @ts-expect-error no types, yet.\nimport editViewLayoutManagerReducer from '../../content-manager/pages/EditViewLayoutManager/reducer';\n// @ts-expect-error no types, yet.\nimport listViewReducer from '../../content-manager/pages/ListView/reducer';\n// @ts-expect-error no types, yet.\nimport editViewCrudReducer from '../../content-manager/sharedReducers/crudReducer/reducer';\nimport { reducer as appReducer } from '../../reducer';\n\n/**\n * @description Static reducers are ones we know, they live in the admin package.\n */\nconst staticReducers = {\n  admin_app: appReducer,\n  rbacProvider: RBACReducer,\n  'content-manager_app': cmAppReducer,\n  'content-manager_listView': listViewReducer,\n  'content-manager_rbacManager': rbacManagerReducer,\n  'content-manager_editViewLayoutManager': editViewLayoutManagerReducer,\n  'content-manager_editViewCrudReducer': editViewCrudReducer,\n} as const;\n\nconst injectReducerStoreEnhancer: (appReducers: Record<string, Reducer>) => StoreEnhancer =\n  (appReducers) =>\n  (next) =>\n  (...args) => {\n    const store = next(...args);\n\n    const asyncReducers: Record<string, Reducer> = {};\n\n    return {\n      ...store,\n      asyncReducers,\n      injectReducer: (key: string, asyncReducer: Reducer) => {\n        asyncReducers[key] = asyncReducer;\n        store.replaceReducer(\n          // @ts-expect-error we dynamically add reducers which makes the types uncomfortable.\n          combineReducers({\n            ...appReducers,\n            ...asyncReducers,\n          })\n        );\n      },\n    };\n  };\n\n/**\n * @description This is the main store configuration function, injected Reducers use our legacy app.addReducer API,\n * which we're trying to phase out. App Middlewares could potentially be improved...?\n */\nconst configureStoreImpl = (\n  appMiddlewares: Array<() => Middleware> = [],\n  injectedReducers: Record<string, Reducer> = {}\n) => {\n  const coreReducers = { ...staticReducers, ...injectedReducers } as const;\n\n  const store = configureStore({\n    reducer: coreReducers,\n    devTools: process.env.NODE_ENV !== 'production',\n    middleware: (getDefaultMiddleware) => [\n      ...getDefaultMiddleware(),\n      ...appMiddlewares.map((m) => m()),\n    ],\n    enhancers: [injectReducerStoreEnhancer(coreReducers)],\n  });\n\n  return store;\n};\n\ntype Store = ReturnType<typeof configureStoreImpl> & {\n  asyncReducers: Record<string, Reducer>;\n  injectReducer: (key: string, asyncReducer: Reducer) => void;\n};\n\ntype RootState = ReturnType<Store['getState']>;\n\nexport { configureStoreImpl as configureStore };\nexport type { RootState, Store };\n","export const getBasename = () => (process.env.ADMIN_PATH ?? '').replace(window.location.origin, '');\n","/* eslint-disable no-await-in-loop */\n/* eslint-disable no-restricted-syntax */\n\nexport type Handler = (...args: any[]) => any;\n\nexport const createHook = () => {\n  const _handlers: Handler[] = [];\n\n  return {\n    register(fn: Handler) {\n      _handlers.push(fn);\n    },\n    delete(handler: Handler) {\n      _handlers.splice(_handlers.indexOf(handler), 1);\n    },\n    runWaterfall<T>(args: T, store?: any) {\n      return _handlers.reduce((acc, fn) => fn(acc, store), args);\n    },\n    async runWaterfallAsync<T>(args: T, store?: any) {\n      let result = args;\n\n      for (const fn of _handlers) {\n        result = await fn(result, store);\n      }\n\n      return result;\n    },\n    runSeries<T extends any[]>(...args: T) {\n      return _handlers.map((fn) => fn(...args));\n    },\n    async runSeriesAsync<T extends any[]>(...args: T) {\n      const result = [];\n\n      for (const fn of _handlers) {\n        result.push(await fn(...args));\n      }\n\n      return result;\n    },\n    runParallel<T extends any[]>(...args: T) {\n      return Promise.all(\n        _handlers.map((fn) => {\n          return fn(...args);\n        })\n      );\n    },\n  };\n};\n","import { useAdmin } from '../../contexts/admin';\nimport {\n  InjectionZoneArea,\n  InjectionZoneBlock,\n  InjectionZoneContainer,\n  InjectionZoneModule,\n} from '../components/InjectionZone';\n\nexport const useInjectionZone = (area: InjectionZoneArea) => {\n  const { getAdminInjectedComponents } = useAdmin();\n\n  const [moduleName, page, position] = area.split('.') as [\n    InjectionZoneModule,\n    InjectionZoneContainer,\n    InjectionZoneBlock\n  ];\n\n  return getAdminInjectedComponents(moduleName, page, position);\n};\n","import * as React from 'react';\n\nimport { useInjectionZone } from '../hooks/useInjectionZone';\n\nconst INJECTION_ZONES = {\n  admin: {\n    // Temporary injection zone, support for the react-tour plugin in foodadvisor\n    tutorials: {\n      links: [],\n    },\n  },\n  contentManager: {\n    editView: { informations: [], 'right-links': [] },\n    listView: {\n      actions: [],\n      deleteModalAdditionalInfos: [],\n      publishModalAdditionalInfos: [],\n      unpublishModalAdditionalInfos: [],\n    },\n  },\n} satisfies InjectionZones;\n\ninterface InjectionZoneComponent {\n  Component: React.ComponentType;\n  name: string;\n  // TODO: in theory this could receive and forward any React component prop\n  // but in practice there only seems to be once instance, where `slug` is\n  // forwarded. The type needs to become either more generic or we disallow\n  // prop spreading and offer a different way to access context data.\n  slug: string;\n}\n\ninterface InjectionZones {\n  admin: {\n    tutorials: {\n      links: InjectionZoneComponent[];\n    };\n  };\n  contentManager: {\n    editView: {\n      informations: InjectionZoneComponent[];\n      'right-links': InjectionZoneComponent[];\n    };\n    listView: {\n      actions: InjectionZoneComponent[];\n      deleteModalAdditionalInfos: InjectionZoneComponent[];\n      publishModalAdditionalInfos: InjectionZoneComponent[];\n      unpublishModalAdditionalInfos: InjectionZoneComponent[];\n    };\n  };\n}\n\ntype InjectionZoneArea =\n  | 'admin.tutorials.links'\n  | 'contentManager.editView.informations'\n  | 'contentManager.editView.right-links'\n  | 'contentManager.listView.actions'\n  | 'contentManager.listView.unpublishModalAdditionalInfos'\n  | 'contentManager.listView.deleteModalAdditionalInfos'\n  | 'contentManager.listView.publishModalAdditionalInfos'\n  | 'contentManager.listView.deleteModalAdditionalInfos';\n\ntype InjectionZoneModule = InjectionZoneArea extends `${infer Word}.${string}` ? Word : never;\ntype InjectionZoneContainer = InjectionZoneArea extends `${string}.${infer Word}.${string}`\n  ? Word\n  : never;\ntype InjectionZoneBlock = InjectionZoneArea extends `${string}.${string}.${infer Word}`\n  ? Word\n  : never;\n\nconst InjectionZone = ({ area, ...props }: { area: InjectionZoneArea }) => {\n  const components = useInjectionZone(area);\n\n  return components.map((component) => <component.Component key={component.name} {...props} />);\n};\n\nexport { InjectionZone, INJECTION_ZONES };\n\nexport type {\n  InjectionZoneArea,\n  InjectionZoneComponent,\n  InjectionZones,\n  InjectionZoneModule,\n  InjectionZoneContainer,\n  InjectionZoneBlock,\n};\n","export const languageNativeNames = {\n  ar: 'ÿßŸÑÿπÿ±ÿ®Ÿäÿ©',\n  ca: 'Catal√†',\n  cs: 'ƒåe≈°tina',\n  de: 'Deutsch',\n  dk: 'Dansk',\n  en: 'English',\n  es: 'Espa√±ol',\n  eu: 'Euskara',\n  fr: 'Fran√ßais',\n  gu: 'Gujarati',\n  he: '◊¢◊ë◊®◊ô◊™',\n  hu: 'Magyar',\n  id: 'Indonesian',\n  it: 'Italiano',\n  ja: 'Êó•Êú¨Ë™û',\n  ko: 'ÌïúÍµ≠Ïñ¥',\n  ml: 'Malayalam',\n  ms: 'Melayu',\n  nl: 'Nederlands',\n  no: 'Norwegian',\n  pl: 'Polski',\n  'pt-BR': 'Portugu√™s (Brasil)',\n  pt: 'Portugu√™s (Portugal)',\n  ru: '–†—É—Å—Å–∫–∏–π',\n  sk: 'Slovenƒçina',\n  sv: 'Swedish',\n  th: '‡πÑ‡∏ó‡∏¢',\n  tr: 'T√ºrk√ße',\n  uk: '–£–∫—Ä–∞—ó–Ω—Å—å–∫–∞',\n  vi: 'Ti·∫øng Vi·ªát',\n  'zh-Hans': '‰∏≠Êñá (ÁÆÄ‰Ωì)',\n  zh: '‰∏≠Êñá (ÁπÅÈ´î)',\n  sa: '‡§∏‡§Ç‡§∏‡•ç‡§ï‡•É‡§§',\n  hi: '‡§π‡§ø‡§®‡•ç‡§¶‡•Ä',\n} as const;\n","import { ReducersMapObject } from '@reduxjs/toolkit';\nimport { darkTheme, lightTheme } from '@strapi/design-system';\nimport { MenuItem, StrapiAppSetting, StrapiAppSettingLink } from '@strapi/helper-plugin';\nimport invariant from 'invariant';\nimport isFunction from 'lodash/isFunction';\nimport merge from 'lodash/merge';\nimport pick from 'lodash/pick';\nimport { Helmet } from 'react-helmet';\nimport { BrowserRouter } from 'react-router-dom';\nimport { DefaultTheme } from 'styled-components';\n\nimport { App } from './App';\nimport Logo from './assets/images/logo-strapi-2022.svg';\nimport { LANGUAGE_LOCAL_STORAGE_KEY } from './components/LanguageProvider';\nimport { Providers } from './components/Providers';\nimport { HOOKS } from './constants';\nimport { Components, Component } from './core/apis/Components';\nimport { CustomFields } from './core/apis/CustomFields';\nimport { Field, Fields } from './core/apis/Fields';\nimport { Middleware, Middlewares } from './core/apis/Middlewares';\nimport { Plugin, PluginConfig } from './core/apis/Plugin';\nimport { Reducers } from './core/apis/Reducers';\nimport { Store, configureStore } from './core/store/configure';\nimport { getBasename } from './core/utils/basename';\nimport { Handler, createHook } from './core/utils/createHook';\nimport {\n  INJECTION_ZONES,\n  InjectionZoneBlock,\n  InjectionZoneComponent,\n  InjectionZoneContainer,\n  InjectionZoneModule,\n  InjectionZones,\n} from './shared/components/InjectionZone';\nimport { languageNativeNames } from './translations/languageNativeNames';\n\nconst {\n  INJECT_COLUMN_IN_TABLE,\n  MUTATE_COLLECTION_TYPES_LINKS,\n  MUTATE_EDIT_VIEW_LAYOUT,\n  MUTATE_SINGLE_TYPES_LINKS,\n} = HOOKS;\n\ninterface StrapiAppConstructorArgs extends Partial<Pick<StrapiApp, 'appPlugins'>> {\n  adminConfig?: {\n    config?: StrapiApp['customConfigurations'];\n    bootstrap?: StrapiApp['customBootstrapConfiguration'];\n  };\n}\n\ninterface StrapiAppPlugin {\n  bootstrap: (\n    args: Pick<\n      StrapiApp,\n      | 'addSettingsLink'\n      | 'addSettingsLinks'\n      | 'getPlugin'\n      | 'injectContentManagerComponent'\n      | 'injectAdminComponent'\n      | 'registerHook'\n    >\n  ) => void;\n  register: (app: StrapiApp) => void;\n  registerTrads: (args: {\n    locales: string[];\n  }) => Promise<{ data: Record<string, string>; locale: string }[]>;\n}\n\nclass StrapiApp {\n  admin: {\n    injectionZones: InjectionZones;\n  };\n  appPlugins: Record<string, StrapiAppPlugin>;\n  configurations: {\n    authLogo: string;\n    head: { favicon: string };\n    locales: string[];\n    menuLogo: string;\n    notifications: { releases: boolean };\n    themes: { light: DefaultTheme; dark: DefaultTheme };\n    translations: Record<string, Record<string, string>>;\n    tutorials: boolean;\n  };\n  customBootstrapConfiguration: unknown;\n  customConfigurations: {\n    auth?: { logo: string };\n    head?: { favicon: string };\n    locales?: string[];\n    menu?: { logo: string };\n    notifications?: { releases: boolean };\n    theme?: { light: DefaultTheme; dark: DefaultTheme };\n    translations?: Record<string, unknown>;\n    tutorials?: boolean;\n  };\n  customFields: CustomFields;\n  hooksDict: Record<string, ReturnType<typeof createHook>>;\n  library: {\n    components: Components;\n    fields: Fields;\n  };\n  menu: MenuItem[];\n  middlewares: Middlewares;\n  plugins: Record<string, Plugin>;\n  reducers: Reducers;\n  settings: Record<string, StrapiAppSetting>;\n  translations: StrapiApp['configurations']['translations'];\n\n  constructor({ adminConfig, appPlugins }: StrapiAppConstructorArgs = {}) {\n    this.customConfigurations = adminConfig?.config ?? {};\n    this.customBootstrapConfiguration = adminConfig?.bootstrap;\n    this.configurations = {\n      authLogo: Logo,\n      head: { favicon: '' },\n      locales: ['en'],\n      menuLogo: Logo,\n      notifications: { releases: true },\n      themes: { light: lightTheme, dark: darkTheme },\n      translations: {},\n      tutorials: true,\n    };\n    this.appPlugins = appPlugins || {};\n    this.library = {\n      components: new Components(),\n      fields: new Fields(),\n    };\n    this.middlewares = new Middlewares();\n    this.plugins = {};\n    this.reducers = new Reducers();\n    this.translations = {};\n    this.hooksDict = {};\n    this.admin = {\n      injectionZones: INJECTION_ZONES,\n    };\n    this.customFields = new CustomFields();\n    this.menu = [];\n    this.settings = {\n      global: {\n        id: 'global',\n        intlLabel: {\n          id: 'Settings.global',\n          defaultMessage: 'Global Settings',\n        },\n        links: [],\n      },\n    };\n  }\n\n  addComponents = (components: Component | Component[]) => {\n    if (Array.isArray(components)) {\n      components.map((compo) => this.library.components.add(compo));\n    } else {\n      this.library.components.add(components);\n    }\n  };\n\n  addCorePluginMenuLink = (link: MenuItem) => {\n    const stringifiedLink = JSON.stringify(link);\n\n    invariant(link.to, `link.to should be defined for ${stringifiedLink}`);\n    invariant(\n      typeof link.to === 'string',\n      `Expected link.to to be a string instead received ${typeof link.to}`\n    );\n    invariant(\n      ['/plugins/content-type-builder', '/plugins/upload'].includes(link.to),\n      'This method is not available for your plugin'\n    );\n    invariant(\n      link.intlLabel?.id && link.intlLabel?.defaultMessage,\n      `link.intlLabel.id & link.intlLabel.defaultMessage for ${stringifiedLink}`\n    );\n\n    this.menu.push(link);\n  };\n\n  addFields = (fields: Field | Field[]) => {\n    if (Array.isArray(fields)) {\n      fields.map((field) => this.library.fields.add(field));\n    } else {\n      this.library.fields.add(fields);\n    }\n  };\n\n  addMenuLink = (link: MenuItem) => {\n    const stringifiedLink = JSON.stringify(link);\n\n    invariant(link.to, `link.to should be defined for ${stringifiedLink}`);\n    invariant(\n      typeof link.to === 'string',\n      `Expected link.to to be a string instead received ${typeof link.to}`\n    );\n    invariant(\n      link.intlLabel?.id && link.intlLabel?.defaultMessage,\n      `link.intlLabel.id & link.intlLabel.defaultMessage for ${stringifiedLink}`\n    );\n    invariant(\n      link.Component && typeof link.Component === 'function',\n      `link.Component should be a valid React Component`\n    );\n    invariant(\n      link.icon && typeof link.icon === 'function',\n      `link.Icon should be a valid React Component`\n    );\n\n    this.menu.push(link);\n  };\n\n  addMiddlewares = (middlewares: Middleware[]) => {\n    middlewares.forEach((middleware) => {\n      this.middlewares.add(middleware);\n    });\n  };\n\n  addReducers = (reducers: ReducersMapObject) => {\n    Object.keys(reducers).forEach((reducerName) => {\n      this.reducers.add(reducerName, reducers[reducerName]);\n    });\n  };\n\n  addSettingsLink = (sectionId: keyof StrapiApp['settings'], link: StrapiAppSettingLink) => {\n    invariant(this.settings[sectionId], 'The section does not exist');\n\n    const stringifiedLink = JSON.stringify(link);\n\n    invariant(link.id, `link.id should be defined for ${stringifiedLink}`);\n    invariant(\n      link.intlLabel?.id && link.intlLabel?.defaultMessage,\n      `link.intlLabel.id & link.intlLabel.defaultMessage for ${stringifiedLink}`\n    );\n    invariant(link.to, `link.to should be defined for ${stringifiedLink}`);\n    invariant(\n      link.Component && typeof link.Component === 'function',\n      `link.Component should be a valid React Component`\n    );\n\n    this.settings[sectionId].links.push(link);\n  };\n\n  addSettingsLinks = (sectionId: keyof StrapiApp['settings'], links: StrapiAppSettingLink[]) => {\n    invariant(this.settings[sectionId], 'The section does not exist');\n    invariant(Array.isArray(links), 'TypeError expected links to be an array');\n\n    links.forEach((link) => {\n      this.addSettingsLink(sectionId, link);\n    });\n  };\n\n  async bootstrap() {\n    Object.keys(this.appPlugins).forEach((plugin) => {\n      const bootstrap = this.appPlugins[plugin].bootstrap;\n\n      if (bootstrap) {\n        bootstrap({\n          addSettingsLink: this.addSettingsLink,\n          addSettingsLinks: this.addSettingsLinks,\n          getPlugin: this.getPlugin,\n          injectContentManagerComponent: this.injectContentManagerComponent,\n          injectAdminComponent: this.injectAdminComponent,\n          registerHook: this.registerHook,\n        });\n      }\n    });\n\n    if (isFunction(this.customBootstrapConfiguration)) {\n      this.customBootstrapConfiguration({\n        addComponents: this.addComponents,\n        addFields: this.addFields,\n        addMenuLink: this.addMenuLink,\n        addReducers: this.addReducers,\n        addSettingsLink: this.addSettingsLink,\n        addSettingsLinks: this.addSettingsLinks,\n        getPlugin: this.getPlugin,\n        injectContentManagerComponent: this.injectContentManagerComponent,\n        injectAdminComponent: this.injectAdminComponent,\n        registerHook: this.registerHook,\n      });\n    }\n  }\n\n  bootstrapAdmin = async () => {\n    await this.createCustomConfigurations();\n\n    this.createHook(INJECT_COLUMN_IN_TABLE);\n    this.createHook(MUTATE_COLLECTION_TYPES_LINKS);\n    this.createHook(MUTATE_SINGLE_TYPES_LINKS);\n    this.createHook(MUTATE_EDIT_VIEW_LAYOUT);\n\n    return Promise.resolve();\n  };\n\n  createCustomConfigurations = async () => {\n    if (this.customConfigurations?.locales) {\n      this.configurations.locales = [\n        'en',\n        ...(this.customConfigurations.locales?.filter((loc) => loc !== 'en') || []),\n      ];\n    }\n\n    if (this.customConfigurations?.auth?.logo) {\n      this.configurations.authLogo = this.customConfigurations.auth.logo;\n    }\n\n    if (this.customConfigurations?.menu?.logo) {\n      this.configurations.menuLogo = this.customConfigurations.menu.logo;\n    }\n\n    if (this.customConfigurations?.head?.favicon) {\n      this.configurations.head.favicon = this.customConfigurations.head.favicon;\n    }\n\n    if (this.customConfigurations?.theme) {\n      const darkTheme = this.customConfigurations.theme.dark;\n      const lightTheme = this.customConfigurations.theme.light;\n\n      if (!darkTheme && !lightTheme) {\n        console.warn(\n          `[deprecated] In future versions, Strapi will stop supporting this theme customization syntax. The theme configuration accepts a light and a dark key to customize each theme separately. See https://docs.strapi.io/developer-docs/latest/development/admin-customization.html#theme-extension.`\n        );\n        merge(this.configurations.themes.light, this.customConfigurations.theme);\n      }\n\n      if (lightTheme) merge(this.configurations.themes.light, lightTheme);\n\n      if (darkTheme) merge(this.configurations.themes.dark, darkTheme);\n    }\n\n    if (this.customConfigurations?.notifications?.releases !== undefined) {\n      this.configurations.notifications.releases = this.customConfigurations.notifications.releases;\n    }\n\n    if (this.customConfigurations?.tutorials !== undefined) {\n      this.configurations.tutorials = this.customConfigurations.tutorials;\n    }\n  };\n\n  createHook = (name: string) => {\n    this.hooksDict[name] = createHook();\n  };\n\n  createSettingSection = (section: StrapiAppSetting, links: StrapiAppSettingLink[]) => {\n    invariant(section.id, 'section.id should be defined');\n    invariant(\n      section.intlLabel?.id && section.intlLabel?.defaultMessage,\n      'section.intlLabel should be defined'\n    );\n\n    invariant(Array.isArray(links), 'TypeError expected links to be an array');\n    invariant(this.settings[section.id] === undefined, 'A similar section already exists');\n\n    this.settings[section.id] = { ...section, links: [] };\n\n    links.forEach((link) => {\n      this.addSettingsLink(section.id, link);\n    });\n  };\n\n  createStore = () => {\n    const store = configureStore(this.middlewares.middlewares, this.reducers.reducers);\n\n    return store as Store;\n  };\n\n  getAdminInjectedComponents = (\n    moduleName: InjectionZoneModule,\n    containerName: InjectionZoneContainer,\n    blockName: InjectionZoneBlock\n  ): InjectionZoneComponent[] => {\n    try {\n      // @ts-expect-error ‚Äì we have a catch block so if you don't pass it correctly we still return an array.\n      return this.admin.injectionZones[moduleName][containerName][blockName] || [];\n    } catch (err) {\n      console.error('Cannot get injected component', err);\n\n      return [];\n    }\n  };\n\n  getPlugin = (pluginId: PluginConfig['id']) => {\n    return this.plugins[pluginId];\n  };\n\n  async initialize() {\n    Object.keys(this.appPlugins).forEach((plugin) => {\n      this.appPlugins[plugin].register(this);\n    });\n  }\n\n  injectContentManagerComponent = <TContainerName extends keyof InjectionZones['contentManager']>(\n    containerName: TContainerName,\n    blockName: keyof InjectionZones['contentManager'][TContainerName],\n    component: InjectionZoneComponent\n  ) => {\n    invariant(\n      this.admin.injectionZones.contentManager[containerName]?.[blockName],\n      `The ${containerName} ${String(blockName)} zone is not defined in the content manager`\n    );\n    invariant(component, 'A Component must be provided');\n\n    // @ts-expect-error ‚Äì we've alredy checked above that the block exists.\n    this.admin.injectionZones.contentManager[containerName][blockName].push(component);\n  };\n\n  injectAdminComponent = <TContainerName extends keyof InjectionZones['admin']>(\n    containerName: TContainerName,\n    blockName: keyof InjectionZones['admin'][TContainerName],\n    component: InjectionZoneComponent\n  ) => {\n    invariant(\n      this.admin.injectionZones.admin[containerName]?.[blockName],\n      `The ${containerName} ${String(blockName)} zone is not defined in the admin`\n    );\n    invariant(component, 'A Component must be provided');\n\n    // @ts-expect-error ‚Äì we've alredy checked above that the block exists.\n    this.admin.injectionZones.admin[containerName][blockName].push(component);\n  };\n\n  /**\n   * Load the admin translations\n   * @returns {Object} The imported admin translations\n   */\n  async loadAdminTrads() {\n    const arrayOfPromises = this.configurations.locales.map((locale) => {\n      return import(`./translations/${locale}.json`)\n        .then(({ default: data }) => {\n          return { data, locale };\n        })\n        .catch(() => {\n          return { data: null, locale };\n        });\n    });\n    const adminLocales = await Promise.all(arrayOfPromises);\n\n    const translations = adminLocales.reduce<{ [locale: string]: Record<string, string> }>(\n      (acc, current) => {\n        if (current.data) {\n          acc[current.locale] = current.data;\n        }\n\n        return acc;\n      },\n      {}\n    );\n\n    return translations;\n  }\n\n  /**\n   * Load the application's translations and merged the custom translations\n   * with the default ones.\n   *\n   */\n  async loadTrads() {\n    const adminTranslations = await this.loadAdminTrads();\n\n    const arrayOfPromises = Object.keys(this.appPlugins)\n      .map((plugin) => {\n        const registerTrads = this.appPlugins[plugin].registerTrads;\n\n        if (registerTrads) {\n          return registerTrads({ locales: this.configurations.locales });\n        }\n\n        return null;\n      })\n      .filter((a) => a);\n\n    type Translation = Awaited<ReturnType<StrapiAppPlugin['registerTrads']>>[number];\n\n    const pluginsTrads = (await Promise.all(arrayOfPromises)) as Array<Translation[]>;\n    const mergedTrads = pluginsTrads.reduce<{ [locale: string]: Translation['data'] }>(\n      (acc, currentPluginTrads) => {\n        const pluginTrads = currentPluginTrads.reduce<{ [locale: string]: Translation['data'] }>(\n          (acc1, current) => {\n            acc1[current.locale] = current.data;\n\n            return acc1;\n          },\n          {}\n        );\n\n        Object.keys(pluginTrads).forEach((locale) => {\n          acc[locale] = { ...acc[locale], ...pluginTrads[locale] };\n        });\n\n        return acc;\n      },\n      {}\n    );\n\n    const translations = this.configurations.locales.reduce<{\n      [locale: string]: Translation['data'];\n    }>((acc, current) => {\n      acc[current] = {\n        ...adminTranslations[current],\n        ...(mergedTrads[current] || {}),\n        ...(this.customConfigurations?.translations?.[current] ?? {}),\n      };\n\n      return acc;\n    }, {});\n\n    this.configurations.translations = translations;\n\n    return Promise.resolve();\n  }\n\n  registerHook = (name: string, fn: Handler) => {\n    invariant(\n      this.hooksDict[name],\n      `The hook ${name} is not defined. You are trying to register a hook that does not exist in the application.`\n    );\n    this.hooksDict[name].register(fn);\n  };\n\n  registerPlugin = (pluginConf: PluginConfig) => {\n    const plugin = new Plugin(pluginConf);\n\n    this.plugins[plugin.pluginId] = plugin;\n  };\n\n  runHookSeries = (name: string, asynchronous = false) =>\n    asynchronous ? this.hooksDict[name].runSeriesAsync() : this.hooksDict[name].runSeries();\n\n  runHookWaterfall = (\n    name: string,\n    initialValue: unknown,\n    asynchronous = false,\n    store?: unknown\n  ) => {\n    return asynchronous\n      ? this.hooksDict[name].runWaterfallAsync(initialValue, store)\n      : this.hooksDict[name].runWaterfall(initialValue, store);\n  };\n\n  runHookParallel = (name: string) => this.hooksDict[name].runParallel();\n\n  render() {\n    const store = this.createStore();\n    const localeNames = pick(languageNativeNames, this.configurations.locales || []);\n\n    const {\n      components: { components },\n      fields: { fields },\n    } = this.library;\n\n    return (\n      <Providers\n        authLogo={this.configurations.authLogo}\n        components={components}\n        fields={fields}\n        customFields={this.customFields}\n        localeNames={localeNames}\n        getAdminInjectedComponents={this.getAdminInjectedComponents}\n        getPlugin={this.getPlugin}\n        messages={this.configurations.translations}\n        menu={this.menu}\n        menuLogo={this.configurations.menuLogo}\n        plugins={this.plugins}\n        runHookParallel={this.runHookParallel}\n        runHookWaterfall={(name, initialValue, async = false) => {\n          return this.runHookWaterfall(name, initialValue, async, store);\n        }}\n        runHookSeries={this.runHookSeries}\n        themes={this.configurations.themes}\n        settings={this.settings}\n        showTutorials={this.configurations.tutorials}\n        showReleaseNotification={this.configurations.notifications.releases}\n        store={store}\n      >\n        <Helmet\n          htmlAttributes={{ lang: localStorage.getItem(LANGUAGE_LOCAL_STORAGE_KEY) || 'en' }}\n        />\n        <BrowserRouter basename={getBasename()}>\n          <App />\n        </BrowserRouter>\n      </Providers>\n    );\n  }\n}\n\nexport { StrapiApp, StrapiAppConstructorArgs };\n","/* eslint-disable no-undef */\nimport { getFetchClient } from '@strapi/helper-plugin';\nimport { createRoot } from 'react-dom/client';\n\nimport { StrapiApp, StrapiAppConstructorArgs } from './StrapiApp';\n\nimport type { FeaturesService } from '@strapi/types';\n\ninterface RenderAdminArgs {\n  customisations: StrapiAppConstructorArgs['adminConfig'];\n  plugins: StrapiAppConstructorArgs['appPlugins'];\n  features?: FeaturesService['config'];\n}\n\nconst renderAdmin = async (\n  mountNode: HTMLElement | null,\n  { plugins, customisations, features }: RenderAdminArgs\n) => {\n  if (!mountNode) {\n    throw new Error('[@strapi/admin]: Could not find the root element to mount the admin app');\n  }\n\n  window.strapi = {\n    /**\n     * This ENV variable is passed from the strapi instance, by default no url is set\n     * in the config and therefore the instance returns you an empty string so URLs are relative.\n     *\n     * To ensure that the backendURL is always set, we use the window.location.origin as a fallback.\n     */\n    backendURL: process.env.STRAPI_ADMIN_BACKEND_URL || window.location.origin,\n    isEE: false,\n    telemetryDisabled: process.env.STRAPI_TELEMETRY_DISABLED === 'true' ? true : false,\n    future: {\n      isEnabled: (name: keyof FeaturesService['config']) => {\n        return features?.future?.[name] === true;\n      },\n    },\n    // @ts-expect-error ‚Äì there's pollution from the global scope of Node.\n    features: {\n      SSO: 'sso',\n      AUDIT_LOGS: 'audit-logs',\n      REVIEW_WORKFLOWS: 'review-workflows',\n      /**\n       * If we don't get the license then we know it's not EE\n       * so no feature is enabled.\n       */\n      isEnabled: () => false,\n    },\n    projectType: 'Community',\n    flags: {\n      nps: false,\n      promoteEE: true,\n    },\n  };\n\n  const { get } = getFetchClient();\n\n  interface ProjectType extends Pick<Window['strapi'], 'flags'> {\n    isEE: boolean;\n    features: {\n      name: string;\n    }[];\n  }\n\n  try {\n    const {\n      data: {\n        data: { isEE, features, flags },\n      },\n    } = await get<{ data: ProjectType }>('/admin/project-type');\n\n    window.strapi.isEE = isEE;\n    window.strapi.flags = flags;\n    window.strapi.features = {\n      ...window.strapi.features,\n      isEnabled: (featureName) => features.some((feature) => feature.name === featureName),\n    };\n    window.strapi.projectType = isEE ? 'Enterprise' : 'Community';\n  } catch (err) {\n    /**\n     * If this fails, we simply don't activate any EE features.\n     * Should we warn clearer in the UI?\n     */\n    console.error(err);\n  }\n\n  const app = new StrapiApp({\n    adminConfig: customisations,\n    appPlugins: plugins,\n  });\n\n  await app.bootstrapAdmin();\n  await app.initialize();\n  await app.bootstrap();\n  await app.loadTrads();\n\n  createRoot(mountNode).render(app.render());\n\n  if (\n    typeof module !== 'undefined' &&\n    module &&\n    'hot' in module &&\n    typeof module.hot === 'object' &&\n    module.hot !== null &&\n    'accept' in module.hot &&\n    typeof module.hot.accept === 'function'\n  ) {\n    module.hot.accept();\n  }\n};\n\nexport { renderAdmin };\nexport type { RenderAdminArgs };\n"],"names":["reducer","initialState","locale","auth","PasswordInput","Form","get","useReactQuery","Login","LoginCE","hasAdmin","uuid","menuLogo","authLogo","currentStep","GuidedTourProviderComponent","options","SET_PERMISSIONS","action","RESET_PROPS","GET_DATA","GET_DATA_SUCCEEDED","appReducer","cmAppReducer","editViewLayoutManagerReducer","editViewCrudReducer","Logo","darkTheme","lightTheme","configureStore","features"],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"index-8933483b.mjs","sources":["../../admin/src/components/NoJavascript.tsx","../../admin/src/components/DefaultDocument.tsx","../../admin/src/components/PrivateRoute.tsx","../../admin/src/constants.ts","../../admin/src/contexts/configuration.ts","../../admin/src/hooks/useEnterprise.ts","../../admin/src/components/LanguageProvider.tsx","../../admin/src/components/UnauthenticatedLogo.tsx","../../admin/src/layouts/UnauthenticatedLayout.tsx","../../admin/src/pages/Auth/components/FieldActionWrapper.tsx","../../admin/src/pages/Auth/components/Login.tsx","../../admin/src/pages/Auth/components/ForgotPassword.tsx","../../admin/src/pages/Auth/components/ForgotPasswordSuccess.tsx","../../admin/src/pages/Auth/components/Oops.tsx","../../admin/src/components/NpsSurvey.tsx","../../admin/src/pages/Auth/components/Register.tsx","../../admin/src/pages/Auth/components/ResetPassword.tsx","../../admin/src/pages/Auth/constants.ts","../../admin/src/pages/Auth/AuthPage.tsx","../../admin/src/pages/NotFoundPage.tsx","../../admin/src/pages/UseCasePage.tsx","../../admin/src/utils/createRoute.tsx","../../admin/src/App.tsx","../../admin/src/assets/images/logo-strapi-2022.svg","../../admin/src/contexts/admin.ts","../../admin/src/components/ConfigurationProvider.tsx","../../admin/src/components/GuidedTour/Provider.tsx","../../admin/src/contexts/themeToggle.ts","../../admin/src/components/Theme.tsx","../../admin/src/components/ThemeToggleProvider.tsx","../../admin/src/components/Providers.tsx","../../admin/src/core/apis/Components.ts","../../admin/src/core/apis/CustomFields.ts","../../admin/src/core/apis/Fields.ts","../../admin/src/core/apis/Middlewares.ts","../../admin/src/core/apis/Plugin.ts","../../admin/src/core/apis/Reducers.ts","../../admin/src/core/store/hooks.ts","../../admin/src/components/RBACProvider.tsx","../../admin/src/content-manager/hooks/useSyncRbac/constants.js","../../admin/src/content-manager/hooks/useSyncRbac/reducer.js","../../admin/src/content-manager/pages/App/constants.js","../../admin/src/content-manager/pages/App/reducer.js","../../admin/src/content-manager/pages/EditViewLayoutManager/constants.js","../../admin/src/content-manager/pages/EditViewLayoutManager/reducer.js","../../admin/src/content-manager/pages/ListView/constants.js","../../admin/src/content-manager/pages/ListView/reducer.js","../../admin/src/content-manager/sharedReducers/crudReducer/constants.js","../../admin/src/content-manager/sharedReducers/crudReducer/reducer.js","../../admin/src/reducer.ts","../../admin/src/core/store/configure.ts","../../admin/src/core/utils/basename.ts","../../admin/src/core/utils/createHook.ts","../../admin/src/shared/hooks/useInjectionZone.ts","../../admin/src/shared/components/InjectionZone.tsx","../../admin/src/translations/languageNativeNames.ts","../../admin/src/StrapiApp.tsx","../../admin/src/render.ts"],"sourcesContent":["const styles = `\n.strapi--root {\n  position: absolute;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  background: #fff;\n}\n\n.strapi--no-js {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  text-align: center;\n  font-family: helvetica, arial, sans-serif;\n}\n`;\n\n/**\n * @internal\n *\n * @description this belongs to our default document that we render.\n */\nconst NoJavascript = () => {\n  return (\n    <noscript>\n      <div className=\"strapi--root\">\n        <div className=\"strapi--no-js\">\n          <style type=\"text/css\">{styles}</style>\n          <h1>JavaScript disabled</h1>\n          <p>\n            Please <a href=\"https://www.enable-javascript.com/\">enable JavaScript</a> in your\n            browser and reload the page to proceed.\n          </p>\n        </div>\n      </div>\n    </noscript>\n  );\n};\n\nexport { NoJavascript };\n","import { NoJavascript } from './NoJavascript';\n\n/**\n * TODO: add favicons.........\n */\n\nconst globalStyles = `\n  html,\n  body,\n  #strapi {\n    height: 100%;\n  }\n  body {\n    margin: 0;\n    -webkit-font-smoothing: antialiased;\n  }\n`;\n\n/**\n * @internal\n */\nconst DefaultDocument = () => {\n  return (\n    <html lang=\"en\">\n      <head>\n        <meta charSet=\"utf-8\" />\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, viewport-fit=cover\" />\n        <meta name=\"robots\" content=\"noindex\" />\n        <meta name=\"referrer\" content=\"same-origin\" />\n\n        <title>MotorsEra Admin</title>\n        <style>{globalStyles}</style>\n      </head>\n      <body>\n        <div id=\"strapi\" />\n        <NoJavascript />\n      </body>\n    </html>\n  );\n};\n\nexport { DefaultDocument };\n","import * as React from 'react';\n\nimport { auth } from '@strapi/helper-plugin';\nimport { Redirect, Route, useLocation } from 'react-router-dom';\n\ntype PropsOf<T> = T extends React.ComponentType<infer P> ? P : object;\n\ntype PrivateRouteProps<TComponent extends React.ElementType> = {\n  component: TComponent;\n  path: string;\n} & PropsOf<TComponent>;\n\nconst PrivateRoute = <TComponent extends React.ElementType>({\n  component: Component,\n  path,\n  ...rest\n}: PrivateRouteProps<TComponent>) => {\n  const { pathname, search } = useLocation();\n\n  return (\n    <Route\n      path={path}\n      render={(props) =>\n        auth.getToken() !== null ? (\n          <Component {...rest} {...props} />\n        ) : (\n          <Redirect\n            to={{\n              pathname: '/auth/login',\n              search:\n                pathname !== '/'\n                  ? `?redirectTo=${encodeURIComponent(`${pathname}${search}`)}`\n                  : undefined,\n            }}\n          />\n        )\n      }\n    />\n  );\n};\n\nexport { PrivateRoute };\n","import { StrapiAppSettingLink } from '@strapi/helper-plugin';\n\nexport const ADMIN_PERMISSIONS_CE = {\n  contentManager: {\n    main: [],\n    collectionTypesConfigurations: [\n      {\n        action: 'plugin::content-manager.collection-types.configure-view',\n        subject: null,\n      },\n    ],\n    componentsConfigurations: [\n      {\n        action: 'plugin::content-manager.components.configure-layout',\n        subject: null,\n      },\n    ],\n    singleTypesConfigurations: [\n      {\n        action: 'plugin::content-manager.single-types.configure-view',\n        subject: null,\n      },\n    ],\n  },\n  marketplace: {\n    main: [{ action: 'admin::marketplace.read', subject: null }],\n    read: [{ action: 'admin::marketplace.read', subject: null }],\n  },\n  settings: {\n    roles: {\n      main: [\n        { action: 'admin::roles.create', subject: null },\n        { action: 'admin::roles.update', subject: null },\n        { action: 'admin::roles.read', subject: null },\n        { action: 'admin::roles.delete', subject: null },\n      ],\n      create: [{ action: 'admin::roles.create', subject: null }],\n      delete: [{ action: 'admin::roles.delete', subject: null }],\n      read: [{ action: 'admin::roles.read', subject: null }],\n      update: [{ action: 'admin::roles.update', subject: null }],\n    },\n    users: {\n      main: [\n        { action: 'admin::users.create', subject: null },\n        { action: 'admin::users.read', subject: null },\n        { action: 'admin::users.update', subject: null },\n        { action: 'admin::users.delete', subject: null },\n      ],\n      create: [{ action: 'admin::users.create', subject: null }],\n      delete: [{ action: 'admin::users.delete', subject: null }],\n      read: [{ action: 'admin::users.read', subject: null }],\n      update: [{ action: 'admin::users.update', subject: null }],\n    },\n    webhooks: {\n      main: [\n        { action: 'admin::webhooks.create', subject: null },\n        { action: 'admin::webhooks.read', subject: null },\n        { action: 'admin::webhooks.update', subject: null },\n        { action: 'admin::webhooks.delete', subject: null },\n      ],\n      create: [{ action: 'admin::webhooks.create', subject: null }],\n      delete: [{ action: 'admin::webhooks.delete', subject: null }],\n      read: [\n        { action: 'admin::webhooks.read', subject: null },\n        // NOTE: We need to check with the API\n        { action: 'admin::webhooks.update', subject: null },\n        { action: 'admin::webhooks.delete', subject: null },\n      ],\n      update: [{ action: 'admin::webhooks.update', subject: null }],\n    },\n    'api-tokens': {\n      main: [{ action: 'admin::api-tokens.access', subject: null }],\n      create: [{ action: 'admin::api-tokens.create', subject: null }],\n      delete: [{ action: 'admin::api-tokens.delete', subject: null }],\n      read: [{ action: 'admin::api-tokens.read', subject: null }],\n      update: [{ action: 'admin::api-tokens.update', subject: null }],\n      regenerate: [{ action: 'admin::api-tokens.regenerate', subject: null }],\n    },\n    'transfer-tokens': {\n      main: [{ action: 'admin::transfer.tokens.access', subject: null }],\n      create: [{ action: 'admin::transfer.tokens.create', subject: null }],\n      delete: [{ action: 'admin::transfer.tokens.delete', subject: null }],\n      read: [{ action: 'admin::transfer.tokens.read', subject: null }],\n      update: [{ action: 'admin::transfer.tokens.update', subject: null }],\n      regenerate: [{ action: 'admin::transfer.tokens.regenerate', subject: null }],\n    },\n    'project-settings': {\n      read: [{ action: 'admin::project-settings.read', subject: null }],\n      update: [{ action: 'admin::project-settings.update', subject: null }],\n    },\n  },\n};\n\nexport const HOOKS = {\n  /**\n   * Hook that allows to mutate the displayed headers of the list view table\n   * @constant\n   * @type {string}\n   */\n  INJECT_COLUMN_IN_TABLE: 'Admin/CM/pages/ListView/inject-column-in-table',\n\n  /**\n   * Hook that allows to mutate the CM's collection types links pre-set filters\n   * @constant\n   * @type {string}\n   */\n  MUTATE_COLLECTION_TYPES_LINKS: 'Admin/CM/pages/App/mutate-collection-types-links',\n\n  /**\n   * Hook that allows to mutate the CM's edit view layout\n   * @constant\n   * @type {string}\n   */\n  MUTATE_EDIT_VIEW_LAYOUT: 'Admin/CM/pages/EditView/mutate-edit-view-layout',\n\n  /**\n   * Hook that allows to mutate the CM's single types links pre-set filters\n   * @constant\n   * @type {string}\n   */\n  MUTATE_SINGLE_TYPES_LINKS: 'Admin/CM/pages/App/mutate-single-types-links',\n};\n\nexport const ACTION_SET_APP_RUNTIME_STATUS = 'StrapiAdmin/APP/SET_APP_RUNTIME_STATUS';\nexport const ACTION_SET_ADMIN_PERMISSIONS = 'StrapiAdmin/App/SET_ADMIN_PERMISSIONS';\n\nexport interface SettingsMenuLink extends Omit<StrapiAppSettingLink, 'Component' | 'permissions'> {\n  Component?: never;\n  lockIcon?: boolean;\n}\n\nexport type SettingsMenu = {\n  admin: SettingsMenuLink[];\n  global: SettingsMenuLink[];\n};\n\nexport const SETTINGS_LINKS_CE = (): SettingsMenu => ({\n  global: [\n    {\n      intlLabel: { id: 'Settings.application.title', defaultMessage: 'Overview' },\n      to: '/settings/application-infos',\n      id: '000-application-infos',\n    },\n    {\n      intlLabel: { id: 'Settings.webhooks.title', defaultMessage: 'Webhooks' },\n      to: '/settings/webhooks',\n      id: 'webhooks',\n    },\n    {\n      intlLabel: { id: 'Settings.apiTokens.title', defaultMessage: 'API Tokens' },\n      to: '/settings/api-tokens?sort=name:ASC',\n      id: 'api-tokens',\n    },\n    {\n      intlLabel: { id: 'Settings.transferTokens.title', defaultMessage: 'Transfer Tokens' },\n      to: '/settings/transfer-tokens?sort=name:ASC',\n      id: 'transfer-tokens',\n    },\n    // If the Enterprise feature is not enabled and if the config doesn't disable it, we promote the Enterprise feature by displaying them in the settings menu.\n    // Disable this by adding \"promoteEE: false\" to your `./config/admin.js` file\n    ...(!window.strapi.features.isEnabled(window.strapi.features.SSO) &&\n    window.strapi?.flags?.promoteEE\n      ? [\n          {\n            intlLabel: { id: 'Settings.sso.title', defaultMessage: 'Single Sign-On' },\n            to: '/settings/purchase-single-sign-on',\n            id: 'sso',\n            lockIcon: true,\n          },\n        ]\n      : []),\n\n    ...(!window.strapi.features.isEnabled(window.strapi.features.REVIEW_WORKFLOWS) &&\n    window.strapi?.flags?.promoteEE\n      ? [\n          {\n            intlLabel: {\n              id: 'Settings.review-workflows.page.title',\n              defaultMessage: 'Review Workflows',\n            },\n            to: '/settings/purchase-review-workflows',\n            id: 'review-workflows',\n            lockIcon: true,\n          },\n        ]\n      : []),\n  ],\n\n  admin: [\n    {\n      intlLabel: { id: 'global.roles', defaultMessage: 'Roles' },\n      to: '/settings/roles',\n      id: 'roles',\n    },\n    {\n      intlLabel: { id: 'global.users', defaultMessage: 'Users' },\n      // Init the search params directly\n      to: '/settings/users?pageSize=10&page=1&sort=firstname',\n      id: 'users',\n    },\n    ...(!window.strapi.features.isEnabled(window.strapi.features.AUDIT_LOGS) &&\n    window.strapi?.flags?.promoteEE\n      ? [\n          {\n            intlLabel: { id: 'global.auditLogs', defaultMessage: 'Audit Logs' },\n            to: '/settings/purchase-audit-logs',\n            id: 'auditLogs',\n            lockIcon: true,\n          },\n        ]\n      : []),\n  ],\n});\n","import { createContext } from '@radix-ui/react-context';\n\nexport interface ConfigurationContextValue {\n  logos: {\n    auth: { custom?: string | null; default: string };\n    menu: { custom?: string | null; default: string };\n  };\n  showTutorials: boolean;\n  showReleaseNotification: boolean;\n  updateProjectSettings: (settings: { authLogo?: string; menuLogo?: string }) => void;\n}\n\nconst [ConfigurationContextProvider, useConfigurationContext] =\n  createContext<ConfigurationContextValue>('ConfigurationContext');\n\nconst useConfiguration = () => useConfigurationContext('useConfiguration');\n\nexport { ConfigurationContextProvider, useConfiguration };\n","import * as React from 'react';\n\nimport { useCallbackRef } from '@strapi/helper-plugin';\n\nfunction isEnterprise() {\n  return window.strapi.isEE;\n}\n\nexport interface UseEnterpriseOptions<TCEData, TEEData, TDefaultValue, TCombinedValue> {\n  defaultValue?: TDefaultValue;\n  combine?: (ceData: TCEData, eeData: TEEData) => TCombinedValue;\n  enabled?: boolean;\n}\n\ntype UseEnterpriseReturn<TCEData, TEEData, TDefaultValue, TCombinedValue> =\n  TDefaultValue extends null\n    ? TCEData | TEEData | TCombinedValue | null\n    : TCEData | TEEData | TCombinedValue | TDefaultValue;\n\nexport const useEnterprise = <\n  TCEData,\n  TEEData = TCEData,\n  TCombinedValue = TEEData,\n  TDefaultValue = TCEData | null\n>(\n  ceData: TCEData,\n  eeCallback: () => Promise<TEEData>,\n  opts: UseEnterpriseOptions<TCEData, TEEData, TDefaultValue, TCombinedValue> = {}\n): UseEnterpriseReturn<TCEData, TEEData, TDefaultValue, TCombinedValue> => {\n  const { defaultValue = null, combine = (_ceData, eeData) => eeData, enabled = true } = opts;\n  const eeCallbackRef = useCallbackRef(eeCallback);\n  const combineCallbackRef = useCallbackRef(combine);\n\n  // We have to use a nested object here, because functions (e.g. Components)\n  // can not be stored as value directly\n  const [{ data }, setData] = React.useState<{\n    data: TCEData | TEEData | TDefaultValue | TCombinedValue | null;\n  }>({\n    data: isEnterprise() && enabled ? defaultValue : ceData,\n  });\n\n  React.useEffect(() => {\n    async function importEE() {\n      const eeData = await eeCallbackRef();\n      const combinedValue = combineCallbackRef(ceData, eeData);\n\n      setData({ data: combinedValue ? combinedValue : eeData });\n    }\n\n    if (isEnterprise() && enabled) {\n      importEE();\n    }\n  }, [ceData, eeCallbackRef, combineCallbackRef, enabled]);\n\n  // @ts-expect-error ‚Äì the hook type assertion works in practice. But seems to have issues here...\n  return data;\n};\n","/*\n *\n * LanguageProvider\n *\n * this component connects the redux state language locale to the\n * IntlProvider component and i18n messages (loaded from `app/translations`)\n */\n\nimport * as React from 'react';\n\nimport { createContext } from '@radix-ui/react-context';\nimport defaultsDeep from 'lodash/defaultsDeep';\nimport { IntlProvider } from 'react-intl';\n\n/* -------------------------------------------------------------------------------------------------\n * LocalesContext\n * -----------------------------------------------------------------------------------------------*/\n\ninterface LocalesContextValue {\n  changeLocale: (locale: keyof State['localeNames']) => void;\n  localeNames: Record<string, string>;\n}\n\nconst [LocalesContextProvider, useLocalesContext] =\n  createContext<LocalesContextValue>('LocalesContext');\n\nconst useLocales = () => useLocalesContext('useLocales');\n\n/* -------------------------------------------------------------------------------------------------\n * LanguageProvider\n * -----------------------------------------------------------------------------------------------*/\n\nconst LANGUAGE_LOCAL_STORAGE_KEY = 'strapi-admin-language';\n\ninterface LanguageProviderProps {\n  children: React.ReactNode;\n  localeNames: Record<string, string>;\n  messages: Record<string, Record<string, string>>;\n}\n\nconst LanguageProvider = ({ children, localeNames, messages }: LanguageProviderProps) => {\n  const [{ locale }, dispatch] = React.useReducer<React.Reducer<State, Action>, State>(\n    reducer,\n    initialState,\n    () => {\n      const languageFromLocaleStorage = window.localStorage.getItem(LANGUAGE_LOCAL_STORAGE_KEY);\n      if (languageFromLocaleStorage && localeNames[languageFromLocaleStorage]) {\n        return {\n          locale: languageFromLocaleStorage,\n          localeNames,\n        };\n      } else {\n        return {\n          locale: 'en',\n          localeNames,\n        };\n      }\n    }\n  );\n\n  React.useEffect(() => {\n    // Set user language in local storage.\n    window.localStorage.setItem(LANGUAGE_LOCAL_STORAGE_KEY, locale);\n    document.documentElement.setAttribute('lang', locale);\n  }, [locale]);\n\n  const changeLocale = React.useCallback((locale: keyof State['localeNames']) => {\n    dispatch({\n      type: 'CHANGE_LOCALE',\n      locale,\n    });\n  }, []);\n\n  const appMessages = defaultsDeep(messages[locale], messages.en);\n\n  return (\n    <IntlProvider locale={locale} defaultLocale=\"en\" messages={appMessages} textComponent=\"span\">\n      <LocalesContextProvider changeLocale={changeLocale} localeNames={localeNames}>\n        {children}\n      </LocalesContextProvider>\n    </IntlProvider>\n  );\n};\n\n/* -------------------------------------------------------------------------------------------------\n * Reducer\n * -----------------------------------------------------------------------------------------------*/\n\ninterface State {\n  localeNames: Record<string, string>;\n  locale: keyof State['localeNames'];\n}\n\nconst initialState: State = {\n  localeNames: { en: 'English' },\n  locale: 'en',\n};\n\ninterface ChangeLocaleAction {\n  type: 'CHANGE_LOCALE';\n  locale: keyof State['localeNames'];\n}\n\ntype Action = ChangeLocaleAction;\n\nconst reducer = (state = initialState, action: Action) => {\n  switch (action.type) {\n    case 'CHANGE_LOCALE': {\n      const { locale } = action;\n\n      if (!state.localeNames[locale]) {\n        return state;\n      }\n\n      return { ...state, locale };\n    }\n    default: {\n      return state;\n    }\n  }\n};\n\nexport { LanguageProvider, useLocales, LANGUAGE_LOCAL_STORAGE_KEY };\nexport type { LanguageProviderProps, LocalesContextValue };\n","import styled from 'styled-components';\n\nimport { useConfiguration } from '../contexts/configuration';\n\nconst Img = styled.img`\n  height: ${72 / 16}rem;\n`;\n\nconst Logo = () => {\n  const {\n    logos: { auth },\n  } = useConfiguration();\n\n  return <Img src={auth?.custom ?? auth.default} aria-hidden alt=\"\" />;\n};\n\nexport { Logo };\n","import * as React from 'react';\n\nimport { Box, Flex, SingleSelect, SingleSelectOption } from '@strapi/design-system';\nimport { useIntl } from 'react-intl';\nimport styled from 'styled-components';\n\nimport { useLocales } from '../components/LanguageProvider';\n\nconst Wrapper = styled(Box)`\n  margin: 0 auto;\n  width: 552px;\n`;\n\nexport const Column = styled(Flex)`\n  flex-direction: column;\n`;\n\nconst LocaleToggle = () => {\n  const { changeLocale, localeNames } = useLocales();\n  const { formatMessage, locale } = useIntl();\n\n  return (\n    <SingleSelect\n      aria-label={formatMessage({\n        id: 'global.localeToggle.label',\n        defaultMessage: 'Select interface language',\n      })}\n      value={locale}\n      onChange={(language) => {\n        changeLocale(language as string);\n      }}\n    >\n      {Object.entries(localeNames).map(([language, name]) => (\n        <SingleSelectOption key={language} value={language}>\n          {name}\n        </SingleSelectOption>\n      ))}\n    </SingleSelect>\n  );\n};\n\ninterface LayoutContentProps {\n  children: React.ReactNode;\n}\n\nexport const LayoutContent = ({ children }: LayoutContentProps) => (\n  <Wrapper\n    shadow=\"tableShadow\"\n    hasRadius\n    paddingTop={9}\n    paddingBottom={9}\n    paddingLeft={10}\n    paddingRight={10}\n    background=\"neutral0\"\n  >\n    {children}\n  </Wrapper>\n);\n\ninterface UnauthenticatedLayoutProps {\n  children: React.ReactNode;\n}\n\nexport const UnauthenticatedLayout = ({ children }: UnauthenticatedLayoutProps) => {\n  return (\n    <div>\n      <Flex as=\"header\" justifyContent=\"flex-end\">\n        <Box paddingTop={6} paddingRight={8}>\n          <LocaleToggle />\n        </Box>\n      </Flex>\n      <Box paddingTop={2} paddingBottom={11}>\n        {children}\n      </Box>\n    </div>\n  );\n};\n","import { FieldAction } from '@strapi/design-system';\nimport styled from 'styled-components';\n\nconst FieldActionWrapper = styled(FieldAction)`\n  svg {\n    height: 1rem;\n    width: 1rem;\n    path {\n      fill: ${({ theme }) => theme.colors.neutral600};\n    }\n  }\n`;\n\nexport { FieldActionWrapper };\n","import * as React from 'react';\n\nimport { Box, Button, Checkbox, Flex, Main, TextInput, Typography } from '@strapi/design-system';\nimport { Link } from '@strapi/design-system/v2';\nimport { Form, auth, translatedErrors, useFetchClient, useQuery } from '@strapi/helper-plugin';\nimport { Eye, EyeStriked } from '@strapi/icons';\nimport { Formik } from 'formik';\nimport camelCase from 'lodash/camelCase';\nimport { useIntl } from 'react-intl';\nimport { useMutation } from 'react-query';\nimport { NavLink, useHistory } from 'react-router-dom';\nimport styled from 'styled-components';\nimport * as yup from 'yup';\n\nimport { Login } from '../../../../../shared/contracts/authentication';\nimport { useLocales } from '../../../components/LanguageProvider';\nimport { Logo } from '../../../components/UnauthenticatedLogo';\nimport {\n  UnauthenticatedLayout,\n  Column,\n  LayoutContent,\n} from '../../../layouts/UnauthenticatedLayout';\n\nimport { FieldActionWrapper } from './FieldActionWrapper';\n\nimport type { AxiosError } from 'axios';\n\ninterface LoginProps {\n  children?: React.ReactNode;\n}\n\nconst LOGIN_SCHEMA = yup.object().shape({\n  email: yup.string().email(translatedErrors.email).required(translatedErrors.required),\n  password: yup.string().required(translatedErrors.required),\n  rememberMe: yup.bool().nullable(),\n});\n\nconst Login = ({ children }: LoginProps) => {\n  const [apiError, setApiError] = React.useState<string>();\n  const [passwordShown, setPasswordShown] = React.useState(false);\n  const { formatMessage } = useIntl();\n  const { post } = useFetchClient();\n  const { changeLocale } = useLocales();\n  const query = useQuery();\n  const { push } = useHistory();\n\n  const mutation = useMutation(\n    async (body: Login.Request['body'] & { rememberMe: boolean }) => {\n      const {\n        data: { data },\n      } = await post<Login.Response>('/admin/login', body);\n\n      return { ...data, rememberMe: body.rememberMe };\n    },\n    {\n      onSuccess(data) {\n        if (data) {\n          const { token, user } = data;\n\n          if (user.preferedLanguage) {\n            changeLocale(user.preferedLanguage);\n          }\n\n          auth.setToken(token, data.rememberMe);\n          auth.setUserInfo(user, data.rememberMe);\n\n          const redirectTo = query.get('redirectTo');\n          const redirectUrl = redirectTo ? decodeURIComponent(redirectTo) : '/';\n\n          push(redirectUrl);\n        }\n      },\n      onError(err: AxiosError<{ error: Login.Response['errors'] }>) {\n        const message = err.response?.data?.error?.message ?? 'Something went wrong';\n\n        if (camelCase(message).toLowerCase() === 'usernotactive') {\n          push('/auth/oops');\n          return;\n        }\n\n        setApiError(message);\n      },\n    }\n  );\n\n  return (\n    <UnauthenticatedLayout>\n      <Main>\n        <LayoutContent>\n          <Column>\n            <Logo />\n            <Box paddingTop={6} paddingBottom={1}>\n              <Typography variant=\"alpha\" as=\"h1\">\n                {formatMessage({\n                  id: 'Auth.form.welcome.title',\n                  defaultMessage: 'Welcome!',\n                })}\n              </Typography>\n            </Box>\n            <Box paddingBottom={7}>\n              <Typography variant=\"epsilon\" textColor=\"neutral600\">\n                {formatMessage({\n                  id: 'Auth.form.welcome.subtitle',\n                  defaultMessage: 'Log in to your MotorsEra account',\n                })}\n              </Typography>\n            </Box>\n            {mutation.isError && apiError ? (\n              <Typography id=\"global-form-error\" role=\"alert\" tabIndex={-1} textColor=\"danger600\">\n                {apiError}\n              </Typography>\n            ) : null}\n          </Column>\n          <Formik\n            enableReinitialize\n            initialValues={{\n              email: '',\n              password: '',\n              rememberMe: false,\n            }}\n            onSubmit={(values) => {\n              mutation.mutate(values);\n            }}\n            validationSchema={LOGIN_SCHEMA}\n            validateOnChange={false}\n          >\n            {({ values, errors, handleChange }) => (\n              <Form>\n                <Flex direction=\"column\" alignItems=\"stretch\" gap={6}>\n                  <TextInput\n                    error={\n                      errors.email\n                        ? formatMessage({\n                            id: errors.email,\n                            defaultMessage: 'This value is required.',\n                          })\n                        : ''\n                    }\n                    value={values.email}\n                    onChange={handleChange}\n                    label={formatMessage({ id: 'Auth.form.email.label', defaultMessage: 'Email' })}\n                    placeholder={formatMessage({\n                      id: 'Auth.form.email.placeholder',\n                      defaultMessage: 'kai@doe.com',\n                    })}\n                    name=\"email\"\n                    required\n                  />\n                  <PasswordInput\n                    error={\n                      errors.password\n                        ? formatMessage({\n                            id: errors.password,\n                            defaultMessage: 'This value is required.',\n                          })\n                        : ''\n                    }\n                    onChange={handleChange}\n                    value={values.password}\n                    label={formatMessage({\n                      id: 'global.password',\n                      defaultMessage: 'Password',\n                    })}\n                    name=\"password\"\n                    type={passwordShown ? 'text' : 'password'}\n                    endAction={\n                      <FieldActionWrapper\n                        onClick={(e) => {\n                          e.stopPropagation();\n                          setPasswordShown((prev) => !prev);\n                        }}\n                        label={formatMessage(\n                          passwordShown\n                            ? {\n                                id: 'Auth.form.password.show-password',\n                                defaultMessage: 'Show password',\n                              }\n                            : {\n                                id: 'Auth.form.password.hide-password',\n                                defaultMessage: 'Hide password',\n                              }\n                        )}\n                      >\n                        {passwordShown ? <Eye /> : <EyeStriked />}\n                      </FieldActionWrapper>\n                    }\n                    required\n                  />\n                  <Checkbox\n                    onValueChange={(checked) => {\n                      handleChange({ target: { value: checked, name: 'rememberMe' } });\n                    }}\n                    value={values.rememberMe}\n                    aria-label=\"rememberMe\"\n                    name=\"rememberMe\"\n                  >\n                    {formatMessage({\n                      id: 'Auth.form.rememberMe.label',\n                      defaultMessage: 'Remember me',\n                    })}\n                  </Checkbox>\n                  <Button fullWidth type=\"submit\">\n                    {formatMessage({ id: 'Auth.form.button.login', defaultMessage: 'Login' })}\n                  </Button>\n                </Flex>\n              </Form>\n            )}\n          </Formik>\n          {children}\n        </LayoutContent>\n        <Flex justifyContent=\"center\">\n          <Box paddingTop={4}>\n            {/* @ts-expect-error ‚Äì error with inferring the props from the as component */}\n            <Link as={NavLink} to=\"/auth/forgot-password\">\n              {formatMessage({\n                id: 'Auth.link.forgot-password',\n                defaultMessage: 'Forgot your password?',\n              })}\n            </Link>\n          </Box>\n        </Flex>\n      </Main>\n    </UnauthenticatedLayout>\n  );\n};\n\nconst PasswordInput = styled(TextInput)`\n  ::-ms-reveal {\n    display: none;\n  }\n`;\n\nexport { Login };\nexport type { LoginProps };\n","import { Box, Button, Flex, Main, TextInput, Typography } from '@strapi/design-system';\nimport { Link } from '@strapi/design-system/v2';\nimport { Form, translatedErrors, useFetchClient } from '@strapi/helper-plugin';\nimport { Formik } from 'formik';\nimport { useIntl } from 'react-intl';\nimport { useMutation } from 'react-query';\nimport { NavLink, useHistory } from 'react-router-dom';\nimport * as yup from 'yup';\n\nimport { ForgotPassword } from '../../../../../shared/contracts/authentication';\nimport { Logo } from '../../../components/UnauthenticatedLogo';\nimport {\n  Column,\n  LayoutContent,\n  UnauthenticatedLayout,\n} from '../../../layouts/UnauthenticatedLayout';\n\nconst ForgotPassword = () => {\n  const { push } = useHistory();\n  const { post } = useFetchClient();\n  const { formatMessage } = useIntl();\n\n  const { mutate, isError } = useMutation(\n    async (body: ForgotPassword.Request['body']) => {\n      await post('/admin/forgot-password', body);\n    },\n    {\n      onSuccess() {\n        push('/auth/forgot-password-success');\n      },\n    }\n  );\n\n  return (\n    <UnauthenticatedLayout>\n      <Main>\n        <LayoutContent>\n          <Column>\n            <Logo />\n            <Box paddingTop={6} paddingBottom={7}>\n              <Typography as=\"h1\" variant=\"alpha\">\n                {formatMessage({\n                  id: 'Auth.form.button.password-recovery',\n                  defaultMessage: 'Password Recovery',\n                })}\n              </Typography>\n            </Box>\n            {isError ? (\n              <Typography id=\"global-form-error\" role=\"alert\" tabIndex={-1} textColor=\"danger600\">\n                {formatMessage({\n                  id: 'notification.error',\n                  defaultMessage: 'An error occurred',\n                })}\n              </Typography>\n            ) : null}\n          </Column>\n          <Formik\n            enableReinitialize\n            initialValues={{\n              email: '',\n            }}\n            onSubmit={(values) => {\n              mutate(values);\n            }}\n            validationSchema={yup.object().shape({\n              email: yup.string().email(translatedErrors.email).required(translatedErrors.required),\n            })}\n            validateOnChange={false}\n          >\n            {({ values, errors, handleChange }) => (\n              <Form>\n                <Flex direction=\"column\" alignItems=\"stretch\" gap={6}>\n                  <TextInput\n                    error={\n                      errors.email\n                        ? formatMessage({\n                            id: errors.email,\n                            defaultMessage: 'This email is invalid.',\n                          })\n                        : ''\n                    }\n                    value={values.email}\n                    onChange={handleChange}\n                    label={formatMessage({ id: 'Auth.form.email.label', defaultMessage: 'Email' })}\n                    placeholder={formatMessage({\n                      id: 'Auth.form.email.placeholder',\n                      defaultMessage: 'kai@doe.com',\n                    })}\n                    name=\"email\"\n                    required\n                  />\n                  <Button type=\"submit\" fullWidth>\n                    {formatMessage({\n                      id: 'Auth.form.button.forgot-password',\n                      defaultMessage: 'Send Email',\n                    })}\n                  </Button>\n                </Flex>\n              </Form>\n            )}\n          </Formik>\n        </LayoutContent>\n        <Flex justifyContent=\"center\">\n          <Box paddingTop={4}>\n            {/* @ts-expect-error ‚Äì error with inferring the props from the as component */}\n            <Link as={NavLink} to=\"/auth/login\">\n              {formatMessage({ id: 'Auth.link.ready', defaultMessage: 'Ready to sign in?' })}\n            </Link>\n          </Box>\n        </Flex>\n      </Main>\n    </UnauthenticatedLayout>\n  );\n};\n\nexport { ForgotPassword };\n","import { Box, Flex, Main, Typography } from '@strapi/design-system';\nimport { Link } from '@strapi/design-system/v2';\nimport { useIntl } from 'react-intl';\nimport { NavLink } from 'react-router-dom';\n\nimport { Logo } from '../../../components/UnauthenticatedLogo';\nimport {\n  Column,\n  LayoutContent,\n  UnauthenticatedLayout,\n} from '../../../layouts/UnauthenticatedLayout';\n\nconst ForgotPasswordSuccess = () => {\n  const { formatMessage } = useIntl();\n\n  return (\n    <UnauthenticatedLayout>\n      <Main>\n        <LayoutContent>\n          <Column>\n            <Logo />\n            <Box paddingTop={6} paddingBottom={7}>\n              <Typography as=\"h1\" variant=\"alpha\">\n                {formatMessage({\n                  id: 'app.containers.AuthPage.ForgotPasswordSuccess.title',\n                  defaultMessage: 'Email sent',\n                })}\n              </Typography>\n            </Box>\n            <Typography>\n              {formatMessage({\n                id: 'app.containers.AuthPage.ForgotPasswordSuccess.text.email',\n                defaultMessage: 'It can take a few minutes to receive your password recovery link.',\n              })}\n            </Typography>\n            <Box paddingTop={4}>\n              <Typography>\n                {formatMessage({\n                  id: 'app.containers.AuthPage.ForgotPasswordSuccess.text.contact-admin',\n                  defaultMessage:\n                    'If you do not receive this link, please contact your administrator.',\n                })}\n              </Typography>\n            </Box>\n          </Column>\n        </LayoutContent>\n        <Flex justifyContent=\"center\">\n          <Box paddingTop={4}>\n            {/* @ts-expect-error ‚Äì error with inferring the props from the as component */}\n            <Link as={NavLink} to=\"/auth/login\">\n              {formatMessage({ id: 'Auth.link.signin', defaultMessage: 'Sign in' })}\n            </Link>\n          </Box>\n        </Flex>\n      </Main>\n    </UnauthenticatedLayout>\n  );\n};\n\nexport { ForgotPasswordSuccess };\n","import { Box, Flex, Main, Typography } from '@strapi/design-system';\nimport { Link } from '@strapi/design-system/v2';\nimport { useQuery } from '@strapi/helper-plugin';\nimport { useIntl } from 'react-intl';\nimport { NavLink } from 'react-router-dom';\n\nimport { Logo } from '../../../components/UnauthenticatedLogo';\nimport {\n  Column,\n  LayoutContent,\n  UnauthenticatedLayout,\n} from '../../../layouts/UnauthenticatedLayout';\n\nconst Oops = () => {\n  const { formatMessage } = useIntl();\n  const query = useQuery();\n\n  const message =\n    query.get('info') ||\n    formatMessage({\n      id: 'Auth.components.Oops.text',\n      defaultMessage: 'Your account has been suspended.',\n    });\n\n  return (\n    <UnauthenticatedLayout>\n      <Main>\n        <LayoutContent>\n          <Column>\n            <Logo />\n            <Box paddingTop={6} paddingBottom={7}>\n              <Typography as=\"h1\" variant=\"alpha\">\n                {formatMessage({ id: 'Auth.components.Oops.title', defaultMessage: 'Oops...' })}\n              </Typography>\n            </Box>\n            <Typography>{message}</Typography>\n            <Box paddingTop={4}>\n              <Typography>\n                {formatMessage({\n                  id: 'Auth.components.Oops.text.admin',\n                  defaultMessage: 'If this is a mistake, please contact your administrator.',\n                })}\n              </Typography>\n            </Box>\n          </Column>\n        </LayoutContent>\n        <Flex justifyContent=\"center\">\n          <Box paddingTop={4}>\n            {/* @ts-expect-error ‚Äì error with inferring the props from the as component */}\n            <Link as={NavLink} to=\"/auth/login\">\n              {formatMessage({ id: 'Auth.link.signin', defaultMessage: 'Sign in' })}\n            </Link>\n          </Box>\n        </Flex>\n      </Main>\n    </UnauthenticatedLayout>\n  );\n};\n\nexport { Oops };\n","import * as React from 'react';\n\nimport {\n  Box,\n  Flex,\n  IconButton,\n  Button,\n  Typography,\n  Textarea,\n  Portal,\n  Field,\n  FieldLabel,\n  FieldInput,\n  VisuallyHidden,\n} from '@strapi/design-system';\nimport { auth, useNotification, useAppInfo, usePersistentState } from '@strapi/helper-plugin';\nimport { Cross } from '@strapi/icons';\nimport { Formik, Form } from 'formik';\nimport { useIntl } from 'react-intl';\nimport { useMutation } from 'react-query';\nimport styled, { useTheme } from 'styled-components';\nimport * as yup from 'yup';\n\nconst FieldWrapper = styled(Field)`\n  height: ${32 / 16}rem;\n  width: ${32 / 16}rem;\n\n  > label,\n  ~ input {\n    display: block;\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n  }\n\n  > label {\n    color: inherit;\n    cursor: pointer;\n    padding: ${({ theme }) => theme.spaces[2]};\n    text-align: center;\n    vertical-align: middle;\n  }\n\n  &:hover,\n  &:focus-within {\n    background-color: ${({ theme }) => theme.colors.neutral0};\n  }\n\n  &:active,\n  &.selected {\n    color: ${({ theme }) => theme.colors.primary700};\n    background-color: ${({ theme }) => theme.colors.neutral0};\n    border-color: ${({ theme }) => theme.colors.primary700};\n  }\n`;\n\nconst delays = {\n  postResponse: 90 * 24 * 60 * 60 * 1000, // 90 days in ms\n  postFirstDismissal: 7 * 24 * 60 * 60 * 1000, // 7 days in ms\n  postSubsequentDismissal: 90 * 24 * 60 * 60 * 1000, // 90 days in ms\n  display: 5 * 60 * 1000, // 5 minutes in ms\n};\n\nconst ratingArray = [...Array(11).keys()];\n\nconst checkIfShouldShowSurvey = (settings: NpsSurveySettings) => {\n  const { enabled, lastResponseDate, firstDismissalDate, lastDismissalDate } = settings;\n\n  // This function goes through all the cases where we'd want to not show the survey:\n  // 1. If the survey is disabled by strapi, abort mission, don't bother checking the other settings.\n  // 2. If the survey is disabled by user, abort mission, don't bother checking the other settings.\n  // 3. If the user has already responded to the survey, check if enough time has passed since the last response.\n  // 4. If the user has dismissed the survey twice or more before, check if enough time has passed since the last dismissal.\n  // 5. If the user has only dismissed the survey once before, check if enough time has passed since the first dismissal.\n  // If none of these cases check out, then we show the survey.\n  // Note that submitting a response resets the dismissal counts.\n  // Checks 4 and 5 should not be reversed, since the first dismissal will also exist if the user has dismissed the survey twice or more before.\n\n  // For users who had created an account before the NPS feature was introduced,\n  // we assume that they would have enabled the NPS feature if they had the chance.\n\n  // Global strapi disable for NSP.\n  if (window.strapi.flags.nps === false) {\n    return false;\n  }\n\n  // User chose not to enable the NPS feature when signing up\n  if (enabled === false) {\n    return false;\n  }\n\n  // The user has already responded to the survey\n  if (lastResponseDate) {\n    const timeSinceLastResponse = Date.now() - new Date(lastResponseDate).getTime();\n\n    if (timeSinceLastResponse >= delays.postResponse) {\n      return true;\n    }\n\n    return false;\n  }\n\n  // The user has dismissed the survey twice or more before\n  if (lastDismissalDate) {\n    const timeSinceLastDismissal = Date.now() - new Date(lastDismissalDate).getTime();\n\n    if (timeSinceLastDismissal >= delays.postSubsequentDismissal) {\n      return true;\n    }\n\n    return false;\n  }\n\n  // The user has only dismissed the survey once before\n  if (firstDismissalDate) {\n    const timeSinceFirstDismissal = Date.now() - new Date(firstDismissalDate).getTime();\n\n    if (timeSinceFirstDismissal >= delays.postFirstDismissal) {\n      return true;\n    }\n\n    return false;\n  }\n\n  // The user has not interacted with the survey before\n  return true;\n};\n\nconst NpsSurvey = () => {\n  const theme = useTheme();\n  const { formatMessage } = useIntl();\n  const { npsSurveySettings, setNpsSurveySettings } = useNpsSurveySettings();\n  const [isFeedbackResponse, setIsFeedbackResponse] = React.useState(false);\n  const toggleNotification = useNotification();\n  const { currentEnvironment, strapiVersion } = useAppInfo();\n\n  interface NpsSurveyMutationBody {\n    email: string;\n    rating: number | null;\n    comment: string;\n    environment?: string;\n    version?: string;\n    license: 'Enterprise' | 'Community';\n  }\n\n  const { mutate, isLoading } = useMutation<unknown, unknown, NpsSurveyMutationBody>(\n    async (form) => {\n      const res = await fetch('https://analytics.strapi.io/submit-nps', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(form),\n      });\n\n      if (!res.ok) {\n        throw new Error('Failed to submit NPS survey');\n      }\n\n      return res;\n    },\n    {\n      onSuccess() {\n        setNpsSurveySettings((settings) => ({\n          ...settings,\n          lastResponseDate: new Date().toString(),\n          firstDismissalDate: null,\n          lastDismissalDate: null,\n        }));\n        setIsFeedbackResponse(true);\n        // Thank you message displayed in the banner should disappear after few seconds.\n        setTimeout(() => {\n          setSurveyIsShown(false);\n        }, 3000);\n      },\n      onError() {\n        toggleNotification({\n          type: 'warning',\n          message: formatMessage({ id: 'notification.error', defaultMessage: 'An error occurred' }),\n        });\n      },\n    }\n  );\n\n  // Only check on first render if the survey should be shown\n  const [surveyIsShown, setSurveyIsShown] = React.useState(\n    checkIfShouldShowSurvey(npsSurveySettings)\n  );\n\n  // Set a cooldown to show the survey when session begins\n  const [displaySurvey, setDisplaySurvey] = React.useState(false);\n\n  React.useEffect(() => {\n    const displayTime = setTimeout(() => {\n      setDisplaySurvey(true);\n    }, delays.display);\n\n    return () => {\n      clearTimeout(displayTime);\n    };\n  }, []);\n\n  if (!displaySurvey) {\n    return null;\n  }\n\n  if (!surveyIsShown) {\n    return null;\n  }\n\n  const handleSubmitResponse = ({\n    npsSurveyRating,\n    npsSurveyFeedback,\n  }: {\n    npsSurveyRating: NpsSurveyMutationBody['rating'];\n    npsSurveyFeedback: NpsSurveyMutationBody['comment'];\n  }) => {\n    const userInfo = auth.getUserInfo();\n    mutate({\n      email: typeof userInfo === 'object' && userInfo !== null ? userInfo.email : '',\n      rating: npsSurveyRating,\n      comment: npsSurveyFeedback,\n      environment: currentEnvironment,\n      version: strapiVersion ?? undefined,\n      license: window.strapi.projectType,\n    });\n  };\n\n  const handleDismiss = () => {\n    setNpsSurveySettings((settings) => {\n      const nextSettings = {\n        ...settings,\n        lastResponseDate: null,\n      };\n\n      if (settings.firstDismissalDate) {\n        // If the user dismisses the survey for the second time\n        nextSettings.lastDismissalDate = new Date().toString();\n      } else {\n        // If the user dismisses the survey for the first time\n        nextSettings.firstDismissalDate = new Date().toString();\n      }\n\n      return nextSettings;\n    });\n\n    setSurveyIsShown(false);\n  };\n\n  return (\n    <Portal>\n      <Formik\n        initialValues={{ npsSurveyFeedback: '', npsSurveyRating: null }}\n        onSubmit={handleSubmitResponse}\n        validationSchema={yup.object({\n          npsSurveyFeedback: yup.string(),\n          npsSurveyRating: yup.number().required(),\n        })}\n      >\n        {({ values, handleChange, setFieldValue }) => (\n          <Form name=\"npsSurveyForm\">\n            <Flex\n              hasRadius\n              direction=\"column\"\n              padding={4}\n              borderColor=\"primary200\"\n              background=\"neutral0\"\n              shadow=\"popupShadow\"\n              position=\"fixed\"\n              bottom={0}\n              left=\"50%\"\n              transform=\"translateX(-50%)\"\n              zIndex={theme.zIndices[2]}\n              width=\"50%\"\n            >\n              {isFeedbackResponse ? (\n                <Typography fontWeight=\"semiBold\">\n                  {formatMessage({\n                    id: 'app.components.NpsSurvey.feedback-response',\n                    defaultMessage: 'Thank you very much for your feedback!',\n                  })}\n                </Typography>\n              ) : (\n                <Box as=\"fieldset\" width=\"100%\">\n                  <Flex justifyContent=\"space-between\" width=\"100%\">\n                    <Box marginLeft=\"auto\" marginRight=\"auto\">\n                      <Typography fontWeight=\"semiBold\" as=\"legend\">\n                        {formatMessage({\n                          id: 'app.components.NpsSurvey.banner-title',\n                          defaultMessage:\n                            'How likely are you to recommend Strapi to a friend or colleague?',\n                        })}\n                      </Typography>\n                    </Box>\n                    <IconButton\n                      onClick={handleDismiss}\n                      aria-label={formatMessage({\n                        id: 'app.components.NpsSurvey.dismiss-survey-label',\n                        defaultMessage: 'Dismiss survey',\n                      })}\n                      icon={<Cross />}\n                    />\n                  </Flex>\n                  <Flex gap={2} marginTop={2} marginBottom={2} justifyContent=\"center\">\n                    <Typography variant=\"pi\" textColor=\"neutral600\">\n                      {formatMessage({\n                        id: 'app.components.NpsSurvey.no-recommendation',\n                        defaultMessage: 'Not at all likely',\n                      })}\n                    </Typography>\n                    {ratingArray.map((number) => {\n                      return (\n                        <FieldWrapper\n                          key={number}\n                          className={values.npsSurveyRating === number ? 'selected' : undefined} // \"selected\" class added when child radio button is checked\n                          hasRadius\n                          background=\"primary100\"\n                          borderColor=\"primary200\"\n                          color=\"primary600\"\n                          position=\"relative\"\n                          cursor=\"pointer\"\n                        >\n                          <FieldLabel htmlFor={`nps-survey-rating-${number}-input`}>\n                            <VisuallyHidden>\n                              <FieldInput\n                                type=\"radio\"\n                                id={`nps-survey-rating-${number}-input`}\n                                name=\"npsSurveyRating\"\n                                checked={values.npsSurveyRating === number}\n                                onChange={(e) =>\n                                  setFieldValue('npsSurveyRating', parseInt(e.target.value, 10))\n                                }\n                                value={number}\n                              />\n                            </VisuallyHidden>\n                            {number}\n                          </FieldLabel>\n                        </FieldWrapper>\n                      );\n                    })}\n                    <Typography variant=\"pi\" textColor=\"neutral600\">\n                      {formatMessage({\n                        id: 'app.components.NpsSurvey.happy-to-recommend',\n                        defaultMessage: 'Extremely likely',\n                      })}\n                    </Typography>\n                  </Flex>\n                  {values.npsSurveyRating !== null && (\n                    <Flex direction=\"column\">\n                      <Box marginTop={2}>\n                        <FieldLabel htmlFor=\"npsSurveyFeedback\" fontWeight=\"semiBold\" fontSize={2}>\n                          {formatMessage({\n                            id: 'app.components.NpsSurvey.feedback-question',\n                            defaultMessage: 'Do you have any suggestion for improvements?',\n                          })}\n                        </FieldLabel>\n                      </Box>\n                      <Box width=\"62%\" marginTop={3} marginBottom={4}>\n                        <Textarea\n                          id=\"npsSurveyFeedback\" // formik element attribute \"id\" should be same as the values key to work\n                          width=\"100%\"\n                          onChange={handleChange}\n                        >\n                          {values.npsSurveyFeedback}\n                        </Textarea>\n                      </Box>\n                      <Button marginBottom={2} type=\"submit\" loading={isLoading}>\n                        {formatMessage({\n                          id: 'app.components.NpsSurvey.submit-feedback',\n                          defaultMessage: 'Submit Feedback',\n                        })}\n                      </Button>\n                    </Flex>\n                  )}\n                </Box>\n              )}\n            </Flex>\n          </Form>\n        )}\n      </Formik>\n    </Portal>\n  );\n};\n\ninterface NpsSurveySettings {\n  enabled: boolean;\n  lastResponseDate: string | null;\n  firstDismissalDate: string | null;\n  lastDismissalDate: string | null;\n}\n\n/**\n * We exported to make it available during admin user registration.\n * Because we only enable the NPS for users who subscribe to the newsletter when signing up\n */\nfunction useNpsSurveySettings() {\n  const [npsSurveySettings, setNpsSurveySettings] = usePersistentState<NpsSurveySettings>(\n    'STRAPI_NPS_SURVEY_SETTINGS',\n    {\n      enabled: true,\n      lastResponseDate: null,\n      firstDismissalDate: null,\n      lastDismissalDate: null,\n    }\n  );\n\n  /**\n   * TODO: should this just be an array so we can alias the `usePersistentState` hook?\n   */\n  return { npsSurveySettings, setNpsSurveySettings };\n}\n\nexport { NpsSurvey, useNpsSurveySettings };\n","import * as React from 'react';\n\nimport {\n  Box,\n  Button,\n  Checkbox,\n  Flex,\n  Grid,\n  GridItem,\n  Main,\n  TextInput,\n  Typography,\n} from '@strapi/design-system';\nimport { Link } from '@strapi/design-system/v2';\nimport {\n  Form,\n  auth,\n  getYupInnerErrors,\n  translatedErrors,\n  useAPIErrorHandler,\n  useFetchClient,\n  useGuidedTour,\n  useNotification,\n  useQuery,\n  useTracking,\n} from '@strapi/helper-plugin';\nimport { Eye, EyeStriked } from '@strapi/icons';\nimport { Formik } from 'formik';\nimport omit from 'lodash/omit';\nimport { MessageDescriptor, useIntl } from 'react-intl';\nimport { useQuery as useReactQuery, useMutation } from 'react-query';\nimport { NavLink, Redirect, useHistory, useRouteMatch } from 'react-router-dom';\nimport styled from 'styled-components';\nimport * as yup from 'yup';\nimport { ValidationError } from 'yup';\n\nimport {\n  Register,\n  RegisterAdmin,\n  RegistrationInfo,\n} from '../../../../../shared/contracts/authentication';\nimport { useNpsSurveySettings } from '../../../components/NpsSurvey';\nimport { Logo } from '../../../components/UnauthenticatedLogo';\nimport { LayoutContent, UnauthenticatedLayout } from '../../../layouts/UnauthenticatedLayout';\nimport { AuthType } from '../constants';\n\nimport { FieldActionWrapper } from './FieldActionWrapper';\n\nimport type { AxiosError } from 'axios';\n\nconst REGISTER_USER_SCHEMA = yup.object().shape({\n  firstname: yup.string().trim().required(translatedErrors.required),\n  lastname: yup.string().nullable(),\n  password: yup\n    .string()\n    .min(8, translatedErrors.minLength)\n    .matches(/[a-z]/, 'components.Input.error.contain.lowercase')\n    .matches(/[A-Z]/, 'components.Input.error.contain.uppercase')\n    .matches(/\\d/, 'components.Input.error.contain.number')\n    .required(translatedErrors.required),\n  confirmPassword: yup\n    .string()\n    .oneOf([yup.ref('password'), null], 'components.Input.error.password.noMatch')\n    .required(translatedErrors.required),\n  registrationToken: yup.string().required(translatedErrors.required),\n});\n\nconst REGISTER_ADMIN_SCHEMA = yup.object().shape({\n  firstname: yup.string().trim().required(translatedErrors.required),\n  lastname: yup.string().nullable(),\n  password: yup\n    .string()\n    .min(8, translatedErrors.minLength)\n    .matches(/[a-z]/, 'components.Input.error.contain.lowercase')\n    .matches(/[A-Z]/, 'components.Input.error.contain.uppercase')\n    .matches(/\\d/, 'components.Input.error.contain.number')\n    .required(translatedErrors.required),\n  email: yup\n    .string()\n    .email(translatedErrors.email)\n    .strict()\n    .lowercase(translatedErrors.lowercase)\n    .required(translatedErrors.required),\n  confirmPassword: yup\n    .string()\n    .oneOf([yup.ref('password'), null], 'components.Input.error.password.noMatch')\n    .required(translatedErrors.required),\n});\n\ninterface RegisterProps {\n  hasAdmin?: boolean;\n}\n\nconst Register = ({ hasAdmin }: RegisterProps) => {\n  const toggleNotification = useNotification();\n  const { push } = useHistory();\n  const [passwordShown, setPasswordShown] = React.useState(false);\n  const [confirmPasswordShown, setConfirmPasswordShown] = React.useState(false);\n  const [submitCount, setSubmitCount] = React.useState(0);\n  const [apiError, setApiError] = React.useState<string>();\n  const { trackUsage } = useTracking();\n  const { formatMessage } = useIntl();\n  const { setSkipped } = useGuidedTour();\n  const query = useQuery();\n  const match = useRouteMatch<{ authType: Extract<AuthType, `register${string}`> }>(\n    '/auth/:authType'\n  );\n  const { formatAPIError } = useAPIErrorHandler();\n  const { get, post } = useFetchClient();\n  const { setNpsSurveySettings } = useNpsSurveySettings();\n\n  const registrationToken = query.get('registrationToken');\n\n  const { data: userInfo } = useReactQuery({\n    queryKey: ['admin', 'registration-info', registrationToken],\n    async queryFn() {\n      const {\n        data: { data },\n      } = await get<RegistrationInfo.Response>(`/admin/registration-info`, {\n        params: {\n          registrationToken,\n        },\n      });\n\n      return data;\n    },\n    enabled: !!registrationToken,\n    initialData: {},\n    onError(err: AxiosError<{ error: Exclude<RegistrationInfo.Response['errors'], undefined> }>) {\n      const message = formatAPIError(err);\n\n      toggleNotification({\n        type: 'warning',\n        message,\n      });\n\n      push(`/auth/oops?info=${encodeURIComponent(message)}`);\n    },\n  });\n\n  const registerAdminMutation = useMutation(\n    async (body: RegisterAdmin.Request['body'] & { news: boolean }) => {\n      const { news, ...restBody } = body;\n      const { data } = await post<RegisterAdmin.Response>('/admin/register-admin', restBody);\n\n      return { ...data.data, news };\n    },\n    {\n      onSuccess(data) {\n        const { token, user, news } = data;\n\n        auth.setToken(token, false);\n        auth.setUserInfo(user, false);\n\n        const { roles } = user;\n\n        if (roles) {\n          const isUserSuperAdmin = roles.find(({ code }) => code === 'strapi-super-admin');\n\n          if (isUserSuperAdmin) {\n            auth.set(false, 'GUIDED_TOUR_SKIPPED', true);\n            setSkipped(false);\n            trackUsage('didLaunchGuidedtour');\n          }\n        }\n\n        if (news) {\n          // Only enable EE survey if user accepted the newsletter\n          setNpsSurveySettings((s) => ({ ...s, enabled: true }));\n\n          push({\n            pathname: '/usecase',\n            search: `?hasAdmin=${true}`,\n          });\n        } else {\n          push('/');\n        }\n      },\n      onError(err: AxiosError<{ error: Exclude<RegisterAdmin.Response['errors'], undefined> }>) {\n        trackUsage('didNotCreateFirstAdmin');\n\n        const error = formatAPIError(err);\n        setApiError(error);\n      },\n    }\n  );\n\n  const registerUserMutation = useMutation(\n    async (body: Register.Request['body'] & { news: boolean }) => {\n      const { news, ...restBody } = body;\n      const { data } = await post<Register.Response>('/admin/register', restBody);\n\n      return { ...data.data, news };\n    },\n    {\n      onSuccess(data) {\n        const { token, user, news } = data;\n\n        auth.setToken(token, false);\n        auth.setUserInfo(user, false);\n\n        if (news) {\n          // Only enable EE survey if user accepted the newsletter\n          setNpsSurveySettings((s) => ({ ...s, enabled: true }));\n\n          push({\n            pathname: '/usecase',\n            search: `?hasAdmin=${hasAdmin}`,\n          });\n        } else {\n          push('/');\n        }\n      },\n      onError(err: AxiosError<{ error: Exclude<RegisterAdmin.Response['errors'], undefined> }>) {\n        trackUsage('didNotCreateFirstAdmin');\n\n        const error = formatAPIError(err);\n        setApiError(error);\n      },\n    }\n  );\n\n  if (\n    !match ||\n    (match.params.authType !== 'register' && match.params.authType !== 'register-admin')\n  ) {\n    return <Redirect to=\"/\" />;\n  }\n\n  const isAdminRegistration = match.params.authType === 'register-admin';\n\n  const schema = isAdminRegistration ? REGISTER_ADMIN_SCHEMA : REGISTER_USER_SCHEMA;\n\n  return (\n    <UnauthenticatedLayout>\n      <LayoutContent>\n        <Flex direction=\"column\" alignItems=\"center\" gap={3}>\n          <Logo />\n\n          <Typography as=\"h1\" variant=\"alpha\" textAlign=\"center\">\n            {formatMessage({\n              id: 'Auth.form.welcome.title',\n              defaultMessage: 'Welcome',\n            })}\n          </Typography>\n          <Typography variant=\"epsilon\" textColor=\"neutral600\" textAlign=\"center\">\n            {formatMessage({\n              id: 'Auth.form.register.subtitle',\n              defaultMessage:\n                'Credentials are only used to authenticate in Strapi. All saved data will be stored in your database.',\n            })}\n          </Typography>\n          {apiError ? (\n            <Typography id=\"global-form-error\" role=\"alert\" tabIndex={-1} textColor=\"danger600\">\n              {apiError}\n            </Typography>\n          ) : null}\n        </Flex>\n        <Formik\n          enableReinitialize\n          initialValues={{\n            firstname: userInfo?.firstname || '',\n            lastname: userInfo?.lastname || '',\n            email: userInfo?.email || '',\n            password: '',\n            confirmPassword: '',\n            registrationToken: registrationToken || undefined,\n            news: false,\n          }}\n          onSubmit={async (data, formik) => {\n            const normalizedData = normalizeData(data);\n\n            try {\n              await schema.validate(normalizedData, { abortEarly: false });\n\n              if (submitCount > 0 && isAdminRegistration) {\n                trackUsage('didSubmitWithErrorsFirstAdmin', { count: submitCount.toString() });\n              }\n\n              if (normalizedData.registrationToken) {\n                registerUserMutation.mutate({\n                  userInfo: omit(normalizedData, [\n                    'registrationToken',\n                    'confirmPassword',\n                    'email',\n                    'news',\n                  ]),\n                  registrationToken: normalizedData.registrationToken,\n                  news: normalizedData.news,\n                });\n              } else {\n                registerAdminMutation.mutate(\n                  omit(normalizedData, ['registrationToken', 'confirmPassword'])\n                );\n              }\n            } catch (err) {\n              if (err instanceof ValidationError) {\n                const errors = getYupInnerErrors(err);\n\n                formik.setErrors(errors);\n              }\n              setSubmitCount(submitCount + 1);\n            }\n          }}\n          validateOnChange={false}\n        >\n          {({ values, errors, handleChange }) => {\n            return (\n              <Form>\n                <Main>\n                  <Flex direction=\"column\" alignItems=\"stretch\" gap={6} marginTop={7}>\n                    <Grid gap={4}>\n                      <GridItem col={6}>\n                        <TextInput\n                          name=\"firstname\"\n                          required\n                          value={values.firstname}\n                          error={\n                            errors.firstname\n                              ? formatMessage(errors.firstname as MessageDescriptor)\n                              : undefined\n                          }\n                          onChange={handleChange}\n                          label={formatMessage({\n                            id: 'Auth.form.firstname.label',\n                            defaultMessage: 'Firstname',\n                          })}\n                        />\n                      </GridItem>\n                      <GridItem col={6}>\n                        <TextInput\n                          name=\"lastname\"\n                          value={values.lastname}\n                          onChange={handleChange}\n                          label={formatMessage({\n                            id: 'Auth.form.lastname.label',\n                            defaultMessage: 'Lastname',\n                          })}\n                        />\n                      </GridItem>\n                    </Grid>\n                    <TextInput\n                      name=\"email\"\n                      disabled={!isAdminRegistration}\n                      value={values.email}\n                      onChange={handleChange}\n                      error={\n                        errors.email ? formatMessage(errors.email as MessageDescriptor) : undefined\n                      }\n                      required\n                      label={formatMessage({\n                        id: 'Auth.form.email.label',\n                        defaultMessage: 'Email',\n                      })}\n                      type=\"email\"\n                    />\n                    <PasswordInput\n                      name=\"password\"\n                      onChange={handleChange}\n                      value={values.password}\n                      error={\n                        errors.password\n                          ? formatMessage(errors.password as MessageDescriptor)\n                          : undefined\n                      }\n                      endAction={\n                        <FieldActionWrapper\n                          onClick={(e) => {\n                            e.preventDefault();\n                            setPasswordShown((prev) => !prev);\n                          }}\n                          label={formatMessage(\n                            passwordShown\n                              ? {\n                                  id: 'Auth.form.password.show-password',\n                                  defaultMessage: 'Show password',\n                                }\n                              : {\n                                  id: 'Auth.form.password.hide-password',\n                                  defaultMessage: 'Hide password',\n                                }\n                          )}\n                        >\n                          {passwordShown ? <Eye /> : <EyeStriked />}\n                        </FieldActionWrapper>\n                      }\n                      hint={formatMessage({\n                        id: 'Auth.form.password.hint',\n                        defaultMessage:\n                          'Must be at least 8 characters, 1 uppercase, 1 lowercase & 1 number',\n                      })}\n                      required\n                      label={formatMessage({\n                        id: 'global.password',\n                        defaultMessage: 'Password',\n                      })}\n                      type={passwordShown ? 'text' : 'password'}\n                    />\n                    <PasswordInput\n                      name=\"confirmPassword\"\n                      onChange={handleChange}\n                      value={values.confirmPassword}\n                      error={\n                        errors.confirmPassword\n                          ? formatMessage(errors.confirmPassword as MessageDescriptor)\n                          : undefined\n                      }\n                      endAction={\n                        <FieldActionWrapper\n                          onClick={(e) => {\n                            e.preventDefault();\n                            setConfirmPasswordShown((prev) => !prev);\n                          }}\n                          label={formatMessage(\n                            confirmPasswordShown\n                              ? {\n                                  id: 'Auth.form.password.show-password',\n                                  defaultMessage: 'Show password',\n                                }\n                              : {\n                                  id: 'Auth.form.password.hide-password',\n                                  defaultMessage: 'Hide password',\n                                }\n                          )}\n                        >\n                          {confirmPasswordShown ? <Eye /> : <EyeStriked />}\n                        </FieldActionWrapper>\n                      }\n                      required\n                      label={formatMessage({\n                        id: 'Auth.form.confirmPassword.label',\n                        defaultMessage: 'Confirm Password',\n                      })}\n                      type={confirmPasswordShown ? 'text' : 'password'}\n                    />\n                    <Checkbox\n                      onValueChange={(checked) => {\n                        handleChange({ target: { value: checked, name: 'news' } });\n                      }}\n                      value={values.news}\n                      name=\"news\"\n                      aria-label=\"news\"\n                    >\n                      {formatMessage(\n                        {\n                          id: 'Auth.form.register.news.label',\n                          defaultMessage:\n                            'Keep me updated about new features & upcoming improvements (by doing this you accept the {terms} and the {policy}).',\n                        },\n                        {\n                          terms: (\n                            <A target=\"_blank\" href=\"https://strapi.io/terms\" rel=\"noreferrer\">\n                              {formatMessage({\n                                id: 'Auth.privacy-policy-agreement.terms',\n                                defaultMessage: 'terms',\n                              })}\n                            </A>\n                          ),\n                          policy: (\n                            <A target=\"_blank\" href=\"https://strapi.io/privacy\" rel=\"noreferrer\">\n                              {formatMessage({\n                                id: 'Auth.privacy-policy-agreement.policy',\n                                defaultMessage: 'policy',\n                              })}\n                            </A>\n                          ),\n                        }\n                      )}\n                    </Checkbox>\n                    <Button fullWidth size=\"L\" type=\"submit\">\n                      {formatMessage({\n                        id: 'Auth.form.button.register',\n                        defaultMessage: \"Let's start\",\n                      })}\n                    </Button>\n                  </Flex>\n                </Main>\n              </Form>\n            );\n          }}\n        </Formik>\n        {match?.params.authType === 'register' && (\n          <Box paddingTop={4}>\n            <Flex justifyContent=\"center\">\n              {/* @ts-expect-error ‚Äì error with inferring the props from the as component */}\n              <Link as={NavLink} to=\"/auth/login\">\n                {formatMessage({\n                  id: 'Auth.link.signin.account',\n                  defaultMessage: 'Already have an account?',\n                })}\n              </Link>\n            </Flex>\n          </Box>\n        )}\n      </LayoutContent>\n    </UnauthenticatedLayout>\n  );\n};\n\ninterface RegisterFormValues {\n  firstname: string;\n  lastname: string;\n  email: string;\n  password: string;\n  confirmPassword: string;\n  registrationToken: string | undefined;\n  news: boolean;\n}\n\ntype StringKeys<T> = {\n  [K in keyof T]: T[K] extends string | undefined ? K : never;\n}[keyof T];\n\n/**\n * @description Trims all values but the password & sets lastName to null if it's a falsey value.\n */\nfunction normalizeData(data: RegisterFormValues) {\n  return Object.entries(data).reduce(\n    (acc, [key, value]) => {\n      type PasswordKeys = Extract<keyof RegisterFormValues, 'password' | 'confirmPassword'>;\n      type RegisterFormStringValues = Exclude<\n        keyof Pick<RegisterFormValues, StringKeys<RegisterFormValues>>,\n        PasswordKeys\n      >;\n\n      if (!['password', 'confirmPassword'].includes(key) && typeof value === 'string') {\n        acc[key as RegisterFormStringValues] = value.trim();\n\n        if (key === 'lastname') {\n          acc[key] = value || undefined;\n        }\n      } else {\n        acc[key as PasswordKeys] = value;\n      }\n\n      return acc;\n    },\n    {} as {\n      firstname: string;\n      lastname: string | undefined;\n      email: string;\n      password: string;\n      confirmPassword: string;\n      registrationToken: string | undefined;\n      news: boolean;\n    }\n  );\n}\n\nconst A = styled.a`\n  color: ${({ theme }) => theme.colors.primary600};\n`;\n\nconst PasswordInput = styled(TextInput)`\n  ::-ms-reveal {\n    display: none;\n  }\n`;\n\nexport { Register };\nexport type { RegisterProps };\n","import * as React from 'react';\n\nimport { Box, Button, Flex, Main, TextInput, Typography } from '@strapi/design-system';\nimport { Link } from '@strapi/design-system/v2';\nimport { Form, auth, translatedErrors, useFetchClient, useQuery } from '@strapi/helper-plugin';\nimport { Eye, EyeStriked } from '@strapi/icons';\nimport { Formik } from 'formik';\nimport { useIntl } from 'react-intl';\nimport { useMutation } from 'react-query';\nimport { NavLink, useHistory } from 'react-router-dom';\nimport styled from 'styled-components';\nimport * as yup from 'yup';\n\nimport { ResetPassword } from '../../../../../shared/contracts/authentication';\nimport { Logo } from '../../../components/UnauthenticatedLogo';\nimport {\n  Column,\n  LayoutContent,\n  UnauthenticatedLayout,\n} from '../../../layouts/UnauthenticatedLayout';\n\nimport { FieldActionWrapper } from './FieldActionWrapper';\n\nconst RESET_PASSWORD_SCHEMA = yup.object().shape({\n  password: yup\n    .string()\n    .min(8, translatedErrors.minLength)\n    .matches(/[a-z]/, 'components.Input.error.contain.lowercase')\n    .matches(/[A-Z]/, 'components.Input.error.contain.uppercase')\n    .matches(/\\d/, 'components.Input.error.contain.number')\n    .required(translatedErrors.required),\n  confirmPassword: yup\n    .string()\n    .oneOf([yup.ref('password'), null], 'components.Input.error.password.noMatch')\n    .required(translatedErrors.required),\n});\n\nconst ResetPassword = () => {\n  const [passwordShown, setPasswordShown] = React.useState(false);\n  const [confirmPasswordShown, setConfirmPasswordShown] = React.useState(false);\n  const { formatMessage } = useIntl();\n  const { post } = useFetchClient();\n  const { push } = useHistory();\n  const query = useQuery();\n\n  const { mutate, isError } = useMutation(\n    async (body: Pick<ResetPassword.Request['body'], 'password'>) => {\n      const {\n        data: { data },\n      } = await post<ResetPassword.Response>('/admin/reset-password', {\n        ...body,\n        resetPasswordToken: query.get('code'),\n      });\n\n      return data;\n    },\n    {\n      onSuccess(data) {\n        if (data) {\n          const { token, user } = data;\n          auth.setToken(token, false);\n          auth.setUserInfo(user, false);\n\n          // Redirect to the homePage\n          push('/');\n        }\n      },\n    }\n  );\n\n  return (\n    <UnauthenticatedLayout>\n      <Main>\n        <LayoutContent>\n          <Column>\n            <Logo />\n            <Box paddingTop={6} paddingBottom={7}>\n              <Typography as=\"h1\" variant=\"alpha\">\n                {formatMessage({\n                  id: 'global.reset-password',\n                  defaultMessage: 'Reset password',\n                })}\n              </Typography>\n            </Box>\n            {isError ? (\n              <Typography id=\"global-form-error\" role=\"alert\" tabIndex={-1} textColor=\"danger600\">\n                {formatMessage({\n                  id: 'notification.error',\n                  defaultMessage: 'An error occurred',\n                })}\n              </Typography>\n            ) : null}\n          </Column>\n          <Formik\n            enableReinitialize\n            initialValues={{\n              password: '',\n              confirmPassword: '',\n            }}\n            onSubmit={(values) => {\n              mutate({ password: values.password });\n            }}\n            validationSchema={RESET_PASSWORD_SCHEMA}\n            validateOnChange={false}\n          >\n            {({ values, errors, handleChange }) => (\n              <Form>\n                <Flex direction=\"column\" alignItems=\"stretch\" gap={6}>\n                  <PasswordInput\n                    name=\"password\"\n                    onChange={handleChange}\n                    value={values.password}\n                    error={\n                      errors.password\n                        ? formatMessage(\n                            {\n                              id: errors.password,\n                              defaultMessage: 'This field is required.',\n                            },\n                            {\n                              min: 8,\n                            }\n                          )\n                        : undefined\n                    }\n                    endAction={\n                      <FieldActionWrapper\n                        onClick={(e) => {\n                          e.preventDefault();\n                          setPasswordShown((prev) => !prev);\n                        }}\n                        label={formatMessage(\n                          passwordShown\n                            ? {\n                                id: 'Auth.form.password.show-password',\n                                defaultMessage: 'Show password',\n                              }\n                            : {\n                                id: 'Auth.form.password.hide-password',\n                                defaultMessage: 'Hide password',\n                              }\n                        )}\n                      >\n                        {passwordShown ? <Eye /> : <EyeStriked />}\n                      </FieldActionWrapper>\n                    }\n                    hint={formatMessage({\n                      id: 'Auth.form.password.hint',\n                      defaultMessage:\n                        'Password must contain at least 8 characters, 1 uppercase, 1 lowercase and 1 number',\n                    })}\n                    required\n                    label={formatMessage({\n                      id: 'global.password',\n                      defaultMessage: 'Password',\n                    })}\n                    type={passwordShown ? 'text' : 'password'}\n                  />\n                  <PasswordInput\n                    name=\"confirmPassword\"\n                    onChange={handleChange}\n                    value={values.confirmPassword}\n                    error={\n                      errors.confirmPassword\n                        ? formatMessage({\n                            id: errors.confirmPassword,\n                            defaultMessage: 'This value is required.',\n                          })\n                        : undefined\n                    }\n                    endAction={\n                      <FieldActionWrapper\n                        onClick={(e) => {\n                          e.preventDefault();\n                          setConfirmPasswordShown((prev) => !prev);\n                        }}\n                        label={formatMessage(\n                          passwordShown\n                            ? {\n                                id: 'Auth.form.password.show-password',\n                                defaultMessage: 'Show password',\n                              }\n                            : {\n                                id: 'Auth.form.password.hide-password',\n                                defaultMessage: 'Hide password',\n                              }\n                        )}\n                      >\n                        {confirmPasswordShown ? <Eye /> : <EyeStriked />}\n                      </FieldActionWrapper>\n                    }\n                    required\n                    label={formatMessage({\n                      id: 'Auth.form.confirmPassword.label',\n                      defaultMessage: 'Confirm Password',\n                    })}\n                    type={confirmPasswordShown ? 'text' : 'password'}\n                  />\n                  <Button fullWidth type=\"submit\">\n                    {formatMessage({\n                      id: 'global.change-password',\n                      defaultMessage: 'Change password',\n                    })}\n                  </Button>\n                </Flex>\n              </Form>\n            )}\n          </Formik>\n        </LayoutContent>\n        <Flex justifyContent=\"center\">\n          <Box paddingTop={4}>\n            {/* @ts-expect-error ‚Äì error with inferring the props from the as component */}\n            <Link as={NavLink} to=\"/auth/login\">\n              {formatMessage({ id: 'Auth.link.ready', defaultMessage: 'Ready to sign in?' })}\n            </Link>\n          </Box>\n        </Flex>\n      </Main>\n    </UnauthenticatedLayout>\n  );\n};\n\nconst PasswordInput = styled(TextInput)`\n  ::-ms-reveal {\n    display: none;\n  }\n`;\n\nexport { ResetPassword };\n","import type { ComponentType } from 'react';\n\nimport { ForgotPassword } from './components/ForgotPassword';\nimport { ForgotPasswordSuccess } from './components/ForgotPasswordSuccess';\nimport { Oops } from './components/Oops';\nimport { Register, RegisterProps } from './components/Register';\nimport { ResetPassword } from './components/ResetPassword';\n\nexport type AuthType =\n  | 'login'\n  | 'register'\n  | 'register-admin'\n  | 'forgot-password'\n  | 'reset-password'\n  | 'forgot-password-success'\n  | 'oops'\n  | 'providers';\n\nexport type FormDictionary = Record<AuthType, ComponentType | ComponentType<RegisterProps>>;\n\nexport const FORMS = {\n  'forgot-password': ForgotPassword,\n  'forgot-password-success': ForgotPasswordSuccess,\n  // the `Component` attribute is set after all forms and CE/EE components are loaded, but since we\n  // are here outside of a React component we can not use the hook directly\n  login: () => null,\n  oops: Oops,\n  register: Register,\n  'register-admin': Register,\n  'reset-password': ResetPassword,\n  providers: () => null,\n} satisfies FormDictionary;\n","import { auth } from '@strapi/helper-plugin';\nimport { Redirect, useHistory, useRouteMatch } from 'react-router-dom';\n\nimport { useEnterprise } from '../../hooks/useEnterprise';\n\nimport { Login as LoginCE } from './components/Login';\nimport { AuthType, FORMS, FormDictionary } from './constants';\n\n/* -------------------------------------------------------------------------------------------------\n * AuthPage\n * -----------------------------------------------------------------------------------------------*/\n\ninterface AuthPageProps {\n  hasAdmin: boolean;\n}\n\nconst AuthPage = ({ hasAdmin }: AuthPageProps) => {\n  const {\n    location: { search },\n  } = useHistory();\n  const match = useRouteMatch<{ authType: AuthType }>('/auth/:authType');\n  const authType = match?.params.authType;\n  const Login = useEnterprise(\n    LoginCE,\n    async () => (await import('../../../../ee/admin/src/pages/AuthPage/components/Login')).LoginEE\n  );\n  const forms = useEnterprise<FormDictionary, Partial<FormDictionary>>(\n    FORMS,\n    async () => (await import('../../../../ee/admin/src/pages/AuthPage/constants')).FORMS,\n    {\n      combine(ceForms, eeForms) {\n        return {\n          ...ceForms,\n          ...eeForms,\n        };\n      },\n      defaultValue: FORMS,\n    }\n  );\n\n  if (!authType || !forms) {\n    return <Redirect to=\"/\" />;\n  }\n\n  const Component = forms[authType];\n\n  // Redirect the user to the login page if\n  // the endpoint does not exist or\n  // there is already an admin user oo\n  // the user is already logged in\n  if (!Component || (hasAdmin && authType === 'register-admin') || auth.getToken()) {\n    return <Redirect to=\"/\" />;\n  }\n\n  // Redirect the user to the register-admin if it is the first user\n  if (!hasAdmin && authType !== 'register-admin') {\n    return (\n      <Redirect\n        to={{\n          pathname: '/auth/register-admin',\n          // Forward the `?redirectTo` from /auth/login\n          // /abc => /auth/login?redirectTo=%2Fabc => /auth/register-admin?redirectTo=%2Fabc\n          search,\n        }}\n      />\n    );\n  }\n\n  if (Login && authType === 'login') {\n    // Assign the component to render for the login form\n    return <Login />;\n  } else if (authType === 'login' && !Login) {\n    // block rendering until the Login EE component is fully loaded\n    return null;\n  }\n\n  return <Component hasAdmin={hasAdmin} />;\n};\n\nexport { AuthPage };\nexport type { AuthPageProps };\n","/**\n * NotFoundPage\n *\n * This is the page we show when the user visits a url that doesn't have a route\n *\n */\nimport {\n  ContentLayout,\n  EmptyStateLayout,\n  HeaderLayout,\n  LinkButton,\n  Main,\n} from '@strapi/design-system';\nimport { useFocusWhenNavigate } from '@strapi/helper-plugin';\nimport { ArrowRight, EmptyPictures } from '@strapi/icons';\nimport { useIntl } from 'react-intl';\n\nexport const NotFoundPage = () => {\n  const { formatMessage } = useIntl();\n  useFocusWhenNavigate();\n\n  return (\n    <Main labelledBy=\"title\">\n      <HeaderLayout\n        id=\"title\"\n        title={formatMessage({\n          id: 'content-manager.pageNotFound',\n          defaultMessage: 'Page not found',\n        })}\n      />\n      <ContentLayout>\n        <EmptyStateLayout\n          action={\n            <LinkButton variant=\"secondary\" endIcon={<ArrowRight />} to=\"/\">\n              {formatMessage({\n                id: 'app.components.NotFoundPage.back',\n                defaultMessage: 'Back to homepage',\n              })}\n            </LinkButton>\n          }\n          content={formatMessage({\n            id: 'app.page.not.found',\n            defaultMessage: \"Oops! We can't seem to find the page you're looging for...\",\n          })}\n          hasRadius\n          icon={<EmptyPictures width=\"10rem\" />}\n          shadow=\"tableShadow\"\n        />\n      </ContentLayout>\n    </Main>\n  );\n};\n","import * as React from 'react';\n\nimport {\n  Box,\n  Button,\n  Flex,\n  Main,\n  Option,\n  Select,\n  TextButton,\n  TextInput,\n  Typography,\n} from '@strapi/design-system';\nimport { auth, pxToRem, useFetchClient, useNotification } from '@strapi/helper-plugin';\nimport { parse } from 'qs';\nimport { useIntl } from 'react-intl';\nimport { useHistory } from 'react-router-dom';\nimport styled from 'styled-components';\n\nimport { Logo } from '../components/UnauthenticatedLogo';\nimport { LayoutContent, UnauthenticatedLayout } from '../layouts/UnauthenticatedLayout';\n\nexport const options = [\n  {\n    intlLabel: {\n      id: 'Usecase.front-end',\n      defaultMessage: 'Front-end developer',\n    },\n    value: 'front_end_developer',\n  },\n  {\n    intlLabel: {\n      id: 'Usecase.back-end',\n      defaultMessage: 'Back-end developer',\n    },\n    value: 'back_end_developer',\n  },\n  {\n    intlLabel: {\n      id: 'Usecase.full-stack',\n      defaultMessage: 'Full-stack developer',\n    },\n    value: 'full_stack_developer',\n  },\n  {\n    intlLabel: {\n      id: 'global.content-manager',\n      defaultMessage: 'Content Manager',\n    },\n    value: 'content_manager',\n  },\n  {\n    intlLabel: {\n      id: 'Usecase.content-creator',\n      defaultMessage: 'Content Creator',\n    },\n    value: 'content_creator',\n  },\n  {\n    intlLabel: {\n      id: 'Usecase.other',\n      defaultMessage: 'Other',\n    },\n    value: 'other',\n  },\n];\n\nconst TypographyCenter = styled(Typography)`\n  text-align: center;\n`;\n\nexport const UseCasePage = () => {\n  const toggleNotification = useNotification();\n  const { push, location } = useHistory();\n  const { formatMessage } = useIntl();\n  const [role, setRole] = React.useState<string | number | null>(null);\n  const [otherRole, setOtherRole] = React.useState('');\n  const { post } = useFetchClient();\n\n  const { firstname, email } = auth.get('userInfo') ?? {};\n  const { hasAdmin } = parse(location?.search, { ignoreQueryPrefix: true });\n  const isOther = role === 'other';\n\n  const handleSubmit = async (event: React.FormEvent, skipPersona: boolean) => {\n    event.preventDefault();\n    try {\n      await post('https://analytics.strapi.io/register', {\n        email,\n        username: firstname,\n        firstAdmin: Boolean(!hasAdmin),\n        persona: {\n          role: skipPersona ? undefined : role,\n          otherRole: skipPersona ? undefined : otherRole,\n        },\n      });\n\n      toggleNotification({\n        type: 'success',\n        message: {\n          id: 'Usecase.notification.success.project-created',\n          defaultMessage: 'Project has been successfully created',\n        },\n      });\n      push('/');\n    } catch (err) {\n      // Silent\n    }\n  };\n\n  return (\n    <UnauthenticatedLayout>\n      <Main labelledBy=\"usecase-title\">\n        <LayoutContent>\n          <form onSubmit={(e) => handleSubmit(e, false)}>\n            <Flex direction=\"column\" paddingBottom={7}>\n              <Logo />\n              <Box paddingTop={6} paddingBottom={1} width={pxToRem(250)}>\n                <TypographyCenter variant=\"alpha\" as=\"h1\" id=\"usecase-title\">\n                  {formatMessage({\n                    id: 'Usecase.title',\n                    defaultMessage: 'Tell us a bit more about yourself',\n                  })}\n                </TypographyCenter>\n              </Box>\n            </Flex>\n            <Flex direction=\"column\" alignItems=\"stretch\" gap={6}>\n              <Select\n                id=\"usecase\"\n                data-testid=\"usecase\"\n                label={formatMessage({\n                  id: 'Usecase.input.work-type',\n                  defaultMessage: 'What type of work do you do?',\n                })}\n                // onClear={() => setRole(null)}\n                // clearLabel={formatMessage({ id: 'clearLabel', defaultMessage: 'Clear' })}\n                onChange={(value) => setRole(value)}\n                value={role}\n              >\n                {options.map(({ intlLabel, value }) => (\n                  <Option key={value} value={value}>\n                    {formatMessage(intlLabel)}\n                  </Option>\n                ))}\n              </Select>\n              {isOther && (\n                <TextInput\n                  name=\"other\"\n                  label={formatMessage({ id: 'Usecase.other', defaultMessage: 'Other' })}\n                  value={otherRole}\n                  onChange={(e) => setOtherRole(e.target.value)}\n                  data-testid=\"other\"\n                />\n              )}\n              <Button type=\"submit\" size=\"L\" fullWidth disabled={!role}>\n                {formatMessage({ id: 'global.finish', defaultMessage: 'Finish' })}\n              </Button>\n            </Flex>\n          </form>\n        </LayoutContent>\n        <Flex justifyContent=\"center\">\n          <Box paddingTop={4}>\n            <TextButton onClick={(event) => handleSubmit(event, true)}>\n              {formatMessage({\n                id: 'Usecase.button.skip',\n                defaultMessage: 'Skip this question',\n              })}\n            </TextButton>\n          </Box>\n        </Flex>\n      </Main>\n    </UnauthenticatedLayout>\n  );\n};\n","/* eslint-disable check-file/filename-naming-convention */\n\nimport * as React from 'react';\n\nimport { LoadingIndicatorPage, MenuItem } from '@strapi/helper-plugin';\nimport { Route } from 'react-router-dom';\n\ninterface LazyCompoProps {\n  loadComponent: Required<MenuItem>['Component'];\n}\n\nconst LazyCompo = ({ loadComponent }: LazyCompoProps) => {\n  const [Compo, setCompo] = React.useState<React.ComponentType | null>(null);\n\n  React.useEffect(() => {\n    const loadCompo = async () => {\n      try {\n        const loadedCompo = await loadComponent();\n\n        // TODO the loaded component provided can currently come from a default or named export\n        // We will move the entire codebase to use named exports only\n        // Until then we support both cases with priority given to the existing default exports\n        if (typeof loadedCompo === 'function') {\n          setCompo(() => loadedCompo);\n        } else if (loadedCompo.default) {\n          setCompo(() => loadedCompo.default!);\n        }\n      } catch (err) {}\n    };\n\n    loadCompo();\n  }, [loadComponent]);\n\n  if (Compo) {\n    return <Compo />;\n  }\n\n  return <LoadingIndicatorPage />;\n};\n\nexport const createRoute = (\n  loadComponent: LazyCompoProps['loadComponent'],\n  to: MenuItem['to'],\n  exact: MenuItem['exact'] = false\n) => {\n  return (\n    <Route\n      render={() => <LazyCompo loadComponent={loadComponent} />}\n      key={to}\n      path={to}\n      exact={exact || false}\n    />\n  );\n};\n","/**\n *\n * App.js\n *\n */\n\nimport * as React from 'react';\n\nimport { SkipToContent } from '@strapi/design-system';\nimport {\n  auth,\n  LoadingIndicatorPage,\n  MenuItem,\n  prefixFileUrlWithBackendUrl,\n  TrackingProvider,\n  useAppInfo,\n  useFetchClient,\n  useNotification,\n} from '@strapi/helper-plugin';\nimport merge from 'lodash/merge';\nimport { useIntl } from 'react-intl';\nimport { useDispatch } from 'react-redux';\nimport { Route, Switch } from 'react-router-dom';\n\nimport { PrivateRoute } from './components/PrivateRoute';\nimport { ADMIN_PERMISSIONS_CE, ACTION_SET_ADMIN_PERMISSIONS } from './constants';\nimport { useConfiguration } from './contexts/configuration';\nimport { useEnterprise } from './hooks/useEnterprise';\nimport { AuthPage } from './pages/Auth/AuthPage';\nimport { NotFoundPage } from './pages/NotFoundPage';\nimport { UseCasePage } from './pages/UseCasePage';\nimport { createRoute } from './utils/createRoute';\n\ntype StrapiRoute = Pick<MenuItem, 'exact' | 'to'> & Required<Pick<MenuItem, 'Component'>>;\n\nconst ROUTES_CE: StrapiRoute[] | null = null;\n\nconst AuthenticatedApp = React.lazy(() =>\n  import('./components/AuthenticatedApp').then((mod) => ({ default: mod.AuthenticatedApp }))\n);\n\nexport const App = () => {\n  const adminPermissions = useEnterprise(\n    ADMIN_PERMISSIONS_CE,\n    async () => (await import('../../ee/admin/src/constants')).ADMIN_PERMISSIONS_EE,\n    {\n      combine(cePermissions, eePermissions) {\n        // the `settings` NS e.g. are deep nested objects, that need a deep merge\n        return merge({}, cePermissions, eePermissions);\n      },\n\n      defaultValue: ADMIN_PERMISSIONS_CE,\n    }\n  );\n  const routes = useEnterprise(\n    ROUTES_CE,\n    async () => (await import('../../ee/admin/src/constants')).ROUTES_EE,\n    {\n      defaultValue: [],\n    }\n  );\n  const toggleNotification = useNotification();\n  const { updateProjectSettings } = useConfiguration();\n  const { formatMessage } = useIntl();\n  const [{ isLoading, hasAdmin, uuid, deviceId }, setState] = React.useState({\n    isLoading: true,\n    deviceId: undefined,\n    hasAdmin: false,\n    uuid: false,\n  });\n  const dispatch = useDispatch();\n  const appInfo = useAppInfo();\n  const { get, post } = useFetchClient();\n\n  const authRoutes = React.useMemo(() => {\n    if (!routes) {\n      return null;\n    }\n\n    return routes.map(({ to, Component, exact }) => createRoute(Component, to, exact));\n  }, [routes]);\n\n  const [telemetryProperties, setTelemetryProperties] = React.useState(undefined);\n\n  React.useEffect(() => {\n    dispatch({ type: ACTION_SET_ADMIN_PERMISSIONS, payload: adminPermissions });\n  }, [adminPermissions, dispatch]);\n\n  React.useEffect(() => {\n    const currentToken = auth.getToken();\n\n    const renewToken = async () => {\n      try {\n        const {\n          data: {\n            data: { token },\n          },\n        } = await post('/admin/renew-token', { token: currentToken });\n        auth.updateToken(token);\n      } catch (err) {\n        // Refresh app\n        auth.clearAppStorage();\n        window.location.reload();\n      }\n    };\n\n    if (currentToken) {\n      renewToken();\n    }\n  }, [post]);\n\n  React.useEffect(() => {\n    const getData = async () => {\n      try {\n        const {\n          data: {\n            data: { hasAdmin, uuid, menuLogo, authLogo },\n          },\n        } = await get(`/admin/init`);\n\n        updateProjectSettings({\n          menuLogo: prefixFileUrlWithBackendUrl(menuLogo),\n          authLogo: prefixFileUrlWithBackendUrl(authLogo),\n        });\n\n        if (uuid) {\n          const {\n            data: { data: properties },\n          } = await get(`/admin/telemetry-properties`, {\n            // NOTE: needed because the interceptors of the fetchClient redirect to /login when receive a 401 and it would end up in an infinite loop when the user doesn't have a session.\n            validateStatus: (status) => status < 500,\n          });\n\n          setTelemetryProperties(properties);\n\n          try {\n            const event = 'didInitializeAdministration';\n            await post(\n              'https://analytics.strapi.io/api/v2/track',\n              {\n                // This event is anonymous\n                event,\n                userId: '',\n                deviceId,\n                eventPropeties: {},\n                userProperties: { environment: appInfo.currentEnvironment },\n                groupProperties: { ...properties, projectId: uuid },\n              },\n              {\n                headers: {\n                  'X-Strapi-Event': event,\n                },\n              }\n            );\n          } catch (e) {\n            // Silent.\n          }\n        }\n\n        setState({ isLoading: false, hasAdmin, uuid, deviceId });\n      } catch (err) {\n        toggleNotification({\n          type: 'warning',\n          message: { id: 'app.containers.App.notification.error.init' },\n        });\n      }\n    };\n\n    getData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [toggleNotification, updateProjectSettings]);\n\n  const trackingInfo = React.useMemo(\n    () => ({\n      uuid,\n      telemetryProperties,\n      deviceId,\n    }),\n    [uuid, telemetryProperties, deviceId]\n  );\n\n  if (isLoading) {\n    return <LoadingIndicatorPage />;\n  }\n\n  return (\n    <React.Suspense fallback={<LoadingIndicatorPage />}>\n      <SkipToContent>\n        {formatMessage({ id: 'skipToContent', defaultMessage: 'Skip to content' })}\n      </SkipToContent>\n      <TrackingProvider value={trackingInfo}>\n        <Switch>\n          {authRoutes}\n          <Route\n            path=\"/auth/:authType\"\n            render={(routerProps) => <AuthPage {...routerProps} hasAdmin={hasAdmin} />}\n            exact\n          />\n          <PrivateRoute path=\"/usecase\" component={UseCasePage} />\n          <PrivateRoute path=\"/\" component={AuthenticatedApp} />\n          <Route path=\"\" component={NotFoundPage} />\n        </Switch>\n      </TrackingProvider>\n    </React.Suspense>\n  );\n};\n","export default \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAwIiBoZWlnaHQ9IjgwMCIgdmlld0JveD0iMCAwIDgwMCA4MDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8cGF0aCBkPSJNMzkgMjgyYzAtMTE4IDAtMTc2LjkgMzYuNi0yMTMuNUMxMTIuMiAzMiAxNzEuMSAzMiAyODguOSAzMmgyMjEuMmMxMTcuOCAwIDE3Ni43IDAgMjEzLjMgMzYuNkM3NjAgMTA1LjIgNzYwIDE2NC4xIDc2MCAyODEuOXYyMjEuMmMwIDExNy44IDAgMTc2LjctMzYuNiAyMTMuM0M2ODYuOCA3NTMgNjI3LjkgNzUzIDUxMC4xIDc1M0gyODguOWMtMTE3LjggMC0xNzYuNyAwLTIxMy4zLTM2LjZDMzkgNjc5LjggMzkgNjIwLjkgMzkgNTAzLjFWMjgxLjlaIiBmaWxsPSIjNDk0NUZGIi8+CiAgICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTUzNi40IDI1MC43SDI5My43djEyMy44aDEyMy44djEyMy43aDEyMy44VjI1NS41YzAtMi42LTIuMi00LjgtNC45LTQuOFoiIGZpbGw9IiNmZmYiLz4KICAgIDxwYXRoIGZpbGw9IiNmZmYiIGQ9Ik00MTIuNyAzNzQuNWg0Ljh2NC44aC00Ljh6Ii8+CiAgICA8cGF0aCBkPSJNMjkzLjggMzc0LjVoMTE5YzIuNiAwIDQuOCAyLjEgNC44IDQuOHYxMTloLTExOWE0LjggNC44IDAgMCAxLTQuOC00Ljl2LTExOVoiIGZpbGw9IiM5NTkzRkYiLz4KICAgIDxwYXRoIGQ9Ik00MTcuNSA0OTguMmgxMjMuOEw0MjEuNiA2MThhMi40IDIuNCAwIDAgMS00LTEuN3YtMTE4Wk0yOTMuOCAzNzQuNWgtMTE4YTIuNCAyLjQgMCAwIDEtMS43LTQuMWwxMTkuNy0xMTkuN3YxMjMuOFoiIGZpbGw9IiM5NTkzRkYiLz4KPC9zdmc+Cg==\"","import { createContext } from '@radix-ui/react-context';\n\nimport type { StrapiApp } from '../StrapiApp';\ninterface AdminContextValue {\n  getAdminInjectedComponents: StrapiApp['getAdminInjectedComponents'];\n}\n\nconst [AdminContextProvider, useAdminContext] = createContext<AdminContextValue>('AdminContext');\n\nconst useAdmin = () => useAdminContext('useAdmin');\n\nexport { AdminContextProvider, useAdmin };\nexport type { AdminContextValue };\n","import * as React from 'react';\n\nimport { ConfigurationContextProvider, ConfigurationContextValue } from '../contexts/configuration';\n\ninterface ConfigurationProviderProps {\n  children: React.ReactNode;\n  authLogo: string;\n  menuLogo: string;\n  showReleaseNotification?: boolean;\n  showTutorials?: boolean;\n}\n\ntype LogoKeys = keyof ConfigurationContextValue['logos'];\n\nconst ConfigurationProvider = ({\n  children,\n  authLogo: defaultAuthLogo,\n  menuLogo: defaultMenuLogo,\n  showReleaseNotification = false,\n  showTutorials = false,\n}: ConfigurationProviderProps) => {\n  const [{ menuLogo, authLogo }, setLogos] = React.useState<{\n    [_Key in `${LogoKeys}Logo`]?: ConfigurationContextValue['logos'][LogoKeys]['custom'];\n  }>({\n    menuLogo: null,\n    authLogo: null,\n  });\n\n  const updateProjectSettings: ConfigurationContextValue['updateProjectSettings'] =\n    React.useCallback(\n      ({ menuLogo, authLogo }) => {\n        setLogos({\n          menuLogo: menuLogo || defaultMenuLogo,\n          authLogo: authLogo || defaultAuthLogo,\n        });\n      },\n      [defaultAuthLogo, defaultMenuLogo]\n    );\n\n  return (\n    <ConfigurationContextProvider\n      updateProjectSettings={updateProjectSettings}\n      showReleaseNotification={showReleaseNotification}\n      showTutorials={showTutorials}\n      logos={{\n        menu: { custom: menuLogo, default: defaultMenuLogo },\n        auth: { custom: authLogo, default: defaultAuthLogo },\n      }}\n    >\n      {children}\n    </ConfigurationContextProvider>\n  );\n};\n\nexport { ConfigurationProvider };\nexport type { ConfigurationProviderProps };\n","import * as React from 'react';\n\nimport {\n  GuidedTourContextValue,\n  GuidedTourProvider as GuidedTourProviderComponent,\n  GuidedTourSectionKey,\n  GuidedTourStep,\n  GuidedTourStepKey,\n  auth,\n} from '@strapi/helper-plugin';\nimport produce from 'immer';\nimport get from 'lodash/get';\nimport set from 'lodash/set';\n\n/* -------------------------------------------------------------------------------------------------\n * GuidedTourProvider\n * -----------------------------------------------------------------------------------------------*/\n\ninterface GuidedTourProviderProps {\n  children: React.ReactNode;\n}\n\nconst GuidedTourProvider = ({ children }: GuidedTourProviderProps) => {\n  const [{ currentStep, guidedTourState, isGuidedTourVisible, isSkipped }, dispatch] =\n    React.useReducer(reducer, initialState, initialiseState);\n\n  const setCurrentStep = (step: SetCurrentStepAction['step']) => {\n    // if step is null it is intentional, we need to dispatch it\n    if (step !== null) {\n      const isStepAlreadyDone = get(guidedTourState, step);\n      const [sectionName, stepName] = step.split('.') as [GuidedTourSectionKey, GuidedTourStepKey];\n      const sectionArray = Object.entries(guidedTourState[sectionName]);\n\n      const currentStepIndex = sectionArray.findIndex(([key]) => key === stepName);\n      const previousSteps = sectionArray.slice(0, currentStepIndex);\n\n      const isStepToShow = previousSteps.every(([, sectionValue]) => sectionValue);\n\n      if (isStepAlreadyDone || isSkipped || !isStepToShow) {\n        return null;\n      }\n    }\n\n    auth.set(null, 'GUIDED_TOUR_CURRENT_STEP', true);\n\n    return dispatch({\n      type: 'SET_CURRENT_STEP',\n      step,\n    });\n  };\n\n  const setGuidedTourVisibility = (value: SetGuidedTourVisibilityAction['value']) => {\n    dispatch({\n      type: 'SET_GUIDED_TOUR_VISIBILITY',\n      value,\n    });\n  };\n\n  const setStepState = (currentStep: GuidedTourStep, value: SetStepStateAction['value']) => {\n    addCompletedStep(currentStep);\n\n    dispatch({\n      type: 'SET_STEP_STATE',\n      currentStep,\n      value,\n    });\n  };\n\n  const startSection = (sectionName: GuidedTourSectionKey) => {\n    const sectionSteps = guidedTourState[sectionName];\n\n    if (sectionSteps) {\n      const guidedTourArray = Object.entries(guidedTourState);\n\n      // Find current section position in the guidedTourArray\n      // Get only previous sections based on current section position\n      const currentSectionIndex = guidedTourArray.findIndex(([key]) => key === sectionName);\n      const previousSections = guidedTourArray.slice(0, currentSectionIndex);\n\n      // Check if every steps from previous section are done\n      const isSectionToShow = previousSections.every(([, sectionValue]) =>\n        Object.values(sectionValue).every(Boolean)\n      );\n\n      const [firstStep] = Object.keys(sectionSteps) as [GuidedTourStepKey];\n      const isFirstStepDone = sectionSteps[firstStep];\n\n      if (isSectionToShow && !currentStep && !isFirstStepDone) {\n        setCurrentStep(`${sectionName}.${firstStep}`);\n      }\n    }\n  };\n\n  const setSkipped = (value: SetSkippedAction['value']) => {\n    auth.set(value, 'GUIDED_TOUR_SKIPPED', true);\n\n    dispatch({\n      type: 'SET_SKIPPED',\n      value,\n    });\n  };\n\n  return (\n    <GuidedTourProviderComponent\n      guidedTourState={guidedTourState}\n      currentStep={currentStep}\n      setCurrentStep={setCurrentStep}\n      setGuidedTourVisibility={setGuidedTourVisibility}\n      setSkipped={setSkipped}\n      setStepState={setStepState}\n      startSection={startSection}\n      isGuidedTourVisible={isGuidedTourVisible}\n      isSkipped={isSkipped}\n    >\n      {children}\n    </GuidedTourProviderComponent>\n  );\n};\n\ntype State = Pick<\n  GuidedTourContextValue,\n  'guidedTourState' | 'currentStep' | 'isGuidedTourVisible' | 'isSkipped'\n>;\n\nconst initialState = {\n  currentStep: null,\n  guidedTourState: {\n    contentTypeBuilder: {\n      create: false,\n      success: false,\n    },\n    contentManager: {\n      create: false,\n      success: false,\n    },\n    apiTokens: {\n      create: false,\n      success: false,\n    },\n  },\n  isGuidedTourVisible: false,\n  isSkipped: false,\n} satisfies State;\n\ninterface SetCurrentStepAction {\n  type: 'SET_CURRENT_STEP';\n  step: GuidedTourStep | null;\n}\n\ninterface SetStepStateAction {\n  type: 'SET_STEP_STATE';\n  currentStep: GuidedTourStep;\n  value: boolean;\n}\n\ninterface SetSkippedAction {\n  type: 'SET_SKIPPED';\n  value: boolean;\n}\n\ninterface SetGuidedTourVisibilityAction {\n  type: 'SET_GUIDED_TOUR_VISIBILITY';\n  value: boolean;\n}\n\ntype Action =\n  | SetCurrentStepAction\n  | SetStepStateAction\n  | SetSkippedAction\n  | SetGuidedTourVisibilityAction;\n\nconst reducer: React.Reducer<State, Action> = (state: State = initialState, action: Action) =>\n  produce(state, (draftState) => {\n    switch (action.type) {\n      case 'SET_CURRENT_STEP': {\n        draftState.currentStep = action.step;\n        break;\n      }\n      case 'SET_STEP_STATE': {\n        const [section, step] = action.currentStep.split('.') as [\n          GuidedTourSectionKey,\n          GuidedTourStepKey\n        ];\n        draftState.guidedTourState[section][step] = action.value;\n        break;\n      }\n      case 'SET_SKIPPED': {\n        draftState.isSkipped = action.value;\n        break;\n      }\n      case 'SET_GUIDED_TOUR_VISIBILITY': {\n        draftState.isGuidedTourVisible = action.value;\n        break;\n      }\n      default: {\n        return draftState;\n      }\n    }\n  });\n\nconst initialiseState = (initialState: State) => {\n  const copyInitialState = { ...initialState };\n  const guidedTourLocaleStorage = auth.get('GUIDED_TOUR_COMPLETED_STEPS');\n  const currentStepLocaleStorage = auth.get('GUIDED_TOUR_CURRENT_STEP');\n  const skippedLocaleStorage = auth.get('GUIDED_TOUR_SKIPPED');\n\n  if (Array.isArray(guidedTourLocaleStorage)) {\n    guidedTourLocaleStorage.forEach((step) => {\n      const [sectionName, stepName] = step.split('.');\n      set(copyInitialState, ['guidedTourState', sectionName, stepName], true);\n    });\n  }\n\n  // if current step when initializing mark it as done\n  if (currentStepLocaleStorage) {\n    const [sectionName, stepName] = currentStepLocaleStorage.split('.') as [\n      GuidedTourSectionKey,\n      GuidedTourStepKey\n    ];\n    set(copyInitialState, ['guidedTourState', sectionName, stepName], true);\n\n    addCompletedStep(currentStepLocaleStorage as GuidedTourStep);\n\n    auth.set(null, 'GUIDED_TOUR_CURRENT_STEP', true);\n  }\n\n  if (skippedLocaleStorage !== null) {\n    set(copyInitialState, 'isSkipped', skippedLocaleStorage);\n  }\n\n  return copyInitialState;\n};\n\n/**\n * @description Add a completed step to the local storage if it does not already exist.\n */\nconst addCompletedStep = (completedStep: GuidedTourStep) => {\n  const currentSteps = auth.get('GUIDED_TOUR_COMPLETED_STEPS') ?? [];\n\n  if (!Array.isArray(currentSteps)) {\n    return;\n  }\n\n  const isAlreadyStored = currentSteps.includes(completedStep);\n\n  if (isAlreadyStored) {\n    return;\n  }\n\n  auth.set([...currentSteps, completedStep], 'GUIDED_TOUR_COMPLETED_STEPS', true);\n};\n\nexport { GuidedTourProvider };\n","import { createContext } from '@radix-ui/react-context';\nimport { DefaultTheme } from 'styled-components';\n\ntype ThemeName = 'light' | 'dark' | 'system';\ntype NonSystemThemeName = Exclude<ThemeName, 'system'>;\n\ninterface ThemeToggleContextContextValue {\n  currentTheme?: ThemeName;\n  onChangeTheme?: (nextTheme: ThemeName) => void;\n  themes?: {\n    dark: DefaultTheme;\n    light: DefaultTheme;\n  };\n  systemTheme?: NonSystemThemeName;\n}\n\nconst [ThemeToggleContextProvider, useThemeToggleContext] =\n  createContext<ThemeToggleContextContextValue>('ThemeToggleContext');\n\nconst useThemeToggle = () => useThemeToggleContext('useThemeToggle');\n\nexport { ThemeToggleContextProvider, useThemeToggle };\nexport type { ThemeName, NonSystemThemeName, ThemeToggleContextContextValue };\n","import * as React from 'react';\n\nimport { DesignSystemProvider } from '@strapi/design-system';\nimport { useIntl } from 'react-intl';\nimport { createGlobalStyle } from 'styled-components';\n\nimport { useThemeToggle } from '../contexts/themeToggle';\n\ninterface ThemeProps {\n  children: React.ReactNode;\n}\n\nconst Theme = ({ children }: ThemeProps) => {\n  const { currentTheme, themes, systemTheme } = useThemeToggle();\n  const { locale } = useIntl();\n\n  const computedThemeName = currentTheme === 'system' ? systemTheme : currentTheme;\n\n  return (\n    <DesignSystemProvider\n      locale={locale}\n      /**\n       * TODO: could we make this neater i.e. by setting up the context to throw\n       * if it can't find it, that way the type is always fully defined and we're\n       * not checking it all the time...\n       */\n      theme={themes?.[computedThemeName || 'light']}\n    >\n      {children}\n      <GlobalStyle />\n    </DesignSystemProvider>\n  );\n};\n\nconst GlobalStyle = createGlobalStyle`\n  body {\n    background: ${({ theme }) => theme.colors.neutral100};\n  }\n`;\n\nexport { Theme };\n","import * as React from 'react';\n\nimport { DefaultTheme } from 'styled-components';\n\nimport { ThemeToggleContextProvider, ThemeName, NonSystemThemeName } from '../contexts/themeToggle';\n\nconst THEME_KEY = 'STRAPI_THEME';\n\nconst getDefaultTheme = () => {\n  const persistedTheme = localStorage.getItem(THEME_KEY) as ThemeName | null;\n\n  return persistedTheme || 'system';\n};\n\ninterface ThemeToggleProviderProps {\n  children: React.ReactNode;\n  themes: {\n    light: DefaultTheme;\n    dark: DefaultTheme;\n  };\n}\n\nconst ThemeToggleProvider = ({ children, themes }: ThemeToggleProviderProps) => {\n  const [currentTheme, setCurrentTheme] = React.useState<ThemeName>(getDefaultTheme());\n  const [systemTheme, setSystemTheme] = React.useState<NonSystemThemeName>();\n\n  const handleChangeTheme = React.useCallback(\n    (nextTheme: ThemeName) => {\n      setCurrentTheme(nextTheme);\n      localStorage.setItem(THEME_KEY, nextTheme);\n    },\n    [setCurrentTheme]\n  );\n\n  // Listen to changes in the system theme\n  React.useEffect(() => {\n    const themeWatcher = window.matchMedia('(prefers-color-scheme: dark)');\n    setSystemTheme(themeWatcher.matches ? 'dark' : 'light');\n\n    const listener = (event: MediaQueryListEvent) => {\n      setSystemTheme(event.matches ? 'dark' : 'light');\n    };\n    themeWatcher.addEventListener('change', listener);\n\n    // Remove listener on cleanup\n    return () => {\n      themeWatcher.removeEventListener('change', listener);\n    };\n  }, []);\n\n  return (\n    <ThemeToggleContextProvider\n      currentTheme={currentTheme}\n      onChangeTheme={handleChangeTheme}\n      themes={themes}\n      systemTheme={systemTheme}\n    >\n      {children}\n    </ThemeToggleContextProvider>\n  );\n};\n\nexport { ThemeToggleProvider };\nexport type { ThemeToggleProviderProps };\n","import * as React from 'react';\n\nimport {\n  AutoReloadOverlayBlockerProvider,\n  CustomFieldsProvider,\n  CustomFieldsProviderProps,\n  LibraryProvider,\n  LibraryProviderProps,\n  NotificationsProvider,\n  OverlayBlockerProvider,\n  StrapiAppProvider,\n  StrapiAppProviderProps,\n} from '@strapi/helper-plugin';\nimport { QueryClient, QueryClientProvider } from 'react-query';\nimport { Provider } from 'react-redux';\n\nimport { AdminContextProvider, AdminContextValue } from '../contexts/admin';\n\nimport { ConfigurationProvider, ConfigurationProviderProps } from './ConfigurationProvider';\nimport { GuidedTourProvider } from './GuidedTour/Provider';\nimport { LanguageProvider, LanguageProviderProps } from './LanguageProvider';\nimport { Theme } from './Theme';\nimport { ThemeToggleProvider, ThemeToggleProviderProps } from './ThemeToggleProvider';\n\nimport type { Store } from '../core/store/configure';\n\nconst queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      refetchOnWindowFocus: false,\n    },\n  },\n});\n\ninterface ProvidersProps\n  extends Pick<ThemeToggleProviderProps, 'themes'>,\n    Pick<LanguageProviderProps, 'messages' | 'localeNames'>,\n    Pick<\n      ConfigurationProviderProps,\n      'authLogo' | 'menuLogo' | 'showReleaseNotification' | 'showTutorials'\n    >,\n    Pick<AdminContextValue, 'getAdminInjectedComponents'>,\n    Pick<CustomFieldsProviderProps, 'customFields'>,\n    Pick<LibraryProviderProps, 'components' | 'fields'>,\n    Pick<\n      StrapiAppProviderProps,\n      | 'getPlugin'\n      | 'menu'\n      | 'plugins'\n      | 'runHookParallel'\n      | 'runHookSeries'\n      | 'runHookWaterfall'\n      | 'settings'\n    > {\n  children: React.ReactNode;\n  store: Store;\n}\n\nconst Providers = ({\n  authLogo,\n  children,\n  components,\n  customFields,\n  fields,\n  getAdminInjectedComponents,\n  getPlugin,\n  localeNames,\n  menu,\n  menuLogo,\n  messages,\n  plugins,\n  runHookParallel,\n  runHookSeries,\n  runHookWaterfall,\n  settings,\n  showReleaseNotification,\n  showTutorials,\n  store,\n  themes,\n}: ProvidersProps) => {\n  return (\n    <LanguageProvider messages={messages} localeNames={localeNames}>\n      <ThemeToggleProvider themes={themes}>\n        <Theme>\n          <QueryClientProvider client={queryClient}>\n            <Provider store={store}>\n              <AdminContextProvider getAdminInjectedComponents={getAdminInjectedComponents}>\n                <ConfigurationProvider\n                  authLogo={authLogo}\n                  menuLogo={menuLogo}\n                  showReleaseNotification={showReleaseNotification}\n                  showTutorials={showTutorials}\n                >\n                  <StrapiAppProvider\n                    getPlugin={getPlugin}\n                    menu={menu}\n                    plugins={plugins}\n                    runHookParallel={runHookParallel}\n                    runHookWaterfall={runHookWaterfall}\n                    runHookSeries={runHookSeries}\n                    settings={settings}\n                  >\n                    <LibraryProvider components={components} fields={fields}>\n                      <CustomFieldsProvider customFields={customFields}>\n                        <AutoReloadOverlayBlockerProvider>\n                          <OverlayBlockerProvider>\n                            <GuidedTourProvider>\n                              <NotificationsProvider>{children}</NotificationsProvider>\n                            </GuidedTourProvider>\n                          </OverlayBlockerProvider>\n                        </AutoReloadOverlayBlockerProvider>\n                      </CustomFieldsProvider>\n                    </LibraryProvider>\n                  </StrapiAppProvider>\n                </ConfigurationProvider>\n              </AdminContextProvider>\n            </Provider>\n          </QueryClientProvider>\n        </Theme>\n      </ThemeToggleProvider>\n    </LanguageProvider>\n  );\n};\n\nexport { Providers };\n","/* eslint-disable check-file/filename-naming-convention */\nimport * as React from 'react';\n\nimport invariant from 'invariant';\n\nexport interface Component {\n  name: string;\n  Component: React.ComponentType;\n}\n\nexport class Components {\n  components: Record<Component['name'], Component['Component']>;\n\n  constructor() {\n    this.components = {};\n  }\n\n  add(component: Component) {\n    const { name, Component } = component;\n\n    invariant(Component, 'A Component must be provided');\n    invariant(name, 'A name must be provided');\n    invariant(this.components[name] === undefined, 'A similar field already exists');\n\n    this.components[name] = Component;\n  }\n}\n","/* eslint-disable check-file/filename-naming-convention */\nimport invariant from 'invariant';\n\nimport type {\n  CustomField,\n  CustomFieldOption,\n  CustomFieldOptionSection,\n  CustomFieldUID,\n} from '@strapi/helper-plugin';\n\nconst ALLOWED_TYPES = [\n  'biginteger',\n  'boolean',\n  'date',\n  'datetime',\n  'decimal',\n  'email',\n  'enumeration',\n  'float',\n  'integer',\n  'json',\n  'password',\n  'richtext',\n  'string',\n  'text',\n  'time',\n  'uid',\n] as const;\n\nconst ALLOWED_ROOT_LEVEL_OPTIONS = [\n  'min',\n  'minLength',\n  'max',\n  'maxLength',\n  'required',\n  'regex',\n  'enum',\n  'unique',\n  'private',\n  'default',\n] as const;\n\nexport class CustomFields {\n  customFields: Record<CustomFieldUID, CustomField>;\n\n  constructor() {\n    this.customFields = {};\n  }\n\n  register(customFields: CustomField | CustomField[]) {\n    if (Array.isArray(customFields)) {\n      // If several custom fields are passed, register them one by one\n      customFields.forEach((customField) => {\n        this.register(customField);\n      });\n    } else {\n      // Handle individual custom field\n      const { name, pluginId, type, intlLabel, intlDescription, components, options } =\n        customFields;\n\n      // Ensure required attributes are provided\n      invariant(name, 'A name must be provided');\n      invariant(type, 'A type must be provided');\n      invariant(intlLabel, 'An intlLabel must be provided');\n      invariant(intlDescription, 'An intlDescription must be provided');\n      invariant(components, 'A components object must be provided');\n      invariant(components.Input, 'An Input component must be provided');\n\n      // Ensure the type is valid\n      invariant(\n        ALLOWED_TYPES.includes(type),\n        `Custom field type: '${type}' is not a valid Strapi type or it can't be used with a Custom Field`\n      );\n\n      // Ensure name has no special characters\n      const isValidObjectKey = /^(?![0-9])[a-zA-Z0-9$_-]+$/g;\n      invariant(\n        isValidObjectKey.test(name),\n        `Custom field name: '${name}' is not a valid object key`\n      );\n\n      // Ensure options have valid name paths\n      const allFormOptions = [...(options?.base || []), ...(options?.advanced || [])];\n\n      if (allFormOptions.length) {\n        const optionPathValidations = allFormOptions.reduce(optionsValidationReducer, []);\n\n        optionPathValidations.forEach(({ isValidOptionPath, errorMessage }) => {\n          invariant(isValidOptionPath, errorMessage);\n        });\n      }\n\n      // When no plugin is specified, default to the global namespace\n      const uid: CustomFieldUID = pluginId ? `plugin::${pluginId}.${name}` : `global::${name}`;\n\n      // Ensure the uid is unique\n      const uidAlreadyUsed = Object.prototype.hasOwnProperty.call(this.customFields, uid);\n      invariant(!uidAlreadyUsed, `Custom field: '${uid}' has already been registered`);\n\n      this.customFields[uid] = customFields;\n    }\n  }\n\n  getAll() {\n    return this.customFields;\n  }\n\n  get(uid: CustomFieldUID): CustomField | undefined {\n    return this.customFields[uid];\n  }\n}\n\ninterface OptionValidation {\n  isValidOptionPath: boolean;\n  errorMessage: string;\n}\n\nconst optionsValidationReducer = (\n  acc: OptionValidation[],\n  option: CustomFieldOptionSection | CustomFieldOption\n): OptionValidation[] => {\n  if ('items' in option) {\n    return option.items.reduce(optionsValidationReducer, acc);\n  }\n\n  if (!option.name) {\n    acc.push({\n      isValidOptionPath: false,\n      errorMessage: \"The 'name' property is required on an options object\",\n    });\n  } else {\n    acc.push({\n      isValidOptionPath:\n        option.name.startsWith('options') || ALLOWED_ROOT_LEVEL_OPTIONS.includes(option.name),\n      errorMessage: `'${option.name}' must be prefixed with 'options.'`,\n    });\n  }\n\n  return acc;\n};\n","/* eslint-disable check-file/filename-naming-convention */\nimport * as React from 'react';\n\nimport invariant from 'invariant';\n\nexport interface Field {\n  type: string;\n  Component: React.ComponentType;\n}\n\nexport class Fields {\n  fields: Record<Field['type'], Field['Component']>;\n\n  constructor() {\n    this.fields = {};\n  }\n\n  add(field: Field) {\n    const { type, Component } = field;\n\n    invariant(Component, 'A Component must be provided');\n    invariant(type, 'A type must be provided');\n\n    this.fields[type] = Component;\n  }\n}\n","/* eslint-disable check-file/filename-naming-convention */\nimport { Middleware } from '@reduxjs/toolkit';\n\nimport { RootState } from '../store/configure';\n\ntype TypedMiddleware = () => Middleware<object, RootState>;\n\nclass Middlewares {\n  middlewares: Array<TypedMiddleware>;\n\n  constructor() {\n    this.middlewares = [];\n  }\n\n  add(middleware: TypedMiddleware) {\n    this.middlewares.push(middleware);\n  }\n}\n\nexport { Middlewares, TypedMiddleware as Middleware };\n","/* eslint-disable check-file/filename-naming-convention */\nimport { Plugin as IPlugin } from '@strapi/helper-plugin';\n\nexport interface PluginConfig\n  extends Pick<IPlugin, 'apis' | 'initializer' | 'injectionZones' | 'isReady' | 'name'> {\n  id: string;\n}\n\nexport class Plugin implements IPlugin {\n  apis: PluginConfig['apis'];\n  initializer: PluginConfig['initializer'];\n  injectionZones: PluginConfig['injectionZones'];\n  isReady: PluginConfig['isReady'];\n  name: PluginConfig['name'];\n  pluginId: PluginConfig['id'];\n\n  constructor(pluginConf: PluginConfig) {\n    this.apis = pluginConf.apis || {};\n    this.initializer = pluginConf.initializer || null;\n    this.injectionZones = pluginConf.injectionZones || {};\n    this.isReady = pluginConf.isReady !== undefined ? pluginConf.isReady : true;\n    this.name = pluginConf.name;\n    this.pluginId = pluginConf.id;\n  }\n\n  getInjectedComponents(containerName: string, blockName: string) {\n    try {\n      return this.injectionZones[containerName][blockName] || [];\n    } catch (err) {\n      console.error('Cannot get injected component', err);\n\n      return [];\n    }\n  }\n\n  injectComponent(\n    containerName: string,\n    blockName: string,\n    component: ReturnType<IPlugin['getInjectedComponents']>[number]\n  ) {\n    try {\n      this.injectionZones[containerName][blockName].push(component);\n    } catch (err) {\n      console.error('Cannot inject component', err);\n    }\n  }\n}\n","/* eslint-disable check-file/filename-naming-convention */\n\nimport { Reducer, ReducersMapObject } from '@reduxjs/toolkit';\n\ninterface ReducerConstructorArgs {\n  appReducers?: ReducersMapObject;\n}\n\nexport class Reducers {\n  reducers: ReducersMapObject;\n\n  constructor({ appReducers = {} }: ReducerConstructorArgs = {}) {\n    this.reducers = { ...appReducers };\n  }\n\n  add(reducerName: string, reducer: Reducer) {\n    this.reducers[reducerName] = reducer;\n  }\n}\n","import { createSelector, Selector } from '@reduxjs/toolkit';\nimport { useDispatch, useStore, TypedUseSelectorHook, useSelector } from 'react-redux';\n\nimport type { RootState, Store } from './configure';\n\ntype AppDispatch = Store['dispatch'];\n\nconst useTypedDispatch: () => AppDispatch = useDispatch;\nconst useTypedStore = useStore as () => Store;\nconst useTypedSelector: TypedUseSelectorHook<RootState> = useSelector;\n\nconst createTypedSelector = <TResult>(selector: Selector<RootState, TResult>) =>\n  createSelector((state: RootState) => state, selector);\n\nexport { useTypedDispatch, useTypedStore, useTypedSelector, createTypedSelector };\n","import * as React from 'react';\n\nimport {\n  LoadingIndicatorPage,\n  Permission,\n  RBACContext,\n  RBACContextValue,\n} from '@strapi/helper-plugin';\nimport produce from 'immer';\n\nimport { useTypedSelector, useTypedDispatch } from '../core/store/hooks';\n\n/* -------------------------------------------------------------------------------------------------\n * RBACProvider\n * -----------------------------------------------------------------------------------------------*/\n\ninterface RBACProviderProps {\n  children: React.ReactNode;\n  permissions: Permission[];\n  refetchPermissions: RBACContextValue['refetchPermissions'];\n}\n\nconst RBACProvider = ({ children, permissions, refetchPermissions }: RBACProviderProps) => {\n  const allPermissions = useTypedSelector((state) => state.rbacProvider.allPermissions);\n\n  const dispatch = useTypedDispatch();\n\n  React.useEffect(() => {\n    dispatch(setPermissionsAction(permissions));\n\n    return () => {\n      dispatch(resetStoreAction());\n    };\n  }, [permissions, dispatch]);\n\n  if (!allPermissions) {\n    return <LoadingIndicatorPage />;\n  }\n\n  return (\n    <RBACContext.Provider value={{ allPermissions, refetchPermissions }}>\n      {children}\n    </RBACContext.Provider>\n  );\n};\n\n/* -------------------------------------------------------------------------------------------------\n * RBACReducer\n * -----------------------------------------------------------------------------------------------*/\n\ninterface RBACState {\n  allPermissions: null | Permission[];\n  collectionTypesRelatedPermissions: Record<string, Record<string, Permission[]>>;\n}\n\nconst initialState = {\n  allPermissions: null,\n  collectionTypesRelatedPermissions: {},\n};\n\nconst RESET_STORE = 'StrapiAdmin/RBACProvider/RESET_STORE';\nconst SET_PERMISSIONS = 'StrapiAdmin/RBACProvider/SET_PERMISSIONS';\n\ninterface ResetStoreAction {\n  type: typeof RESET_STORE;\n}\n\nconst resetStoreAction = (): ResetStoreAction => ({ type: RESET_STORE });\n\ninterface SetPermissionsAction {\n  type: typeof SET_PERMISSIONS;\n  permissions: Permission[];\n}\n\nconst setPermissionsAction = (\n  permissions: SetPermissionsAction['permissions']\n): SetPermissionsAction => ({\n  type: SET_PERMISSIONS,\n  permissions,\n});\n\ntype Actions = ResetStoreAction | SetPermissionsAction;\n\nconst RBACReducer = (state: RBACState = initialState, action: Actions) =>\n  produce(state, (draftState) => {\n    switch (action.type) {\n      case SET_PERMISSIONS: {\n        draftState.allPermissions = action.permissions;\n        draftState.collectionTypesRelatedPermissions = action.permissions\n          .filter((perm) => perm.subject)\n          .reduce<Record<string, Record<string, Permission[]>>>((acc, current) => {\n            const { subject, action } = current;\n\n            if (!subject) return acc;\n\n            if (!acc[subject]) {\n              acc[subject] = {};\n            }\n\n            acc[subject] = acc[subject][action]\n              ? { ...acc[subject], [action]: [...acc[subject][action], current] }\n              : { ...acc[subject], [action]: [current] };\n\n            return acc;\n          }, {});\n        break;\n      }\n      case RESET_STORE: {\n        return initialState;\n      }\n      default:\n        return state;\n    }\n  });\n\nexport { RBACProvider, RBACReducer, resetStoreAction, setPermissionsAction };\nexport type {\n  RBACState,\n  Actions,\n  RBACProviderProps,\n  ResetStoreAction,\n  SetPermissionsAction,\n  Permission,\n};\n","export const SET_PERMISSIONS = 'ContentManager/RBACManager/SET_PERMISSIONS';\nexport const RESET_PERMISSIONS = 'ContentManager/RBACManager/RESET_PERMISSIONS';\n","/**\n *\n * RBACManager reducer\n */\n\nimport produce from 'immer';\n\nimport { RESET_PERMISSIONS, SET_PERMISSIONS } from './constants';\n\nexport const initialState = {\n  permissions: null,\n};\n\nconst rbacManagerReducer = (state = initialState, action) =>\n  // eslint-disable-next-line consistent-return\n  produce(state, (draftState) => {\n    switch (action.type) {\n      case SET_PERMISSIONS: {\n        draftState.permissions = Object.entries(action.permissions).reduce((acc, current) => {\n          return [...acc, ...current[1]];\n        }, []);\n        break;\n      }\n      case RESET_PERMISSIONS: {\n        draftState.permissions = null;\n        break;\n      }\n      default:\n        return draftState;\n    }\n  });\n\nexport default rbacManagerReducer;\n","export const GET_INIT_DATA = 'ContentManager/App/GET_INIT_DATA';\nexport const RESET_INIT_DATA = 'ContentManager/App/RESET_INIT_DATA';\nexport const SET_INIT_DATA = 'ContentManager/App/SET_INIT_DATA';\n","/**\n *\n * main reducer\n */\n/* eslint-disable consistent-return */\nimport produce from 'immer';\n\nimport { GET_INIT_DATA, RESET_INIT_DATA, SET_INIT_DATA } from './constants';\n\nconst initialState = {\n  components: [],\n  status: 'loading',\n  models: [],\n  collectionTypeLinks: [],\n  singleTypeLinks: [],\n};\n\n/**\n * Known as content-manager_app in the redux store\n */\nconst mainReducer = (state = initialState, action) =>\n  produce(state, (draftState) => {\n    switch (action.type) {\n      case GET_INIT_DATA: {\n        draftState.status = 'loading';\n        break;\n      }\n      case RESET_INIT_DATA: {\n        return initialState;\n      }\n      case SET_INIT_DATA: {\n        draftState.collectionTypeLinks = action.data.authorizedCollectionTypeLinks.filter(\n          ({ isDisplayed }) => isDisplayed\n        );\n        draftState.singleTypeLinks = action.data.authorizedSingleTypeLinks.filter(\n          ({ isDisplayed }) => isDisplayed\n        );\n        draftState.components = action.data.components;\n        draftState.models = action.data.contentTypeSchemas;\n        draftState.fieldSizes = action.data.fieldSizes;\n        draftState.status = 'resolved';\n        break;\n      }\n      default:\n        return draftState;\n    }\n  });\n\nexport default mainReducer;\nexport { initialState };\n","export const SET_LAYOUT = 'ContentManager/EditViewLayoutManager/SET_LAYOUT';\nexport const RESET_PROPS = 'ContentManager/EditViewLayoutManager/RESET_PROPS';\n","/**\n *\n * EditViewLayoutManager reducer\n */\n\nimport produce from 'immer';\n\nimport { RESET_PROPS, SET_LAYOUT } from './constants';\n\nexport const initialState = {\n  currentLayout: null,\n};\n\nconst editViewManagerReducer = (state = initialState, action) =>\n  // eslint-disable-next-line consistent-return\n  produce(state, (draftState) => {\n    switch (action.type) {\n      case RESET_PROPS: {\n        draftState.currentLayout = null;\n        break;\n      }\n      case SET_LAYOUT: {\n        draftState.currentLayout = action.layout;\n        break;\n      }\n      default:\n        return draftState;\n    }\n  });\n\nexport default editViewManagerReducer;\n","export const GET_DATA = 'ContentManager/ListView/GET_DATA';\nexport const GET_DATA_SUCCEEDED = 'ContentManager/ListView/GET_DATA_SUCCEEDED';\nexport const RESET_PROPS = 'ContentManager/ListView/RESET_PROPS';\nexport const ON_CHANGE_LIST_HEADERS = 'ContentManager/ListView/ON_CHANGE_LIST_HEADERS ';\nexport const ON_RESET_LIST_HEADERS = 'ContentManager/ListView/ON_RESET_LIST_HEADERS ';\nexport const SET_LIST_LAYOUT = 'ContentManager/ListView/SET_LIST_LAYOUT ';\n","/**\n *\n * listView reducer\n */\n\nimport produce from 'immer';\nimport get from 'lodash/get';\n\nimport {\n  GET_DATA,\n  GET_DATA_SUCCEEDED,\n  ON_CHANGE_LIST_HEADERS,\n  ON_RESET_LIST_HEADERS,\n  RESET_PROPS,\n  SET_LIST_LAYOUT,\n} from './constants';\n\nexport const initialState = {\n  data: [],\n  isLoading: true,\n  contentType: {},\n  components: [],\n  initialDisplayedHeaders: [],\n  displayedHeaders: [],\n  pagination: {\n    total: 0,\n  },\n};\n\nconst listViewReducer = (state = initialState, action) =>\n  // eslint-disable-next-line consistent-return\n  produce(state, (draftState) => {\n    switch (action.type) {\n      case GET_DATA: {\n        return {\n          ...initialState,\n          contentType: state.contentType,\n          components: state.components,\n          initialDisplayedHeaders: state.initialDisplayedHeaders,\n          displayedHeaders: state.displayedHeaders,\n        };\n      }\n\n      case GET_DATA_SUCCEEDED: {\n        draftState.pagination = action.pagination;\n        draftState.data = action.data;\n        draftState.isLoading = false;\n        break;\n      }\n\n      case ON_CHANGE_LIST_HEADERS: {\n        const {\n          target: { name, value },\n        } = action;\n\n        if (!value) {\n          const { metadatas, attributes, uid } = state.contentType;\n          const metas = metadatas[name].list;\n          const header = {\n            name,\n            fieldSchema: attributes[name],\n            metadatas: metas,\n            key: `__${name}_key__`,\n          };\n\n          switch (attributes[name].type) {\n            case 'component': {\n              const componentName = attributes[name].component;\n              const mainFieldName = get(\n                state,\n                ['components', componentName, 'settings', 'mainField'],\n                null\n              );\n              const mainFieldAttribute = get(state, [\n                'components',\n                componentName,\n                'attributes',\n                mainFieldName,\n              ]);\n\n              draftState.displayedHeaders.push({\n                ...header,\n                metadatas: {\n                  ...metas,\n                  mainField: {\n                    ...mainFieldAttribute,\n                    name: mainFieldName,\n                  },\n                },\n              });\n              break;\n            }\n\n            case 'relation':\n              draftState.displayedHeaders.push({\n                ...header,\n                queryInfos: {\n                  defaultParams: {},\n                  endPoint: `collection-types/${uid}`,\n                },\n              });\n              break;\n\n            default:\n              draftState.displayedHeaders.push(header);\n          }\n        } else {\n          draftState.displayedHeaders = state.displayedHeaders.filter(\n            (header) => header.name !== name\n          );\n        }\n\n        break;\n      }\n      case ON_RESET_LIST_HEADERS: {\n        draftState.displayedHeaders = state.initialDisplayedHeaders;\n        break;\n      }\n      case RESET_PROPS: {\n        return initialState;\n      }\n      case SET_LIST_LAYOUT: {\n        const { contentType, components, displayedHeaders } = action;\n\n        draftState.contentType = contentType;\n        draftState.components = components;\n        draftState.displayedHeaders = displayedHeaders;\n        draftState.initialDisplayedHeaders = displayedHeaders;\n\n        break;\n      }\n      default:\n        return draftState;\n    }\n  });\n\nexport default listViewReducer;\n","export const GET_DATA = 'ContentManager/CrudReducer/GET_DATA';\nexport const GET_DATA_SUCCEEDED = 'ContentManager/CrudReducer/GET_DATA_SUCCEEDED';\nexport const INIT_FORM = 'ContentManager/CrudReducer/INIT_FORM';\nexport const RESET_PROPS = 'ContentManager/CrudReducer/RESET_PROPS';\nexport const SET_DATA_STRUCTURES = 'ContentManager/CrudReducer/SET_DATA_STRUCTURES';\nexport const SET_STATUS = 'ContentManager/CrudReducer/SET_STATUS';\nexport const SUBMIT_SUCCEEDED = 'ContentManager/CrudReducer/SUBMIT_SUCCEEDED';\nexport const CLEAR_SET_MODIFIED_DATA_ONLY =\n  'ContentManager/CrudReducer/CLEAR_SET_MODIFIED_DATA_ONLY';\n","/* eslint-disable consistent-return */\nimport produce from 'immer';\n\n// NOTE: instead of creating a shared reducer here, we could also create a hook\n// that returns the dispatch and the state, however it will mess with the linter\n// and force us to either disable the linter for the hooks dependencies array rule or\n// require us to add the dispatch to the array which is not wanted. This refacto does not require us to\n// to do any of this.\nimport {\n  CLEAR_SET_MODIFIED_DATA_ONLY,\n  GET_DATA,\n  GET_DATA_SUCCEEDED,\n  INIT_FORM,\n  RESET_PROPS,\n  SET_DATA_STRUCTURES,\n  SET_STATUS,\n  SUBMIT_SUCCEEDED,\n} from './constants';\n\nconst crudInitialState = {\n  componentsDataStructure: {},\n  contentTypeDataStructure: {},\n  isLoading: true,\n  data: null,\n  status: 'resolved',\n  setModifiedDataOnly: false,\n};\n\nconst crudReducer = (state = crudInitialState, action) =>\n  produce(state, (draftState) => {\n    switch (action.type) {\n      case GET_DATA: {\n        draftState.isLoading = true;\n        draftState.data = null;\n        break;\n      }\n      case GET_DATA_SUCCEEDED: {\n        draftState.isLoading = false;\n        draftState.data = action.data;\n        draftState.setModifiedDataOnly = action.setModifiedDataOnly ?? false;\n        break;\n      }\n      case INIT_FORM: {\n        if (action.data) {\n          draftState.isLoading = false;\n          draftState.data = action.data;\n\n          break;\n        }\n\n        draftState.isLoading = false;\n        draftState.data = state.contentTypeDataStructure;\n        break;\n      }\n      case RESET_PROPS: {\n        return crudInitialState;\n      }\n      case SET_DATA_STRUCTURES: {\n        draftState.componentsDataStructure = action.componentsDataStructure;\n        draftState.contentTypeDataStructure = action.contentTypeDataStructure;\n        break;\n      }\n      case SET_STATUS: {\n        draftState.status = action.status;\n        break;\n      }\n      case SUBMIT_SUCCEEDED: {\n        draftState.data = action.data;\n        break;\n      }\n      case CLEAR_SET_MODIFIED_DATA_ONLY: {\n        draftState.setModifiedDataOnly = false;\n        break;\n      }\n      default:\n        return draftState;\n    }\n  });\n\nexport default crudReducer;\nexport { crudInitialState };\n","import produce from 'immer';\n\nimport { ACTION_SET_APP_RUNTIME_STATUS, ACTION_SET_ADMIN_PERMISSIONS } from './constants';\nimport { PermissionMap } from './types/permissions';\n\ninterface State {\n  status: 'init' | 'runtime';\n  permissions: Partial<PermissionMap>;\n}\n\nconst initialState = {\n  permissions: {},\n  status: 'init',\n} satisfies State;\n\ninterface SetAppRuntimeStatusAction {\n  type: typeof ACTION_SET_APP_RUNTIME_STATUS;\n}\n\ninterface SetAdminPermissionsAction {\n  type: typeof ACTION_SET_ADMIN_PERMISSIONS;\n  payload: Record<string, unknown>;\n}\n\ntype Action = SetAppRuntimeStatusAction | SetAdminPermissionsAction;\n\nconst reducer = (state: State = initialState, action: Action) =>\n  /* eslint-disable-next-line consistent-return */\n  produce(state, (draftState) => {\n    switch (action.type) {\n      case ACTION_SET_APP_RUNTIME_STATUS: {\n        draftState.status = 'runtime';\n        break;\n      }\n\n      case ACTION_SET_ADMIN_PERMISSIONS: {\n        draftState.permissions = action.payload;\n        break;\n      }\n\n      default:\n        return draftState;\n    }\n  });\n\nexport { reducer, initialState };\nexport type { State, Action, SetAppRuntimeStatusAction, SetAdminPermissionsAction };\n","import {\n  configureStore,\n  StoreEnhancer,\n  Middleware,\n  Reducer,\n  combineReducers,\n} from '@reduxjs/toolkit';\n\nimport { RBACReducer } from '../../components/RBACProvider';\n// @ts-expect-error no types, yet.\nimport rbacManagerReducer from '../../content-manager/hooks/useSyncRbac/reducer';\n// @ts-expect-error no types, yet.\nimport cmAppReducer from '../../content-manager/pages/App/reducer';\n// @ts-expect-error no types, yet.\nimport editViewLayoutManagerReducer from '../../content-manager/pages/EditViewLayoutManager/reducer';\n// @ts-expect-error no types, yet.\nimport listViewReducer from '../../content-manager/pages/ListView/reducer';\n// @ts-expect-error no types, yet.\nimport editViewCrudReducer from '../../content-manager/sharedReducers/crudReducer/reducer';\nimport { reducer as appReducer } from '../../reducer';\n\n/**\n * @description Static reducers are ones we know, they live in the admin package.\n */\nconst staticReducers = {\n  admin_app: appReducer,\n  rbacProvider: RBACReducer,\n  'content-manager_app': cmAppReducer,\n  'content-manager_listView': listViewReducer,\n  'content-manager_rbacManager': rbacManagerReducer,\n  'content-manager_editViewLayoutManager': editViewLayoutManagerReducer,\n  'content-manager_editViewCrudReducer': editViewCrudReducer,\n} as const;\n\nconst injectReducerStoreEnhancer: (appReducers: Record<string, Reducer>) => StoreEnhancer =\n  (appReducers) =>\n  (next) =>\n  (...args) => {\n    const store = next(...args);\n\n    const asyncReducers: Record<string, Reducer> = {};\n\n    return {\n      ...store,\n      asyncReducers,\n      injectReducer: (key: string, asyncReducer: Reducer) => {\n        asyncReducers[key] = asyncReducer;\n        store.replaceReducer(\n          // @ts-expect-error we dynamically add reducers which makes the types uncomfortable.\n          combineReducers({\n            ...appReducers,\n            ...asyncReducers,\n          })\n        );\n      },\n    };\n  };\n\n/**\n * @description This is the main store configuration function, injected Reducers use our legacy app.addReducer API,\n * which we're trying to phase out. App Middlewares could potentially be improved...?\n */\nconst configureStoreImpl = (\n  appMiddlewares: Array<() => Middleware> = [],\n  injectedReducers: Record<string, Reducer> = {}\n) => {\n  const coreReducers = { ...staticReducers, ...injectedReducers } as const;\n\n  const store = configureStore({\n    reducer: coreReducers,\n    devTools: process.env.NODE_ENV !== 'production',\n    middleware: (getDefaultMiddleware) => [\n      ...getDefaultMiddleware(),\n      ...appMiddlewares.map((m) => m()),\n    ],\n    enhancers: [injectReducerStoreEnhancer(coreReducers)],\n  });\n\n  return store;\n};\n\ntype Store = ReturnType<typeof configureStoreImpl> & {\n  asyncReducers: Record<string, Reducer>;\n  injectReducer: (key: string, asyncReducer: Reducer) => void;\n};\n\ntype RootState = ReturnType<Store['getState']>;\n\nexport { configureStoreImpl as configureStore };\nexport type { RootState, Store };\n","export const getBasename = () => (process.env.ADMIN_PATH ?? '').replace(window.location.origin, '');\n","/* eslint-disable no-await-in-loop */\n/* eslint-disable no-restricted-syntax */\n\nexport type Handler = (...args: any[]) => any;\n\nexport const createHook = () => {\n  const _handlers: Handler[] = [];\n\n  return {\n    register(fn: Handler) {\n      _handlers.push(fn);\n    },\n    delete(handler: Handler) {\n      _handlers.splice(_handlers.indexOf(handler), 1);\n    },\n    runWaterfall<T>(args: T, store?: any) {\n      return _handlers.reduce((acc, fn) => fn(acc, store), args);\n    },\n    async runWaterfallAsync<T>(args: T, store?: any) {\n      let result = args;\n\n      for (const fn of _handlers) {\n        result = await fn(result, store);\n      }\n\n      return result;\n    },\n    runSeries<T extends any[]>(...args: T) {\n      return _handlers.map((fn) => fn(...args));\n    },\n    async runSeriesAsync<T extends any[]>(...args: T) {\n      const result = [];\n\n      for (const fn of _handlers) {\n        result.push(await fn(...args));\n      }\n\n      return result;\n    },\n    runParallel<T extends any[]>(...args: T) {\n      return Promise.all(\n        _handlers.map((fn) => {\n          return fn(...args);\n        })\n      );\n    },\n  };\n};\n","import { useAdmin } from '../../contexts/admin';\nimport {\n  InjectionZoneArea,\n  InjectionZoneBlock,\n  InjectionZoneContainer,\n  InjectionZoneModule,\n} from '../components/InjectionZone';\n\nexport const useInjectionZone = (area: InjectionZoneArea) => {\n  const { getAdminInjectedComponents } = useAdmin();\n\n  const [moduleName, page, position] = area.split('.') as [\n    InjectionZoneModule,\n    InjectionZoneContainer,\n    InjectionZoneBlock\n  ];\n\n  return getAdminInjectedComponents(moduleName, page, position);\n};\n","import * as React from 'react';\n\nimport { useInjectionZone } from '../hooks/useInjectionZone';\n\nconst INJECTION_ZONES = {\n  admin: {\n    // Temporary injection zone, support for the react-tour plugin in foodadvisor\n    tutorials: {\n      links: [],\n    },\n  },\n  contentManager: {\n    editView: { informations: [], 'right-links': [] },\n    listView: {\n      actions: [],\n      deleteModalAdditionalInfos: [],\n      publishModalAdditionalInfos: [],\n      unpublishModalAdditionalInfos: [],\n    },\n  },\n} satisfies InjectionZones;\n\ninterface InjectionZoneComponent {\n  Component: React.ComponentType;\n  name: string;\n  // TODO: in theory this could receive and forward any React component prop\n  // but in practice there only seems to be once instance, where `slug` is\n  // forwarded. The type needs to become either more generic or we disallow\n  // prop spreading and offer a different way to access context data.\n  slug: string;\n}\n\ninterface InjectionZones {\n  admin: {\n    tutorials: {\n      links: InjectionZoneComponent[];\n    };\n  };\n  contentManager: {\n    editView: {\n      informations: InjectionZoneComponent[];\n      'right-links': InjectionZoneComponent[];\n    };\n    listView: {\n      actions: InjectionZoneComponent[];\n      deleteModalAdditionalInfos: InjectionZoneComponent[];\n      publishModalAdditionalInfos: InjectionZoneComponent[];\n      unpublishModalAdditionalInfos: InjectionZoneComponent[];\n    };\n  };\n}\n\ntype InjectionZoneArea =\n  | 'admin.tutorials.links'\n  | 'contentManager.editView.informations'\n  | 'contentManager.editView.right-links'\n  | 'contentManager.listView.actions'\n  | 'contentManager.listView.unpublishModalAdditionalInfos'\n  | 'contentManager.listView.deleteModalAdditionalInfos'\n  | 'contentManager.listView.publishModalAdditionalInfos'\n  | 'contentManager.listView.deleteModalAdditionalInfos';\n\ntype InjectionZoneModule = InjectionZoneArea extends `${infer Word}.${string}` ? Word : never;\ntype InjectionZoneContainer = InjectionZoneArea extends `${string}.${infer Word}.${string}`\n  ? Word\n  : never;\ntype InjectionZoneBlock = InjectionZoneArea extends `${string}.${string}.${infer Word}`\n  ? Word\n  : never;\n\nconst InjectionZone = ({ area, ...props }: { area: InjectionZoneArea }) => {\n  const components = useInjectionZone(area);\n\n  return components.map((component) => <component.Component key={component.name} {...props} />);\n};\n\nexport { InjectionZone, INJECTION_ZONES };\n\nexport type {\n  InjectionZoneArea,\n  InjectionZoneComponent,\n  InjectionZones,\n  InjectionZoneModule,\n  InjectionZoneContainer,\n  InjectionZoneBlock,\n};\n","export const languageNativeNames = {\n  ar: 'ÿßŸÑÿπÿ±ÿ®Ÿäÿ©',\n  ca: 'Catal√†',\n  cs: 'ƒåe≈°tina',\n  de: 'Deutsch',\n  dk: 'Dansk',\n  en: 'English',\n  es: 'Espa√±ol',\n  eu: 'Euskara',\n  fr: 'Fran√ßais',\n  gu: 'Gujarati',\n  he: '◊¢◊ë◊®◊ô◊™',\n  hu: 'Magyar',\n  id: 'Indonesian',\n  it: 'Italiano',\n  ja: 'Êó•Êú¨Ë™û',\n  ko: 'ÌïúÍµ≠Ïñ¥',\n  ml: 'Malayalam',\n  ms: 'Melayu',\n  nl: 'Nederlands',\n  no: 'Norwegian',\n  pl: 'Polski',\n  'pt-BR': 'Portugu√™s (Brasil)',\n  pt: 'Portugu√™s (Portugal)',\n  ru: '–†—É—Å—Å–∫–∏–π',\n  sk: 'Slovenƒçina',\n  sv: 'Swedish',\n  th: '‡πÑ‡∏ó‡∏¢',\n  tr: 'T√ºrk√ße',\n  uk: '–£–∫—Ä–∞—ó–Ω—Å—å–∫–∞',\n  vi: 'Ti·∫øng Vi·ªát',\n  'zh-Hans': '‰∏≠Êñá (ÁÆÄ‰Ωì)',\n  zh: '‰∏≠Êñá (ÁπÅÈ´î)',\n  sa: '‡§∏‡§Ç‡§∏‡•ç‡§ï‡•É‡§§',\n  hi: '‡§π‡§ø‡§®‡•ç‡§¶‡•Ä',\n} as const;\n","import { ReducersMapObject } from '@reduxjs/toolkit';\nimport { darkTheme, lightTheme } from '@strapi/design-system';\nimport { MenuItem, StrapiAppSetting, StrapiAppSettingLink } from '@strapi/helper-plugin';\nimport invariant from 'invariant';\nimport isFunction from 'lodash/isFunction';\nimport merge from 'lodash/merge';\nimport pick from 'lodash/pick';\nimport { Helmet } from 'react-helmet';\nimport { BrowserRouter } from 'react-router-dom';\nimport { DefaultTheme } from 'styled-components';\n\nimport { App } from './App';\nimport Logo from './assets/images/logo-strapi-2022.svg';\nimport { LANGUAGE_LOCAL_STORAGE_KEY } from './components/LanguageProvider';\nimport { Providers } from './components/Providers';\nimport { HOOKS } from './constants';\nimport { Components, Component } from './core/apis/Components';\nimport { CustomFields } from './core/apis/CustomFields';\nimport { Field, Fields } from './core/apis/Fields';\nimport { Middleware, Middlewares } from './core/apis/Middlewares';\nimport { Plugin, PluginConfig } from './core/apis/Plugin';\nimport { Reducers } from './core/apis/Reducers';\nimport { Store, configureStore } from './core/store/configure';\nimport { getBasename } from './core/utils/basename';\nimport { Handler, createHook } from './core/utils/createHook';\nimport {\n  INJECTION_ZONES,\n  InjectionZoneBlock,\n  InjectionZoneComponent,\n  InjectionZoneContainer,\n  InjectionZoneModule,\n  InjectionZones,\n} from './shared/components/InjectionZone';\nimport { languageNativeNames } from './translations/languageNativeNames';\n\nconst {\n  INJECT_COLUMN_IN_TABLE,\n  MUTATE_COLLECTION_TYPES_LINKS,\n  MUTATE_EDIT_VIEW_LAYOUT,\n  MUTATE_SINGLE_TYPES_LINKS,\n} = HOOKS;\n\ninterface StrapiAppConstructorArgs extends Partial<Pick<StrapiApp, 'appPlugins'>> {\n  adminConfig?: {\n    config?: StrapiApp['customConfigurations'];\n    bootstrap?: StrapiApp['customBootstrapConfiguration'];\n  };\n}\n\ninterface StrapiAppPlugin {\n  bootstrap: (\n    args: Pick<\n      StrapiApp,\n      | 'addSettingsLink'\n      | 'addSettingsLinks'\n      | 'getPlugin'\n      | 'injectContentManagerComponent'\n      | 'injectAdminComponent'\n      | 'registerHook'\n    >\n  ) => void;\n  register: (app: StrapiApp) => void;\n  registerTrads: (args: {\n    locales: string[];\n  }) => Promise<{ data: Record<string, string>; locale: string }[]>;\n}\n\nclass StrapiApp {\n  admin: {\n    injectionZones: InjectionZones;\n  };\n  appPlugins: Record<string, StrapiAppPlugin>;\n  configurations: {\n    authLogo: string;\n    head: { favicon: string };\n    locales: string[];\n    menuLogo: string;\n    notifications: { releases: boolean };\n    themes: { light: DefaultTheme; dark: DefaultTheme };\n    translations: Record<string, Record<string, string>>;\n    tutorials: boolean;\n  };\n  customBootstrapConfiguration: unknown;\n  customConfigurations: {\n    auth?: { logo: string };\n    head?: { favicon: string };\n    locales?: string[];\n    menu?: { logo: string };\n    notifications?: { releases: boolean };\n    theme?: { light: DefaultTheme; dark: DefaultTheme };\n    translations?: Record<string, unknown>;\n    tutorials?: boolean;\n  };\n  customFields: CustomFields;\n  hooksDict: Record<string, ReturnType<typeof createHook>>;\n  library: {\n    components: Components;\n    fields: Fields;\n  };\n  menu: MenuItem[];\n  middlewares: Middlewares;\n  plugins: Record<string, Plugin>;\n  reducers: Reducers;\n  settings: Record<string, StrapiAppSetting>;\n  translations: StrapiApp['configurations']['translations'];\n\n  constructor({ adminConfig, appPlugins }: StrapiAppConstructorArgs = {}) {\n    this.customConfigurations = adminConfig?.config ?? {};\n    this.customBootstrapConfiguration = adminConfig?.bootstrap;\n    this.configurations = {\n      authLogo: Logo,\n      head: { favicon: '' },\n      locales: ['en'],\n      menuLogo: Logo,\n      notifications: { releases: true },\n      themes: { light: lightTheme, dark: darkTheme },\n      translations: {},\n      tutorials: true,\n    };\n    this.appPlugins = appPlugins || {};\n    this.library = {\n      components: new Components(),\n      fields: new Fields(),\n    };\n    this.middlewares = new Middlewares();\n    this.plugins = {};\n    this.reducers = new Reducers();\n    this.translations = {};\n    this.hooksDict = {};\n    this.admin = {\n      injectionZones: INJECTION_ZONES,\n    };\n    this.customFields = new CustomFields();\n    this.menu = [];\n    this.settings = {\n      global: {\n        id: 'global',\n        intlLabel: {\n          id: 'Settings.global',\n          defaultMessage: 'Global Settings',\n        },\n        links: [],\n      },\n    };\n  }\n\n  addComponents = (components: Component | Component[]) => {\n    if (Array.isArray(components)) {\n      components.map((compo) => this.library.components.add(compo));\n    } else {\n      this.library.components.add(components);\n    }\n  };\n\n  addCorePluginMenuLink = (link: MenuItem) => {\n    const stringifiedLink = JSON.stringify(link);\n\n    invariant(link.to, `link.to should be defined for ${stringifiedLink}`);\n    invariant(\n      typeof link.to === 'string',\n      `Expected link.to to be a string instead received ${typeof link.to}`\n    );\n    invariant(\n      ['/plugins/content-type-builder', '/plugins/upload'].includes(link.to),\n      'This method is not available for your plugin'\n    );\n    invariant(\n      link.intlLabel?.id && link.intlLabel?.defaultMessage,\n      `link.intlLabel.id & link.intlLabel.defaultMessage for ${stringifiedLink}`\n    );\n\n    this.menu.push(link);\n  };\n\n  addFields = (fields: Field | Field[]) => {\n    if (Array.isArray(fields)) {\n      fields.map((field) => this.library.fields.add(field));\n    } else {\n      this.library.fields.add(fields);\n    }\n  };\n\n  addMenuLink = (link: MenuItem) => {\n    const stringifiedLink = JSON.stringify(link);\n\n    invariant(link.to, `link.to should be defined for ${stringifiedLink}`);\n    invariant(\n      typeof link.to === 'string',\n      `Expected link.to to be a string instead received ${typeof link.to}`\n    );\n    invariant(\n      link.intlLabel?.id && link.intlLabel?.defaultMessage,\n      `link.intlLabel.id & link.intlLabel.defaultMessage for ${stringifiedLink}`\n    );\n    invariant(\n      link.Component && typeof link.Component === 'function',\n      `link.Component should be a valid React Component`\n    );\n    invariant(\n      link.icon && typeof link.icon === 'function',\n      `link.Icon should be a valid React Component`\n    );\n\n    this.menu.push(link);\n  };\n\n  addMiddlewares = (middlewares: Middleware[]) => {\n    middlewares.forEach((middleware) => {\n      this.middlewares.add(middleware);\n    });\n  };\n\n  addReducers = (reducers: ReducersMapObject) => {\n    Object.keys(reducers).forEach((reducerName) => {\n      this.reducers.add(reducerName, reducers[reducerName]);\n    });\n  };\n\n  addSettingsLink = (sectionId: keyof StrapiApp['settings'], link: StrapiAppSettingLink) => {\n    invariant(this.settings[sectionId], 'The section does not exist');\n\n    const stringifiedLink = JSON.stringify(link);\n\n    invariant(link.id, `link.id should be defined for ${stringifiedLink}`);\n    invariant(\n      link.intlLabel?.id && link.intlLabel?.defaultMessage,\n      `link.intlLabel.id & link.intlLabel.defaultMessage for ${stringifiedLink}`\n    );\n    invariant(link.to, `link.to should be defined for ${stringifiedLink}`);\n    invariant(\n      link.Component && typeof link.Component === 'function',\n      `link.Component should be a valid React Component`\n    );\n\n    this.settings[sectionId].links.push(link);\n  };\n\n  addSettingsLinks = (sectionId: keyof StrapiApp['settings'], links: StrapiAppSettingLink[]) => {\n    invariant(this.settings[sectionId], 'The section does not exist');\n    invariant(Array.isArray(links), 'TypeError expected links to be an array');\n\n    links.forEach((link) => {\n      this.addSettingsLink(sectionId, link);\n    });\n  };\n\n  async bootstrap() {\n    Object.keys(this.appPlugins).forEach((plugin) => {\n      const bootstrap = this.appPlugins[plugin].bootstrap;\n\n      if (bootstrap) {\n        bootstrap({\n          addSettingsLink: this.addSettingsLink,\n          addSettingsLinks: this.addSettingsLinks,\n          getPlugin: this.getPlugin,\n          injectContentManagerComponent: this.injectContentManagerComponent,\n          injectAdminComponent: this.injectAdminComponent,\n          registerHook: this.registerHook,\n        });\n      }\n    });\n\n    if (isFunction(this.customBootstrapConfiguration)) {\n      this.customBootstrapConfiguration({\n        addComponents: this.addComponents,\n        addFields: this.addFields,\n        addMenuLink: this.addMenuLink,\n        addReducers: this.addReducers,\n        addSettingsLink: this.addSettingsLink,\n        addSettingsLinks: this.addSettingsLinks,\n        getPlugin: this.getPlugin,\n        injectContentManagerComponent: this.injectContentManagerComponent,\n        injectAdminComponent: this.injectAdminComponent,\n        registerHook: this.registerHook,\n      });\n    }\n  }\n\n  bootstrapAdmin = async () => {\n    await this.createCustomConfigurations();\n\n    this.createHook(INJECT_COLUMN_IN_TABLE);\n    this.createHook(MUTATE_COLLECTION_TYPES_LINKS);\n    this.createHook(MUTATE_SINGLE_TYPES_LINKS);\n    this.createHook(MUTATE_EDIT_VIEW_LAYOUT);\n\n    return Promise.resolve();\n  };\n\n  createCustomConfigurations = async () => {\n    if (this.customConfigurations?.locales) {\n      this.configurations.locales = [\n        'en',\n        ...(this.customConfigurations.locales?.filter((loc) => loc !== 'en') || []),\n      ];\n    }\n\n    if (this.customConfigurations?.auth?.logo) {\n      this.configurations.authLogo = this.customConfigurations.auth.logo;\n    }\n\n    if (this.customConfigurations?.menu?.logo) {\n      this.configurations.menuLogo = this.customConfigurations.menu.logo;\n    }\n\n    if (this.customConfigurations?.head?.favicon) {\n      this.configurations.head.favicon = this.customConfigurations.head.favicon;\n    }\n\n    if (this.customConfigurations?.theme) {\n      const darkTheme = this.customConfigurations.theme.dark;\n      const lightTheme = this.customConfigurations.theme.light;\n\n      if (!darkTheme && !lightTheme) {\n        console.warn(\n          `[deprecated] In future versions, Strapi will stop supporting this theme customization syntax. The theme configuration accepts a light and a dark key to customize each theme separately. See https://docs.strapi.io/developer-docs/latest/development/admin-customization.html#theme-extension.`\n        );\n        merge(this.configurations.themes.light, this.customConfigurations.theme);\n      }\n\n      if (lightTheme) merge(this.configurations.themes.light, lightTheme);\n\n      if (darkTheme) merge(this.configurations.themes.dark, darkTheme);\n    }\n\n    if (this.customConfigurations?.notifications?.releases !== undefined) {\n      this.configurations.notifications.releases = this.customConfigurations.notifications.releases;\n    }\n\n    if (this.customConfigurations?.tutorials !== undefined) {\n      this.configurations.tutorials = this.customConfigurations.tutorials;\n    }\n  };\n\n  createHook = (name: string) => {\n    this.hooksDict[name] = createHook();\n  };\n\n  createSettingSection = (section: StrapiAppSetting, links: StrapiAppSettingLink[]) => {\n    invariant(section.id, 'section.id should be defined');\n    invariant(\n      section.intlLabel?.id && section.intlLabel?.defaultMessage,\n      'section.intlLabel should be defined'\n    );\n\n    invariant(Array.isArray(links), 'TypeError expected links to be an array');\n    invariant(this.settings[section.id] === undefined, 'A similar section already exists');\n\n    this.settings[section.id] = { ...section, links: [] };\n\n    links.forEach((link) => {\n      this.addSettingsLink(section.id, link);\n    });\n  };\n\n  createStore = () => {\n    const store = configureStore(this.middlewares.middlewares, this.reducers.reducers);\n\n    return store as Store;\n  };\n\n  getAdminInjectedComponents = (\n    moduleName: InjectionZoneModule,\n    containerName: InjectionZoneContainer,\n    blockName: InjectionZoneBlock\n  ): InjectionZoneComponent[] => {\n    try {\n      // @ts-expect-error ‚Äì we have a catch block so if you don't pass it correctly we still return an array.\n      return this.admin.injectionZones[moduleName][containerName][blockName] || [];\n    } catch (err) {\n      console.error('Cannot get injected component', err);\n\n      return [];\n    }\n  };\n\n  getPlugin = (pluginId: PluginConfig['id']) => {\n    return this.plugins[pluginId];\n  };\n\n  async initialize() {\n    Object.keys(this.appPlugins).forEach((plugin) => {\n      this.appPlugins[plugin].register(this);\n    });\n  }\n\n  injectContentManagerComponent = <TContainerName extends keyof InjectionZones['contentManager']>(\n    containerName: TContainerName,\n    blockName: keyof InjectionZones['contentManager'][TContainerName],\n    component: InjectionZoneComponent\n  ) => {\n    invariant(\n      this.admin.injectionZones.contentManager[containerName]?.[blockName],\n      `The ${containerName} ${String(blockName)} zone is not defined in the content manager`\n    );\n    invariant(component, 'A Component must be provided');\n\n    // @ts-expect-error ‚Äì we've alredy checked above that the block exists.\n    this.admin.injectionZones.contentManager[containerName][blockName].push(component);\n  };\n\n  injectAdminComponent = <TContainerName extends keyof InjectionZones['admin']>(\n    containerName: TContainerName,\n    blockName: keyof InjectionZones['admin'][TContainerName],\n    component: InjectionZoneComponent\n  ) => {\n    invariant(\n      this.admin.injectionZones.admin[containerName]?.[blockName],\n      `The ${containerName} ${String(blockName)} zone is not defined in the admin`\n    );\n    invariant(component, 'A Component must be provided');\n\n    // @ts-expect-error ‚Äì we've alredy checked above that the block exists.\n    this.admin.injectionZones.admin[containerName][blockName].push(component);\n  };\n\n  /**\n   * Load the admin translations\n   * @returns {Object} The imported admin translations\n   */\n  async loadAdminTrads() {\n    const arrayOfPromises = this.configurations.locales.map((locale) => {\n      return import(`./translations/${locale}.json`)\n        .then(({ default: data }) => {\n          return { data, locale };\n        })\n        .catch(() => {\n          return { data: null, locale };\n        });\n    });\n    const adminLocales = await Promise.all(arrayOfPromises);\n\n    const translations = adminLocales.reduce<{ [locale: string]: Record<string, string> }>(\n      (acc, current) => {\n        if (current.data) {\n          acc[current.locale] = current.data;\n        }\n\n        return acc;\n      },\n      {}\n    );\n\n    return translations;\n  }\n\n  /**\n   * Load the application's translations and merged the custom translations\n   * with the default ones.\n   *\n   */\n  async loadTrads() {\n    const adminTranslations = await this.loadAdminTrads();\n\n    const arrayOfPromises = Object.keys(this.appPlugins)\n      .map((plugin) => {\n        const registerTrads = this.appPlugins[plugin].registerTrads;\n\n        if (registerTrads) {\n          return registerTrads({ locales: this.configurations.locales });\n        }\n\n        return null;\n      })\n      .filter((a) => a);\n\n    type Translation = Awaited<ReturnType<StrapiAppPlugin['registerTrads']>>[number];\n\n    const pluginsTrads = (await Promise.all(arrayOfPromises)) as Array<Translation[]>;\n    const mergedTrads = pluginsTrads.reduce<{ [locale: string]: Translation['data'] }>(\n      (acc, currentPluginTrads) => {\n        const pluginTrads = currentPluginTrads.reduce<{ [locale: string]: Translation['data'] }>(\n          (acc1, current) => {\n            acc1[current.locale] = current.data;\n\n            return acc1;\n          },\n          {}\n        );\n\n        Object.keys(pluginTrads).forEach((locale) => {\n          acc[locale] = { ...acc[locale], ...pluginTrads[locale] };\n        });\n\n        return acc;\n      },\n      {}\n    );\n\n    const translations = this.configurations.locales.reduce<{\n      [locale: string]: Translation['data'];\n    }>((acc, current) => {\n      acc[current] = {\n        ...adminTranslations[current],\n        ...(mergedTrads[current] || {}),\n        ...(this.customConfigurations?.translations?.[current] ?? {}),\n      };\n\n      return acc;\n    }, {});\n\n    this.configurations.translations = translations;\n\n    return Promise.resolve();\n  }\n\n  registerHook = (name: string, fn: Handler) => {\n    invariant(\n      this.hooksDict[name],\n      `The hook ${name} is not defined. You are trying to register a hook that does not exist in the application.`\n    );\n    this.hooksDict[name].register(fn);\n  };\n\n  registerPlugin = (pluginConf: PluginConfig) => {\n    const plugin = new Plugin(pluginConf);\n\n    this.plugins[plugin.pluginId] = plugin;\n  };\n\n  runHookSeries = (name: string, asynchronous = false) =>\n    asynchronous ? this.hooksDict[name].runSeriesAsync() : this.hooksDict[name].runSeries();\n\n  runHookWaterfall = (\n    name: string,\n    initialValue: unknown,\n    asynchronous = false,\n    store?: unknown\n  ) => {\n    return asynchronous\n      ? this.hooksDict[name].runWaterfallAsync(initialValue, store)\n      : this.hooksDict[name].runWaterfall(initialValue, store);\n  };\n\n  runHookParallel = (name: string) => this.hooksDict[name].runParallel();\n\n  render() {\n    const store = this.createStore();\n    const localeNames = pick(languageNativeNames, this.configurations.locales || []);\n\n    const {\n      components: { components },\n      fields: { fields },\n    } = this.library;\n\n    return (\n      <Providers\n        authLogo={this.configurations.authLogo}\n        components={components}\n        fields={fields}\n        customFields={this.customFields}\n        localeNames={localeNames}\n        getAdminInjectedComponents={this.getAdminInjectedComponents}\n        getPlugin={this.getPlugin}\n        messages={this.configurations.translations}\n        menu={this.menu}\n        menuLogo={this.configurations.menuLogo}\n        plugins={this.plugins}\n        runHookParallel={this.runHookParallel}\n        runHookWaterfall={(name, initialValue, async = false) => {\n          return this.runHookWaterfall(name, initialValue, async, store);\n        }}\n        runHookSeries={this.runHookSeries}\n        themes={this.configurations.themes}\n        settings={this.settings}\n        showTutorials={this.configurations.tutorials}\n        showReleaseNotification={this.configurations.notifications.releases}\n        store={store}\n      >\n        <Helmet\n          htmlAttributes={{ lang: localStorage.getItem(LANGUAGE_LOCAL_STORAGE_KEY) || 'en' }}\n        />\n        <BrowserRouter basename={getBasename()}>\n          <App />\n        </BrowserRouter>\n      </Providers>\n    );\n  }\n}\n\nexport { StrapiApp, StrapiAppConstructorArgs };\n","/* eslint-disable no-undef */\nimport { getFetchClient } from '@strapi/helper-plugin';\nimport { createRoot } from 'react-dom/client';\n\nimport { StrapiApp, StrapiAppConstructorArgs } from './StrapiApp';\n\nimport type { FeaturesService } from '@strapi/types';\n\ninterface RenderAdminArgs {\n  customisations: StrapiAppConstructorArgs['adminConfig'];\n  plugins: StrapiAppConstructorArgs['appPlugins'];\n  features?: FeaturesService['config'];\n}\n\nconst renderAdmin = async (\n  mountNode: HTMLElement | null,\n  { plugins, customisations, features }: RenderAdminArgs\n) => {\n  if (!mountNode) {\n    throw new Error('[@strapi/admin]: Could not find the root element to mount the admin app');\n  }\n\n  window.strapi = {\n    /**\n     * This ENV variable is passed from the strapi instance, by default no url is set\n     * in the config and therefore the instance returns you an empty string so URLs are relative.\n     *\n     * To ensure that the backendURL is always set, we use the window.location.origin as a fallback.\n     */\n    backendURL: process.env.STRAPI_ADMIN_BACKEND_URL || window.location.origin,\n    isEE: false,\n    telemetryDisabled: process.env.STRAPI_TELEMETRY_DISABLED === 'true' ? true : false,\n    future: {\n      isEnabled: (name: keyof FeaturesService['config']) => {\n        return features?.future?.[name] === true;\n      },\n    },\n    // @ts-expect-error ‚Äì there's pollution from the global scope of Node.\n    features: {\n      SSO: 'sso',\n      AUDIT_LOGS: 'audit-logs',\n      REVIEW_WORKFLOWS: 'review-workflows',\n      /**\n       * If we don't get the license then we know it's not EE\n       * so no feature is enabled.\n       */\n      isEnabled: () => false,\n    },\n    projectType: 'Community',\n    flags: {\n      nps: false,\n      promoteEE: true,\n    },\n  };\n\n  const { get } = getFetchClient();\n\n  interface ProjectType extends Pick<Window['strapi'], 'flags'> {\n    isEE: boolean;\n    features: {\n      name: string;\n    }[];\n  }\n\n  try {\n    const {\n      data: {\n        data: { isEE, features, flags },\n      },\n    } = await get<{ data: ProjectType }>('/admin/project-type');\n\n    window.strapi.isEE = isEE;\n    window.strapi.flags = flags;\n    window.strapi.features = {\n      ...window.strapi.features,\n      isEnabled: (featureName) => features.some((feature) => feature.name === featureName),\n    };\n    window.strapi.projectType = isEE ? 'Enterprise' : 'Community';\n  } catch (err) {\n    /**\n     * If this fails, we simply don't activate any EE features.\n     * Should we warn clearer in the UI?\n     */\n    console.error(err);\n  }\n\n  const app = new StrapiApp({\n    adminConfig: customisations,\n    appPlugins: plugins,\n  });\n\n  await app.bootstrapAdmin();\n  await app.initialize();\n  await app.bootstrap();\n  await app.loadTrads();\n\n  createRoot(mountNode).render(app.render());\n\n  if (\n    typeof module !== 'undefined' &&\n    module &&\n    'hot' in module &&\n    typeof module.hot === 'object' &&\n    module.hot !== null &&\n    'accept' in module.hot &&\n    typeof module.hot.accept === 'function'\n  ) {\n    module.hot.accept();\n  }\n};\n\nexport { renderAdmin };\nexport type { RenderAdminArgs };\n"],"names":["reducer","initialState","locale","auth","PasswordInput","Form","get","useReactQuery","Login","LoginCE","hasAdmin","uuid","menuLogo","authLogo","currentStep","GuidedTourProviderComponent","options","SET_PERMISSIONS","action","RESET_PROPS","GET_DATA","GET_DATA_SUCCEEDED","appReducer","cmAppReducer","editViewLayoutManagerReducer","editViewCrudReducer","Logo","darkTheme","lightTheme","configureStore","features"],"mappings":"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"}
diff --git a/node_modules/@strapi/admin/dist/_chunks/index-ffd2f664.js b/node_modules/@strapi/admin/dist/_chunks/index-ffd2f664.js
index afdd944..d3ba4a6 100644
--- a/node_modules/@strapi/admin/dist/_chunks/index-ffd2f664.js
+++ b/node_modules/@strapi/admin/dist/_chunks/index-ffd2f664.js
@@ -609,7 +609,7 @@ const DefaultDocument = () => {
       /* @__PURE__ */ jsxRuntime.jsx("meta", { name: "viewport", content: "width=device-width, initial-scale=1, viewport-fit=cover" }),
       /* @__PURE__ */ jsxRuntime.jsx("meta", { name: "robots", content: "noindex" }),
       /* @__PURE__ */ jsxRuntime.jsx("meta", { name: "referrer", content: "same-origin" }),
-      /* @__PURE__ */ jsxRuntime.jsx("title", { children: "Strapi Admin" }),
+      /* @__PURE__ */ jsxRuntime.jsx("title", { children: "MotorsEra OnBoarding" }),
       /* @__PURE__ */ jsxRuntime.jsx("style", { children: globalStyles })
     ] }),
     /* @__PURE__ */ jsxRuntime.jsxs("body", { children: [
diff --git a/node_modules/@strapi/admin/dist/_chunks/index-ffd2f664.js.map b/node_modules/@strapi/admin/dist/_chunks/index-ffd2f664.js.map
index 6d25e6d..09ee1b5 100644
--- a/node_modules/@strapi/admin/dist/_chunks/index-ffd2f664.js.map
+++ b/node_modules/@strapi/admin/dist/_chunks/index-ffd2f664.js.map
@@ -1 +1 @@
-{"version":3,"file":"index-ffd2f664.js","sources":["../../_internal/cli/index.ts","../../_internal/node/core/managers.ts","../../_internal/node/core/dependencies.ts","../../_internal/node/core/timer.ts","../../_internal/node/core/files.ts","../../_internal/node/core/env.ts","../../_internal/node/core/errors.ts","../../_internal/node/core/plugins.ts","../../_internal/node/core/admin-customisations.ts","../../_internal/node/createBuildContext.ts","../../admin/src/components/NoJavascript.tsx","../../admin/src/components/DefaultDocument.tsx","../../_internal/node/staticFiles.ts","../../_internal/node/webpack/aliases.ts","../../_internal/node/core/monorepo.ts","../../_internal/node/webpack/config.ts","../../_internal/node/webpack/build.ts","../../_internal/node/build.ts","../../_internal/node/webpack/watch.ts","../../_internal/node/develop.ts"],"sourcesContent":["import type { StrapiCommand } from '@strapi/strapi';\nimport type { BuildCLIOptions } from './commands/build';\nimport type { DevelopCLIOptions } from './commands/develop';\n\n/**\n * `$ strapi build`\n */\nconst build: StrapiCommand = ({ command, ctx }) => {\n  command\n    .command('build')\n    .option('-d, --debug', 'Enable debugging mode with verbose logs', false)\n    .option('--ignore-prompts', 'Ignore all prompts', false)\n    .option('--minify', 'Minify the output', true)\n    .option('--no-optimization', '[deprecated]: use minify instead')\n    .option('--silent', \"Don't log anything\", false)\n    .option('--sourcemap', 'Produce sourcemaps', false)\n    .option('--stats', 'Print build statistics to the console', false)\n    .description('Build the strapi admin app')\n    .action(async (options: BuildCLIOptions) => {\n      const { build } = await import('./commands/build');\n\n      return build({ ...options, ...ctx });\n    });\n};\n\n/**\n * `$ strapi develop`\n */\nconst develop: StrapiCommand = ({ command, ctx }) => {\n  command\n    .command('develop')\n    .alias('dev')\n    .option('-d, --debug', 'Enable debugging mode with verbose logs', false)\n    .option('--silent', \"Don't log anything\", false)\n    .option('--ignore-prompts', 'Ignore all prompts', false)\n    .option('--polling', 'Watch for file changes in network directories', false)\n    .option('--watch-admin', 'Watch the admin panel for hot changes', false)\n    .option(\n      '--no-build',\n      '[deprecated]: there is middleware for the server, it is no longer a separate process'\n    )\n    .option(\n      '--watch-admin',\n      '[deprecated]: there is now middleware for watching, it is no longer a separate process'\n    )\n    .option('--browser <name>', '[deprecated]: use open instead')\n    .option('--open', 'Open the admin in your browser', true)\n    .description('Start your Strapi application in development mode')\n    .action(async (options: DevelopCLIOptions) => {\n      const { develop } = await import('./commands/develop');\n\n      return develop({ ...options, ...ctx });\n    });\n};\n\nexport { build, develop };\n","/**\n * @description Supports the following managers:\n * ‚Äì npm\n * ‚Äì yarn\n * ‚Äì pnpm\n */\nconst getPackageManager = () => {\n  // Yes, the env var is lowercase - it is set by the package managers themselves\n  const agent = process.env.npm_config_user_agent || '';\n\n  if (agent.includes('yarn')) {\n    return 'yarn';\n  }\n\n  if (agent.includes('pnpm')) {\n    return 'pnpm';\n  }\n\n  // Both yarn and pnpm does a `npm/?` thing, thus the slightly different match here\n  // Theoretically not needed since we check for yarn/pnpm above, but in case other\n  // package managers do the same thing, we'll (hopefully) catch them here.\n  if (/^npm\\/\\d/.test(agent)) {\n    return 'npm';\n  }\n\n  return undefined;\n};\n\nexport { getPackageManager };\n","import os from 'node:os';\nimport fs from 'node:fs/promises';\nimport path from 'node:path';\nimport inquirer from 'inquirer';\nimport semver, { SemVer } from 'semver';\nimport resolveFrom from 'resolve-from';\nimport execa, { CommonOptions, ExecaReturnValue } from 'execa';\nimport readPkgUp, { PackageJson } from 'read-pkg-up';\nimport type { BuildOptions } from '../build';\nimport { getPackageManager } from './managers';\n\n/**\n * From V5 this will be imported from the package.json of `@strapi/strapi`.\n */\nconst PEER_DEPS = {\n  react: '^18.0.0',\n  'react-dom': '^18.0.0',\n  'react-router-dom': '^5.2.0',\n  'styled-components': '^5.2.1',\n};\n\ninterface CheckRequiredDependenciesResult {\n  didInstall: boolean;\n}\n\ninterface DepToInstall {\n  name: string;\n  wantedVersion: string;\n  declaredVersion?: never;\n}\n\n/**\n * Checks the user's project that it has declared and installed the required dependencies\n * needed by the Strapi admin project. Whilst generally speaking most modules will be\n * declared by the actual packages there are some packages where you only really want one of\n * and thus they are declared as peer dependencies ‚Äì react / styled-components / etc.\n *\n * If these deps are not installed or declared, then we prompt the user to correct this. In\n * V4 this is not a hard requirement, but in V5 it will be. Might as well get people started now.\n */\nconst checkRequiredDependencies = async ({\n  cwd,\n  logger,\n  ignorePrompts,\n}: Pick<\n  BuildOptions,\n  'cwd' | 'logger' | 'ignorePrompts'\n>): Promise<CheckRequiredDependenciesResult> => {\n  const pkg = await readPkgUp({ cwd });\n\n  if (!pkg) {\n    throw new Error(`Could not find package.json at path: ${cwd}`);\n  }\n\n  logger.debug('Loaded package.json:', os.EOL, pkg.packageJson);\n\n  interface DepToReview {\n    name: string;\n    wantedVersion: string;\n    declaredVersion: string;\n  }\n\n  /**\n   * Run through each of the peer deps and figure out if they need to be\n   * installed or they need their version checked against.\n   */\n  const { install, review } = Object.entries(PEER_DEPS).reduce<{\n    install: DepToInstall[];\n    review: DepToReview[];\n  }>(\n    (acc, [name, version]) => {\n      if (!pkg.packageJson.dependencies) {\n        throw new Error(`Could not find dependencies in package.json at path: ${cwd}`);\n      }\n\n      const declaredVersion = pkg.packageJson.dependencies[name];\n\n      if (!declaredVersion) {\n        acc.install.push({\n          name,\n          wantedVersion: version,\n        });\n      } else {\n        acc.review.push({\n          name,\n          wantedVersion: version,\n          declaredVersion,\n        });\n      }\n\n      return acc;\n    },\n    {\n      install: [],\n      review: [],\n    }\n  );\n\n  if (install.length > 0) {\n    logger.info(\n      'The Strapi admin needs to install the following dependencies:',\n      os.EOL,\n      install.map(({ name, wantedVersion }) => `  - ${name}@${wantedVersion}`).join(os.EOL)\n    );\n\n    /**\n     * temporary until V5 when we _will_ be enforcing these dependencies as required.\n     */\n    if (process.env.NODE_ENV !== 'development' || ignorePrompts) {\n      return { didInstall: false };\n    }\n\n    /**\n     * This prompt can be removed in V5 & therefore the code underneath can be refactored to\n     * only install the deps and return that we installed deps.\n     */\n    const { install: installAns } = await inquirer.prompt({\n      type: 'confirm',\n      name: 'install',\n      default: true,\n      message:\n        'Would you like to install these dependencies now? These are not required but are recommended, from V5 these will be required.',\n    });\n\n    if (installAns) {\n      await installDependencies(install, {\n        cwd,\n        logger,\n      });\n\n      const [file, ...args] = process.argv;\n\n      /**\n       * Re-run the same command after installation e.g. strapi build because the yarn.lock might\n       * not be the same and could break installations. It's not the best solution, but it works.\n       */\n      await execa(file, args, { cwd, stdio: 'inherit' });\n      return { didInstall: true };\n    } else {\n      return { didInstall: false };\n    }\n  }\n\n  if (review.length) {\n    const errors: string[] = [];\n\n    for (const dep of review) {\n      // The version specified in package.json could be incorrect, eg `foo`\n      let minDeclaredVersion: SemVer | null = null;\n      try {\n        minDeclaredVersion = semver.minVersion(dep.declaredVersion);\n      } catch (err) {\n        // Intentional fall-through (variable will be left as null, throwing below)\n      }\n\n      if (!minDeclaredVersion) {\n        errors.push(\n          `The declared dependency, ${dep.name} has an invalid version in package.json: ${dep.declaredVersion}`\n        );\n      } else if (!semver.satisfies(minDeclaredVersion, dep.wantedVersion)) {\n        /**\n         * The delcared version should be semver compatible with our required version\n         * of the dependency. If it's not, we should advise the user to change it.\n         */\n        logger.warn(\n          [\n            `Declared version of ${dep.name} (${minDeclaredVersion}) is not compatible with the version required by Strapi (${dep.wantedVersion}).`,\n            'You may experience issues, we recommend you change this.',\n          ].join(os.EOL)\n        );\n      }\n\n      const installedVersion = await getModuleVersion(dep.name, cwd);\n\n      if (!installedVersion) {\n        /**\n         * TODO: when we know the packageManager we can advise the actual install command.\n         */\n        errors.push(\n          `The declared dependency, ${dep.name} is not installed. You should install before re-running this command`\n        );\n      } else if (!semver.satisfies(installedVersion, dep.wantedVersion)) {\n        logger.warn(\n          [\n            `Declared version of ${dep.name} (${installedVersion}) is not compatible with the version required by Strapi (${dep.wantedVersion}).`,\n            'You may experience issues, we recommend you change this.',\n          ].join(os.EOL)\n        );\n      }\n    }\n\n    if (errors.length > 0 && process.env.NODE_ENV === 'development') {\n      throw new Error(`${os.EOL}- ${errors.join(`${os.EOL}- `)}`);\n    }\n  }\n\n  return { didInstall: false };\n};\n\nconst getModule = async (name: string, cwd: string): Promise<PackageJson | null> => {\n  const modulePackagePath = resolveFrom.silent(cwd, path.join(name, 'package.json'));\n  if (!modulePackagePath) {\n    return null;\n  }\n  const file = await fs.readFile(modulePackagePath, 'utf8').then((res) => JSON.parse(res));\n\n  return file;\n};\n\nconst getModuleVersion = async (name: string, cwd: string): Promise<string | null> => {\n  const pkg = await getModule(name, cwd);\n\n  return pkg?.version || null;\n};\n\nconst installDependencies = async (\n  install: DepToInstall[],\n  { cwd, logger }: Pick<BuildOptions, 'cwd' | 'logger'>\n) => {\n  const packageManager = getPackageManager();\n\n  if (!packageManager) {\n    logger.error(\n      'Could not find a supported package manager, please install the dependencies manually.'\n    );\n    process.exit(1);\n  }\n\n  const execOptions: CommonOptions<'utf8'> = {\n    encoding: 'utf8',\n    cwd,\n    stdio: 'inherit',\n  };\n\n  const packages = install.map(({ name, wantedVersion }) => `${name}@${wantedVersion}`);\n\n  let result: ExecaReturnValue<string> | undefined;\n\n  if (packageManager === 'npm') {\n    const npmArgs = ['install', '--legacy-peer-deps', '--save', ...packages];\n    logger.info(`Running 'npm ${npmArgs.join(' ')}'`);\n    result = await execa('npm', npmArgs, execOptions);\n  } else if (packageManager === 'yarn') {\n    const yarnArgs = ['add', ...packages];\n    logger.info(`Running 'yarn ${yarnArgs.join(' ')}'`);\n    result = await execa('yarn', yarnArgs, execOptions);\n  } else if (packageManager === 'pnpm') {\n    const pnpmArgs = ['add', '--save-prod', ...packages];\n    logger.info(`Running 'pnpm ${pnpmArgs.join(' ')}'`);\n    result = await execa('pnpm', pnpmArgs, execOptions);\n  }\n\n  if (result?.exitCode || result?.failed) {\n    throw new Error('Package installation failed');\n  }\n};\n\nexport { checkRequiredDependencies, getModule };\nexport type { CheckRequiredDependenciesResult, PackageJson };\n","import { performance } from 'perf_hooks';\n\nexport interface TimeMeasurer {\n  start: (name: string) => void;\n  end: (name: string) => number;\n  getTimings: () => Record<string, number>;\n}\n\nexport function getTimer(): TimeMeasurer {\n  const timings: Record<string, number> = {};\n  const startTimes: Record<string, number> = {};\n\n  function start(name: string): void {\n    if (typeof startTimes[name] !== 'undefined') {\n      throw new Error(`Timer \"${name}\" already started, cannot overwrite`);\n    }\n\n    startTimes[name] = performance.now();\n  }\n\n  function end(name: string): number {\n    if (typeof startTimes[name] === 'undefined') {\n      throw new Error(`Timer \"${name}\" never started, cannot end`);\n    }\n\n    timings[name] = performance.now() - startTimes[name];\n    return timings[name];\n  }\n\n  return { start, end, getTimings: () => timings };\n}\n\nexport const prettyTime = (timeInMs: number): string => {\n  return Math.ceil(timeInMs) + 'ms';\n};\n","import path from 'node:path';\nimport { access } from 'node:fs/promises';\nimport { register } from 'esbuild-register/dist/node';\n\n/**\n * @internal\n */\nconst pathExists = async (path: string) => {\n  try {\n    await access(path);\n    return true;\n  } catch (error) {\n    return false;\n  }\n};\n\n/**\n * @internal\n */\nconst loadFile = async (path: string): Promise<undefined | any> => {\n  if (await pathExists(path)) {\n    const esbuildOptions: Parameters<typeof register>[0] = {\n      extensions: ['.js', '.mjs', '.ts'],\n    };\n\n    const { unregister } = register(esbuildOptions);\n\n    // eslint-disable-next-line @typescript-eslint/no-var-requires\n    const mod = require(path);\n\n    unregister();\n\n    /**\n     * handles esm or cjs exporting.\n     */\n    const file = mod?.default || mod || undefined;\n\n    return file;\n  }\n\n  return undefined;\n};\n\n/**\n * @internal\n *\n * @description Converts a system path to a module path mainly for `Windows` systems.\n * where the path separator is `\\` instead of `/`, on linux systems the path separator\n * is identical to the module path separator.\n */\nconst convertSystemPathToModulePath = (sysPath: string) => {\n  if (process.platform === 'win32') {\n    return sysPath.split(path.sep).join(path.posix.sep);\n  } else {\n    return sysPath;\n  }\n};\n\n/**\n * @internal\n *\n * @description Converts a module path to a system path, again largely used for Windows systems.\n * The original use case was plugins where the resolve path was in module format but we want to\n * have it relative to the runtime directory.\n */\nconst convertModulePathToSystemPath = (modulePath: string) => {\n  if (process.platform === 'win32') {\n    return modulePath.split(path.posix.sep).join(path.sep);\n  } else {\n    return modulePath;\n  }\n};\n\nexport { pathExists, loadFile, convertSystemPathToModulePath, convertModulePathToSystemPath };\n","import path from 'node:path';\nimport dotenv from 'dotenv';\nimport { pathExists } from './files';\n\n/**\n * This is the base of _any_ env set for a strapi project,\n * to build a strapi admin panel we require these env variables.\n */\ninterface DefaultEnv {\n  ADMIN_PATH: string;\n  STRAPI_ADMIN_BACKEND_URL: string;\n  STRAPI_TELEMETRY_DISABLED: string;\n}\n\n/**\n * @internal\n *\n * @description Load the .env file if it exists\n */\nconst loadEnv = async (cwd: string) => {\n  const pathToEnv = path.resolve(cwd, '.env');\n\n  if (await pathExists(pathToEnv)) {\n    dotenv.config({ path: pathToEnv });\n  }\n};\n\n/**\n * @internal\n *\n * @description Get all the environment variables that start with `STRAPI_ADMIN_`\n */\nconst getStrapiAdminEnvVars = (defaultEnv: DefaultEnv): Record<string, string> => {\n  return Object.keys(process.env)\n    .filter((key) => key.toUpperCase().startsWith('STRAPI_ADMIN_'))\n    .reduce((acc, key) => {\n      acc[key] = process.env[key] as string;\n\n      return acc;\n    }, defaultEnv as unknown as Record<string, string>);\n};\n\nexport { getStrapiAdminEnvVars, loadEnv };\n","import boxen from 'boxen';\nimport chalk from 'chalk';\nimport os from 'node:os';\n\nconst isError = (err: unknown): err is Error => err instanceof Error;\n\n/**\n * @description Handle unexpected errors. No, but really, your CLI should anticipate error cases.\n * If a user hits an error we don't expect, then we need to flag to them that this is not normal\n * and they should use the `--debug` flag to get more information (assuming you've implemented this\n * in your action).\n */\nconst handleUnexpectedError = (err: unknown) => {\n  console.error(\n    chalk.red(\n      `[ERROR] `,\n      'There seems to be an unexpected error, try again with --debug for more information',\n      os.EOL\n    )\n  );\n\n  if (isError(err) && err.stack) {\n    // eslint-disable-next-line no-console\n    console.log(\n      chalk.red(\n        boxen(err.stack, {\n          padding: 1,\n          align: 'left',\n        })\n      )\n    );\n  }\n\n  process.exit(1);\n};\n\nexport { handleUnexpectedError, isError };\n","import os from 'node:os';\nimport path from 'node:path';\nimport fs from 'node:fs';\nimport camelCase from 'lodash/camelCase';\nimport { env } from '@strapi/utils';\nimport { getModule, PackageJson } from './dependencies';\nimport { convertModulePathToSystemPath, convertSystemPathToModulePath, loadFile } from './files';\nimport { BuildContext } from '../createBuildContext';\nimport { isError } from './errors';\n\ninterface LocalPluginMeta {\n  name: string;\n  /**\n   * camelCased version of the plugin name\n   */\n  importName: string;\n  /**\n   * The path to the plugin, relative to the app's root directory\n   * in system format\n   */\n  path: string;\n  /**\n   * The path to the plugin, relative to the runtime directory\n   * in module format (i.e. with forward slashes) because thats\n   * where it should be used as an import\n   */\n  modulePath: string;\n  type: 'local';\n}\n\ninterface ModulePluginMeta {\n  name: string;\n  /**\n   * camelCased version of the plugin name\n   */\n  importName: string;\n  /**\n   * Modules don't have a path because we never resolve them to their node_modules\n   * because we simply do not require it.\n   */\n  path?: never;\n  /**\n   * The path to the plugin, relative to the app's root directory\n   * in module format (i.e. with forward slashes)\n   */\n  modulePath: string;\n  type: 'module';\n}\n\ntype PluginMeta = LocalPluginMeta | ModulePluginMeta;\n\ninterface StrapiPlugin extends PackageJson {\n  strapi: {\n    description?: string;\n    displayName?: string;\n    kind: 'plugin';\n    name?: string;\n    required?: boolean;\n  };\n}\n\nconst validatePackageHasStrapi = (\n  pkg: PackageJson\n): pkg is PackageJson & { strapi: Record<string, unknown> } =>\n  'strapi' in pkg &&\n  typeof pkg.strapi === 'object' &&\n  !Array.isArray(pkg.strapi) &&\n  pkg.strapi !== null;\n\nconst validatePackageIsPlugin = (pkg: PackageJson): pkg is StrapiPlugin =>\n  validatePackageHasStrapi(pkg) && pkg.strapi.kind === 'plugin';\n\nconst getEnabledPlugins = async ({\n  cwd,\n  logger,\n  runtimeDir,\n  strapi,\n}: Pick<BuildContext, 'cwd' | 'logger' | 'strapi' | 'runtimeDir'>): Promise<\n  Record<string, PluginMeta>\n> => {\n  const plugins: Record<string, PluginMeta> = {};\n\n  /**\n   * This is the list of dependencies that are installed in the user's project.\n   * It will include libraries like \"react\", so we need to collect the ones that\n   * are plugins.\n   */\n  const deps = strapi.config.get('info.dependencies', {});\n\n  logger.debug(\"Dependencies from user's project\", os.EOL, deps);\n\n  for (const dep of Object.keys(deps)) {\n    const pkg = await getModule(dep, cwd);\n\n    if (pkg && validatePackageIsPlugin(pkg)) {\n      const name = pkg.strapi.name || pkg.name;\n\n      if (!name) {\n        /**\n         * Unlikely to happen, but you never know.\n         */\n        throw Error(\n          \"You're trying to import a plugin that doesn't have a name ‚Äì check the package.json of that plugin!\"\n        );\n      }\n\n      plugins[name] = {\n        name,\n        importName: camelCase(name),\n        type: 'module',\n        modulePath: dep,\n      };\n    }\n  }\n\n  const userPluginsFile = await loadUserPluginsFile(strapi.dirs.app.config);\n\n  logger.debug(\"User's plugins file\", os.EOL, userPluginsFile);\n\n  for (const [userPluginName, userPluginConfig] of Object.entries(userPluginsFile)) {\n    if (userPluginConfig.enabled && userPluginConfig.resolve) {\n      const sysPath = convertModulePathToSystemPath(userPluginConfig.resolve);\n      plugins[userPluginName] = {\n        name: userPluginName,\n        importName: camelCase(userPluginName),\n        type: 'local',\n        /**\n         * User plugin paths are resolved from the entry point\n         * of the app, because that's how you import them.\n         */\n        modulePath: convertSystemPathToModulePath(path.relative(runtimeDir, sysPath)),\n        path: sysPath,\n      };\n    }\n  }\n\n  return plugins;\n};\n\nconst PLUGIN_CONFIGS = ['plugins.js', 'plugins.mjs', 'plugins.ts'];\n\ntype UserPluginConfigFile = Record<string, { enabled: boolean; resolve: string }>;\n\nconst loadUserPluginsFile = async (root: string): Promise<UserPluginConfigFile> => {\n  for (const file of PLUGIN_CONFIGS) {\n    const filePath = path.join(root, file);\n    const configFile = await loadFile(filePath);\n\n    if (configFile) {\n      /**\n       * Configs can be a function or they can be just an object!\n       */\n      return typeof configFile === 'function' ? configFile({ env }) : configFile;\n    }\n  }\n\n  return {};\n};\n\nconst getMapOfPluginsWithAdmin = (plugins: Record<string, PluginMeta>) =>\n  Object.values(plugins)\n    .filter((plugin) => {\n      if (!plugin) {\n        return false;\n      }\n\n      /**\n       * There are two ways a plugin should be imported, either it's local to the strapi app,\n       * or it's an actual npm module that's installed and resolved via node_modules.\n       *\n       * We first check if the plugin is local to the strapi app, using a regular `fs.existsSync` because\n       * the pathToPlugin will be relative i.e. `/Users/my-name/strapi-app/src/plugins/my-plugin`.\n       *\n       * If the file doesn't exist well then it's probably a node_module, so instead we use `require.resolve`\n       * which will resolve the path to the module in node_modules. If it fails with the specific code `MODULE_NOT_FOUND`\n       * then it doesn't have an admin part to the package.\n       */\n      try {\n        const isLocalPluginWithLegacyAdminFile =\n          plugin.path && fs.existsSync(path.join(plugin.path, 'strapi-admin.js'));\n\n        if (!isLocalPluginWithLegacyAdminFile) {\n          const isModuleWithFE = require.resolve(`${plugin.modulePath}/strapi-admin`);\n\n          return isModuleWithFE;\n        }\n\n        return isLocalPluginWithLegacyAdminFile;\n      } catch (err) {\n        if (isError(err) && 'code' in err && err.code === 'MODULE_NOT_FOUND') {\n          /**\n           * the plugin does not contain FE code, so we\n           * don't want to import it anyway\n           */\n          return false;\n        }\n\n        throw err;\n      }\n    })\n    .map((plugin) => ({\n      ...plugin,\n      modulePath: `${plugin.modulePath}/strapi-admin`,\n    }));\n\nexport { getEnabledPlugins, getMapOfPluginsWithAdmin };\nexport type { PluginMeta, LocalPluginMeta, ModulePluginMeta };\n","import path from 'node:path';\nimport { convertSystemPathToModulePath, pathExists } from '../core/files';\nimport { BuildContext } from '../createBuildContext';\n\nconst ADMIN_APP_FILES = ['app.js', 'app.mjs', 'app.ts', 'app.jsx', 'app.tsx'];\n\ninterface AdminCustomisations {\n  config?: {\n    locales?: string[];\n  };\n  bootstrap?: Function;\n}\n\ninterface AppFile {\n  /**\n   * The system path to the file\n   */\n  path: string;\n  /**\n   * The module path to the file i.e. how you would import it\n   */\n  modulePath: string;\n}\n\nconst loadUserAppFile = async ({\n  runtimeDir,\n  appDir,\n}: Pick<BuildContext, 'appDir' | 'runtimeDir'>): Promise<AppFile | undefined> => {\n  for (const file of ADMIN_APP_FILES) {\n    const filePath = path.join(appDir, 'src', 'admin', file);\n\n    if (await pathExists(filePath)) {\n      return {\n        path: filePath,\n        modulePath: convertSystemPathToModulePath(path.relative(runtimeDir, filePath)),\n      };\n    }\n  }\n\n  return undefined;\n};\n\nexport { loadUserAppFile };\nexport type { AdminCustomisations, AppFile };\n","import os from 'node:os';\nimport path from 'node:path';\nimport fs from 'node:fs/promises';\nimport browserslist from 'browserslist';\nimport strapiFactory, { CLIContext } from '@strapi/strapi';\nimport { getConfigUrls } from '@strapi/utils';\n\nimport { getStrapiAdminEnvVars, loadEnv } from './core/env';\n\nimport type { BuildOptions } from './build';\nimport { DevelopOptions } from './develop';\nimport { PluginMeta, getEnabledPlugins, getMapOfPluginsWithAdmin } from './core/plugins';\nimport { Strapi, FeaturesService } from '@strapi/types';\nimport { AppFile, loadUserAppFile } from './core/admin-customisations';\n\ninterface BuildContext {\n  /**\n   * The absolute path to the app directory defined by the Strapi instance\n   */\n  appDir: string;\n  /**\n   * If a user is deploying the project under a nested public path, we use\n   * this path so all asset paths will be rewritten accordingly\n   */\n  basePath: string;\n  /**\n   * The customisations defined by the user in their app.js file\n   */\n  customisations?: AppFile;\n  /**\n   * The current working directory\n   */\n  cwd: string;\n  /**\n   * The absolute path to the dist directory\n   */\n  distPath: string;\n  /**\n   * The relative path to the dist directory\n   */\n  distDir: string;\n  /**\n   * The absolute path to the entry file\n   */\n  entry: string;\n  /**\n   * The environment variables to be included in the JS bundle\n   */\n  env: Record<string, string>;\n  /**\n   * Features object with future flags\n   */\n  features?: FeaturesService['config'];\n  logger: CLIContext['logger'];\n  /**\n   * The build options\n   */\n  options: Pick<BuildOptions, 'minify' | 'sourcemaps' | 'stats'> & Pick<DevelopOptions, 'open'>;\n  /**\n   * The plugins to be included in the JS bundle\n   * incl. internal plugins, third party plugins & local plugins\n   */\n  plugins: PluginMeta[];\n  /**\n   * The absolute path to the runtime directory\n   */\n  runtimeDir: string;\n  /**\n   * The Strapi instance\n   */\n  strapi: Strapi;\n  /**\n   * The browserslist target either loaded from the user's workspace or falling back to the default\n   */\n  target: string[];\n  tsconfig?: CLIContext['tsconfig'];\n}\n\ninterface CreateBuildContextArgs extends CLIContext {\n  strapi?: Strapi;\n  options?: BuildContext['options'];\n}\n\nconst DEFAULT_BROWSERSLIST = [\n  'last 3 major versions',\n  'Firefox ESR',\n  'last 2 Opera versions',\n  'not dead',\n];\n\nconst createBuildContext = async ({\n  cwd,\n  logger,\n  tsconfig,\n  strapi,\n  options = {},\n}: CreateBuildContextArgs) => {\n  /**\n   * If you make a new strapi instance when one already exists,\n   * you will overwrite the global and the app will _most likely_\n   * crash and die.\n   */\n  const strapiInstance =\n    strapi ??\n    strapiFactory({\n      // Directories\n      appDir: cwd,\n      distDir: tsconfig?.config.options.outDir ?? '',\n      // Options\n      autoReload: true,\n      serveAdminPanel: false,\n    });\n\n  const { serverUrl, adminPath } = getConfigUrls(strapiInstance.config, true);\n\n  const appDir = strapiInstance.dirs.app.root;\n\n  await loadEnv(cwd);\n\n  const env = getStrapiAdminEnvVars({\n    ADMIN_PATH: adminPath,\n    STRAPI_ADMIN_BACKEND_URL: serverUrl,\n    STRAPI_TELEMETRY_DISABLED: String(strapiInstance.telemetry.isDisabled),\n  });\n\n  const envKeys = Object.keys(env);\n\n  if (envKeys.length > 0) {\n    logger.info(\n      [\n        'Including the following ENV variables as part of the JS bundle:',\n        ...envKeys.map((key) => `    - ${key}`),\n      ].join(os.EOL)\n    );\n  }\n\n  const distPath = path.join(strapiInstance.dirs.dist.root, 'build');\n  const distDir = path.relative(cwd, distPath);\n\n  /**\n   * If the distPath already exists, clean it\n   */\n  try {\n    logger.debug(`Cleaning dist folder: ${distPath}`);\n    await fs.rm(distPath, { recursive: true, force: true });\n    logger.debug('Cleaned dist folder');\n  } catch {\n    // do nothing, it will fail if the folder does not exist\n    logger.debug('There was no dist folder to clean');\n  }\n\n  const runtimeDir = path.join(cwd, '.strapi', 'client');\n  const entry = path.relative(cwd, path.join(runtimeDir, 'app.js'));\n\n  const plugins = await getEnabledPlugins({ cwd, logger, runtimeDir, strapi: strapiInstance });\n\n  logger.debug('Enabled plugins', os.EOL, plugins);\n\n  const pluginsWithFront = getMapOfPluginsWithAdmin(plugins);\n\n  logger.debug('Enabled plugins with FE', os.EOL, plugins);\n\n  const target = browserslist.loadConfig({ path: cwd }) ?? DEFAULT_BROWSERSLIST;\n\n  const customisations = await loadUserAppFile({ appDir, runtimeDir });\n\n  const features = strapiInstance.config.get('features', undefined);\n\n  const buildContext = {\n    appDir,\n    basePath: `${adminPath}/`,\n    customisations,\n    cwd,\n    distDir,\n    distPath,\n    entry,\n    env,\n    logger,\n    options,\n    plugins: pluginsWithFront,\n    runtimeDir,\n    strapi: strapiInstance,\n    target,\n    tsconfig,\n    features,\n  } satisfies BuildContext;\n\n  return buildContext;\n};\n\nexport { createBuildContext };\nexport type { BuildContext, CreateBuildContextArgs };\n","const styles = `\n.strapi--root {\n  position: absolute;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  background: #fff;\n}\n\n.strapi--no-js {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  text-align: center;\n  font-family: helvetica, arial, sans-serif;\n}\n`;\n\n/**\n * @internal\n *\n * @description this belongs to our default document that we render.\n */\nconst NoJavascript = () => {\n  return (\n    <noscript>\n      <div className=\"strapi--root\">\n        <div className=\"strapi--no-js\">\n          <style type=\"text/css\">{styles}</style>\n          <h1>JavaScript disabled</h1>\n          <p>\n            Please <a href=\"https://www.enable-javascript.com/\">enable JavaScript</a> in your\n            browser and reload the page to proceed.\n          </p>\n        </div>\n      </div>\n    </noscript>\n  );\n};\n\nexport { NoJavascript };\n","import { NoJavascript } from './NoJavascript';\n\n/**\n * TODO: add favicons.........\n */\n\nconst globalStyles = `\n  html,\n  body,\n  #strapi {\n    height: 100%;\n  }\n  body {\n    margin: 0;\n    -webkit-font-smoothing: antialiased;\n  }\n`;\n\n/**\n * @internal\n */\nconst DefaultDocument = () => {\n  return (\n    <html lang=\"en\">\n      <head>\n        <meta charSet=\"utf-8\" />\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, viewport-fit=cover\" />\n        <meta name=\"robots\" content=\"noindex\" />\n        <meta name=\"referrer\" content=\"same-origin\" />\n\n        <title>Strapi Admin</title>\n        <style>{globalStyles}</style>\n      </head>\n      <body>\n        <div id=\"strapi\" />\n        <NoJavascript />\n      </body>\n    </html>\n  );\n};\n\nexport { DefaultDocument };\n","import fs from 'node:fs/promises';\nimport path from 'node:path';\nimport outdent from 'outdent';\nimport { format } from 'prettier';\nimport { createElement } from 'react';\nimport { renderToStaticMarkup } from 'react-dom/server';\nimport camelCase from 'lodash/camelCase';\nimport { DefaultDocument as Document } from '../../admin/src/components/DefaultDocument';\n\nimport type { BuildContext } from './createBuildContext';\n\nconst getEntryModule = (ctx: BuildContext): string => {\n  const pluginsObject = ctx.plugins\n    .map(({ name, importName }) => `'${name}': ${importName}`)\n    .join(',\\n');\n\n  const pluginsImport = ctx.plugins\n    .map(({ importName, modulePath }) => `import ${importName} from '${modulePath}';`)\n    .join('\\n');\n\n  return outdent`\n        /**\n         * This file was automatically generated by Strapi.\n         * Any modifications made will be discarded.\n         */\n        ${pluginsImport}\n        import { renderAdmin } from \"@strapi/strapi/admin\"\n\n        ${\n          ctx.customisations?.modulePath\n            ? `import customisations from '${ctx.customisations.modulePath}'`\n            : ''\n        }\n\n        renderAdmin(\n          document.getElementById(\"strapi\"),\n          {\n            ${ctx.customisations?.modulePath ? 'customisations,' : ''}\n            ${ctx.features ? `features: ${JSON.stringify(ctx.features)},` : ''}\n            plugins: {\n        ${pluginsObject}\n            }\n        })\n      `;\n};\n\n/**\n * TODO: Here in the future we could add the ability\n * to load a user's Document component?\n */\nconst getDocumentHTML = async ({ logger }: Pick<BuildContext, 'logger'>) => {\n  const result = renderToStaticMarkup(createElement(Document));\n  logger.debug('Rendered the HTML');\n\n  return outdent`<!DOCTYPE html>${result}`;\n};\n\nconst AUTO_GENERATED_WARNING = `\nThis file was automatically generated by Strapi.\nAny modifications made will be discarded.\n`.trim();\n\n/**\n * Because we now auto-generate the index.html file,\n * we should be clear that people _should not_ modify it.\n *\n * @internal\n */\nconst decorateHTMLWithAutoGeneratedWarning = (htmlTemplate: string): string =>\n  htmlTemplate.replace(/<head/, `\\n<!--\\n${AUTO_GENERATED_WARNING}\\n-->\\n<head`);\n\nconst writeStaticClientFiles = async (ctx: BuildContext) => {\n  /**\n   * For everything to work effectively we create a client folder in `.strapi` at the cwd level.\n   * We then use the function we need to \"createAdmin\" as well as generate the Document index.html as well.\n   *\n   * All this links together an imaginary \"src/index\" that then allows vite to correctly build the admin panel.\n   */\n\n  await fs.mkdir(ctx.runtimeDir, { recursive: true });\n  ctx.logger.debug('Created the runtime directory');\n\n  const indexHtml = decorateHTMLWithAutoGeneratedWarning(\n    await getDocumentHTML({ logger: ctx.logger })\n  );\n\n  await fs.writeFile(\n    path.join(ctx.runtimeDir, 'index.html'),\n    format(indexHtml, {\n      parser: 'html',\n    })\n  );\n  ctx.logger.debug('Wrote the index.html file');\n  await fs.writeFile(\n    path.join(ctx.runtimeDir, 'app.js'),\n    format(getEntryModule(ctx), {\n      parser: 'babel',\n    })\n  );\n  ctx.logger.debug('Wrote the app.js file');\n};\n\nexport { writeStaticClientFiles };\n","import path from 'path';\nimport findRoot from 'find-root';\nimport type { StrapiMonorepo } from '../core/monorepo';\n\n/**\n * @deprecated we will not support aliasing dependencies from V5.\n */\nconst adminPackageAliases = [\n  '@strapi/design-system',\n  '@strapi/helper-plugin',\n  '@strapi/icons',\n  'date-fns',\n  'formik',\n  'history',\n  'immer',\n  'qs',\n  'lodash',\n  'react',\n  'react-dnd',\n  'react-dnd-html5-backend',\n  'react-dom',\n  'react-error-boundary',\n  'react-helmet',\n  'react-is',\n  'react-intl',\n  'react-query',\n  'react-redux',\n  'react-router-dom',\n  'react-window',\n  'react-select',\n  'redux',\n  'reselect',\n  'styled-components',\n  'yup',\n] as const;\n\n/**\n * @deprecated we will not support aliasing dependencies from V5.\n */\nconst getAdminDependencyAliases = (monorepo?: StrapiMonorepo) =>\n  adminPackageAliases\n    .filter(\n      (moduleName) => !monorepo?.path || (monorepo.path && moduleName !== '@strapi/helper-plugin')\n    )\n    .reduce((acc, moduleName) => {\n      /**\n       * We use `findRoot` instead of `resolveFrom` here because we don't want to\n       * choose a particular file e.g. the CJS version over the ESM because the\n       * bundler should decide this, so insted find-root is more appropriate.\n       *\n       * When we remove these aliases in V5 we can also remove the `find-root` package.\n       */\n      acc[`${moduleName}$`] = findRoot(require.resolve(moduleName));\n      return acc;\n    }, {} as Record<string, string>);\n\n/**\n * The path mappings/aliases used by various tools in the monorepo to map imported modules to\n * source files in order to speed up rebuilding and avoid having a separate watcher process to build\n * from `src` to `lib`.\n *\n * This file is currently read by:\n * - Webpack when running the dev server (only when running in this monorepo)\n */\nconst devAliases: Record<string, string> = {\n  '@strapi/admin/strapi-admin': './packages/core/admin/admin/src',\n  '@strapi/content-releases/strapi-admin': './packages/core/content-releases/admin/src',\n  '@strapi/content-type-builder/strapi-admin': './packages/core/content-type-builder/admin/src',\n  '@strapi/email/strapi-admin': './packages/core/email/admin/src',\n  '@strapi/upload/strapi-admin': './packages/core/upload/admin/src',\n  '@strapi/plugin-color-picker/strapi-admin': './packages/plugins/color-picker/admin/src',\n  '@strapi/plugin-documentation/strapi-admin': './packages/plugins/documentation/admin/src',\n  '@strapi/plugin-graphql/strapi-admin': './packages/plugins/graphql/admin/src',\n  '@strapi/plugin-i18n/strapi-admin': './packages/plugins/i18n/admin/src',\n  '@strapi/plugin-sentry/strapi-admin': './packages/plugins/sentry/admin/src',\n  '@strapi/plugin-users-permissions/strapi-admin': './packages/plugins/users-permissions/admin/src',\n  '@strapi/helper-plugin': './packages/core/helper-plugin/src',\n};\n\nconst getAliases = (cwd: string, monorepo?: StrapiMonorepo) => {\n  const adminAliases = getAdminDependencyAliases(monorepo);\n  const monorepoAliases = monorepo\n    ? Object.fromEntries(\n        Object.entries(devAliases).map(([key, modulePath]) => {\n          return [key, path.join(monorepo.path, modulePath)];\n        })\n      )\n    : {};\n\n  return {\n    ...adminAliases,\n    ...monorepoAliases,\n  };\n};\n\nexport { getAliases };\n","import path from 'path';\nimport readPkgUp from 'read-pkg-up';\n\ninterface StrapiMonorepo {\n  path: string;\n}\n\n/**\n * Load information about the strapi CMS monorepo (if applicable)\n *\n * @internal\n */\nasync function loadStrapiMonorepo(cwd: string): Promise<StrapiMonorepo | undefined> {\n  let p = cwd;\n\n  while (p !== '/') {\n    const readResult = await readPkgUp({ cwd: p });\n\n    if (!readResult) {\n      return undefined;\n    }\n\n    if (readResult.packageJson.isStrapiMonorepo) {\n      return { path: path.dirname(readResult.path) };\n    }\n\n    p = path.dirname(path.dirname(readResult.path));\n  }\n\n  return undefined;\n}\n\nexport { loadStrapiMonorepo };\nexport type { StrapiMonorepo };\n","import browserslistToEsbuild from 'browserslist-to-esbuild';\nimport { ESBuildMinifyPlugin } from 'esbuild-loader';\nimport HtmlWebpackPlugin from 'html-webpack-plugin';\nimport MiniCssExtractPlugin from 'mini-css-extract-plugin';\nimport ForkTsCheckerPlugin from 'fork-ts-checker-webpack-plugin';\nimport { BundleAnalyzerPlugin } from 'webpack-bundle-analyzer';\nimport crypto from 'node:crypto';\nimport path from 'node:path';\nimport { Configuration, DefinePlugin, HotModuleReplacementPlugin } from 'webpack';\nimport ReactRefreshWebpackPlugin from '@pmmmwh/react-refresh-webpack-plugin';\n\nimport { getAliases } from './aliases';\nimport { loadStrapiMonorepo } from '../core/monorepo';\nimport type { BuildContext } from '../createBuildContext';\nimport { loadFile } from '../core/files';\n\nconst resolveBaseConfig = async (ctx: BuildContext) => {\n  const monorepo = await loadStrapiMonorepo(ctx.cwd);\n\n  const target = browserslistToEsbuild(ctx.target);\n\n  return {\n    experiments: {\n      topLevelAwait: true,\n    },\n    entry: {\n      main: [`./${ctx.entry}`],\n    },\n    resolve: {\n      alias: getAliases(ctx.cwd, monorepo),\n      extensions: ['.js', '.jsx', '.react.js', '.ts', '.tsx'],\n    },\n    module: {\n      rules: [\n        {\n          test: /\\.(ts|tsx)$/,\n          loader: require.resolve('esbuild-loader'),\n          options: {\n            loader: 'tsx',\n            target,\n            jsx: 'automatic',\n          },\n        },\n        {\n          test: /\\.(js|jsx|mjs)$/,\n          use: {\n            loader: require.resolve('esbuild-loader'),\n            options: {\n              loader: 'jsx',\n              target,\n              jsx: 'automatic',\n            },\n          },\n        },\n        {\n          test: /\\.m?js/,\n          resolve: {\n            fullySpecified: false,\n          },\n        },\n        {\n          test: /\\.css$/i,\n          use: [require.resolve('style-loader'), require.resolve('css-loader')],\n        },\n        {\n          test: /\\.(svg|eot|otf|ttf|woff|woff2)$/,\n          type: 'asset/resource',\n        },\n        {\n          test: [/\\.bmp$/, /\\.gif$/, /\\.jpe?g$/, /\\.png$/, /\\.ico$/],\n          type: 'asset',\n          parser: {\n            dataUrlCondition: {\n              maxSize: 1000,\n            },\n          },\n        },\n        {\n          test: /\\.(mp4|webm)$/,\n          type: 'asset',\n          parser: {\n            dataUrlCondition: {\n              maxSize: 10000,\n            },\n          },\n        },\n      ],\n    },\n    plugins: [\n      new HtmlWebpackPlugin({\n        inject: true,\n        template: path.resolve(ctx.runtimeDir, 'index.html'),\n      }),\n      new DefinePlugin(\n        Object.entries(ctx.env).reduce<Record<string, string>>((acc, [key, value]) => {\n          acc[`process.env.${key}`] = JSON.stringify(value);\n          return acc;\n        }, {})\n      ),\n      ctx.tsconfig &&\n        new ForkTsCheckerPlugin({\n          typescript: {\n            configFile: ctx.tsconfig.path,\n            configOverwrite: {\n              compilerOptions: {\n                sourceMap: ctx.options.sourcemaps,\n              },\n            },\n          },\n        }),\n    ].filter(Boolean),\n  };\n};\n\nconst resolveDevelopmentConfig = async (ctx: BuildContext): Promise<Configuration> => {\n  const baseConfig = await resolveBaseConfig(ctx);\n\n  return {\n    ...baseConfig,\n    cache: {\n      type: 'filesystem',\n      // version cache when there are changes to aliases\n      buildDependencies: {\n        config: [__filename],\n      },\n      version: crypto\n        .createHash('md5')\n        .update(Object.entries(baseConfig.resolve.alias).join())\n        .digest('hex'),\n    },\n    entry: {\n      ...baseConfig.entry,\n      main: [\n        `${require.resolve('webpack-hot-middleware/client')}?path=/__webpack_hmr`,\n        ...baseConfig.entry.main,\n      ],\n    },\n    stats: 'errors-warnings',\n    mode: 'development',\n    devtool: 'inline-source-map',\n    output: {\n      filename: '[name].js',\n      path: ctx.distPath,\n      publicPath: ctx.basePath,\n    },\n    infrastructureLogging: {\n      level: 'error',\n    },\n    plugins: [\n      ...baseConfig.plugins,\n      new HotModuleReplacementPlugin(),\n      new ReactRefreshWebpackPlugin(),\n    ],\n  };\n};\n\nconst resolveProductionConfig = async (ctx: BuildContext): Promise<Configuration> => {\n  const target = browserslistToEsbuild(ctx.target);\n\n  const baseConfig = await resolveBaseConfig(ctx);\n\n  return {\n    ...baseConfig,\n    stats: 'errors-only',\n    mode: 'production',\n    bail: true,\n    devtool: ctx.options.sourcemaps ? 'source-map' : false,\n    output: {\n      path: ctx.distPath,\n      publicPath: ctx.basePath,\n      // Utilize long-term caching by adding content hashes (not compilation hashes)\n      // to compiled assets for production\n      filename: '[name].[contenthash:8].js',\n      chunkFilename: '[name].[contenthash:8].chunk.js',\n    },\n    optimization: {\n      minimize: ctx.options.minify,\n      minimizer: [\n        new ESBuildMinifyPlugin({\n          target,\n          css: true, // Apply minification to CSS assets\n        }),\n      ],\n      moduleIds: 'deterministic',\n      runtimeChunk: true,\n    },\n    // @ts-expect-error\n    plugins: [\n      ...baseConfig.plugins,\n      new MiniCssExtractPlugin({\n        filename: '[name].[chunkhash].css',\n        chunkFilename: '[name].[chunkhash].chunkhash.css',\n        ignoreOrder: true,\n      }),\n      ctx.options.stats && new BundleAnalyzerPlugin(),\n    ].filter(Boolean),\n  };\n};\n\nconst USER_CONFIGS = ['webpack.config.js', 'webpack.config.mjs', 'webpack.config.ts'];\n\ntype UserWebpackConfig = (config: Configuration, webpack: unknown) => Configuration;\n\nconst getUserConfig = async (ctx: BuildContext): Promise<UserWebpackConfig | undefined> => {\n  for (const file of USER_CONFIGS) {\n    const filePath = path.join(ctx.appDir, 'src', 'admin', file);\n    const configFile = await loadFile(filePath);\n\n    if (configFile) {\n      return configFile;\n    }\n  }\n\n  return undefined;\n};\n\nconst mergeConfigWithUserConfig = async (config: Configuration, ctx: BuildContext) => {\n  const userConfig = await getUserConfig(ctx);\n\n  if (userConfig) {\n    if (typeof userConfig === 'function') {\n      const webpack = await import('webpack');\n      return userConfig(config, webpack);\n    } else {\n      ctx.logger.warn(\n        `You've exported something other than a function from ${path.join(\n          ctx.appDir,\n          'src',\n          'admin',\n          'webpack.config'\n        )}, this will ignored.`\n      );\n    }\n  }\n\n  return config;\n};\n\nexport { resolveProductionConfig, resolveDevelopmentConfig, mergeConfigWithUserConfig };\n","import webpack from 'webpack';\n\nimport { mergeConfigWithUserConfig, resolveProductionConfig } from './config';\nimport { isError } from '../core/errors';\n\nimport type { BuildContext } from '../createBuildContext';\n\nconst build = async (ctx: BuildContext) =>\n  new Promise(async (resolve, reject) => {\n    const config = await resolveProductionConfig(ctx);\n    const finalConfig = await mergeConfigWithUserConfig(config, ctx);\n\n    ctx.logger.debug('Webpack config', finalConfig);\n\n    webpack(finalConfig, (err, stats) => {\n      if (stats) {\n        if (stats.hasErrors()) {\n          ctx.logger.error(\n            stats.toString({\n              chunks: false,\n              colors: true,\n            })\n          );\n\n          reject(false);\n        } else if (ctx.options.stats) {\n          ctx.logger.info(\n            stats.toString({\n              chunks: false,\n              colors: true,\n            })\n          );\n        }\n\n        resolve(true);\n      }\n\n      if (err && isError(err)) {\n        ctx.logger.error(err.message);\n        reject(false);\n      }\n    });\n  });\n\nexport { build };\n","import type { CLIContext } from '@strapi/strapi';\nimport EE from '@strapi/strapi/dist/utils/ee';\nimport * as tsUtils from '@strapi/typescript-utils';\nimport { checkRequiredDependencies } from './core/dependencies';\nimport { getTimer, prettyTime } from './core/timer';\nimport { createBuildContext } from './createBuildContext';\nimport { writeStaticClientFiles } from './staticFiles';\nimport { build as buildWebpack } from './webpack/build';\n\ninterface BuildOptions extends CLIContext {\n  /**\n   * @default false\n   */\n  ignorePrompts?: boolean;\n  /**\n   * Minify the output\n   *\n   * @default true\n   */\n  minify?: boolean;\n  /**\n   * Generate sourcemaps ‚Äì useful for debugging bugs in the admin panel UI.\n   */\n  sourcemaps?: boolean;\n  /**\n   * Print stats for build\n   */\n  stats?: boolean;\n}\n\n/**\n * @example `$ strapi build`\n *\n * @description Builds the admin panel of the strapi application.\n */\nconst build = async ({ logger, cwd, tsconfig, ignorePrompts, ...options }: BuildOptions) => {\n  const timer = getTimer();\n\n  const { didInstall } = await checkRequiredDependencies({ cwd, logger, ignorePrompts }).catch(\n    (err) => {\n      logger.error(err.message);\n      process.exit(1);\n    }\n  );\n\n  if (didInstall) {\n    return;\n  }\n\n  if (tsconfig?.config) {\n    timer.start('compilingTS');\n    const compilingTsSpinner = logger.spinner(`Compiling TS`).start();\n\n    tsUtils.compile(cwd, { configOptions: { ignoreDiagnostics: false } });\n\n    const compilingDuration = timer.end('compilingTS');\n    compilingTsSpinner.text = `Compiling TS (${prettyTime(compilingDuration)})`;\n    compilingTsSpinner.succeed();\n  }\n\n  timer.start('createBuildContext');\n  const contextSpinner = logger.spinner(`Building build context`).start();\n  console.log('');\n\n  const ctx = await createBuildContext({\n    cwd,\n    logger,\n    tsconfig,\n    options,\n  });\n  const contextDuration = timer.end('createBuildContext');\n  contextSpinner.text = `Building build context (${prettyTime(contextDuration)})`;\n  contextSpinner.succeed();\n\n  timer.start('buildAdmin');\n  const buildingSpinner = logger.spinner(`Building admin panel`).start();\n  console.log('');\n\n  try {\n    EE.init(cwd);\n\n    await writeStaticClientFiles(ctx);\n    await buildWebpack(ctx);\n\n    const buildDuration = timer.end('buildAdmin');\n    buildingSpinner.text = `Building admin panel (${prettyTime(buildDuration)})`;\n    buildingSpinner.succeed();\n  } catch (err) {\n    buildingSpinner.fail();\n    throw err;\n  }\n};\n\nexport { build };\nexport type { BuildOptions };\n","import os from 'node:os';\nimport path from 'node:path';\nimport { promisify } from 'node:util';\nimport webpackDevMiddleware from 'webpack-dev-middleware';\nimport webpackHotMiddleware from 'webpack-hot-middleware';\nimport { webpack } from 'webpack';\nimport type { BuildContext } from '../createBuildContext';\nimport { mergeConfigWithUserConfig, resolveDevelopmentConfig } from './config';\nimport { Common, Strapi } from '@strapi/types';\n\ninterface WebpackWatcher {\n  close(): Promise<void>;\n}\n\nconst watch = async (ctx: BuildContext): Promise<WebpackWatcher> => {\n  const config = await resolveDevelopmentConfig(ctx);\n  const finalConfig = await mergeConfigWithUserConfig(config, ctx);\n\n  ctx.logger.debug('Final webpack config:', os.EOL, finalConfig);\n\n  return new Promise<WebpackWatcher>((res) => {\n    const compiler = webpack(finalConfig);\n\n    const devMiddleware = webpackDevMiddleware(compiler);\n\n    // @ts-ignore\n    const hotMiddleware = webpackHotMiddleware(compiler, {\n      log: false,\n      path: '/__webpack_hmr',\n    });\n\n    ctx.strapi.server.app.use((ctx, next) => {\n      return new Promise((resolve, reject) => {\n        hotMiddleware(ctx.req, ctx.res, (err) => {\n          if (err) reject(err);\n          else resolve(next());\n        });\n      });\n    });\n\n    ctx.strapi.server.app.use((context, next) => {\n      // wait for webpack-dev-middleware to signal that the build is ready\n      const ready = new Promise((resolve, reject) => {\n        devMiddleware.waitUntilValid(() => {\n          resolve(true);\n        });\n      });\n      // tell webpack-dev-middleware to handle the request\n      const init = new Promise((resolve) => {\n        devMiddleware(\n          context.req,\n          {\n            // @ts-expect-error\n            end: (content) => {\n              // eslint-disable-next-line no-param-reassign\n              context.body = content;\n              resolve(true);\n            },\n            getHeader: context.get.bind(context),\n            // @ts-expect-error\n            setHeader: context.set.bind(context),\n            locals: context.state,\n          },\n          () => resolve(next())\n        );\n      });\n\n      return Promise.all([ready, init]);\n    });\n\n    const serveAdmin: Common.MiddlewareHandler = async (ctx, next) => {\n      await next();\n\n      if (devMiddleware.context.outputFileSystem.createReadStream) {\n        if (ctx.method !== 'HEAD' && ctx.method !== 'GET') {\n          return;\n        }\n\n        if (ctx.body != null || ctx.status !== 404) {\n          return;\n        }\n\n        const filename = path.resolve(finalConfig.output?.path!, 'index.html');\n        ctx.type = 'html';\n        ctx.body = devMiddleware.context.outputFileSystem.createReadStream(filename);\n      }\n    };\n\n    ctx.strapi.server.routes([\n      {\n        method: 'GET',\n        path: `${ctx.basePath}:path*`,\n        handler: serveAdmin,\n        config: { auth: false },\n      },\n    ]);\n\n    devMiddleware.waitUntilValid(() => {\n      res({\n        async close() {\n          await Promise.all([\n            promisify(devMiddleware.close.bind(devMiddleware))(),\n            hotMiddleware.close(),\n            promisify(compiler.close.bind(compiler))(),\n          ]);\n        },\n      });\n    });\n  });\n};\n\nexport { watch };\nexport type { WebpackWatcher };\n","import type { CLIContext } from '@strapi/strapi';\nimport * as tsUtils from '@strapi/typescript-utils';\nimport { joinBy } from '@strapi/utils';\nimport chokidar from 'chokidar';\nimport fs from 'node:fs/promises';\nimport path from 'node:path';\n\nimport cluster from 'node:cluster';\n\nimport { checkRequiredDependencies } from './core/dependencies';\nimport { getTimer, prettyTime, type TimeMeasurer } from './core/timer';\nimport { createBuildContext } from './createBuildContext';\nimport { build as buildWebpack } from './webpack/build';\nimport { watch as watchWebpack, WebpackWatcher } from './webpack/watch';\n\nimport strapiFactory from '@strapi/strapi';\nimport EE from '@strapi/strapi/dist/utils/ee';\nimport { writeStaticClientFiles } from './staticFiles';\n\ninterface DevelopOptions extends CLIContext {\n  /**\n   * @default false\n   */\n  ignorePrompts?: boolean;\n  polling?: boolean;\n  open?: boolean;\n  watchAdmin?: boolean;\n}\n\n// This method removes all non-admin build files from the dist directory\nconst cleanupDistDirectory = async ({\n  tsconfig,\n  logger,\n  timer,\n}: Pick<DevelopOptions, 'tsconfig' | 'logger'> & { timer: TimeMeasurer }) => {\n  const distDir = tsconfig?.config?.options?.outDir;\n\n  if (\n    !distDir || // we don't have a dist dir\n    (await fs\n      .access(distDir)\n      .then(() => false)\n      .catch(() => true)) // it doesn't exist -- if it does but no access, that will be caught later\n  ) {\n    return;\n  }\n\n  const timerName = 'cleaningDist' + Date.now();\n  timer.start(timerName);\n  const cleaningSpinner = logger.spinner(`Cleaning dist dir ${distDir}`).start();\n\n  try {\n    const dirContent = await fs.readdir(distDir);\n    const validFilenames = dirContent\n      // Ignore the admin build folder\n      .filter((filename) => filename !== 'build');\n    for (const filename of validFilenames) {\n      await fs.rm(path.resolve(distDir, filename), { recursive: true });\n    }\n  } catch (err: unknown) {\n    const generatingDuration = timer.end(timerName);\n    cleaningSpinner.text = `Error cleaning dist dir: ${err} (${prettyTime(generatingDuration)})`;\n    cleaningSpinner?.fail();\n    return;\n  }\n\n  const generatingDuration = timer.end(timerName);\n  cleaningSpinner.text = `Cleaning dist dir (${prettyTime(generatingDuration)})`;\n  cleaningSpinner?.succeed();\n};\n\nconst develop = async ({\n  cwd,\n  polling,\n  logger,\n  tsconfig,\n  ignorePrompts,\n  watchAdmin,\n  ...options\n}: DevelopOptions) => {\n  const timer = getTimer();\n\n  if (cluster.isPrimary) {\n    const { didInstall } = await checkRequiredDependencies({ cwd, logger, ignorePrompts }).catch(\n      (err) => {\n        logger.error(err.message);\n        process.exit(1);\n      }\n    );\n\n    if (didInstall) {\n      return;\n    }\n\n    if (tsconfig?.config) {\n      // Build without diagnostics in case schemas have changed\n      await cleanupDistDirectory({ tsconfig, logger, timer });\n      await tsUtils.compile(cwd, { configOptions: { ignoreDiagnostics: true } });\n    }\n\n    /**\n     * IF we're not watching the admin we're going to build it, this makes\n     * sure that at least the admin is built for users & they can interact\n     * with the application.\n     */\n    if (!watchAdmin) {\n      timer.start('createBuildContext');\n      const contextSpinner = logger.spinner(`Building build context`).start();\n      console.log('');\n\n      const ctx = await createBuildContext({\n        cwd,\n        logger,\n        tsconfig,\n        options,\n      });\n      const contextDuration = timer.end('createBuildContext');\n      contextSpinner.text = `Building build context (${prettyTime(contextDuration)})`;\n      contextSpinner.succeed();\n\n      timer.start('creatingAdmin');\n      const adminSpinner = logger.spinner(`Creating admin`).start();\n\n      EE.init(cwd);\n      await writeStaticClientFiles(ctx);\n      await buildWebpack(ctx);\n\n      const adminDuration = timer.end('creatingAdmin');\n      adminSpinner.text = `Creating admin (${prettyTime(adminDuration)})`;\n      adminSpinner.succeed();\n    }\n\n    cluster.on('message', async (worker, message) => {\n      switch (message) {\n        case 'reload': {\n          if (tsconfig?.config) {\n            // Build without diagnostics in case schemas have changed\n            await cleanupDistDirectory({ tsconfig, logger, timer });\n            await tsUtils.compile(cwd, { configOptions: { ignoreDiagnostics: true } });\n          }\n          logger.debug('cluster has the reload message, sending the worker kill message');\n          worker.send('kill');\n          break;\n        }\n        case 'killed': {\n          logger.debug('cluster has the killed message, forking the cluster');\n          cluster.fork();\n          break;\n        }\n        case 'stop': {\n          process.exit(1);\n          break;\n        }\n        default:\n          break;\n      }\n    });\n\n    cluster.fork();\n  }\n\n  if (cluster.isWorker) {\n    timer.start('loadStrapi');\n    const loadStrapiSpinner = logger.spinner(`Loading Strapi`).start();\n\n    const strapi = strapiFactory({\n      appDir: cwd,\n      distDir: tsconfig?.config.options.outDir ?? '',\n      autoReload: true,\n      serveAdminPanel: !watchAdmin,\n    });\n    let webpackWatcher: WebpackWatcher | undefined;\n\n    /**\n     * If we're watching the admin panel then we're going to attach the watcher\n     * as a strapi middleware.\n     */\n    if (watchAdmin) {\n      timer.start('createBuildContext');\n      const contextSpinner = logger.spinner(`Building build context`).start();\n      console.log('');\n\n      const ctx = await createBuildContext({\n        cwd,\n        logger,\n        strapi,\n        tsconfig,\n        options,\n      });\n      const contextDuration = timer.end('createBuildContext');\n      contextSpinner.text = `Building build context (${prettyTime(contextDuration)})`;\n      contextSpinner.succeed();\n\n      timer.start('creatingAdmin');\n      const adminSpinner = logger.spinner(`Creating admin`).start();\n\n      EE.init(cwd);\n      await writeStaticClientFiles(ctx);\n      webpackWatcher = await watchWebpack(ctx);\n\n      const adminDuration = timer.end('creatingAdmin');\n      adminSpinner.text = `Creating admin (${prettyTime(adminDuration)})`;\n      adminSpinner.succeed();\n    }\n\n    const strapiInstance = await strapi.load();\n\n    const loadStrapiDuration = timer.end('loadStrapi');\n    loadStrapiSpinner.text = `Loading Strapi (${prettyTime(loadStrapiDuration)})`;\n    loadStrapiSpinner.succeed();\n\n    timer.start('generatingTS');\n    const generatingTsSpinner = logger.spinner(`Generating types`).start();\n\n    await tsUtils.generators.generate({\n      strapi: strapiInstance,\n      pwd: cwd,\n      rootDir: undefined,\n      logger: { silent: true, debug: false },\n      artifacts: { contentTypes: true, components: true },\n    });\n\n    const generatingDuration = timer.end('generatingTS');\n    generatingTsSpinner.text = `Generating types (${prettyTime(generatingDuration)})`;\n    generatingTsSpinner.succeed();\n\n    if (tsconfig?.config) {\n      timer.start('compilingTS');\n      const compilingTsSpinner = logger.spinner(`Compiling TS`).start();\n\n      await cleanupDistDirectory({ tsconfig, logger, timer });\n      await tsUtils.compile(cwd, { configOptions: { ignoreDiagnostics: false } });\n\n      const compilingDuration = timer.end('compilingTS');\n      compilingTsSpinner.text = `Compiling TS (${prettyTime(compilingDuration)})`;\n      compilingTsSpinner.succeed();\n    }\n\n    const restart = async () => {\n      if (strapiInstance.reload.isWatching && !strapiInstance.reload.isReloading) {\n        strapiInstance.reload.isReloading = true;\n        strapiInstance.reload();\n      }\n    };\n\n    const watcher = chokidar\n      .watch(cwd, {\n        ignoreInitial: true,\n        usePolling: polling,\n        ignored: [\n          /(^|[/\\\\])\\../, // dot files\n          /tmp/,\n          '**/src/admin/**',\n          '**/src/plugins/**/admin/**',\n          '**/dist/src/plugins/test/admin/**',\n          '**/documentation',\n          '**/documentation/**',\n          '**/node_modules',\n          '**/node_modules/**',\n          '**/plugins.json',\n          '**/build',\n          '**/build/**',\n          '**/index.html',\n          '**/public',\n          '**/public/**',\n          strapiInstance.dirs.static.public,\n          joinBy('/', strapiInstance.dirs.static.public, '**'),\n          '**/*.db*',\n          '**/exports/**',\n          '**/dist/**',\n          '**/*.d.ts',\n          ...strapiInstance.config.get('admin.watchIgnoreFiles', []),\n        ],\n      })\n      .on('add', (path) => {\n        strapiInstance.log.info(`File created: ${path}`);\n        restart();\n      })\n      .on('change', (path) => {\n        strapiInstance.log.info(`File changed: ${path}`);\n        restart();\n      })\n      .on('unlink', (path) => {\n        strapiInstance.log.info(`File deleted: ${path}`);\n        restart();\n      });\n\n    process.on('message', async (message) => {\n      switch (message) {\n        case 'kill': {\n          logger.debug(\n            'child process has the kill message, destroying the strapi instance and sending the killed process message'\n          );\n          await watcher.close();\n\n          await strapiInstance.destroy();\n\n          if (webpackWatcher) {\n            webpackWatcher.close();\n          }\n          process.send?.('killed');\n          break;\n        }\n        default:\n          break;\n      }\n    });\n\n    strapiInstance.start();\n  }\n};\n\nexport { develop };\nexport type { DevelopOptions };\n"],"names":["build","develop","readPkgUp","os","inquirer","execa","semver","resolveFrom","path","fs","performance","access","register","dotenv","chalk","boxen","camelCase","env","strapiFactory","getConfigUrls","browserslist","jsx","jsxs","outdent","renderToStaticMarkup","createElement","Document","format","findRoot","browserslistToEsbuild","HtmlWebpackPlugin","DefinePlugin","ForkTsCheckerPlugin","crypto","HotModuleReplacementPlugin","ReactRefreshWebpackPlugin","ESBuildMinifyPlugin","MiniCssExtractPlugin","BundleAnalyzerPlugin","webpack","tsUtils","EE","buildWebpack","webpackDevMiddleware","webpackHotMiddleware","ctx","promisify","generatingDuration","cluster","watchWebpack","chokidar","joinBy"],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"index-ffd2f664.js","sources":["../../_internal/cli/index.ts","../../_internal/node/core/managers.ts","../../_internal/node/core/dependencies.ts","../../_internal/node/core/timer.ts","../../_internal/node/core/files.ts","../../_internal/node/core/env.ts","../../_internal/node/core/errors.ts","../../_internal/node/core/plugins.ts","../../_internal/node/core/admin-customisations.ts","../../_internal/node/createBuildContext.ts","../../admin/src/components/NoJavascript.tsx","../../admin/src/components/DefaultDocument.tsx","../../_internal/node/staticFiles.ts","../../_internal/node/webpack/aliases.ts","../../_internal/node/core/monorepo.ts","../../_internal/node/webpack/config.ts","../../_internal/node/webpack/build.ts","../../_internal/node/build.ts","../../_internal/node/webpack/watch.ts","../../_internal/node/develop.ts"],"sourcesContent":["import type { StrapiCommand } from '@strapi/strapi';\nimport type { BuildCLIOptions } from './commands/build';\nimport type { DevelopCLIOptions } from './commands/develop';\n\n/**\n * `$ strapi build`\n */\nconst build: StrapiCommand = ({ command, ctx }) => {\n  command\n    .command('build')\n    .option('-d, --debug', 'Enable debugging mode with verbose logs', false)\n    .option('--ignore-prompts', 'Ignore all prompts', false)\n    .option('--minify', 'Minify the output', true)\n    .option('--no-optimization', '[deprecated]: use minify instead')\n    .option('--silent', \"Don't log anything\", false)\n    .option('--sourcemap', 'Produce sourcemaps', false)\n    .option('--stats', 'Print build statistics to the console', false)\n    .description('Build the strapi admin app')\n    .action(async (options: BuildCLIOptions) => {\n      const { build } = await import('./commands/build');\n\n      return build({ ...options, ...ctx });\n    });\n};\n\n/**\n * `$ strapi develop`\n */\nconst develop: StrapiCommand = ({ command, ctx }) => {\n  command\n    .command('develop')\n    .alias('dev')\n    .option('-d, --debug', 'Enable debugging mode with verbose logs', false)\n    .option('--silent', \"Don't log anything\", false)\n    .option('--ignore-prompts', 'Ignore all prompts', false)\n    .option('--polling', 'Watch for file changes in network directories', false)\n    .option('--watch-admin', 'Watch the admin panel for hot changes', false)\n    .option(\n      '--no-build',\n      '[deprecated]: there is middleware for the server, it is no longer a separate process'\n    )\n    .option(\n      '--watch-admin',\n      '[deprecated]: there is now middleware for watching, it is no longer a separate process'\n    )\n    .option('--browser <name>', '[deprecated]: use open instead')\n    .option('--open', 'Open the admin in your browser', true)\n    .description('Start your Strapi application in development mode')\n    .action(async (options: DevelopCLIOptions) => {\n      const { develop } = await import('./commands/develop');\n\n      return develop({ ...options, ...ctx });\n    });\n};\n\nexport { build, develop };\n","/**\n * @description Supports the following managers:\n * ‚Äì npm\n * ‚Äì yarn\n * ‚Äì pnpm\n */\nconst getPackageManager = () => {\n  // Yes, the env var is lowercase - it is set by the package managers themselves\n  const agent = process.env.npm_config_user_agent || '';\n\n  if (agent.includes('yarn')) {\n    return 'yarn';\n  }\n\n  if (agent.includes('pnpm')) {\n    return 'pnpm';\n  }\n\n  // Both yarn and pnpm does a `npm/?` thing, thus the slightly different match here\n  // Theoretically not needed since we check for yarn/pnpm above, but in case other\n  // package managers do the same thing, we'll (hopefully) catch them here.\n  if (/^npm\\/\\d/.test(agent)) {\n    return 'npm';\n  }\n\n  return undefined;\n};\n\nexport { getPackageManager };\n","import os from 'node:os';\nimport fs from 'node:fs/promises';\nimport path from 'node:path';\nimport inquirer from 'inquirer';\nimport semver, { SemVer } from 'semver';\nimport resolveFrom from 'resolve-from';\nimport execa, { CommonOptions, ExecaReturnValue } from 'execa';\nimport readPkgUp, { PackageJson } from 'read-pkg-up';\nimport type { BuildOptions } from '../build';\nimport { getPackageManager } from './managers';\n\n/**\n * From V5 this will be imported from the package.json of `@strapi/strapi`.\n */\nconst PEER_DEPS = {\n  react: '^18.0.0',\n  'react-dom': '^18.0.0',\n  'react-router-dom': '^5.2.0',\n  'styled-components': '^5.2.1',\n};\n\ninterface CheckRequiredDependenciesResult {\n  didInstall: boolean;\n}\n\ninterface DepToInstall {\n  name: string;\n  wantedVersion: string;\n  declaredVersion?: never;\n}\n\n/**\n * Checks the user's project that it has declared and installed the required dependencies\n * needed by the Strapi admin project. Whilst generally speaking most modules will be\n * declared by the actual packages there are some packages where you only really want one of\n * and thus they are declared as peer dependencies ‚Äì react / styled-components / etc.\n *\n * If these deps are not installed or declared, then we prompt the user to correct this. In\n * V4 this is not a hard requirement, but in V5 it will be. Might as well get people started now.\n */\nconst checkRequiredDependencies = async ({\n  cwd,\n  logger,\n  ignorePrompts,\n}: Pick<\n  BuildOptions,\n  'cwd' | 'logger' | 'ignorePrompts'\n>): Promise<CheckRequiredDependenciesResult> => {\n  const pkg = await readPkgUp({ cwd });\n\n  if (!pkg) {\n    throw new Error(`Could not find package.json at path: ${cwd}`);\n  }\n\n  logger.debug('Loaded package.json:', os.EOL, pkg.packageJson);\n\n  interface DepToReview {\n    name: string;\n    wantedVersion: string;\n    declaredVersion: string;\n  }\n\n  /**\n   * Run through each of the peer deps and figure out if they need to be\n   * installed or they need their version checked against.\n   */\n  const { install, review } = Object.entries(PEER_DEPS).reduce<{\n    install: DepToInstall[];\n    review: DepToReview[];\n  }>(\n    (acc, [name, version]) => {\n      if (!pkg.packageJson.dependencies) {\n        throw new Error(`Could not find dependencies in package.json at path: ${cwd}`);\n      }\n\n      const declaredVersion = pkg.packageJson.dependencies[name];\n\n      if (!declaredVersion) {\n        acc.install.push({\n          name,\n          wantedVersion: version,\n        });\n      } else {\n        acc.review.push({\n          name,\n          wantedVersion: version,\n          declaredVersion,\n        });\n      }\n\n      return acc;\n    },\n    {\n      install: [],\n      review: [],\n    }\n  );\n\n  if (install.length > 0) {\n    logger.info(\n      'The Strapi admin needs to install the following dependencies:',\n      os.EOL,\n      install.map(({ name, wantedVersion }) => `  - ${name}@${wantedVersion}`).join(os.EOL)\n    );\n\n    /**\n     * temporary until V5 when we _will_ be enforcing these dependencies as required.\n     */\n    if (process.env.NODE_ENV !== 'development' || ignorePrompts) {\n      return { didInstall: false };\n    }\n\n    /**\n     * This prompt can be removed in V5 & therefore the code underneath can be refactored to\n     * only install the deps and return that we installed deps.\n     */\n    const { install: installAns } = await inquirer.prompt({\n      type: 'confirm',\n      name: 'install',\n      default: true,\n      message:\n        'Would you like to install these dependencies now? These are not required but are recommended, from V5 these will be required.',\n    });\n\n    if (installAns) {\n      await installDependencies(install, {\n        cwd,\n        logger,\n      });\n\n      const [file, ...args] = process.argv;\n\n      /**\n       * Re-run the same command after installation e.g. strapi build because the yarn.lock might\n       * not be the same and could break installations. It's not the best solution, but it works.\n       */\n      await execa(file, args, { cwd, stdio: 'inherit' });\n      return { didInstall: true };\n    } else {\n      return { didInstall: false };\n    }\n  }\n\n  if (review.length) {\n    const errors: string[] = [];\n\n    for (const dep of review) {\n      // The version specified in package.json could be incorrect, eg `foo`\n      let minDeclaredVersion: SemVer | null = null;\n      try {\n        minDeclaredVersion = semver.minVersion(dep.declaredVersion);\n      } catch (err) {\n        // Intentional fall-through (variable will be left as null, throwing below)\n      }\n\n      if (!minDeclaredVersion) {\n        errors.push(\n          `The declared dependency, ${dep.name} has an invalid version in package.json: ${dep.declaredVersion}`\n        );\n      } else if (!semver.satisfies(minDeclaredVersion, dep.wantedVersion)) {\n        /**\n         * The delcared version should be semver compatible with our required version\n         * of the dependency. If it's not, we should advise the user to change it.\n         */\n        logger.warn(\n          [\n            `Declared version of ${dep.name} (${minDeclaredVersion}) is not compatible with the version required by Strapi (${dep.wantedVersion}).`,\n            'You may experience issues, we recommend you change this.',\n          ].join(os.EOL)\n        );\n      }\n\n      const installedVersion = await getModuleVersion(dep.name, cwd);\n\n      if (!installedVersion) {\n        /**\n         * TODO: when we know the packageManager we can advise the actual install command.\n         */\n        errors.push(\n          `The declared dependency, ${dep.name} is not installed. You should install before re-running this command`\n        );\n      } else if (!semver.satisfies(installedVersion, dep.wantedVersion)) {\n        logger.warn(\n          [\n            `Declared version of ${dep.name} (${installedVersion}) is not compatible with the version required by Strapi (${dep.wantedVersion}).`,\n            'You may experience issues, we recommend you change this.',\n          ].join(os.EOL)\n        );\n      }\n    }\n\n    if (errors.length > 0 && process.env.NODE_ENV === 'development') {\n      throw new Error(`${os.EOL}- ${errors.join(`${os.EOL}- `)}`);\n    }\n  }\n\n  return { didInstall: false };\n};\n\nconst getModule = async (name: string, cwd: string): Promise<PackageJson | null> => {\n  const modulePackagePath = resolveFrom.silent(cwd, path.join(name, 'package.json'));\n  if (!modulePackagePath) {\n    return null;\n  }\n  const file = await fs.readFile(modulePackagePath, 'utf8').then((res) => JSON.parse(res));\n\n  return file;\n};\n\nconst getModuleVersion = async (name: string, cwd: string): Promise<string | null> => {\n  const pkg = await getModule(name, cwd);\n\n  return pkg?.version || null;\n};\n\nconst installDependencies = async (\n  install: DepToInstall[],\n  { cwd, logger }: Pick<BuildOptions, 'cwd' | 'logger'>\n) => {\n  const packageManager = getPackageManager();\n\n  if (!packageManager) {\n    logger.error(\n      'Could not find a supported package manager, please install the dependencies manually.'\n    );\n    process.exit(1);\n  }\n\n  const execOptions: CommonOptions<'utf8'> = {\n    encoding: 'utf8',\n    cwd,\n    stdio: 'inherit',\n  };\n\n  const packages = install.map(({ name, wantedVersion }) => `${name}@${wantedVersion}`);\n\n  let result: ExecaReturnValue<string> | undefined;\n\n  if (packageManager === 'npm') {\n    const npmArgs = ['install', '--legacy-peer-deps', '--save', ...packages];\n    logger.info(`Running 'npm ${npmArgs.join(' ')}'`);\n    result = await execa('npm', npmArgs, execOptions);\n  } else if (packageManager === 'yarn') {\n    const yarnArgs = ['add', ...packages];\n    logger.info(`Running 'yarn ${yarnArgs.join(' ')}'`);\n    result = await execa('yarn', yarnArgs, execOptions);\n  } else if (packageManager === 'pnpm') {\n    const pnpmArgs = ['add', '--save-prod', ...packages];\n    logger.info(`Running 'pnpm ${pnpmArgs.join(' ')}'`);\n    result = await execa('pnpm', pnpmArgs, execOptions);\n  }\n\n  if (result?.exitCode || result?.failed) {\n    throw new Error('Package installation failed');\n  }\n};\n\nexport { checkRequiredDependencies, getModule };\nexport type { CheckRequiredDependenciesResult, PackageJson };\n","import { performance } from 'perf_hooks';\n\nexport interface TimeMeasurer {\n  start: (name: string) => void;\n  end: (name: string) => number;\n  getTimings: () => Record<string, number>;\n}\n\nexport function getTimer(): TimeMeasurer {\n  const timings: Record<string, number> = {};\n  const startTimes: Record<string, number> = {};\n\n  function start(name: string): void {\n    if (typeof startTimes[name] !== 'undefined') {\n      throw new Error(`Timer \"${name}\" already started, cannot overwrite`);\n    }\n\n    startTimes[name] = performance.now();\n  }\n\n  function end(name: string): number {\n    if (typeof startTimes[name] === 'undefined') {\n      throw new Error(`Timer \"${name}\" never started, cannot end`);\n    }\n\n    timings[name] = performance.now() - startTimes[name];\n    return timings[name];\n  }\n\n  return { start, end, getTimings: () => timings };\n}\n\nexport const prettyTime = (timeInMs: number): string => {\n  return Math.ceil(timeInMs) + 'ms';\n};\n","import path from 'node:path';\nimport { access } from 'node:fs/promises';\nimport { register } from 'esbuild-register/dist/node';\n\n/**\n * @internal\n */\nconst pathExists = async (path: string) => {\n  try {\n    await access(path);\n    return true;\n  } catch (error) {\n    return false;\n  }\n};\n\n/**\n * @internal\n */\nconst loadFile = async (path: string): Promise<undefined | any> => {\n  if (await pathExists(path)) {\n    const esbuildOptions: Parameters<typeof register>[0] = {\n      extensions: ['.js', '.mjs', '.ts'],\n    };\n\n    const { unregister } = register(esbuildOptions);\n\n    // eslint-disable-next-line @typescript-eslint/no-var-requires\n    const mod = require(path);\n\n    unregister();\n\n    /**\n     * handles esm or cjs exporting.\n     */\n    const file = mod?.default || mod || undefined;\n\n    return file;\n  }\n\n  return undefined;\n};\n\n/**\n * @internal\n *\n * @description Converts a system path to a module path mainly for `Windows` systems.\n * where the path separator is `\\` instead of `/`, on linux systems the path separator\n * is identical to the module path separator.\n */\nconst convertSystemPathToModulePath = (sysPath: string) => {\n  if (process.platform === 'win32') {\n    return sysPath.split(path.sep).join(path.posix.sep);\n  } else {\n    return sysPath;\n  }\n};\n\n/**\n * @internal\n *\n * @description Converts a module path to a system path, again largely used for Windows systems.\n * The original use case was plugins where the resolve path was in module format but we want to\n * have it relative to the runtime directory.\n */\nconst convertModulePathToSystemPath = (modulePath: string) => {\n  if (process.platform === 'win32') {\n    return modulePath.split(path.posix.sep).join(path.sep);\n  } else {\n    return modulePath;\n  }\n};\n\nexport { pathExists, loadFile, convertSystemPathToModulePath, convertModulePathToSystemPath };\n","import path from 'node:path';\nimport dotenv from 'dotenv';\nimport { pathExists } from './files';\n\n/**\n * This is the base of _any_ env set for a strapi project,\n * to build a strapi admin panel we require these env variables.\n */\ninterface DefaultEnv {\n  ADMIN_PATH: string;\n  STRAPI_ADMIN_BACKEND_URL: string;\n  STRAPI_TELEMETRY_DISABLED: string;\n}\n\n/**\n * @internal\n *\n * @description Load the .env file if it exists\n */\nconst loadEnv = async (cwd: string) => {\n  const pathToEnv = path.resolve(cwd, '.env');\n\n  if (await pathExists(pathToEnv)) {\n    dotenv.config({ path: pathToEnv });\n  }\n};\n\n/**\n * @internal\n *\n * @description Get all the environment variables that start with `STRAPI_ADMIN_`\n */\nconst getStrapiAdminEnvVars = (defaultEnv: DefaultEnv): Record<string, string> => {\n  return Object.keys(process.env)\n    .filter((key) => key.toUpperCase().startsWith('STRAPI_ADMIN_'))\n    .reduce((acc, key) => {\n      acc[key] = process.env[key] as string;\n\n      return acc;\n    }, defaultEnv as unknown as Record<string, string>);\n};\n\nexport { getStrapiAdminEnvVars, loadEnv };\n","import boxen from 'boxen';\nimport chalk from 'chalk';\nimport os from 'node:os';\n\nconst isError = (err: unknown): err is Error => err instanceof Error;\n\n/**\n * @description Handle unexpected errors. No, but really, your CLI should anticipate error cases.\n * If a user hits an error we don't expect, then we need to flag to them that this is not normal\n * and they should use the `--debug` flag to get more information (assuming you've implemented this\n * in your action).\n */\nconst handleUnexpectedError = (err: unknown) => {\n  console.error(\n    chalk.red(\n      `[ERROR] `,\n      'There seems to be an unexpected error, try again with --debug for more information',\n      os.EOL\n    )\n  );\n\n  if (isError(err) && err.stack) {\n    // eslint-disable-next-line no-console\n    console.log(\n      chalk.red(\n        boxen(err.stack, {\n          padding: 1,\n          align: 'left',\n        })\n      )\n    );\n  }\n\n  process.exit(1);\n};\n\nexport { handleUnexpectedError, isError };\n","import os from 'node:os';\nimport path from 'node:path';\nimport fs from 'node:fs';\nimport camelCase from 'lodash/camelCase';\nimport { env } from '@strapi/utils';\nimport { getModule, PackageJson } from './dependencies';\nimport { convertModulePathToSystemPath, convertSystemPathToModulePath, loadFile } from './files';\nimport { BuildContext } from '../createBuildContext';\nimport { isError } from './errors';\n\ninterface LocalPluginMeta {\n  name: string;\n  /**\n   * camelCased version of the plugin name\n   */\n  importName: string;\n  /**\n   * The path to the plugin, relative to the app's root directory\n   * in system format\n   */\n  path: string;\n  /**\n   * The path to the plugin, relative to the runtime directory\n   * in module format (i.e. with forward slashes) because thats\n   * where it should be used as an import\n   */\n  modulePath: string;\n  type: 'local';\n}\n\ninterface ModulePluginMeta {\n  name: string;\n  /**\n   * camelCased version of the plugin name\n   */\n  importName: string;\n  /**\n   * Modules don't have a path because we never resolve them to their node_modules\n   * because we simply do not require it.\n   */\n  path?: never;\n  /**\n   * The path to the plugin, relative to the app's root directory\n   * in module format (i.e. with forward slashes)\n   */\n  modulePath: string;\n  type: 'module';\n}\n\ntype PluginMeta = LocalPluginMeta | ModulePluginMeta;\n\ninterface StrapiPlugin extends PackageJson {\n  strapi: {\n    description?: string;\n    displayName?: string;\n    kind: 'plugin';\n    name?: string;\n    required?: boolean;\n  };\n}\n\nconst validatePackageHasStrapi = (\n  pkg: PackageJson\n): pkg is PackageJson & { strapi: Record<string, unknown> } =>\n  'strapi' in pkg &&\n  typeof pkg.strapi === 'object' &&\n  !Array.isArray(pkg.strapi) &&\n  pkg.strapi !== null;\n\nconst validatePackageIsPlugin = (pkg: PackageJson): pkg is StrapiPlugin =>\n  validatePackageHasStrapi(pkg) && pkg.strapi.kind === 'plugin';\n\nconst getEnabledPlugins = async ({\n  cwd,\n  logger,\n  runtimeDir,\n  strapi,\n}: Pick<BuildContext, 'cwd' | 'logger' | 'strapi' | 'runtimeDir'>): Promise<\n  Record<string, PluginMeta>\n> => {\n  const plugins: Record<string, PluginMeta> = {};\n\n  /**\n   * This is the list of dependencies that are installed in the user's project.\n   * It will include libraries like \"react\", so we need to collect the ones that\n   * are plugins.\n   */\n  const deps = strapi.config.get('info.dependencies', {});\n\n  logger.debug(\"Dependencies from user's project\", os.EOL, deps);\n\n  for (const dep of Object.keys(deps)) {\n    const pkg = await getModule(dep, cwd);\n\n    if (pkg && validatePackageIsPlugin(pkg)) {\n      const name = pkg.strapi.name || pkg.name;\n\n      if (!name) {\n        /**\n         * Unlikely to happen, but you never know.\n         */\n        throw Error(\n          \"You're trying to import a plugin that doesn't have a name ‚Äì check the package.json of that plugin!\"\n        );\n      }\n\n      plugins[name] = {\n        name,\n        importName: camelCase(name),\n        type: 'module',\n        modulePath: dep,\n      };\n    }\n  }\n\n  const userPluginsFile = await loadUserPluginsFile(strapi.dirs.app.config);\n\n  logger.debug(\"User's plugins file\", os.EOL, userPluginsFile);\n\n  for (const [userPluginName, userPluginConfig] of Object.entries(userPluginsFile)) {\n    if (userPluginConfig.enabled && userPluginConfig.resolve) {\n      const sysPath = convertModulePathToSystemPath(userPluginConfig.resolve);\n      plugins[userPluginName] = {\n        name: userPluginName,\n        importName: camelCase(userPluginName),\n        type: 'local',\n        /**\n         * User plugin paths are resolved from the entry point\n         * of the app, because that's how you import them.\n         */\n        modulePath: convertSystemPathToModulePath(path.relative(runtimeDir, sysPath)),\n        path: sysPath,\n      };\n    }\n  }\n\n  return plugins;\n};\n\nconst PLUGIN_CONFIGS = ['plugins.js', 'plugins.mjs', 'plugins.ts'];\n\ntype UserPluginConfigFile = Record<string, { enabled: boolean; resolve: string }>;\n\nconst loadUserPluginsFile = async (root: string): Promise<UserPluginConfigFile> => {\n  for (const file of PLUGIN_CONFIGS) {\n    const filePath = path.join(root, file);\n    const configFile = await loadFile(filePath);\n\n    if (configFile) {\n      /**\n       * Configs can be a function or they can be just an object!\n       */\n      return typeof configFile === 'function' ? configFile({ env }) : configFile;\n    }\n  }\n\n  return {};\n};\n\nconst getMapOfPluginsWithAdmin = (plugins: Record<string, PluginMeta>) =>\n  Object.values(plugins)\n    .filter((plugin) => {\n      if (!plugin) {\n        return false;\n      }\n\n      /**\n       * There are two ways a plugin should be imported, either it's local to the strapi app,\n       * or it's an actual npm module that's installed and resolved via node_modules.\n       *\n       * We first check if the plugin is local to the strapi app, using a regular `fs.existsSync` because\n       * the pathToPlugin will be relative i.e. `/Users/my-name/strapi-app/src/plugins/my-plugin`.\n       *\n       * If the file doesn't exist well then it's probably a node_module, so instead we use `require.resolve`\n       * which will resolve the path to the module in node_modules. If it fails with the specific code `MODULE_NOT_FOUND`\n       * then it doesn't have an admin part to the package.\n       */\n      try {\n        const isLocalPluginWithLegacyAdminFile =\n          plugin.path && fs.existsSync(path.join(plugin.path, 'strapi-admin.js'));\n\n        if (!isLocalPluginWithLegacyAdminFile) {\n          const isModuleWithFE = require.resolve(`${plugin.modulePath}/strapi-admin`);\n\n          return isModuleWithFE;\n        }\n\n        return isLocalPluginWithLegacyAdminFile;\n      } catch (err) {\n        if (isError(err) && 'code' in err && err.code === 'MODULE_NOT_FOUND') {\n          /**\n           * the plugin does not contain FE code, so we\n           * don't want to import it anyway\n           */\n          return false;\n        }\n\n        throw err;\n      }\n    })\n    .map((plugin) => ({\n      ...plugin,\n      modulePath: `${plugin.modulePath}/strapi-admin`,\n    }));\n\nexport { getEnabledPlugins, getMapOfPluginsWithAdmin };\nexport type { PluginMeta, LocalPluginMeta, ModulePluginMeta };\n","import path from 'node:path';\nimport { convertSystemPathToModulePath, pathExists } from '../core/files';\nimport { BuildContext } from '../createBuildContext';\n\nconst ADMIN_APP_FILES = ['app.js', 'app.mjs', 'app.ts', 'app.jsx', 'app.tsx'];\n\ninterface AdminCustomisations {\n  config?: {\n    locales?: string[];\n  };\n  bootstrap?: Function;\n}\n\ninterface AppFile {\n  /**\n   * The system path to the file\n   */\n  path: string;\n  /**\n   * The module path to the file i.e. how you would import it\n   */\n  modulePath: string;\n}\n\nconst loadUserAppFile = async ({\n  runtimeDir,\n  appDir,\n}: Pick<BuildContext, 'appDir' | 'runtimeDir'>): Promise<AppFile | undefined> => {\n  for (const file of ADMIN_APP_FILES) {\n    const filePath = path.join(appDir, 'src', 'admin', file);\n\n    if (await pathExists(filePath)) {\n      return {\n        path: filePath,\n        modulePath: convertSystemPathToModulePath(path.relative(runtimeDir, filePath)),\n      };\n    }\n  }\n\n  return undefined;\n};\n\nexport { loadUserAppFile };\nexport type { AdminCustomisations, AppFile };\n","import os from 'node:os';\nimport path from 'node:path';\nimport fs from 'node:fs/promises';\nimport browserslist from 'browserslist';\nimport strapiFactory, { CLIContext } from '@strapi/strapi';\nimport { getConfigUrls } from '@strapi/utils';\n\nimport { getStrapiAdminEnvVars, loadEnv } from './core/env';\n\nimport type { BuildOptions } from './build';\nimport { DevelopOptions } from './develop';\nimport { PluginMeta, getEnabledPlugins, getMapOfPluginsWithAdmin } from './core/plugins';\nimport { Strapi, FeaturesService } from '@strapi/types';\nimport { AppFile, loadUserAppFile } from './core/admin-customisations';\n\ninterface BuildContext {\n  /**\n   * The absolute path to the app directory defined by the Strapi instance\n   */\n  appDir: string;\n  /**\n   * If a user is deploying the project under a nested public path, we use\n   * this path so all asset paths will be rewritten accordingly\n   */\n  basePath: string;\n  /**\n   * The customisations defined by the user in their app.js file\n   */\n  customisations?: AppFile;\n  /**\n   * The current working directory\n   */\n  cwd: string;\n  /**\n   * The absolute path to the dist directory\n   */\n  distPath: string;\n  /**\n   * The relative path to the dist directory\n   */\n  distDir: string;\n  /**\n   * The absolute path to the entry file\n   */\n  entry: string;\n  /**\n   * The environment variables to be included in the JS bundle\n   */\n  env: Record<string, string>;\n  /**\n   * Features object with future flags\n   */\n  features?: FeaturesService['config'];\n  logger: CLIContext['logger'];\n  /**\n   * The build options\n   */\n  options: Pick<BuildOptions, 'minify' | 'sourcemaps' | 'stats'> & Pick<DevelopOptions, 'open'>;\n  /**\n   * The plugins to be included in the JS bundle\n   * incl. internal plugins, third party plugins & local plugins\n   */\n  plugins: PluginMeta[];\n  /**\n   * The absolute path to the runtime directory\n   */\n  runtimeDir: string;\n  /**\n   * The Strapi instance\n   */\n  strapi: Strapi;\n  /**\n   * The browserslist target either loaded from the user's workspace or falling back to the default\n   */\n  target: string[];\n  tsconfig?: CLIContext['tsconfig'];\n}\n\ninterface CreateBuildContextArgs extends CLIContext {\n  strapi?: Strapi;\n  options?: BuildContext['options'];\n}\n\nconst DEFAULT_BROWSERSLIST = [\n  'last 3 major versions',\n  'Firefox ESR',\n  'last 2 Opera versions',\n  'not dead',\n];\n\nconst createBuildContext = async ({\n  cwd,\n  logger,\n  tsconfig,\n  strapi,\n  options = {},\n}: CreateBuildContextArgs) => {\n  /**\n   * If you make a new strapi instance when one already exists,\n   * you will overwrite the global and the app will _most likely_\n   * crash and die.\n   */\n  const strapiInstance =\n    strapi ??\n    strapiFactory({\n      // Directories\n      appDir: cwd,\n      distDir: tsconfig?.config.options.outDir ?? '',\n      // Options\n      autoReload: true,\n      serveAdminPanel: false,\n    });\n\n  const { serverUrl, adminPath } = getConfigUrls(strapiInstance.config, true);\n\n  const appDir = strapiInstance.dirs.app.root;\n\n  await loadEnv(cwd);\n\n  const env = getStrapiAdminEnvVars({\n    ADMIN_PATH: adminPath,\n    STRAPI_ADMIN_BACKEND_URL: serverUrl,\n    STRAPI_TELEMETRY_DISABLED: String(strapiInstance.telemetry.isDisabled),\n  });\n\n  const envKeys = Object.keys(env);\n\n  if (envKeys.length > 0) {\n    logger.info(\n      [\n        'Including the following ENV variables as part of the JS bundle:',\n        ...envKeys.map((key) => `    - ${key}`),\n      ].join(os.EOL)\n    );\n  }\n\n  const distPath = path.join(strapiInstance.dirs.dist.root, 'build');\n  const distDir = path.relative(cwd, distPath);\n\n  /**\n   * If the distPath already exists, clean it\n   */\n  try {\n    logger.debug(`Cleaning dist folder: ${distPath}`);\n    await fs.rm(distPath, { recursive: true, force: true });\n    logger.debug('Cleaned dist folder');\n  } catch {\n    // do nothing, it will fail if the folder does not exist\n    logger.debug('There was no dist folder to clean');\n  }\n\n  const runtimeDir = path.join(cwd, '.strapi', 'client');\n  const entry = path.relative(cwd, path.join(runtimeDir, 'app.js'));\n\n  const plugins = await getEnabledPlugins({ cwd, logger, runtimeDir, strapi: strapiInstance });\n\n  logger.debug('Enabled plugins', os.EOL, plugins);\n\n  const pluginsWithFront = getMapOfPluginsWithAdmin(plugins);\n\n  logger.debug('Enabled plugins with FE', os.EOL, plugins);\n\n  const target = browserslist.loadConfig({ path: cwd }) ?? DEFAULT_BROWSERSLIST;\n\n  const customisations = await loadUserAppFile({ appDir, runtimeDir });\n\n  const features = strapiInstance.config.get('features', undefined);\n\n  const buildContext = {\n    appDir,\n    basePath: `${adminPath}/`,\n    customisations,\n    cwd,\n    distDir,\n    distPath,\n    entry,\n    env,\n    logger,\n    options,\n    plugins: pluginsWithFront,\n    runtimeDir,\n    strapi: strapiInstance,\n    target,\n    tsconfig,\n    features,\n  } satisfies BuildContext;\n\n  return buildContext;\n};\n\nexport { createBuildContext };\nexport type { BuildContext, CreateBuildContextArgs };\n","const styles = `\n.strapi--root {\n  position: absolute;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  background: #fff;\n}\n\n.strapi--no-js {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  text-align: center;\n  font-family: helvetica, arial, sans-serif;\n}\n`;\n\n/**\n * @internal\n *\n * @description this belongs to our default document that we render.\n */\nconst NoJavascript = () => {\n  return (\n    <noscript>\n      <div className=\"strapi--root\">\n        <div className=\"strapi--no-js\">\n          <style type=\"text/css\">{styles}</style>\n          <h1>JavaScript disabled</h1>\n          <p>\n            Please <a href=\"https://www.enable-javascript.com/\">enable JavaScript</a> in your\n            browser and reload the page to proceed.\n          </p>\n        </div>\n      </div>\n    </noscript>\n  );\n};\n\nexport { NoJavascript };\n","import { NoJavascript } from './NoJavascript';\n\n/**\n * TODO: add favicons.........\n */\n\nconst globalStyles = `\n  html,\n  body,\n  #strapi {\n    height: 100%;\n  }\n  body {\n    margin: 0;\n    -webkit-font-smoothing: antialiased;\n  }\n`;\n\n/**\n * @internal\n */\nconst DefaultDocument = () => {\n  return (\n    <html lang=\"en\">\n      <head>\n        <meta charSet=\"utf-8\" />\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, viewport-fit=cover\" />\n        <meta name=\"robots\" content=\"noindex\" />\n        <meta name=\"referrer\" content=\"same-origin\" />\n\n        <title>MotorsEra Admin</title>\n        <style>{globalStyles}</style>\n      </head>\n      <body>\n        <div id=\"strapi\" />\n        <NoJavascript />\n      </body>\n    </html>\n  );\n};\n\nexport { DefaultDocument };\n","import fs from 'node:fs/promises';\nimport path from 'node:path';\nimport outdent from 'outdent';\nimport { format } from 'prettier';\nimport { createElement } from 'react';\nimport { renderToStaticMarkup } from 'react-dom/server';\nimport camelCase from 'lodash/camelCase';\nimport { DefaultDocument as Document } from '../../admin/src/components/DefaultDocument';\n\nimport type { BuildContext } from './createBuildContext';\n\nconst getEntryModule = (ctx: BuildContext): string => {\n  const pluginsObject = ctx.plugins\n    .map(({ name, importName }) => `'${name}': ${importName}`)\n    .join(',\\n');\n\n  const pluginsImport = ctx.plugins\n    .map(({ importName, modulePath }) => `import ${importName} from '${modulePath}';`)\n    .join('\\n');\n\n  return outdent`\n        /**\n         * This file was automatically generated by Strapi.\n         * Any modifications made will be discarded.\n         */\n        ${pluginsImport}\n        import { renderAdmin } from \"@strapi/strapi/admin\"\n\n        ${\n          ctx.customisations?.modulePath\n            ? `import customisations from '${ctx.customisations.modulePath}'`\n            : ''\n        }\n\n        renderAdmin(\n          document.getElementById(\"strapi\"),\n          {\n            ${ctx.customisations?.modulePath ? 'customisations,' : ''}\n            ${ctx.features ? `features: ${JSON.stringify(ctx.features)},` : ''}\n            plugins: {\n        ${pluginsObject}\n            }\n        })\n      `;\n};\n\n/**\n * TODO: Here in the future we could add the ability\n * to load a user's Document component?\n */\nconst getDocumentHTML = async ({ logger }: Pick<BuildContext, 'logger'>) => {\n  const result = renderToStaticMarkup(createElement(Document));\n  logger.debug('Rendered the HTML');\n\n  return outdent`<!DOCTYPE html>${result}`;\n};\n\nconst AUTO_GENERATED_WARNING = `\nThis file was automatically generated by Strapi.\nAny modifications made will be discarded.\n`.trim();\n\n/**\n * Because we now auto-generate the index.html file,\n * we should be clear that people _should not_ modify it.\n *\n * @internal\n */\nconst decorateHTMLWithAutoGeneratedWarning = (htmlTemplate: string): string =>\n  htmlTemplate.replace(/<head/, `\\n<!--\\n${AUTO_GENERATED_WARNING}\\n-->\\n<head`);\n\nconst writeStaticClientFiles = async (ctx: BuildContext) => {\n  /**\n   * For everything to work effectively we create a client folder in `.strapi` at the cwd level.\n   * We then use the function we need to \"createAdmin\" as well as generate the Document index.html as well.\n   *\n   * All this links together an imaginary \"src/index\" that then allows vite to correctly build the admin panel.\n   */\n\n  await fs.mkdir(ctx.runtimeDir, { recursive: true });\n  ctx.logger.debug('Created the runtime directory');\n\n  const indexHtml = decorateHTMLWithAutoGeneratedWarning(\n    await getDocumentHTML({ logger: ctx.logger })\n  );\n\n  await fs.writeFile(\n    path.join(ctx.runtimeDir, 'index.html'),\n    format(indexHtml, {\n      parser: 'html',\n    })\n  );\n  ctx.logger.debug('Wrote the index.html file');\n  await fs.writeFile(\n    path.join(ctx.runtimeDir, 'app.js'),\n    format(getEntryModule(ctx), {\n      parser: 'babel',\n    })\n  );\n  ctx.logger.debug('Wrote the app.js file');\n};\n\nexport { writeStaticClientFiles };\n","import path from 'path';\nimport findRoot from 'find-root';\nimport type { StrapiMonorepo } from '../core/monorepo';\n\n/**\n * @deprecated we will not support aliasing dependencies from V5.\n */\nconst adminPackageAliases = [\n  '@strapi/design-system',\n  '@strapi/helper-plugin',\n  '@strapi/icons',\n  'date-fns',\n  'formik',\n  'history',\n  'immer',\n  'qs',\n  'lodash',\n  'react',\n  'react-dnd',\n  'react-dnd-html5-backend',\n  'react-dom',\n  'react-error-boundary',\n  'react-helmet',\n  'react-is',\n  'react-intl',\n  'react-query',\n  'react-redux',\n  'react-router-dom',\n  'react-window',\n  'react-select',\n  'redux',\n  'reselect',\n  'styled-components',\n  'yup',\n] as const;\n\n/**\n * @deprecated we will not support aliasing dependencies from V5.\n */\nconst getAdminDependencyAliases = (monorepo?: StrapiMonorepo) =>\n  adminPackageAliases\n    .filter(\n      (moduleName) => !monorepo?.path || (monorepo.path && moduleName !== '@strapi/helper-plugin')\n    )\n    .reduce((acc, moduleName) => {\n      /**\n       * We use `findRoot` instead of `resolveFrom` here because we don't want to\n       * choose a particular file e.g. the CJS version over the ESM because the\n       * bundler should decide this, so insted find-root is more appropriate.\n       *\n       * When we remove these aliases in V5 we can also remove the `find-root` package.\n       */\n      acc[`${moduleName}$`] = findRoot(require.resolve(moduleName));\n      return acc;\n    }, {} as Record<string, string>);\n\n/**\n * The path mappings/aliases used by various tools in the monorepo to map imported modules to\n * source files in order to speed up rebuilding and avoid having a separate watcher process to build\n * from `src` to `lib`.\n *\n * This file is currently read by:\n * - Webpack when running the dev server (only when running in this monorepo)\n */\nconst devAliases: Record<string, string> = {\n  '@strapi/admin/strapi-admin': './packages/core/admin/admin/src',\n  '@strapi/content-releases/strapi-admin': './packages/core/content-releases/admin/src',\n  '@strapi/content-type-builder/strapi-admin': './packages/core/content-type-builder/admin/src',\n  '@strapi/email/strapi-admin': './packages/core/email/admin/src',\n  '@strapi/upload/strapi-admin': './packages/core/upload/admin/src',\n  '@strapi/plugin-color-picker/strapi-admin': './packages/plugins/color-picker/admin/src',\n  '@strapi/plugin-documentation/strapi-admin': './packages/plugins/documentation/admin/src',\n  '@strapi/plugin-graphql/strapi-admin': './packages/plugins/graphql/admin/src',\n  '@strapi/plugin-i18n/strapi-admin': './packages/plugins/i18n/admin/src',\n  '@strapi/plugin-sentry/strapi-admin': './packages/plugins/sentry/admin/src',\n  '@strapi/plugin-users-permissions/strapi-admin': './packages/plugins/users-permissions/admin/src',\n  '@strapi/helper-plugin': './packages/core/helper-plugin/src',\n};\n\nconst getAliases = (cwd: string, monorepo?: StrapiMonorepo) => {\n  const adminAliases = getAdminDependencyAliases(monorepo);\n  const monorepoAliases = monorepo\n    ? Object.fromEntries(\n        Object.entries(devAliases).map(([key, modulePath]) => {\n          return [key, path.join(monorepo.path, modulePath)];\n        })\n      )\n    : {};\n\n  return {\n    ...adminAliases,\n    ...monorepoAliases,\n  };\n};\n\nexport { getAliases };\n","import path from 'path';\nimport readPkgUp from 'read-pkg-up';\n\ninterface StrapiMonorepo {\n  path: string;\n}\n\n/**\n * Load information about the strapi CMS monorepo (if applicable)\n *\n * @internal\n */\nasync function loadStrapiMonorepo(cwd: string): Promise<StrapiMonorepo | undefined> {\n  let p = cwd;\n\n  while (p !== '/') {\n    const readResult = await readPkgUp({ cwd: p });\n\n    if (!readResult) {\n      return undefined;\n    }\n\n    if (readResult.packageJson.isStrapiMonorepo) {\n      return { path: path.dirname(readResult.path) };\n    }\n\n    p = path.dirname(path.dirname(readResult.path));\n  }\n\n  return undefined;\n}\n\nexport { loadStrapiMonorepo };\nexport type { StrapiMonorepo };\n","import browserslistToEsbuild from 'browserslist-to-esbuild';\nimport { ESBuildMinifyPlugin } from 'esbuild-loader';\nimport HtmlWebpackPlugin from 'html-webpack-plugin';\nimport MiniCssExtractPlugin from 'mini-css-extract-plugin';\nimport ForkTsCheckerPlugin from 'fork-ts-checker-webpack-plugin';\nimport { BundleAnalyzerPlugin } from 'webpack-bundle-analyzer';\nimport crypto from 'node:crypto';\nimport path from 'node:path';\nimport { Configuration, DefinePlugin, HotModuleReplacementPlugin } from 'webpack';\nimport ReactRefreshWebpackPlugin from '@pmmmwh/react-refresh-webpack-plugin';\n\nimport { getAliases } from './aliases';\nimport { loadStrapiMonorepo } from '../core/monorepo';\nimport type { BuildContext } from '../createBuildContext';\nimport { loadFile } from '../core/files';\n\nconst resolveBaseConfig = async (ctx: BuildContext) => {\n  const monorepo = await loadStrapiMonorepo(ctx.cwd);\n\n  const target = browserslistToEsbuild(ctx.target);\n\n  return {\n    experiments: {\n      topLevelAwait: true,\n    },\n    entry: {\n      main: [`./${ctx.entry}`],\n    },\n    resolve: {\n      alias: getAliases(ctx.cwd, monorepo),\n      extensions: ['.js', '.jsx', '.react.js', '.ts', '.tsx'],\n    },\n    module: {\n      rules: [\n        {\n          test: /\\.(ts|tsx)$/,\n          loader: require.resolve('esbuild-loader'),\n          options: {\n            loader: 'tsx',\n            target,\n            jsx: 'automatic',\n          },\n        },\n        {\n          test: /\\.(js|jsx|mjs)$/,\n          use: {\n            loader: require.resolve('esbuild-loader'),\n            options: {\n              loader: 'jsx',\n              target,\n              jsx: 'automatic',\n            },\n          },\n        },\n        {\n          test: /\\.m?js/,\n          resolve: {\n            fullySpecified: false,\n          },\n        },\n        {\n          test: /\\.css$/i,\n          use: [require.resolve('style-loader'), require.resolve('css-loader')],\n        },\n        {\n          test: /\\.(svg|eot|otf|ttf|woff|woff2)$/,\n          type: 'asset/resource',\n        },\n        {\n          test: [/\\.bmp$/, /\\.gif$/, /\\.jpe?g$/, /\\.png$/, /\\.ico$/],\n          type: 'asset',\n          parser: {\n            dataUrlCondition: {\n              maxSize: 1000,\n            },\n          },\n        },\n        {\n          test: /\\.(mp4|webm)$/,\n          type: 'asset',\n          parser: {\n            dataUrlCondition: {\n              maxSize: 10000,\n            },\n          },\n        },\n      ],\n    },\n    plugins: [\n      new HtmlWebpackPlugin({\n        inject: true,\n        template: path.resolve(ctx.runtimeDir, 'index.html'),\n      }),\n      new DefinePlugin(\n        Object.entries(ctx.env).reduce<Record<string, string>>((acc, [key, value]) => {\n          acc[`process.env.${key}`] = JSON.stringify(value);\n          return acc;\n        }, {})\n      ),\n      ctx.tsconfig &&\n        new ForkTsCheckerPlugin({\n          typescript: {\n            configFile: ctx.tsconfig.path,\n            configOverwrite: {\n              compilerOptions: {\n                sourceMap: ctx.options.sourcemaps,\n              },\n            },\n          },\n        }),\n    ].filter(Boolean),\n  };\n};\n\nconst resolveDevelopmentConfig = async (ctx: BuildContext): Promise<Configuration> => {\n  const baseConfig = await resolveBaseConfig(ctx);\n\n  return {\n    ...baseConfig,\n    cache: {\n      type: 'filesystem',\n      // version cache when there are changes to aliases\n      buildDependencies: {\n        config: [__filename],\n      },\n      version: crypto\n        .createHash('md5')\n        .update(Object.entries(baseConfig.resolve.alias).join())\n        .digest('hex'),\n    },\n    entry: {\n      ...baseConfig.entry,\n      main: [\n        `${require.resolve('webpack-hot-middleware/client')}?path=/__webpack_hmr`,\n        ...baseConfig.entry.main,\n      ],\n    },\n    stats: 'errors-warnings',\n    mode: 'development',\n    devtool: 'inline-source-map',\n    output: {\n      filename: '[name].js',\n      path: ctx.distPath,\n      publicPath: ctx.basePath,\n    },\n    infrastructureLogging: {\n      level: 'error',\n    },\n    plugins: [\n      ...baseConfig.plugins,\n      new HotModuleReplacementPlugin(),\n      new ReactRefreshWebpackPlugin(),\n    ],\n  };\n};\n\nconst resolveProductionConfig = async (ctx: BuildContext): Promise<Configuration> => {\n  const target = browserslistToEsbuild(ctx.target);\n\n  const baseConfig = await resolveBaseConfig(ctx);\n\n  return {\n    ...baseConfig,\n    stats: 'errors-only',\n    mode: 'production',\n    bail: true,\n    devtool: ctx.options.sourcemaps ? 'source-map' : false,\n    output: {\n      path: ctx.distPath,\n      publicPath: ctx.basePath,\n      // Utilize long-term caching by adding content hashes (not compilation hashes)\n      // to compiled assets for production\n      filename: '[name].[contenthash:8].js',\n      chunkFilename: '[name].[contenthash:8].chunk.js',\n    },\n    optimization: {\n      minimize: ctx.options.minify,\n      minimizer: [\n        new ESBuildMinifyPlugin({\n          target,\n          css: true, // Apply minification to CSS assets\n        }),\n      ],\n      moduleIds: 'deterministic',\n      runtimeChunk: true,\n    },\n    // @ts-expect-error\n    plugins: [\n      ...baseConfig.plugins,\n      new MiniCssExtractPlugin({\n        filename: '[name].[chunkhash].css',\n        chunkFilename: '[name].[chunkhash].chunkhash.css',\n        ignoreOrder: true,\n      }),\n      ctx.options.stats && new BundleAnalyzerPlugin(),\n    ].filter(Boolean),\n  };\n};\n\nconst USER_CONFIGS = ['webpack.config.js', 'webpack.config.mjs', 'webpack.config.ts'];\n\ntype UserWebpackConfig = (config: Configuration, webpack: unknown) => Configuration;\n\nconst getUserConfig = async (ctx: BuildContext): Promise<UserWebpackConfig | undefined> => {\n  for (const file of USER_CONFIGS) {\n    const filePath = path.join(ctx.appDir, 'src', 'admin', file);\n    const configFile = await loadFile(filePath);\n\n    if (configFile) {\n      return configFile;\n    }\n  }\n\n  return undefined;\n};\n\nconst mergeConfigWithUserConfig = async (config: Configuration, ctx: BuildContext) => {\n  const userConfig = await getUserConfig(ctx);\n\n  if (userConfig) {\n    if (typeof userConfig === 'function') {\n      const webpack = await import('webpack');\n      return userConfig(config, webpack);\n    } else {\n      ctx.logger.warn(\n        `You've exported something other than a function from ${path.join(\n          ctx.appDir,\n          'src',\n          'admin',\n          'webpack.config'\n        )}, this will ignored.`\n      );\n    }\n  }\n\n  return config;\n};\n\nexport { resolveProductionConfig, resolveDevelopmentConfig, mergeConfigWithUserConfig };\n","import webpack from 'webpack';\n\nimport { mergeConfigWithUserConfig, resolveProductionConfig } from './config';\nimport { isError } from '../core/errors';\n\nimport type { BuildContext } from '../createBuildContext';\n\nconst build = async (ctx: BuildContext) =>\n  new Promise(async (resolve, reject) => {\n    const config = await resolveProductionConfig(ctx);\n    const finalConfig = await mergeConfigWithUserConfig(config, ctx);\n\n    ctx.logger.debug('Webpack config', finalConfig);\n\n    webpack(finalConfig, (err, stats) => {\n      if (stats) {\n        if (stats.hasErrors()) {\n          ctx.logger.error(\n            stats.toString({\n              chunks: false,\n              colors: true,\n            })\n          );\n\n          reject(false);\n        } else if (ctx.options.stats) {\n          ctx.logger.info(\n            stats.toString({\n              chunks: false,\n              colors: true,\n            })\n          );\n        }\n\n        resolve(true);\n      }\n\n      if (err && isError(err)) {\n        ctx.logger.error(err.message);\n        reject(false);\n      }\n    });\n  });\n\nexport { build };\n","import type { CLIContext } from '@strapi/strapi';\nimport EE from '@strapi/strapi/dist/utils/ee';\nimport * as tsUtils from '@strapi/typescript-utils';\nimport { checkRequiredDependencies } from './core/dependencies';\nimport { getTimer, prettyTime } from './core/timer';\nimport { createBuildContext } from './createBuildContext';\nimport { writeStaticClientFiles } from './staticFiles';\nimport { build as buildWebpack } from './webpack/build';\n\ninterface BuildOptions extends CLIContext {\n  /**\n   * @default false\n   */\n  ignorePrompts?: boolean;\n  /**\n   * Minify the output\n   *\n   * @default true\n   */\n  minify?: boolean;\n  /**\n   * Generate sourcemaps ‚Äì useful for debugging bugs in the admin panel UI.\n   */\n  sourcemaps?: boolean;\n  /**\n   * Print stats for build\n   */\n  stats?: boolean;\n}\n\n/**\n * @example `$ strapi build`\n *\n * @description Builds the admin panel of the strapi application.\n */\nconst build = async ({ logger, cwd, tsconfig, ignorePrompts, ...options }: BuildOptions) => {\n  const timer = getTimer();\n\n  const { didInstall } = await checkRequiredDependencies({ cwd, logger, ignorePrompts }).catch(\n    (err) => {\n      logger.error(err.message);\n      process.exit(1);\n    }\n  );\n\n  if (didInstall) {\n    return;\n  }\n\n  if (tsconfig?.config) {\n    timer.start('compilingTS');\n    const compilingTsSpinner = logger.spinner(`Compiling TS`).start();\n\n    tsUtils.compile(cwd, { configOptions: { ignoreDiagnostics: false } });\n\n    const compilingDuration = timer.end('compilingTS');\n    compilingTsSpinner.text = `Compiling TS (${prettyTime(compilingDuration)})`;\n    compilingTsSpinner.succeed();\n  }\n\n  timer.start('createBuildContext');\n  const contextSpinner = logger.spinner(`Building build context`).start();\n  console.log('');\n\n  const ctx = await createBuildContext({\n    cwd,\n    logger,\n    tsconfig,\n    options,\n  });\n  const contextDuration = timer.end('createBuildContext');\n  contextSpinner.text = `Building build context (${prettyTime(contextDuration)})`;\n  contextSpinner.succeed();\n\n  timer.start('buildAdmin');\n  const buildingSpinner = logger.spinner(`Building admin panel`).start();\n  console.log('');\n\n  try {\n    EE.init(cwd);\n\n    await writeStaticClientFiles(ctx);\n    await buildWebpack(ctx);\n\n    const buildDuration = timer.end('buildAdmin');\n    buildingSpinner.text = `Building admin panel (${prettyTime(buildDuration)})`;\n    buildingSpinner.succeed();\n  } catch (err) {\n    buildingSpinner.fail();\n    throw err;\n  }\n};\n\nexport { build };\nexport type { BuildOptions };\n","import os from 'node:os';\nimport path from 'node:path';\nimport { promisify } from 'node:util';\nimport webpackDevMiddleware from 'webpack-dev-middleware';\nimport webpackHotMiddleware from 'webpack-hot-middleware';\nimport { webpack } from 'webpack';\nimport type { BuildContext } from '../createBuildContext';\nimport { mergeConfigWithUserConfig, resolveDevelopmentConfig } from './config';\nimport { Common, Strapi } from '@strapi/types';\n\ninterface WebpackWatcher {\n  close(): Promise<void>;\n}\n\nconst watch = async (ctx: BuildContext): Promise<WebpackWatcher> => {\n  const config = await resolveDevelopmentConfig(ctx);\n  const finalConfig = await mergeConfigWithUserConfig(config, ctx);\n\n  ctx.logger.debug('Final webpack config:', os.EOL, finalConfig);\n\n  return new Promise<WebpackWatcher>((res) => {\n    const compiler = webpack(finalConfig);\n\n    const devMiddleware = webpackDevMiddleware(compiler);\n\n    // @ts-ignore\n    const hotMiddleware = webpackHotMiddleware(compiler, {\n      log: false,\n      path: '/__webpack_hmr',\n    });\n\n    ctx.strapi.server.app.use((ctx, next) => {\n      return new Promise((resolve, reject) => {\n        hotMiddleware(ctx.req, ctx.res, (err) => {\n          if (err) reject(err);\n          else resolve(next());\n        });\n      });\n    });\n\n    ctx.strapi.server.app.use((context, next) => {\n      // wait for webpack-dev-middleware to signal that the build is ready\n      const ready = new Promise((resolve, reject) => {\n        devMiddleware.waitUntilValid(() => {\n          resolve(true);\n        });\n      });\n      // tell webpack-dev-middleware to handle the request\n      const init = new Promise((resolve) => {\n        devMiddleware(\n          context.req,\n          {\n            // @ts-expect-error\n            end: (content) => {\n              // eslint-disable-next-line no-param-reassign\n              context.body = content;\n              resolve(true);\n            },\n            getHeader: context.get.bind(context),\n            // @ts-expect-error\n            setHeader: context.set.bind(context),\n            locals: context.state,\n          },\n          () => resolve(next())\n        );\n      });\n\n      return Promise.all([ready, init]);\n    });\n\n    const serveAdmin: Common.MiddlewareHandler = async (ctx, next) => {\n      await next();\n\n      if (devMiddleware.context.outputFileSystem.createReadStream) {\n        if (ctx.method !== 'HEAD' && ctx.method !== 'GET') {\n          return;\n        }\n\n        if (ctx.body != null || ctx.status !== 404) {\n          return;\n        }\n\n        const filename = path.resolve(finalConfig.output?.path!, 'index.html');\n        ctx.type = 'html';\n        ctx.body = devMiddleware.context.outputFileSystem.createReadStream(filename);\n      }\n    };\n\n    ctx.strapi.server.routes([\n      {\n        method: 'GET',\n        path: `${ctx.basePath}:path*`,\n        handler: serveAdmin,\n        config: { auth: false },\n      },\n    ]);\n\n    devMiddleware.waitUntilValid(() => {\n      res({\n        async close() {\n          await Promise.all([\n            promisify(devMiddleware.close.bind(devMiddleware))(),\n            hotMiddleware.close(),\n            promisify(compiler.close.bind(compiler))(),\n          ]);\n        },\n      });\n    });\n  });\n};\n\nexport { watch };\nexport type { WebpackWatcher };\n","import type { CLIContext } from '@strapi/strapi';\nimport * as tsUtils from '@strapi/typescript-utils';\nimport { joinBy } from '@strapi/utils';\nimport chokidar from 'chokidar';\nimport fs from 'node:fs/promises';\nimport path from 'node:path';\n\nimport cluster from 'node:cluster';\n\nimport { checkRequiredDependencies } from './core/dependencies';\nimport { getTimer, prettyTime, type TimeMeasurer } from './core/timer';\nimport { createBuildContext } from './createBuildContext';\nimport { build as buildWebpack } from './webpack/build';\nimport { watch as watchWebpack, WebpackWatcher } from './webpack/watch';\n\nimport strapiFactory from '@strapi/strapi';\nimport EE from '@strapi/strapi/dist/utils/ee';\nimport { writeStaticClientFiles } from './staticFiles';\n\ninterface DevelopOptions extends CLIContext {\n  /**\n   * @default false\n   */\n  ignorePrompts?: boolean;\n  polling?: boolean;\n  open?: boolean;\n  watchAdmin?: boolean;\n}\n\n// This method removes all non-admin build files from the dist directory\nconst cleanupDistDirectory = async ({\n  tsconfig,\n  logger,\n  timer,\n}: Pick<DevelopOptions, 'tsconfig' | 'logger'> & { timer: TimeMeasurer }) => {\n  const distDir = tsconfig?.config?.options?.outDir;\n\n  if (\n    !distDir || // we don't have a dist dir\n    (await fs\n      .access(distDir)\n      .then(() => false)\n      .catch(() => true)) // it doesn't exist -- if it does but no access, that will be caught later\n  ) {\n    return;\n  }\n\n  const timerName = 'cleaningDist' + Date.now();\n  timer.start(timerName);\n  const cleaningSpinner = logger.spinner(`Cleaning dist dir ${distDir}`).start();\n\n  try {\n    const dirContent = await fs.readdir(distDir);\n    const validFilenames = dirContent\n      // Ignore the admin build folder\n      .filter((filename) => filename !== 'build');\n    for (const filename of validFilenames) {\n      await fs.rm(path.resolve(distDir, filename), { recursive: true });\n    }\n  } catch (err: unknown) {\n    const generatingDuration = timer.end(timerName);\n    cleaningSpinner.text = `Error cleaning dist dir: ${err} (${prettyTime(generatingDuration)})`;\n    cleaningSpinner?.fail();\n    return;\n  }\n\n  const generatingDuration = timer.end(timerName);\n  cleaningSpinner.text = `Cleaning dist dir (${prettyTime(generatingDuration)})`;\n  cleaningSpinner?.succeed();\n};\n\nconst develop = async ({\n  cwd,\n  polling,\n  logger,\n  tsconfig,\n  ignorePrompts,\n  watchAdmin,\n  ...options\n}: DevelopOptions) => {\n  const timer = getTimer();\n\n  if (cluster.isPrimary) {\n    const { didInstall } = await checkRequiredDependencies({ cwd, logger, ignorePrompts }).catch(\n      (err) => {\n        logger.error(err.message);\n        process.exit(1);\n      }\n    );\n\n    if (didInstall) {\n      return;\n    }\n\n    if (tsconfig?.config) {\n      // Build without diagnostics in case schemas have changed\n      await cleanupDistDirectory({ tsconfig, logger, timer });\n      await tsUtils.compile(cwd, { configOptions: { ignoreDiagnostics: true } });\n    }\n\n    /**\n     * IF we're not watching the admin we're going to build it, this makes\n     * sure that at least the admin is built for users & they can interact\n     * with the application.\n     */\n    if (!watchAdmin) {\n      timer.start('createBuildContext');\n      const contextSpinner = logger.spinner(`Building build context`).start();\n      console.log('');\n\n      const ctx = await createBuildContext({\n        cwd,\n        logger,\n        tsconfig,\n        options,\n      });\n      const contextDuration = timer.end('createBuildContext');\n      contextSpinner.text = `Building build context (${prettyTime(contextDuration)})`;\n      contextSpinner.succeed();\n\n      timer.start('creatingAdmin');\n      const adminSpinner = logger.spinner(`Creating admin`).start();\n\n      EE.init(cwd);\n      await writeStaticClientFiles(ctx);\n      await buildWebpack(ctx);\n\n      const adminDuration = timer.end('creatingAdmin');\n      adminSpinner.text = `Creating admin (${prettyTime(adminDuration)})`;\n      adminSpinner.succeed();\n    }\n\n    cluster.on('message', async (worker, message) => {\n      switch (message) {\n        case 'reload': {\n          if (tsconfig?.config) {\n            // Build without diagnostics in case schemas have changed\n            await cleanupDistDirectory({ tsconfig, logger, timer });\n            await tsUtils.compile(cwd, { configOptions: { ignoreDiagnostics: true } });\n          }\n          logger.debug('cluster has the reload message, sending the worker kill message');\n          worker.send('kill');\n          break;\n        }\n        case 'killed': {\n          logger.debug('cluster has the killed message, forking the cluster');\n          cluster.fork();\n          break;\n        }\n        case 'stop': {\n          process.exit(1);\n          break;\n        }\n        default:\n          break;\n      }\n    });\n\n    cluster.fork();\n  }\n\n  if (cluster.isWorker) {\n    timer.start('loadStrapi');\n    const loadStrapiSpinner = logger.spinner(`Loading Strapi`).start();\n\n    const strapi = strapiFactory({\n      appDir: cwd,\n      distDir: tsconfig?.config.options.outDir ?? '',\n      autoReload: true,\n      serveAdminPanel: !watchAdmin,\n    });\n    let webpackWatcher: WebpackWatcher | undefined;\n\n    /**\n     * If we're watching the admin panel then we're going to attach the watcher\n     * as a strapi middleware.\n     */\n    if (watchAdmin) {\n      timer.start('createBuildContext');\n      const contextSpinner = logger.spinner(`Building build context`).start();\n      console.log('');\n\n      const ctx = await createBuildContext({\n        cwd,\n        logger,\n        strapi,\n        tsconfig,\n        options,\n      });\n      const contextDuration = timer.end('createBuildContext');\n      contextSpinner.text = `Building build context (${prettyTime(contextDuration)})`;\n      contextSpinner.succeed();\n\n      timer.start('creatingAdmin');\n      const adminSpinner = logger.spinner(`Creating admin`).start();\n\n      EE.init(cwd);\n      await writeStaticClientFiles(ctx);\n      webpackWatcher = await watchWebpack(ctx);\n\n      const adminDuration = timer.end('creatingAdmin');\n      adminSpinner.text = `Creating admin (${prettyTime(adminDuration)})`;\n      adminSpinner.succeed();\n    }\n\n    const strapiInstance = await strapi.load();\n\n    const loadStrapiDuration = timer.end('loadStrapi');\n    loadStrapiSpinner.text = `Loading Strapi (${prettyTime(loadStrapiDuration)})`;\n    loadStrapiSpinner.succeed();\n\n    timer.start('generatingTS');\n    const generatingTsSpinner = logger.spinner(`Generating types`).start();\n\n    await tsUtils.generators.generate({\n      strapi: strapiInstance,\n      pwd: cwd,\n      rootDir: undefined,\n      logger: { silent: true, debug: false },\n      artifacts: { contentTypes: true, components: true },\n    });\n\n    const generatingDuration = timer.end('generatingTS');\n    generatingTsSpinner.text = `Generating types (${prettyTime(generatingDuration)})`;\n    generatingTsSpinner.succeed();\n\n    if (tsconfig?.config) {\n      timer.start('compilingTS');\n      const compilingTsSpinner = logger.spinner(`Compiling TS`).start();\n\n      await cleanupDistDirectory({ tsconfig, logger, timer });\n      await tsUtils.compile(cwd, { configOptions: { ignoreDiagnostics: false } });\n\n      const compilingDuration = timer.end('compilingTS');\n      compilingTsSpinner.text = `Compiling TS (${prettyTime(compilingDuration)})`;\n      compilingTsSpinner.succeed();\n    }\n\n    const restart = async () => {\n      if (strapiInstance.reload.isWatching && !strapiInstance.reload.isReloading) {\n        strapiInstance.reload.isReloading = true;\n        strapiInstance.reload();\n      }\n    };\n\n    const watcher = chokidar\n      .watch(cwd, {\n        ignoreInitial: true,\n        usePolling: polling,\n        ignored: [\n          /(^|[/\\\\])\\../, // dot files\n          /tmp/,\n          '**/src/admin/**',\n          '**/src/plugins/**/admin/**',\n          '**/dist/src/plugins/test/admin/**',\n          '**/documentation',\n          '**/documentation/**',\n          '**/node_modules',\n          '**/node_modules/**',\n          '**/plugins.json',\n          '**/build',\n          '**/build/**',\n          '**/index.html',\n          '**/public',\n          '**/public/**',\n          strapiInstance.dirs.static.public,\n          joinBy('/', strapiInstance.dirs.static.public, '**'),\n          '**/*.db*',\n          '**/exports/**',\n          '**/dist/**',\n          '**/*.d.ts',\n          ...strapiInstance.config.get('admin.watchIgnoreFiles', []),\n        ],\n      })\n      .on('add', (path) => {\n        strapiInstance.log.info(`File created: ${path}`);\n        restart();\n      })\n      .on('change', (path) => {\n        strapiInstance.log.info(`File changed: ${path}`);\n        restart();\n      })\n      .on('unlink', (path) => {\n        strapiInstance.log.info(`File deleted: ${path}`);\n        restart();\n      });\n\n    process.on('message', async (message) => {\n      switch (message) {\n        case 'kill': {\n          logger.debug(\n            'child process has the kill message, destroying the strapi instance and sending the killed process message'\n          );\n          await watcher.close();\n\n          await strapiInstance.destroy();\n\n          if (webpackWatcher) {\n            webpackWatcher.close();\n          }\n          process.send?.('killed');\n          break;\n        }\n        default:\n          break;\n      }\n    });\n\n    strapiInstance.start();\n  }\n};\n\nexport { develop };\nexport type { DevelopOptions };\n"],"names":["build","develop","readPkgUp","os","inquirer","execa","semver","resolveFrom","path","fs","performance","access","register","dotenv","chalk","boxen","camelCase","env","strapiFactory","getConfigUrls","browserslist","jsx","jsxs","outdent","renderToStaticMarkup","createElement","Document","format","findRoot","browserslistToEsbuild","HtmlWebpackPlugin","DefinePlugin","ForkTsCheckerPlugin","crypto","HotModuleReplacementPlugin","ReactRefreshWebpackPlugin","ESBuildMinifyPlugin","MiniCssExtractPlugin","BundleAnalyzerPlugin","webpack","tsUtils","EE","buildWebpack","webpackDevMiddleware","webpackHotMiddleware","ctx","promisify","generatingDuration","cluster","watchWebpack","chokidar","joinBy"],"mappings":"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"}
diff --git a/node_modules/@strapi/admin/dist/_chunks/nl-887ce2c3.mjs b/node_modules/@strapi/admin/dist/_chunks/nl-887ce2c3.mjs
index 602f01a..849fbd5 100644
--- a/node_modules/@strapi/admin/dist/_chunks/nl-887ce2c3.mjs
+++ b/node_modules/@strapi/admin/dist/_chunks/nl-887ce2c3.mjs
@@ -139,7 +139,7 @@ const nl = {
   "Settings.application.customization.carousel.change-action": "Pas logo aan",
   "Settings.application.customization.carousel.reset-action": "Herstel logo",
   "Settings.application.customization.carousel-slide.label": "Logo schuif",
-  "Settings.application.customization.carousel-hint": "Pas Strapi dashboard logo aan (maximaal formaat: {dimension}x{dimension}, maximale bestandsgrootte: {size}KB)",
+  "Settings.application.customization.carousel-hint": "Pas MotorsEra Dashboard logo aan (maximaal formaat: {dimension}x{dimension}, maximale bestandsgrootte: {size}KB)",
   "Settings.application.customization.modal.cancel": "Annuleren",
   "Settings.application.customization.modal.upload": "Upload logo",
   "Settings.application.customization.modal.tab.label": "Hoe wil je de bestanden uploaden?",
@@ -383,7 +383,7 @@ const nl = {
   "app.components.LeftMenu.logout": "Uitloggen",
   "app.components.LeftMenu.logo.alt": "Application logo",
   "app.components.LeftMenu.plugins": "Plugins",
-  "app.components.LeftMenu.navbrand.title": "Strapi Dashboard",
+  "app.components.LeftMenu.navbrand.title": "MotorsEra Dashboard",
   "app.components.LeftMenu.navbrand.workplace": "Werkplek",
   "app.components.LeftMenuFooter.help": "Help",
   "app.components.LeftMenuFooter.poweredBy": "Powered by ",
diff --git a/node_modules/@strapi/admin/dist/_chunks/nl-f1aedbe2.js b/node_modules/@strapi/admin/dist/_chunks/nl-f1aedbe2.js
index 63f324c..cc38d8b 100644
--- a/node_modules/@strapi/admin/dist/_chunks/nl-f1aedbe2.js
+++ b/node_modules/@strapi/admin/dist/_chunks/nl-f1aedbe2.js
@@ -141,7 +141,7 @@ const nl = {
   "Settings.application.customization.carousel.change-action": "Pas logo aan",
   "Settings.application.customization.carousel.reset-action": "Herstel logo",
   "Settings.application.customization.carousel-slide.label": "Logo schuif",
-  "Settings.application.customization.carousel-hint": "Pas Strapi dashboard logo aan (maximaal formaat: {dimension}x{dimension}, maximale bestandsgrootte: {size}KB)",
+  "Settings.application.customization.carousel-hint": "Pas MotorsEra Dashboard logo aan (maximaal formaat: {dimension}x{dimension}, maximale bestandsgrootte: {size}KB)",
   "Settings.application.customization.modal.cancel": "Annuleren",
   "Settings.application.customization.modal.upload": "Upload logo",
   "Settings.application.customization.modal.tab.label": "Hoe wil je de bestanden uploaden?",
@@ -385,7 +385,7 @@ const nl = {
   "app.components.LeftMenu.logout": "Uitloggen",
   "app.components.LeftMenu.logo.alt": "Application logo",
   "app.components.LeftMenu.plugins": "Plugins",
-  "app.components.LeftMenu.navbrand.title": "Strapi Dashboard",
+  "app.components.LeftMenu.navbrand.title": "MotorsEra Dashboard",
   "app.components.LeftMenu.navbrand.workplace": "Werkplek",
   "app.components.LeftMenuFooter.help": "Help",
   "app.components.LeftMenuFooter.poweredBy": "Powered by ",
diff --git a/node_modules/@strapi/admin/dist/_chunks/pl-9be86414.js b/node_modules/@strapi/admin/dist/_chunks/pl-9be86414.js
index 744c47f..03fc817 100644
--- a/node_modules/@strapi/admin/dist/_chunks/pl-9be86414.js
+++ b/node_modules/@strapi/admin/dist/_chunks/pl-9be86414.js
@@ -308,7 +308,7 @@ const pl = {
   "app.components.LeftMenu.collapse": "Zwi≈Ñ nawigacjƒô",
   "app.components.LeftMenu.expand": "Rozszerz nawigacjƒô",
   "app.components.LeftMenu.logout": "Wyloguj",
-  "app.components.LeftMenu.navbrand.title": "Strapi Dashboard",
+  "app.components.LeftMenu.navbrand.title": "MotorsEra Dashboard",
   "app.components.LeftMenu.navbrand.workplace": "Workplace",
   "app.components.LeftMenuFooter.help": "Wsparcie",
   "app.components.LeftMenuFooter.poweredBy": "Obs≈Çugiwane przez ",
diff --git a/node_modules/@strapi/admin/dist/_chunks/pl-9ccd35d9.mjs b/node_modules/@strapi/admin/dist/_chunks/pl-9ccd35d9.mjs
index ed69975..25a2d4f 100644
--- a/node_modules/@strapi/admin/dist/_chunks/pl-9ccd35d9.mjs
+++ b/node_modules/@strapi/admin/dist/_chunks/pl-9ccd35d9.mjs
@@ -306,7 +306,7 @@ const pl = {
   "app.components.LeftMenu.collapse": "Zwi≈Ñ nawigacjƒô",
   "app.components.LeftMenu.expand": "Rozszerz nawigacjƒô",
   "app.components.LeftMenu.logout": "Wyloguj",
-  "app.components.LeftMenu.navbrand.title": "Strapi Dashboard",
+  "app.components.LeftMenu.navbrand.title": "MotorsEra Dashboard",
   "app.components.LeftMenu.navbrand.workplace": "Workplace",
   "app.components.LeftMenuFooter.help": "Wsparcie",
   "app.components.LeftMenuFooter.poweredBy": "Obs≈Çugiwane przez ",
diff --git a/node_modules/@strapi/admin/dist/_chunks/sk-58d31b17.mjs b/node_modules/@strapi/admin/dist/_chunks/sk-58d31b17.mjs
index 3869a3a..ed325ad 100644
--- a/node_modules/@strapi/admin/dist/_chunks/sk-58d31b17.mjs
+++ b/node_modules/@strapi/admin/dist/_chunks/sk-58d31b17.mjs
@@ -266,7 +266,7 @@ const sk = {
   "app.components.LeftMenu.logout": "Odhl√°si≈• sa",
   "app.components.LeftMenu.logo.alt": "Logo aplik√°cie",
   "app.components.LeftMenu.plugins": "Pluginy",
-  "app.components.LeftMenu.navbrand.title": "Strapi Dashboard",
+  "app.components.LeftMenu.navbrand.title": "MotorsEra Dashboard",
   "app.components.LeftMenu.navbrand.workplace": "Workplace",
   "app.components.LeftMenuFooter.help": "Pomoc",
   "app.components.LeftMenuFooter.poweredBy": "Poh√°≈àan√© ",
diff --git a/node_modules/@strapi/admin/dist/_chunks/sk-a9308737.js b/node_modules/@strapi/admin/dist/_chunks/sk-a9308737.js
index 7903f70..4f9755c 100644
--- a/node_modules/@strapi/admin/dist/_chunks/sk-a9308737.js
+++ b/node_modules/@strapi/admin/dist/_chunks/sk-a9308737.js
@@ -268,7 +268,7 @@ const sk = {
   "app.components.LeftMenu.logout": "Odhl√°si≈• sa",
   "app.components.LeftMenu.logo.alt": "Logo aplik√°cie",
   "app.components.LeftMenu.plugins": "Pluginy",
-  "app.components.LeftMenu.navbrand.title": "Strapi Dashboard",
+  "app.components.LeftMenu.navbrand.title": "MotorsEra Dashboard",
   "app.components.LeftMenu.navbrand.workplace": "Workplace",
   "app.components.LeftMenuFooter.help": "Pomoc",
   "app.components.LeftMenuFooter.poweredBy": "Poh√°≈àan√© ",
diff --git a/node_modules/@strapi/admin/dist/_chunks/sv-0f5ffd1e.js b/node_modules/@strapi/admin/dist/_chunks/sv-0f5ffd1e.js
index bde204e..e402fed 100644
--- a/node_modules/@strapi/admin/dist/_chunks/sv-0f5ffd1e.js
+++ b/node_modules/@strapi/admin/dist/_chunks/sv-0f5ffd1e.js
@@ -385,7 +385,7 @@ const sv = {
   "app.components.LeftMenu.logout": "Logga ut",
   "app.components.LeftMenu.logo.alt": "Applikationslogga",
   "app.components.LeftMenu.plugins": "Plugins",
-  "app.components.LeftMenu.navbrand.title": "Strapi Dashboard",
+  "app.components.LeftMenu.navbrand.title": "MotorsEra Dashboard",
   "app.components.LeftMenu.navbrand.workplace": "Arbetsplats",
   "app.components.LeftMenuFooter.help": "Hj√§lp",
   "app.components.LeftMenuFooter.poweredBy": "Drivs av ",
diff --git a/node_modules/@strapi/admin/dist/_chunks/sv-d80ad633.mjs b/node_modules/@strapi/admin/dist/_chunks/sv-d80ad633.mjs
index 9860fb4..75e98fe 100644
--- a/node_modules/@strapi/admin/dist/_chunks/sv-d80ad633.mjs
+++ b/node_modules/@strapi/admin/dist/_chunks/sv-d80ad633.mjs
@@ -383,7 +383,7 @@ const sv = {
   "app.components.LeftMenu.logout": "Logga ut",
   "app.components.LeftMenu.logo.alt": "Applikationslogga",
   "app.components.LeftMenu.plugins": "Plugins",
-  "app.components.LeftMenu.navbrand.title": "Strapi Dashboard",
+  "app.components.LeftMenu.navbrand.title": "MotorsEra Dashboard",
   "app.components.LeftMenu.navbrand.workplace": "Arbetsplats",
   "app.components.LeftMenuFooter.help": "Hj√§lp",
   "app.components.LeftMenuFooter.poweredBy": "Drivs av ",
